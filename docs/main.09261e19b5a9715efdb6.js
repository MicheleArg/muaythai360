(self.webpackChunkmuaythai360=self.webpackChunkmuaythai360||[]).push([[179],{8255:Xe=>{function Ee(V){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+V+"'");throw d.code="MODULE_NOT_FOUND",d})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=8255,Xe.exports=Ee},3018:(Xe,Ee,V)=>{"use strict";V.d(Ee,{deG:()=>Bo,tb:()=>QI,AFp:()=>KI,ip1:()=>jw,CZH:()=>dp,hGG:()=>UM,z2F:()=>Em,sBO:()=>ex,Sil:()=>ta,_Vd:()=>nl,EJc:()=>Hw,SBq:()=>Jo,qLn:()=>Lc,vpe:()=>Pn,gxx:()=>Hc,tBr:()=>ql,XFs:()=>Se,OlP:()=>on,zs3:()=>_n,ZZ4:()=>Ry,aQg:()=>rp,soG:()=>vm,YKP:()=>QT,v3s:()=>Zi,h0i:()=>Iu,PXZ:()=>bM,R0b:()=>ms,FiY:()=>ss,Lbi:()=>aM,g9A:()=>YI,Qsj:()=>Dy,FYo:()=>Tu,JOm:()=>D,Tiy:()=>FE,q3G:()=>mn,tp0:()=>Aa,EAV:()=>SM,Rgc:()=>rl,dDg:()=>dv,DyG:()=>Hl,q4F:()=>Sy,GfV:()=>LE,s_b:()=>Ny,ifc:()=>Ct,eFA:()=>Fr,G48:()=>HO,Gpc:()=>pe,f3M:()=>Jm,X6Q:()=>sD,_c5:()=>PM,VLi:()=>yM,c2e:()=>av,zSh:()=>Df,wAp:()=>ze,vHH:()=>Pe,EiD:()=>eg,mCW:()=>ad,qzn:()=>Ii,JVY:()=>Wp,pB0:()=>a_,eBb:()=>Uv,L6k:()=>o_,LAX:()=>Mc,cg1:()=>pE,Tjo:()=>OM,kL8:()=>Jf,yhl:()=>Wl,dqk:()=>q,sIi:()=>Ff,CqO:()=>Lg,QGY:()=>Uf,F4k:()=>sy,RDi:()=>Cs,AaK:()=>Q,z3N:()=>Ms,qOj:()=>Bb,TTD:()=>rc,_Bn:()=>wu,xp6:()=>VS,uIk:()=>X_,ekj:()=>hy,Suo:()=>VI,Xpm:()=>wo,lG2:()=>_h,Yz7:()=>xt,cJS:()=>Ur,oAB:()=>ca,Yjl:()=>zs,Y36:()=>Ad,_UZ:()=>hu,qZA:()=>et,TgZ:()=>ry,EpF:()=>iy,n5z:()=>Vo,Ikx:()=>gy,LFG:()=>Rn,$8M:()=>zr,NdJ:()=>oy,CRH:()=>UI,oxw:()=>On,Hsn:()=>jf,F$t:()=>Xb,Q6J:()=>xd,s9C:()=>eE,DdM:()=>Ky,VKq:()=>nh,iGM:()=>LI,Jf7:()=>df,CHM:()=>uc,oJD:()=>g_,LSH:()=>as,kYT:()=>To,Udp:()=>Od,WFA:()=>ay,d8E:()=>my,YNc:()=>BC,_uU:()=>cr,Oqu:()=>Wf,hij:()=>Pd,Gf:()=>xw});var d=V(9765),re=V(5319),L=V(7574),he=V(6682),oe=V(2441);var ae=V(1307);function X(){return new d.xQ}function U(i){for(let s in i)if(i[s]===U)return s;throw Error("Could not find renamed property on target object.")}function te(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ie(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const ve=U({__forward_ref__:U});function pe(i){return i.__forward_ref__=pe,i.toString=function(){return Q(this())},i}function Y(i){return _e(i)?i():i}function _e(i){return"function"==typeof i&&i.hasOwnProperty(ve)&&i.__forward_ref__===pe}class Pe extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function Le(i){return"string"==typeof i?i:null==i?"":String(i)}function Bt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Le(i)}function Dt(i,s){const a=s?` in ${s}`:"";throw new Pe("201",`No provider for ${Bt(i)} found${a}`)}function vn(i,s){null==i&&function(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ur(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ar(i){return De(i,Ut)||De(i,bo)}function De(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ri(i){return i&&(i.hasOwnProperty(ti)||i.hasOwnProperty(rt))?i[ti]:null}const Ut=U({\u0275prov:U}),ti=U({\u0275inj:U}),bo=U({ngInjectableDef:U}),rt=U({ngInjectorDef:U});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let qt;function Dn(i){const s=qt;return qt=i,s}function jt(i,s,a){const c=Ar(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Se.Optional?null:void 0!==s?s:void Dt(Q(i),"Injector")}function We(i){return{toString:i}.toString()}var Br=(()=>((Br=Br||{})[Br.OnPush=0]="OnPush",Br[Br.Default=1]="Default",Br))(),Ct=(()=>((Ct=Ct||{})[Ct.Emulated=0]="Emulated",Ct[Ct.None=2]="None",Ct[Ct.ShadowDom=3]="ShadowDom",Ct))();const xr="undefined"!=typeof globalThis&&globalThis,vl="undefined"!=typeof window&&window,W="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q=xr||"undefined"!=typeof global&&global||vl||W,je={},Be=[],Xt=U({\u0275cmp:U}),Zn=U({\u0275dir:U}),bn=U({\u0275pipe:U}),jr=U({\u0275mod:U}),Lt=U({\u0275loc:U}),pn=U({\u0275fac:U}),Gi=U({__NG_ELEMENT_ID__:U});let Vu=0;function wo(i){return We(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Br.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Be,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ct.Emulated,id:"c",styles:i.styles||Be,_:null,setInput:null,schemas:i.schemas||null,tView:null},u=i.directives,f=i.features,_=i.pipes;return c.id+=Vu++,c.inputs=la(i.inputs,a),c.outputs=la(i.outputs),f&&f.forEach(v=>v(c)),c.directiveDefs=u?()=>("function"==typeof u?u():u).map(Co):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(Bu):null,c})}function Co(i){return Gn(i)||function(i){return i[Zn]||null}(i)}function Bu(i){return function(i){return i[bn]||null}(i)}const yi={};function ca(i){return We(()=>{const s={type:i.type,bootstrap:i.bootstrap||Be,declarations:i.declarations||Be,imports:i.imports||Be,exports:i.exports||Be,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(yi[i.id]=i.type),s})}function To(i,s){return We(()=>{const a=hr(i,!0);a.declarations=s.declarations||Be,a.imports=s.imports||Be,a.exports=s.exports||Be})}function la(i,s){if(null==i)return je;const a={};for(const c in i)if(i.hasOwnProperty(c)){let u=i[c],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),a[u]=c,s&&(s[u]=f)}return a}const _h=wo;function zs(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Gn(i){return i[Xt]||null}function hr(i,s){const a=i[jr]||null;if(!a&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return a}function Ki(i){return Array.isArray(i)&&"object"==typeof i[1]}function An(i){return Array.isArray(i)&&!0===i[1]}function Gs(i){return 0!=(8&i.flags)}function ec(i){return 2==(2&i.flags)}function fa(i){return 1==(1&i.flags)}function bi(i){return null!==i.template}function ju(i){return 0!=(512&i[2])}function xn(i,s){return i.hasOwnProperty(pn)?i[pn]:null}class Yi{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function rc(){return ic}function ic(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ap),Ah}function Ah(){const i=sc(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===je)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Ap(i,s,a,c){const u=sc(i)||function(i,s){return i[qu]=s}(i,{previous:je,current:null}),f=u.current||(u.current={}),_=u.previous,v=this.declaredInputs[a],w=_[v];f[v]=new Yi(w&&w.currentValue,s,_===je),i[c]=s}rc.ngInherit=!0;const qu="__ngSimpleChanges__";function sc(i){return i[qu]||null}let oc;function Cs(i){oc=i}function ri(){return void 0!==oc?oc:"undefined"!=typeof document?document:void 0}function sn(i){return!!i.listen}const ac={createRenderer:(i,s)=>ri()};function Mt(i){for(;Array.isArray(i);)i=i[0];return i}function xo(i,s){return Mt(s[i])}function $r(i,s){return Mt(s[i.index])}function Ji(i,s){return i.data[s]}function fr(i,s){const a=s[i];return Ki(a)?a:a[0]}function Cl(i){return 4==(4&i[2])}function ya(i){return 128==(128&i[2])}function Ts(i,s){return null==s?null:i[s]}function lc(i){i[18]=0}function Tl(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const at={lFrame:Ol(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Il(){return at.bindingsEnabled}function Ce(){return at.lFrame.lView}function St(){return at.lFrame.tView}function uc(i){return at.lFrame.contextLView=i,i[8]}function Mn(){let i=Dl();for(;null!==i&&64===i.type;)i=i.parent;return i}function Dl(){return at.lFrame.currentTNode}function Ei(i,s){const a=at.lFrame;a.currentTNode=i,a.isParent=s}function dc(){return at.lFrame.isParent}function Ys(){at.lFrame.isParent=!1}function Xi(){return at.isInCheckNoChangesMode}function es(i){at.isInCheckNoChangesMode=i}function nr(){const i=at.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Qs(){return at.lFrame.bindingIndex++}function xl(i,s){const a=at.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ml(s)}function Ml(i){at.lFrame.currentDirectiveIndex=i}function Ea(i){const s=at.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Ph(){return at.lFrame.currentQueryIndex}function Rl(i){at.lFrame.currentQueryIndex=i}function Mp(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Nh(i,s,a){if(a&Se.SkipSelf){let u=s,f=i;for(;!(u=u.parent,null!==u||a&Se.Host||(u=Mp(f),null===u||(f=f[15],10&u.type))););if(null===u)return!1;s=u,i=f}const c=at.lFrame=Fh();return c.currentTNode=s,c.lView=i,!0}function Ss(i){const s=Fh(),a=i[1];at.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Fh(){const i=at.lFrame,s=null===i?null:i.child;return null===s?Ol(i):s}function Ol(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function hc(){const i=at.lFrame;return at.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const zm=hc;function kl(){const i=hc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Hr(){return at.lFrame.selectedIndex}function ii(i){at.lFrame.selectedIndex=i}function En(){const i=at.lFrame;return Ji(i.tView,i.selectedIndex)}function Pl(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:I,ngOnDestroy:x}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function gc(i,s,a){Oo(i,s,3,a)}function mc(i,s,a,c){(3&i[2])===a&&Oo(i,s,a,c)}function Nl(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Oo(i,s,a,c){const f=null!=c?c:-1,_=s.length-1;let v=0;for(let w=void 0!==c?65535&i[18]:0;w<_;w++)if("number"==typeof s[w+1]){if(v=s[w],null!=c&&v>=c)break}else s[w]<0&&(i[18]+=65536),(v<f||-1==f)&&(Fl(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function Fl(i,s,a,c){const u=a[c]<0,f=a[c+1],v=i[u?-a[c]:a[c]];if(u){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class ko{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function _c(i,s,a){const c=sn(i);let u=0;for(;u<a.length;){const f=a[u];if("number"==typeof f){if(0!==f)break;u++;const _=a[u++],v=a[u++],w=a[u++];c?i.setAttribute(s,v,w,_):s.setAttributeNS(_,v,w)}else{const _=f,v=a[++u];Vl(_)?c&&i.setProperty(s,_,v):c?i.setAttribute(s,_,v):s.setAttribute(_,v),u++}}return u}function Ll(i){return 3===i||4===i||6===i}function Vl(i){return 64===i.charCodeAt(0)}function Ni(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const u=s[c];"number"==typeof u?a=u:0===a||Ul(i,a,u,null,-1===a||2===a?s[++c]:null)}}return i}function Ul(i,s,a,c,u){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){_=-1;break}if(v>s){_=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===c)return void(null!==u&&(i[f+1]=u));if(c===i[f+1])return void(i[f+2]=u)}f++,null!==c&&f++,null!==u&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==u&&i.splice(f++,0,u)}function Bl(i){return-1!==i}function yc(i){return 32767&i}function vc(i,s){let a=function(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let jl=!0;function No(i){const s=jl;return jl=i,s}let Ke=0;function Fo(i,s){const a=ts(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,gr(c.data,i),gr(s,null),gr(c.blueprint,null));const u=bc(i,s),f=i.injectorIndex;if(Bl(u)){const _=yc(u),v=vc(u,s),w=v[1].data;for(let I=0;I<8;I++)s[f+I]=v[_+I]|w[_+I]}return s[f+8]=u,f}function gr(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ts(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function bc(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,u=s;for(;null!==u;){const f=u[1],_=f.type;if(c=2===_?f.declTNode:1===_?u[6]:null,null===c)return-1;if(a++,u=u[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function en(i,s,a){!function(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Gi)&&(c=a[Gi]),null==c&&(c=a[Gi]=Ke++);const u=255&c;s.data[i+(u>>5)]|=1<<u}(i,s,a)}function Fp(i,s,a){if(a&Se.Optional)return i;Dt(s,"NodeInjector")}function Ca(i,s,a,c){if(a&Se.Optional&&void 0===c&&(c=null),0==(a&(Se.Self|Se.Host))){const u=i[9],f=Dn(void 0);try{return u?u.get(s,c,a&Se.Optional):jt(s,c,a&Se.Optional)}finally{Dn(f)}}return Fp(c,s,a)}function Kn(i,s,a,c=Se.Default,u){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Gi)?i[Gi]:void 0;return"number"==typeof s?s>=0?255&s:Ku:s}(a);if("function"==typeof f){if(!Nh(s,i,c))return c&Se.Host?Fp(u,a,c):Ca(s,a,c,u);try{const _=f(c);if(null!=_||c&Se.Optional)return _;Dt(a)}finally{zm()}}else if("number"==typeof f){let _=null,v=ts(i,s),w=-1,I=c&Se.Host?s[16][6]:null;for((-1===v||c&Se.SkipSelf)&&(w=-1===v?bc(i,s):s[v+8],-1!==w&&Xs(c,!1)?(_=s[1],v=yc(w),s=vc(w,s)):v=-1);-1!==v;){const x=s[1];if(Lp(f,v,x.data)){const P=$l(v,s,a,_,c,I);if(P!==Fn)return P}w=s[v+8],-1!==w&&Xs(c,s[1].data[v+8]===I)&&Lp(f,v,s)?(_=x,v=yc(w),s=vc(w,s)):v=-1}}}return Ca(s,a,c,u)}const Fn={};function Ku(){return new As(Mn(),Ce())}function $l(i,s,a,c,u,f){const _=s[1],v=_.data[i+8],x=Ta(v,_,a,null==c?ec(v)&&jl:c!=_&&0!=(3&v.type),u&Se.Host&&f===v);return null!==x?Lo(s,_,x,v):Fn}function Ta(i,s,a,c,u){const f=i.providerIndexes,_=s.data,v=1048575&f,w=i.directiveStart,x=f>>20,N=u?v+x:i.directiveEnd;for(let $=c?v:v+x;$<N;$++){const z=_[$];if($<w&&a===z||$>=w&&z.type===a)return $}if(u){const $=_[w];if($&&bi($)&&$.type===a)return w}return null}function Lo(i,s,a,c){let u=i[a];const f=s.data;if(function(i){return i instanceof ko}(u)){const _=u;_.resolving&&function(i,s){throw new Pe("200",`Circular dependency in DI detected for ${i}`)}(Bt(f[a]));const v=No(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?Dn(_.injectImpl):null;Nh(i,c,Se.Default);try{u=i[a]=_.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function(i,s,a){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:f}=s.type.prototype;if(c){const _=ic(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}u&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,u),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&Dn(w),No(v),_.resolving=!1,zm()}}return u}function Lp(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Xs(i,s){return!(i&Se.Self||i&Se.Host&&s)}class As{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return Kn(this._tNode,this._lView,s,c,a)}}function Vo(i){return We(()=>{const s=i.prototype.constructor,a=s[pn]||Ec(s),c=Object.prototype;let u=Object.getPrototypeOf(i.prototype).constructor;for(;u&&u!==c;){const f=u[pn]||Ec(u);if(f&&f!==a)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Ec(i){return _e(i)?()=>{const s=Ec(Y(i));return s&&s()}:xn(i)}function zr(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let u=0;for(;u<c;){const f=a[u];if(Ll(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<c&&"string"==typeof a[u];)u++;else{if(f===s)return a[u+1];u+=2}}}return null}(Mn(),i)}const eo="__parameters__";function Ia(i,s,a){return We(()=>{const c=function(i){return function(...a){if(i){const c=i(...a);for(const u in c)this[u]=c[u]}}}(s);function u(...f){if(this instanceof u)return c.apply(this,f),this;const _=new u(...f);return v.annotation=_,v;function v(w,I,x){const P=w.hasOwnProperty(eo)?w[eo]:Object.defineProperty(w,eo,{value:[]})[eo];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(_),w}}return a&&(u.prototype=Object.create(a.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}class on{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bo=new on("AnalyzeForEntryComponents"),Hl=Function;function Ci(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),Ci(c,s)):s!==i&&s.push(c)}return s}function Ti(i,s){i.forEach(a=>Array.isArray(a)?Ti(a,s):s(a))}function ns(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function jo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Rr(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}function T(i,s,a){let c=k(i,s);return c>=0?i[1|c]=a:(c=~c,function(i,s,a,c){let u=i.length;if(u==s)i.push(a,c);else if(1===u)i.push(c,i[0]),i[0]=a;else{for(u--,i.push(i[u-1],i[u]);u>s;)i[u]=i[u-2],u--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function S(i,s){const a=k(i,s);if(a>=0)return i[1|a]}function k(i,s){return function(i,s,a){let c=0,u=i.length>>a;for(;u!==c;){const f=c+(u-c>>1),_=i[f<<a];if(s===_)return f<<a;_>s?u=f:c=f+1}return~(u<<a)}(i,s,1)}const ro={},$o="__NG_DI_FLAG__",is="ngTempTokenPath",Ho=/\n/gm,ed="__source",Ic=U({provide:String,useValue:U});let Dc;function zl(i){const s=Dc;return Dc=i,s}function $p(i,s=Se.Default){if(void 0===Dc)throw new Error("inject() must be called from an injection context");return null===Dc?jt(i,void 0,s):Dc.get(i,s&Se.Optional?null:void 0,s)}function Rn(i,s=Se.Default){return(qt||$p)(Y(i),s)}const Jm=Rn;function zo(i){const s=[];for(let a=0;a<i.length;a++){const c=Y(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let u,f=Se.Default;for(let _=0;_<c.length;_++){const v=c[_],w=R0(v);"number"==typeof w?-1===w?u=v.token:f|=w:u=v}s.push(Rn(u,f))}else s.push(Rn(c))}return s}function Sc(i,s){return i[$o]=s,i.prototype[$o]=s,i}function R0(i){return i[$o]}function vr(i,s,a,c){const u=i[is];throw s[ed]&&u.unshift(s[ed]),i.message=function(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let u=Q(s);if(Array.isArray(s))u=s.map(Q).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let v=s[_];f.push(_+":"+("string"==typeof v?JSON.stringify(v):Q(v)))}u=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${u}]: ${i.replace(Ho,"\n  ")}`}("\n"+i.message,u,a,c),i.ngTokenPath=u,i[is]=null,i}const ql=Sc(Ia("Inject",i=>({token:i})),-1),ss=Sc(Ia("Optional"),8),Aa=Sc(Ia("SkipSelf"),4);let qo,Wh;function Oa(i){var s;return(null===(s=function(){if(void 0===qo&&(qo=null,q.trustedTypes))try{qo=q.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return qo}())||void 0===s?void 0:s.createHTML(i))||i}function r_(i){var s;return(null===(s=function(){if(void 0===Wh&&(Wh=null,q.trustedTypes))try{Wh=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Wh}())||void 0===s?void 0:s.createHTML(i))||i}class xc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Lv extends xc{getTypeName(){return"HTML"}}class Vv extends xc{getTypeName(){return"Style"}}class Zp extends xc{getTypeName(){return"Script"}}class s_ extends xc{getTypeName(){return"URL"}}class Gp extends xc{getTypeName(){return"ResourceURL"}}function Ms(i){return i instanceof xc?i.changingThisBreaksApplicationSecurity:i}function Ii(i,s){const a=Wl(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function Wl(i){return i instanceof xc&&i.getTypeName()||null}function Wp(i){return new Lv(i)}function o_(i){return new Vv(i)}function Uv(i){return new Zp(i)}function Mc(i){return new s_(i)}function a_(i){return new Gp(i)}class Yh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Oa(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Qh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Oa(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Oa(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let u=a.length-1;0<u;u--){const _=a.item(u).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Yp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,od=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ad(i){return(i=String(i)).match(Yp)||i.match(od)?i:"unsafe:"+i}function os(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function cd(...i){const s={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const l_=os("area,br,col,hr,img,wbr"),u_=os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jh=os("rp,rt"),Yl=cd(l_,cd(u_,os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cd(Jh,os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cd(Jh,u_)),Qp=os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rc=os("srcset"),Xh=cd(Qp,Rc,os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),h_=os("script,style,template");class ef{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let u=this.checkClobberedElement(a,a.nextSibling);if(u){a=u;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Yl.hasOwnProperty(a))return this.sanitizedSomething=!0,!h_.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let u=0;u<c.length;u++){const f=c.item(u),_=f.name,v=_.toLowerCase();if(!Xh.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=f.value;Qp[v]&&(w=ad(w)),Rc[v]&&(i=w,w=(i=String(i)).split(",").map(s=>ad(s.trim())).join(", ")),this.buf.push(" ",_,'="',f_(w),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Yl.hasOwnProperty(a)&&!l_.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(f_(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Jp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xp=/([^\#-~ |!])/g;function f_(i){return i.replace(/&/g,"&amp;").replace(Jp,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Xp,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ld;function eg(i,s){let a=null;try{ld=ld||function(i){const s=new Qh(i);return function(){try{return!!(new window.DOMParser).parseFromString(Oa(""),"text/html")}catch(i){return!1}}()?new Yh(s):s}(i);let c=s?String(s):"";a=ld.getInertBodyElement(c);let u=5,f=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=f,f=a.innerHTML,a=ld.getInertBodyElement(c)}while(c!==f);return Oa((new ef).sanitizeChildren(tg(a)||a))}finally{if(a){const c=tg(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function tg(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var mn=(()=>((mn=mn||{})[mn.NONE=0]="NONE",mn[mn.HTML=1]="HTML",mn[mn.STYLE=2]="STYLE",mn[mn.SCRIPT=3]="SCRIPT",mn[mn.URL=4]="URL",mn[mn.RESOURCE_URL=5]="RESOURCE_URL",mn))();function g_(i){const s=Ql();return s?r_(s.sanitize(mn.HTML,i)||""):Ii(i,"HTML")?r_(Ms(i)):eg(ri(),Le(i))}function as(i){const s=Ql();return s?s.sanitize(mn.URL,i)||"":Ii(i,"URL")?Ms(i):ad(Le(i))}function Ql(){const i=Ce();return i&&i[12]}const kc="__ngContext__";function hn(i,s){i[kc]=s}function sf(i){const s=function(i){return i[kc]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function dd(i){return i.ngOriginalError}function oo(i,...s){i.error(...s)}class Lc{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=this._findContext(s),u=(i=s)&&i.ngErrorLogger||oo;var i;u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a),c&&u(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(dd(s)):null}_findOriginalError(s){let a=s&&dd(s);for(;a&&dd(a);)a=dd(a);return a||null}}const I_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function df(i){return i.ownerDocument.defaultView}function ao(i){return i instanceof Function?i():i}var D=(()=>((D=D||{})[D.Important=1]="Important",D[D.DashCase=2]="DashCase",D))();function H(i,s){return undefined(i,s)}function Ae(i){const s=i[3];return An(s)?s[3]:s}function Rt(i){return Wo(i[13])}function Yn(i){return Wo(i[4])}function Wo(i){for(;null!==i&&!An(i);)i=i[4];return i}function ka(i,s,a,c,u){if(null!=c){let f,_=!1;An(c)?f=c:Ki(c)&&(_=!0,c=c[0]);const v=Mt(c);0===i&&null!==a?null==u?A_(s,a,v):Na(s,a,v,u||null,!0):1===i&&null!==a?Na(s,a,v,u||null,!0):2===i?function(i,s,a){const c=dg(i,s);c&&function(i,s,a,c){sn(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,v,_):3===i&&s.destroyNode(v),null!=f&&function(i,s,a,c,u){const f=a[7];f!==Mt(a)&&ka(s,i,c,f,u);for(let v=10;v<a.length;v++){const w=a[v];fg(w[1],w,i,s,c,f)}}(s,i,f,a,u)}}function ff(i,s,a){return sn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function N0(i,s){const a=i[9],c=a.indexOf(s),u=s[3];1024&s[2]&&(s[2]&=-1025,Tl(u,-1)),a.splice(c,1)}function Qv(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const u=c[17];null!==u&&u!==i&&N0(u,c),s>0&&(i[a-1][4]=c[4]);const f=jo(i,10+s);!function(i,s){fg(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function F0(i,s){if(!(256&s[2])){const a=s[11];sn(a)&&a.destroyNode&&fg(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return S_(i[1],i);for(;s;){let a=null;if(Ki(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)Ki(s)&&S_(s[1],s),s=s[3];null===s&&(s=i),Ki(s)&&S_(s[1],s),a=s&&s[4]}s=a}}(s)}}function S_(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const u=s[a[c]];if(!(u instanceof ko)){const f=a[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const v=u[f[_]],w=f[_+1];try{w.call(v)}finally{}}else try{f.call(u)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,c=s[7];let u=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],v="function"==typeof _?_(s):Mt(s[_]),w=c[u=a[f+2]],I=a[f+3];"boolean"==typeof I?v.removeEventListener(a[f],w,I):I>=0?c[u=I]():c[u=-I].unsubscribe(),f+=2}else{const _=c[u=a[f+1]];a[f].call(_)}if(null!==c){for(let f=u+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&sn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&An(s[3])){a!==s[3]&&N0(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function Ui(i,s,a){return function(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const u=i.data[c.directiveStart].encapsulation;if(u===Ct.None||u===Ct.Emulated)return null}return $r(c,a)}(i,s.parent,a)}function Na(i,s,a,c,u){sn(i)?i.insertBefore(s,a,c,u):s.insertBefore(a,c,u)}function A_(i,s,a){sn(i)?i.appendChild(s,a):s.appendChild(a)}function pf(i,s,a,c,u){null!==c?Na(i,s,a,c,u):A_(i,s,a)}function dg(i,s){return sn(i)?i.parentNode(s):s.parentNode}function x_(i,s,a){return Jv(i,s,a)}let Jv=function(i,s,a){return 40&i.type?$r(i,a):null};function hg(i,s,a,c){const u=Ui(i,c,s),f=s[11],v=x_(c.parent||s[6],c,s);if(null!=u)if(Array.isArray(a))for(let w=0;w<a.length;w++)pf(f,u,a[w],v,!1);else pf(f,u,a,v,!1)}function mf(i,s){if(null!==s){const a=s.type;if(3&a)return $r(s,i);if(4&a)return Vc(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return mf(i,c);{const u=i[s.index];return An(u)?Vc(-1,u):Mt(u)}}if(32&a)return H(s,i)()||Mt(i[s.index]);{const c=MS(i,s);return null!==c?Array.isArray(c)?c[0]:mf(Ae(i[16]),c):mf(i,s.next)}}return null}function MS(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Vc(i,s){const a=10+i+1;if(a<s.length){const c=s[a],u=c[1].firstChild;if(null!==u)return mf(c,u)}return s[7]}function nb(i,s,a,c,u,f,_){for(;null!=a;){const v=c[a.index],w=a.type;if(_&&0===s&&(v&&hn(Mt(v),c),a.flags|=4),64!=(64&a.flags))if(8&w)nb(i,s,a.child,c,u,f,!1),ka(s,i,u,v,f);else if(32&w){const I=H(a,c);let x;for(;x=I();)ka(s,i,u,x,f);ka(s,i,u,v,f)}else 16&w?rb(i,s,c,a,u,f):ka(s,i,u,v,f);a=_?a.projectionNext:a.next}}function fg(i,s,a,c,u,f){nb(a,c,i.firstChild,s,u,f,!1)}function rb(i,s,a,c,u,f){const _=a[16],w=_[6].projection[c.projection];if(Array.isArray(w))for(let I=0;I<w.length;I++)ka(s,i,u,w[I],f);else nb(i,s,w,_[3],u,f,!0)}function U0(i,s,a){sn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function M_(i,s,a){sn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function B0(i,s,a){let c=i.length;for(;;){const u=i.indexOf(s,a);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const f=s.length;if(u+f===c||i.charCodeAt(u+f)<=32)return u}a=u+1}}const j0="ng-template";function ib(i,s,a){let c=0;for(;c<i.length;){let u=i[c++];if(a&&"class"===u){if(u=i[c],-1!==B0(u.toLowerCase(),s,0))return!0}else if(1===u){for(;c<i.length&&"string"==typeof(u=i[c++]);)if(u.toLowerCase()===s)return!0;return!1}}return!1}function $0(i){return 4===i.type&&i.value!==j0}function PS(i,s,a){return s===(4!==i.type||a?i.value:j0)}function H0(i,s,a){let c=4;const u=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(Ll(i[s]))return s;return i.length}(u);let _=!1;for(let v=0;v<s.length;v++){const w=s[v];if("number"!=typeof w){if(!_)if(4&c){if(c=2|1&c,""!==w&&!PS(i,w,a)||""===w&&1===s.length){if(Ko(c))return!1;_=!0}}else{const I=8&c?w:s[++v];if(8&c&&null!==i.attrs){if(!ib(i.attrs,I,a)){if(Ko(c))return!1;_=!0}continue}const P=JR(8&c?"class":w,u,$0(i),a);if(-1===P){if(Ko(c))return!1;_=!0;continue}if(""!==I){let N;N=P>f?"":u[P+1].toLowerCase();const $=8&c?N:null;if($&&-1!==B0($,I,0)||2&c&&I!==N){if(Ko(c))return!1;_=!0}}}}else{if(!_&&!Ko(c)&&!Ko(w))return!1;if(_&&Ko(w))continue;_=!1,c=w|1&c}}return Ko(c)||_}function Ko(i){return 0==(1&i)}function JR(i,s,a,c){if(null===s)return-1;let u=0;if(c||!a){let f=!1;for(;u<s.length;){const _=s[u];if(_===i)return u;if(3===_||6===_)f=!0;else{if(1===_||2===_){let v=s[++u];for(;"string"==typeof v;)v=s[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function z0(i,s,a=!1){for(let c=0;c<s.length;c++)if(H0(i,s[c],a))return!0;return!1}function NS(i,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(i.length===c.length){for(let u=0;u<i.length;u++)if(i[u]!==c[u])continue e;return!0}}return!1}function q0(i,s){return i?":not("+s.trim()+")":s}function sb(i){let s=i[0],a=1,c=2,u="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const v=i[++a];u+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&c?u+="."+_:4&c&&(u+=" "+_);else""!==u&&!Ko(_)&&(s+=q0(f,u),u=""),c=_,f=f||!Ko(c);a++}return""!==u&&(s+=q0(f,u)),s}const ot={};function VS(i){Z0(St(),Ce(),Hr()+i,Xi())}function Z0(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&gc(s,f,a)}else{const f=i.preOrderHooks;null!==f&&mc(s,f,0,a)}ii(a)}function me(i,s){return i<<17|s<<2}function oi(i){return i>>17&32767}function kt(i){return 2|i}function Uc(i){return(131068&i)>>2}function Yo(i,s){return-131069&i|s<<2}function gg(i){return 1|i}function L_(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const u=a[c],f=a[c+1];if(-1!==f){const _=i.data[f];Rl(u),_.contentQueries(2,s[f],f)}}}function _g(i,s,a,c,u,f,_,v,w,I){const x=s.blueprint.slice();return x[0]=u,x[2]=140|c,lc(x),x[3]=x[15]=i,x[8]=a,x[10]=_||i&&i[10],x[11]=v||i&&i[11],x[12]=w||i&&i[12]||null,x[9]=I||i&&i[9]||null,x[6]=f,x[16]=2==s.type?i[16]:x,x}function ru(i,s,a,c,u){let f=i.data[s];if(null===f)f=function(i,s,a,c,u){const f=Dl(),_=dc(),w=i.data[s]=function(i,s,a,c,u,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,c,u);return null===i.firstChild&&(i.firstChild=w),null!==f&&(_?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}(i,s,a,c,u),at.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=u;const _=function(){const i=at.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return Ei(f,!0),f}function vf(i,s,a,c){if(0===a)return-1;const u=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return u}function yg(i,s,a){Ss(s);try{const c=i.viewQuery;null!==c&&Z_(1,c,a);const u=i.template;null!==u&&rC(i,s,u,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&L_(i,s),i.staticViewQueries&&Z_(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)XS(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,kl()}}function or(i,s,a,c){const u=s[2];if(256==(256&u))return;Ss(s);const f=Xi();try{lc(s),function(i){at.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&rC(i,s,a,2,c);const _=3==(3&u);if(!f)if(_){const I=i.preOrderCheckHooks;null!==I&&gc(s,I,null)}else{const I=i.preOrderHooks;null!==I&&mc(s,I,0,null),Nl(s,0)}if(function(i){for(let s=Rt(i);null!==s;s=Yn(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const u=a[c],f=u[3];0==(1024&u[2])&&Tl(f,1),u[2]|=1024}}}(s),function(i){for(let s=Rt(i);null!==s;s=Yn(s))for(let a=10;a<s.length;a++){const c=s[a],u=c[1];ya(c)&&or(u,c,u.template,c[8])}}(s),null!==i.contentQueries&&L_(i,s),!f)if(_){const I=i.contentCheckHooks;null!==I&&gc(s,I)}else{const I=i.contentHooks;null!==I&&mc(s,I,1),Nl(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const u=a[c];if(u<0)ii(~u);else{const f=u,_=a[++c],v=a[++c];xl(_,f),v(2,s[f])}}}finally{ii(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let a=0;a<s.length;a++)_C(i,s[a])}(s,v);const w=i.viewQuery;if(null!==w&&Z_(2,w,c),!f)if(_){const I=i.viewCheckHooks;null!==I&&gc(s,I)}else{const I=i.viewHooks;null!==I&&mc(s,I,2),Nl(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Tl(s[3],-1))}finally{kl()}}function vg(i,s,a,c){const u=s[10],f=!Xi(),_=Cl(s);try{f&&!_&&u.begin&&u.begin(),_&&yg(i,s,c),or(i,s,a,c)}finally{f&&!_&&u.end&&u.end()}}function rC(i,s,a,c,u){const f=Hr(),_=2&c;try{ii(-1),_&&s.length>20&&Z0(i,s,20,Xi()),a(c,u)}finally{ii(f)}}function fb(i,s,a){!Il()||(function(i,s,a,c){const u=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Fo(a,s),hn(c,s);const _=a.initialInputs;for(let v=u;v<f;v++){const w=i.data[v],I=bi(w);I&&JS(s,a,w);const x=Lo(s,i,v,a);hn(x,s),null!==_&&vb(0,v-u,x,w,0,_),I&&(fr(a.index,s)[8]=x)}}(i,s,a,$r(a,s)),128==(128&a.flags)&&function(i,s,a){const c=a.directiveStart,u=a.directiveEnd,_=a.index,v=at.lFrame.currentDirectiveIndex;try{ii(_);for(let w=c;w<u;w++){const I=i.data[w],x=s[w];Ml(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&fC(I,x)}}finally{ii(-1),Ml(v)}}(i,s,a))}function pb(i,s,a=$r){const c=s.localNames;if(null!==c){let u=s.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],v=-1===_?a(s,i):i[_];i[u++]=v}}}function bg(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=gd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function gd(i,s,a,c,u,f,_,v,w,I){const x=20+c,P=x+u,N=function(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:ot);return a}(x,P),$="function"==typeof I?I():I;return N[1]={type:i,blueprint:N,template:a,queries:null,viewQuery:v,declTNode:s,data:N.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:$,incompleteFirstPass:!1}}function mb(i,s,a,c){const u=Tf(s);null===a?u.push(c):(u.push(a),i.firstCreatePass&&Tg(i).push(c,u.length-1))}function oC(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const u=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,u):a[c]=[s,u]}return a}function Bi(i,s,a,c,u,f,_,v){const w=$r(s,a);let x,I=s.inputs;!v&&null!=I&&(x=I[c])?(wb(i,a,x,c,u),ec(s)&&function(i,s){const a=fr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),u=null!=_?_(u,s.value||"",c):u,sn(f)?f.setProperty(w,c,u):Vl(c)||(w.setProperty?w.setProperty(c,u):w[c]=u))}function Ef(i,s,a,c){let u=!1;if(Il()){const f=function(i,s,a){const c=i.directiveRegistry;let u=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];z0(a,_.selectors,!1)&&(u||(u=[]),en(Fo(a,s),i,_.type),bi(_)?(H_(i,a),u.unshift(_)):u.push(_))}return u}(i,s,a),_=null===c?null:{"":-1};if(null!==f){u=!0,z_(a,i.data.length,f.length);for(let x=0;x<f.length;x++){const P=f[x];P.providersResolver&&P.providersResolver(P)}let v=!1,w=!1,I=vf(i,s,f.length,null);for(let x=0;x<f.length;x++){const P=f[x];a.mergedAttrs=Ni(a.mergedAttrs,P.hostAttrs),yb(i,a,s,I,P),QS(I,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const N=P.type.prototype;!v&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!w&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),I++}!function(i,s){const c=s.directiveEnd,u=i.data,f=s.attrs,_=[];let v=null,w=null;for(let I=s.directiveStart;I<c;I++){const x=u[I],P=x.inputs,N=null===f||$0(s)?null:pC(P,f);_.push(N),v=oC(P,I,v),w=oC(x.outputs,I,w)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=v,s.outputs=w}(i,a)}_&&function(i,s,a){if(s){const c=i.localNames=[];for(let u=0;u<s.length;u+=2){const f=a[s[u+1]];if(null==f)throw new Pe("301",`Export of name '${s[u+1]}' not found!`);c.push(s[u],f)}}}(a,c,_)}return a.mergedAttrs=Ni(a.mergedAttrs,a.attrs),u}function $_(i,s,a,c,u,f){const _=f.hostBindings;if(_){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=w&&v.push(w),v.push(c,u,_)}}function fC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function H_(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function QS(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;bi(s)&&(a[""]=i)}}function z_(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function yb(i,s,a,c,u){i.data[c]=u;const f=u.factory||(u.factory=xn(u.type)),_=new ko(f,bi(u),null);i.blueprint[c]=_,a[c]=_,$_(i,s,0,c,vf(i,a,u.hostVars,ot),u)}function JS(i,s,a){const c=$r(s,i),u=bg(a),f=i[10],_=jc(i,_g(i,u,null,a.onPush?64:16,c,s,f,f.createRenderer(c,a),null,null));i[s.index]=_}function Os(i,s,a,c,u,f){const _=$r(i,s);!function(i,s,a,c,u,f,_){if(null==f)sn(i)?i.removeAttribute(s,u,a):s.removeAttribute(u);else{const v=null==_?Le(f):_(f,c||"",u);sn(i)?i.setAttribute(s,u,v,a):a?s.setAttributeNS(a,u,v):s.setAttribute(u,v)}}(s[11],_,f,i.value,a,c,u)}function vb(i,s,a,c,u,f){const _=f[s];if(null!==_){const v=c.setInput;for(let w=0;w<_.length;){const I=_[w++],x=_[w++],P=_[w++];null!==v?c.setInput(a,P,I,x):a[x]=P}}}function pC(i,s){let a=null,c=0;for(;c<s.length;){const u=s[c];if(0!==u)if(5!==u){if("number"==typeof u)break;i.hasOwnProperty(u)&&(null===a&&(a=[]),a.push(u,i[u],s[c+1])),c+=2}else c+=2;else c+=4}return a}function wf(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function _C(i,s){const a=fr(s,i);if(ya(a)){const c=a[1];80&a[2]?or(c,a,c.template,a[8]):a[5]>0&&Cf(a)}}function Cf(i){for(let c=Rt(i);null!==c;c=Yn(c))for(let u=10;u<c.length;u++){const f=c[u];if(1024&f[2]){const _=f[1];or(_,f,_.template,f[8])}else f[5]>0&&Cf(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const u=fr(a[c],i);ya(u)&&u[5]>0&&Cf(u)}}function XS(i,s){const a=fr(s,i),c=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),yg(c,a,a[8])}function jc(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function bb(i){for(;i;){i[2]|=64;const s=Ae(i);if(ju(i)&&!s)return i;i=s}return null}function q_(i,s,a){const c=s[10];c.begin&&c.begin();try{or(i,s,i.template,a)}catch(u){throw G_(s,u),u}finally{c.end&&c.end()}}function wg(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=sf(a),u=c[1];vg(u,c,u.template,a)}}(i[8])}function Z_(i,s,a){Rl(0),s(i,a)}const vC=(()=>Promise.resolve(null))();function Tf(i){return i[7]||(i[7]=[])}function Tg(i){return i.cleanup||(i.cleanup=[])}function Eb(i,s,a){return(null===i||bi(i))&&(a=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function G_(i,s){const a=i[9],c=a?a.get(Lc,null):null;c&&c.handleError(s)}function wb(i,s,a,c,u){for(let f=0;f<a.length;){const _=a[f++],v=a[f++],w=s[_],I=i.data[_];null!==I.setInput?I.setInput(w,u,c,v):w[v]=u}}function La(i,s,a){const c=xo(s,i);!function(i,s,a){sn(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function iu(i,s,a){let c=a?i.styles:null,u=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const v=s[_];"number"==typeof v?f=v:1==f?u=ie(u,v):2==f&&(c=ie(c,v+": "+s[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=u:i.classesWithoutHost=u}const Hc=new on("INJECTOR",-1);class If{get(s,a=ro){if(a===ro){const c=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw c.name="NullInjectorError",c}return a}}const Df=new on("Set Injector scope."),Ig={},Ib={};let Sf;function W_(){return void 0===Sf&&(Sf=new If),Sf}function Db(i,s=null,a=null,c){return new wC(i,a,s||W_(),c)}class wC{constructor(s,a,c,u=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Ti(a,v=>this.processProvider(v,s,a)),Ti([s],v=>this.processInjectorType(v,[],f)),this.records.set(Hc,Va(void 0,this));const _=this.records.get(Df);this.scope=null!=_?_.value:null,this.source=u||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ro,c=Se.Default){this.assertNotDestroyed();const u=zl(this),f=Dn(void 0);try{if(!(c&Se.SkipSelf)){let v=this.records.get(s);if(void 0===v){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof on)&&Ar(s);v=w&&this.injectableDefInScope(w)?Va(Sb(s),Ig):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(c&Se.Self?W_():this.parent).get(s,a=c&Se.Optional&&a===ro?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[is]=_[is]||[]).unshift(Q(s)),u)throw _;return vr(_,s,"R3InjectorError",this.source)}throw _}finally{Dn(f),zl(u)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,u)=>s.push(Q(u))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,c){if(!(s=Y(s)))return!1;let u=Ri(s);const f=null==u&&s.ngModule||void 0,_=void 0===f?s:f,v=-1!==c.indexOf(_);if(void 0!==f&&(u=Ri(f)),null==u)return!1;if(null!=u.imports&&!v){let x;c.push(_);try{Ti(u.imports,P=>{this.processInjectorType(P,a,c)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:N,providers:$}=x[P];Ti($,z=>this.processProvider(z,N,$||Be))}}this.injectorDefTypes.add(_);const w=xn(_)||(()=>new _);this.records.set(_,Va(w,Ig));const I=u.providers;if(null!=I&&!v){const x=s;Ti(I,P=>this.processProvider(P,x,I))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,c){let u=ou(s=Y(s))?s:Y(s&&s.provide);const f=su(i=s)?Va(void 0,i.useValue):Va(Sg(i),Ig);var i;if(ou(s)||!0!==s.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=Va(void 0,Ig,!0),_.factory=()=>zo(_.multi),this.records.set(u,_)),u=s,_.multi.push(s)}this.records.set(u,f)}hydrate(s,a){return a.value===Ig&&(a.value=Ib,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Y(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Sb(i){const s=Ar(i),a=null!==s?s.factory:xn(i);if(null!==a)return a;if(i instanceof on)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=Rr(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${c.join(", ")}).`)}const a=function(i){const s=i&&(i[Ut]||i[bo]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function Sg(i,s,a){let c;if(ou(i)){const u=Y(i);return xn(u)||Sb(u)}if(su(i))c=()=>Y(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...zo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>Rn(Y(i.useExisting));else{const u=Y(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return xn(u)||Sb(u);c=()=>new u(...zo(i.deps))}return c}function Va(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function su(i){return null!==i&&"object"==typeof i&&Ic in i}function ou(i){return"function"==typeof i}const Ua=function(i,s,a){return function(i,s=null,a=null,c){const u=Db(i,s,a,c);return u._resolveInjectorDefTypes(),u}({name:a},s,i,a)};let _n=(()=>{class i{static create(a,c){return Array.isArray(a)?Ua(a,c,""):Ua(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=ro,i.NULL=new If,i.\u0275prov=xt({token:i,providedIn:"any",factory:()=>Rn(Hc)}),i.__NG_ELEMENT_ID__=-1,i})();function Er(i,s){Pl(sf(i)[1],Mn())}function Bb(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let u;if(bi(i))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");u=s.\u0275dir}if(u){if(a){c.push(u);const _=i;_.inputs=jb(i.inputs),_.declaredInputs=jb(i.declaredInputs),_.outputs=jb(i.outputs);const v=u.hostBindings;v&&FC(i,v);const w=u.viewQuery,I=u.contentQueries;if(w&&PC(i,w),I&&NC(i,I),te(i.inputs,u.inputs),te(i.declaredInputs,u.declaredInputs),te(i.outputs,u.outputs),bi(u)&&u.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let _=0;_<f.length;_++){const v=f[_];v&&v.ngInherit&&v(i),v===Bb&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const u=i[c];u.hostVars=s+=u.hostVars,u.hostAttrs=Ni(u.hostAttrs,a=Ni(a,u.hostAttrs))}}(c)}function jb(i){return i===je?{}:i===Be?[]:i}function PC(i,s){const a=i.viewQuery;i.viewQuery=a?(c,u)=>{s(c,u),a(c,u)}:s}function NC(i,s){const a=i.contentQueries;i.contentQueries=a?(c,u,f)=>{s(c,u,f),a(c,u,f)}:s}function FC(i,s){const a=i.hostBindings;i.hostBindings=a?(c,u)=>{s(c,u),a(c,u)}:s}let Rg=null;function Nf(){if(!Rg){const i=q.Symbol;if(i&&i.iterator)Rg=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Rg=c)}}}return Rg}function Ff(i){return!!J_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Nf()in i)}function J_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function co(i,s,a){return i[s]=a}function Di(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function X_(i,s,a,c){const u=Ce();return Di(u,Qs(),s)&&(St(),Os(En(),u,i,s,a,c)),X_}function du(i,s,a,c){return Di(i,Qs(),a)?s+Le(a)+c:ot}function BC(i,s,a,c,u,f,_,v){const w=Ce(),I=St(),x=i+20,P=I.firstCreatePass?function(i,s,a,c,u,f,_,v,w){const I=s.consts,x=ru(s,i,4,_||null,Ts(I,v));Ef(s,a,x,Ts(I,w)),Pl(s,x);const P=x.tViews=gd(2,x,c,u,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,x),P.queries=s.queries.embeddedTView(x)),x}(x,I,w,s,a,c,u,f,_):I.data[x];Ei(P,!1);const N=w[11].createComment("");hg(I,w,N,P),hn(N,w),jc(w,w[x]=wf(N,w,N,P)),fa(P)&&fb(I,w,P),null!=_&&pb(w,P,v)}function Ad(i,s=Se.Default){const a=Ce();return null===a?Rn(i,s):Kn(Mn(),a,Y(i),s)}function xd(i,s,a){const c=Ce();return Di(c,Qs(),s)&&Bi(St(),En(),c,i,s,c[11],a,!1),xd}function Wc(i,s,a,c,u){const _=u?"class":"style";wb(i,a,s.inputs[_],_,c)}function ry(i,s,a,c){const u=Ce(),f=St(),_=20+i,v=u[11],w=u[_]=ff(v,s,at.lFrame.currentNamespace),I=f.firstCreatePass?function(i,s,a,c,u,f,_){const v=s.consts,I=ru(s,i,2,u,Ts(v,f));return Ef(s,a,I,Ts(v,_)),null!==I.attrs&&iu(I,I.attrs,!1),null!==I.mergedAttrs&&iu(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,f,u,0,s,a,c):f.data[_];Ei(I,!0);const x=I.mergedAttrs;null!==x&&_c(v,w,x);const P=I.classes;null!==P&&M_(v,w,P);const N=I.styles;null!==N&&U0(v,w,N),64!=(64&I.flags)&&hg(f,u,w,I),0===at.lFrame.elementDepthCount&&hn(w,u),at.lFrame.elementDepthCount++,fa(I)&&(fb(f,u,I),function(i,s,a){if(Gs(s)){const u=s.directiveEnd;for(let f=s.directiveStart;f<u;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}(f,I,u)),null!==c&&pb(u,I)}function et(){let i=Mn();dc()?Ys():(i=i.parent,Ei(i,!1));const s=i;at.lFrame.elementDepthCount--;const a=St();a.firstCreatePass&&(Pl(a,i),Gs(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Wc(a,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Wc(a,s,Ce(),s.stylesWithoutHost,!1)}function hu(i,s,a,c){ry(i,s,a,c),et()}function iy(){return Ce()}function Uf(i){return!!i&&"function"==typeof i.then}function sy(i){return!!i&&"function"==typeof i.subscribe}const Lg=sy;function oy(i,s,a,c){const u=Ce(),f=St(),_=Mn();return Bf(f,u,u[11],_,i,s,!!a,c),oy}function ay(i,s){const a=Mn(),c=Ce(),u=St();return Bf(u,c,Eb(Ea(u.data),a,c),a,i,s,!1),ay}function Bf(i,s,a,c,u,f,_,v){const w=fa(c),x=i.firstCreatePass&&Tg(i),P=s[8],N=Tf(s);let $=!0;if(3&c.type||v){const ne=$r(c,s),Oe=v?v(ne):ne,be=N.length,Je=v?dt=>v(Mt(dt[c.index])):c.index;if(sn(a)){let dt=null;if(!v&&w&&(dt=function(i,s,a,c){const u=i.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const _=u[f];if(_===a&&u[f+1]===c){const v=s[7],w=u[f+2];return v.length>w?v[w]:null}"string"==typeof _&&(f+=2)}return null}(i,s,u,c.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=f,dt.__ngLastListenerFn__=f,$=!1;else{f=ly(c,s,P,f,!1);const Pt=a.listen(Oe,u,f);N.push(f,Pt),x&&x.push(u,Je,be,be+1)}}else f=ly(c,s,P,f,!0),Oe.addEventListener(u,f,_),N.push(f),x&&x.push(u,Je,be,_)}else f=ly(c,s,P,f,!1);const z=c.outputs;let de;if($&&null!==z&&(de=z[u])){const ne=de.length;if(ne)for(let Oe=0;Oe<ne;Oe+=2){const Jn=s[de[Oe]][de[Oe+1]].subscribe(f),Xr=N.length;N.push(f,Jn),x&&x.push(u,c.index,Xr,-(Xr+1))}}}function di(i,s,a,c){try{return!1!==a(c)}catch(u){return G_(i,u),!1}}function ly(i,s,a,c,u){return function f(_){if(_===Function)return c;const v=2&i.flags?fr(i.index,s):s;0==(32&s[2])&&bb(v);let w=di(s,0,c,_),I=f.__ngNextListenerFn__;for(;I;)w=di(s,0,I,_)&&w,I=I.__ngNextListenerFn__;return u&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function On(i=1){return function(i){return(at.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,at.lFrame.contextLView))[8]}(i)}function EA(i,s){let a=null;const c=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let u=0;u<s.length;u++){const f=s[u];if("*"!==f){if(null===c?z0(i,f,!0):NS(c,f))return u}else a=u}return a}function Xb(i){const s=Ce()[16][6];if(!s.projection){const c=s.projection=Rr(i?i.length:1,null),u=c.slice();let f=s.child;for(;null!==f;){const _=i?EA(f,i):0;null!==_&&(u[_]?u[_].projectionNext=f:c[_]=f,u[_]=f),f=f.next}}}function jf(i,s=0,a){const c=Ce(),u=St(),f=ru(u,20+i,16,null,a||null);null===f.projection&&(f.projection=s),Ys(),64!=(64&f.flags)&&function(i,s,a){rb(s[11],0,s,a,Ui(i,a,s),x_(a.parent||s[6],a,s))}(u,c,f)}function eE(i,s,a){return $f(i,"",s,"",a),eE}function $f(i,s,a,c,u){const f=Ce(),_=du(f,s,a,c);return _!==ot&&Bi(St(),En(),f,i,_,f[11],u,!1),$f}function Hf(i,s,a,c,u){const f=i[a+1],_=null===s;let v=c?oi(f):Uc(f),w=!1;for(;0!==v&&(!1===w||_);){const x=i[v+1];uy(i[v],s)&&(w=!0,i[v+1]=c?gg(x):kt(x)),v=c?oi(x):Uc(x)}w&&(i[a+1]=c?kt(f):gg(f))}function uy(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&k(i,s)>=0}function Od(i,s,a){return ho(i,s,a,!1),Od}function hy(i,s){return ho(i,s,null,!0),hy}function ho(i,s,a,c){const u=Ce(),f=St(),_=function(i){const s=at.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function(i,s,a,c){const u=i.data;if(null===u[a+1]){const f=u[Hr()],_=function(i,s){return s>=i.expandoStartIndex}(i,a);(function(i,s){return 0!=(i.flags&(s?16:32))})(f,c)&&null===s&&!_&&(s=!1),s=function(i,s,a,c){const u=Ea(i);let f=c?s.residualClasses:s.residualStyles;if(null===u)0===(c?s.classBindings:s.styleBindings)&&(a=Zf(a=Qc(null,i,s,a,c),s.attrs,c),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==u)if(a=Qc(u,i,s,a,c),null===f){let w=function(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Uc(c))return i[oi(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=Qc(null,i,s,w[1],c),w=Zf(w,s.attrs,c),function(i,s,a,c){i[oi(a?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else f=function(i,s,a){let c;const u=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<u;f++)c=Zf(c,i[f].hostAttrs,a);return Zf(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(u,f,s,c),function(i,s,a,c,u,f){let _=f?s.classBindings:s.styleBindings,v=oi(_),w=Uc(_);i[c]=a;let x,I=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||k(P,x)>0)&&(I=!0)}else x=a;if(u)if(0!==w){const N=oi(i[v+1]);i[c+1]=me(N,v),0!==N&&(i[N+1]=Yo(i[N+1],c)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],c)}else i[c+1]=me(v,0),0!==v&&(i[v+1]=Yo(i[v+1],c)),v=c;else i[c+1]=me(w,0),0===v?v=c:i[w+1]=Yo(i[w+1],c),w=c;I&&(i[c+1]=kt(i[c+1])),Hf(i,x,c,!0),Hf(i,x,c,!1),function(i,s,a,c,u){const f=u?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&k(f,s)>=0&&(a[c+1]=gg(a[c+1]))}(s,x,i,c,f),_=me(v,w),f?s.classBindings=_:s.styleBindings=_}(u,f,s,a,_,c)}}(f,i,_,c),s!==ot&&Di(u,_,s)&&function(i,s,a,c,u,f,_,v){if(!(3&s.type))return;const w=i.data,I=w[v+1];fu(function(i){return 1==(1&i)}(I)?aE(w,s,a,u,Uc(I),_):void 0)||(fu(f)||function(i){return 2==(2&i)}(I)&&(f=aE(w,null,a,u,v,_)),function(i,s,a,c,u){const f=sn(i);if(s)u?f?i.addClass(a,c):a.classList.add(c):f?i.removeClass(a,c):a.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:D.DashCase;if(null==u)f?i.removeStyle(a,c,_):a.style.removeProperty(c);else{const v="string"==typeof u&&u.endsWith("!important");v&&(u=u.slice(0,-10),_|=D.Important),f?i.setStyle(a,c,u,_):a.style.setProperty(c,u,v?"important":"")}}}(c,_,xo(Hr(),a),u,f))}(f,f.data[Hr()],u,u[11],i,u[_+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(Ms(i)))),i}(s,a),c,_)}function Qc(i,s,a,c,u){let f=null;const _=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<_&&(f=s[v],c=Zf(c,f.hostAttrs,u),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),c}function Zf(i,s,a){const c=a?1:2;let u=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?u=_:u===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),T(i,_,!!a||s[++f]))}return void 0===i?null:i}function aE(i,s,a,c,u,f){const _=null===s;let v;for(;u>0;){const w=i[u],I=Array.isArray(w),x=I?w[1]:w,P=null===x;let N=a[u+1];N===ot&&(N=P?Be:void 0);let $=P?S(N,c):x===c?N:void 0;if(I&&!fu($)&&($=S(w,c)),fu($)&&(v=$,_))return v;const z=i[u+1];u=_?oi(z):Uc(z)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(v=S(w,c))}return v}function fu(i){return void 0!==i}function cr(i,s=""){const a=Ce(),c=St(),u=i+20,f=c.firstCreatePass?ru(c,u,1,s,null):c.data[u],_=a[u]=function(i,s){return sn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);hg(c,a,_,f),Ei(f,!1)}function Wf(i){return Pd("",i,""),Wf}function Pd(i,s,a){const c=Ce(),u=du(c,i,s,a);return u!==ot&&La(c,Hr(),u),Pd}function gy(i,s,a){const c=Ce();return Di(c,Qs(),s)&&Bi(St(),En(),c,i,s,c[11],a,!0),gy}function my(i,s,a){const c=Ce();if(Di(c,Qs(),s)){const f=St(),_=En();Bi(f,_,c,i,s,Eb(Ea(f.data),_,c),a,!0)}return my}const pu=void 0;var yT=["en",[["a","p"],["AM","PM"],pu],[["AM","PM"],pu,pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pu,"{1} 'at' {0}",pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Nd={};function pE(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=gE(s);if(a)return a;const c=s.split("-")[0];if(a=gE(c),a)return a;if("en"===c)return yT;throw new Error(`Missing locale data for the locale "${i}".`)}function Jf(i){return pE(i)[ze.PluralCase]}function gE(i){return i in Nd||(Nd[i]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[i]),Nd[i]}var ze=(()=>((ze=ze||{})[ze.LocaleId=0]="LocaleId",ze[ze.DayPeriodsFormat=1]="DayPeriodsFormat",ze[ze.DayPeriodsStandalone=2]="DayPeriodsStandalone",ze[ze.DaysFormat=3]="DaysFormat",ze[ze.DaysStandalone=4]="DaysStandalone",ze[ze.MonthsFormat=5]="MonthsFormat",ze[ze.MonthsStandalone=6]="MonthsStandalone",ze[ze.Eras=7]="Eras",ze[ze.FirstDayOfWeek=8]="FirstDayOfWeek",ze[ze.WeekendRange=9]="WeekendRange",ze[ze.DateFormat=10]="DateFormat",ze[ze.TimeFormat=11]="TimeFormat",ze[ze.DateTimeFormat=12]="DateTimeFormat",ze[ze.NumberSymbols=13]="NumberSymbols",ze[ze.NumberFormats=14]="NumberFormats",ze[ze.CurrencyCode=15]="CurrencyCode",ze[ze.CurrencySymbol=16]="CurrencySymbol",ze[ze.CurrencyName=17]="CurrencyName",ze[ze.Currencies=18]="Currencies",ze[ze.Directionality=19]="Directionality",ze[ze.PluralCase=20]="PluralCase",ze[ze.ExtraData=21]="ExtraData",ze))();const Ns="en-US";let yE=Ns;function vE(i){vn(i,"Expected localeId to be defined"),"string"==typeof i&&(yE=i.toLowerCase().replace(/_/g,"-"))}function Za(i,s,a,c,u){if(i=Y(i),Array.isArray(i))for(let f=0;f<i.length;f++)Za(i[f],s,a,c,u);else{const f=St(),_=Ce();let v=ou(i)?i:Y(i.provide),w=Sg(i);const I=Mn(),x=1048575&I.providerIndexes,P=I.directiveStart,N=I.providerIndexes>>20;if(ou(i)||!i.multi){const $=new ko(w,u,Ad),z=tl(v,s,u?x:x+N,P);-1===z?(en(Fo(I,_),f,v),bu(f,i,s.length),s.push(v),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),a.push($),_.push($)):(a[z]=$,_[z]=$)}else{const $=tl(v,s,x+N,P),z=tl(v,s,x,x+N),de=$>=0&&a[$],ne=z>=0&&a[z];if(u&&!ne||!u&&!de){en(Fo(I,_),f,v);const Oe=function(i,s,a,c,u){const f=new ko(i,a,Ad);return f.multi=[],f.index=s,f.componentProviders=0,ME(f,u,c&&!a),f}(u?np:zA,a.length,u,c,w);!u&&ne&&(a[z].providerFactory=Oe),bu(f,i,s.length,0),s.push(v),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),a.push(Oe),_.push(Oe)}else bu(f,i,$>-1?$:z,ME(a[u?z:$],w,!u&&c));!u&&c&&ne&&a[z].componentProviders++}}}function bu(i,s,a,c){const u=ou(s);if(u||function(i){return!!i.useClass}(s)){const _=(s.useClass||s).prototype.ngOnDestroy;if(_){const v=i.destroyHooks||(i.destroyHooks=[]);if(!u&&s.multi){const w=v.indexOf(a);-1===w?v.push(a,[c,_]):v[w+1].push(c,_)}else v.push(a,_)}}}function ME(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function tl(i,s,a,c){for(let u=a;u<c;u++)if(s[u]===i)return u;return-1}function zA(i,s,a,c){return wy(this.multi,[])}function np(i,s,a,c){const u=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,v=Lo(a,a[1],this.providerFactory.index,c);f=v.slice(0,_),wy(u,f);for(let w=_;w<v.length;w++)f.push(v[w])}else f=[],wy(u,f);return f}function wy(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function wu(i,s=[]){return a=>{a.providersResolver=(c,u)=>function(i,s,a){const c=St();if(c.firstCreatePass){const u=bi(i);Za(a,c.data,c.blueprint,u,!0),Za(s,c.data,c.blueprint,u,!1)}}(c,u?u(i):i,s)}}class OE{}const jT="ngComponent";class qA{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[jT]=i,s}(s)}}let nl=(()=>{class i{}return i.NULL=new qA,i})();function Ty(...i){}function jd(i,s){return new Jo($r(i,s))}const GA=function(){return jd(Mn(),Ce())};let Jo=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=GA,i})();function Iy(i){return i instanceof Jo?i.nativeElement:i}class Tu{}let Dy=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>HT(),i})();const HT=function(){const i=Ce(),a=fr(Mn().index,i);return function(i){return i[11]}(Ki(a)?a:i)};let FE=(()=>{class i{}return i.\u0275prov=xt({token:i,providedIn:"root",factory:()=>null}),i})();class LE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Sy=new LE("12.2.13");class Ay{constructor(){}supports(s){return Ff(s)}create(s){return new YA(s)}}const WA=(i,s)=>s;class YA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||WA}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,u=0,f=null;for(;a||c;){const _=!c||a&&a.currentIndex<Hd(c,u,f)?a:c,v=Hd(_,u,f),w=_.currentIndex;if(_===c)u--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)u++;else{f||(f=[]);const I=v-u,x=w-u;if(I!=x){for(let N=0;N<I;N++){const $=N<f.length?f[N]:f[N]=0,z=$+N;x<=z&&z<I&&(f[N]=$+1)}f[_.previousIndex]=x-I}}v!==w&&s(_,v,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ff(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,f,_,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],_=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,f,_,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,v),c=!0),a=a._next}else u=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Nf()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,v=>{_=this._trackByFn(u,v),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,v,_,u)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,_,u),c=!0),a=a._next,u++}),this.length=u;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,u){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,u)):s=this._addAfter(new qT(a,c),f,u),s}_verifyReinsertion(s,a,c,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,f=s._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const u=null===a?this._itHead:a._next;return s._next=u,s._prev=a,null===u?this._itTail=s:u._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new $d),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $d),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class qT{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QA{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class $d{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new QA,this.map.set(a,c)),c.add(s)}get(s,a){const u=this.map.get(s);return u?u.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hd(i,s,a){const c=i.previousIndex;if(null===c)return c;let u=0;return a&&c<a.length&&(u=a[c]),c+s+u}class xy{constructor(){}supports(s){return s instanceof Map||J_(s)}create(){return new My}}class My{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||J_(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,u)=>{if(a&&a.key===u)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(u,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,a);const f=u._prev,_=u._next;return f&&(f._next=_),_&&(_._prev=f),u._next=null,u._prev=null,u}const c=new ZT(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class ZT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VE(){return new Ry([new Ay])}let Ry=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const u=c.factories.slice();a=a.concat(u)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||VE()),deps:[[i,new Aa,new ss]]}}find(a){const c=this.factories.find(u=>u.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=xt({token:i,providedIn:"root",factory:VE}),i})();function GT(){return new rp([new xy])}let rp=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const u=c.factories.slice();a=a.concat(u)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||GT()),deps:[[i,new Aa,new ss]]}}find(a){const c=this.factories.find(u=>u.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=xt({token:i,providedIn:"root",factory:GT}),i})();function Oy(i,s,a,c,u=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(Mt(f)),An(f))for(let v=10;v<f.length;v++){const w=f[v],I=w[1].firstChild;null!==I&&Oy(w[1],w,I,c)}const _=a.type;if(8&_)Oy(i,s,a.child,c);else if(32&_){const v=H(a,s);let w;for(;w=v();)c.push(w)}else if(16&_){const v=MS(s,a);if(Array.isArray(v))c.push(...v);else{const w=Ae(s[16]);Oy(w[1],w,v,c,!0)}}a=u?a.projectionNext:a.next}return c}class zd{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Oy(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(An(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Qv(s,c),jo(a,c))}this._attachedToViewContainer=!1}F0(this._lView[1],this._lView)}onDestroy(s){mb(this._lView[1],this._lView,null,s)}markForCheck(){bb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){q_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){es(!0);try{q_(i,s,a)}finally{es(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,fg(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class JA extends zd{constructor(s){super(s),this._view=s}detectChanges(){wg(this._view)}checkNoChanges(){!function(i){es(!0);try{wg(i)}finally{es(!1)}}(this._view)}get context(){return null}}const XA=function(i){return function(i,s,a){if(ec(i)&&!a){const c=fr(i.index,s);return new zd(c,c)}return 47&i.type?new zd(s[16],s):null}(Mn(),Ce(),16==(16&i))};let ex=(()=>{class i{}return i.__NG_ELEMENT_ID__=XA,i})();const rx=[new xy],jE=new Ry([new Ay]),WT=new rp(rx),ky=function(){return ip(Mn(),Ce())};let rl=(()=>{class i{}return i.__NG_ELEMENT_ID__=ky,i})();const Py=rl,$E=class extends Py{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=_g(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),yg(a,c,s),new zd(c)}};function ip(i,s){return 4&i.type?new $E(s,i,jd(i,s)):null}class Iu{}class QT{}const sx=function(){return eI(Mn(),Ce())};let Ny=(()=>{class i{}return i.__NG_ELEMENT_ID__=sx,i})();const Fy=Ny,sp=class extends Fy{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return jd(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){const s=bc(this._hostTNode,this._hostLView);if(Bl(s)){const a=vc(s,this._hostLView),c=yc(s);return new As(a[1].data[c+8],a)}return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Ly(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const u=s.createEmbeddedView(a||{});return this.insert(u,c),u}createComponent(s,a,c,u,f){const _=c||this.parentInjector;if(!f&&null==s.ngModule&&_){const w=_.get(Iu,null);w&&(f=w)}const v=s.create(_,u,void 0,f);return this.insert(v.hostView,a),v}insert(s,a){const c=s._lView,u=c[1];if(An(c[3])){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const P=c[3],N=new sp(P,P[6],P[3]);N.detach(N.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function(i,s,a,c){const u=10+c,f=a.length;c>0&&(a[u-1][4]=s),c<f-10?(s[4]=a[u],ns(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(u,c,_,f);const v=Vc(f,_),w=c[11],I=dg(w,_[7]);return null!==I&&function(i,s,a,c,u,f){c[0]=u,c[6]=s,fg(i,c,a,1,u,f)}(u,_[6],w,c,I,v),s.attachToViewContainerRef(),ns(Vy(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Ly(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Qv(this._lContainer,a);c&&(jo(Vy(this._lContainer),a),F0(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Qv(this._lContainer,a);return c&&null!=jo(Vy(this._lContainer),a)?new zd(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Ly(i){return i[8]}function Vy(i){return i[8]||(i[8]=[])}function eI(i,s){let a;const c=s[i.index];if(An(c))a=c;else{let u;if(8&i.type)u=Mt(c);else{const f=s[11];u=f.createComment("");const _=$r(i,s);Na(f,dg(f,_),u,function(i,s){return sn(i)?i.nextSibling(s):s.nextSibling}(f,_),!1)}s[i.index]=a=wf(c,s,u,i),jc(s,a)}return new sp(a,i,s)}const Au={};class zy extends nl{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Gn(s);return new TI(a,this.ngModule)}}function _w(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const Tx=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>I_});class TI extends OE{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(sb).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return _w(this.componentDef.inputs)}get outputs(){return _w(this.componentDef.outputs)}create(s,a,c,u){const f=(u=u||this.ngModule)?function(i,s){return{get:(a,c,u)=>{const f=i.get(a,Au,u);return f!==Au||c===Au?f:s.get(a,c,u)}}}(s,u.injector):s,_=f.get(Tu,ac),v=f.get(FE,null),w=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",x=c?function(i,s,a){if(sn(i))return i.selectRootElement(s,a===Ct.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(w,c,this.componentDef.encapsulation):ff(_.createRenderer(null,this.componentDef),I,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),P=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||I_,clean:vC,playerHandler:s||null,flags:0}}(),$=gd(0,null,null,1,0,null,null,null,null,null),z=_g(null,$,N,P,null,null,_,w,v,f);let de,ne;Ss(z);try{const Oe=function(i,s,a,c,u,f){const _=a[1];a[20]=i;const w=ru(_,20,2,"#host",null),I=w.mergedAttrs=s.hostAttrs;null!==I&&(iu(w,I,!0),null!==i&&(_c(u,i,I),null!==w.classes&&M_(u,i,w.classes),null!==w.styles&&U0(u,i,w.styles)));const x=c.createRenderer(i,s),P=_g(a,bg(s),null,s.onPush?64:16,a[20],w,c,x,f||null,null);return _.firstCreatePass&&(en(Fo(w,a),_,s.type),H_(_,w),z_(w,a.length,1)),jc(a,P),a[20]=P}(x,this.componentDef,z,_,w);if(x)if(c)_c(w,x,["ng-version",Sy.full]);else{const{attrs:be,classes:Je}=function(i){const s=[],a=[];let c=1,u=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===u?""!==f&&s.push(f,i[++c]):8===u&&a.push(f);else{if(!Ko(u))break;u=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);be&&_c(w,x,be),Je&&Je.length>0&&M_(w,x,Je.join(" "))}if(ne=Ji($,20),void 0!==a){const be=ne.projection=[];for(let Je=0;Je<this.ngContentSelectors.length;Je++){const dt=a[Je];be.push(null!=dt?Array.from(dt):null)}}de=function(i,s,a,c,u){const f=a[1],_=function(i,s,a){const c=Mn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),yb(i,c,s,vf(i,s,1,null),a));const u=Lo(s,i,c.directiveStart,c);hn(u,s);const f=$r(c,s);return f&&hn(f,s),u}(f,a,s);if(c.components.push(_),i[8]=_,u&&u.forEach(w=>w(_,s)),s.contentQueries){const w=Mn();s.contentQueries(1,_,w.directiveStart)}const v=Mn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ii(v.index),$_(a[1],v,0,v.directiveStart,v.directiveEnd,s),fC(s,_)),_}(Oe,this.componentDef,z,N,[Er]),yg($,z,null)}finally{kl()}return new yw(this.componentType,de,jd(ne,z),z,ne)}}class yw extends class{}{constructor(s,a,c,u,f){super(),this.location=c,this._rootLView=u,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new JA(u),this.componentType=s}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const xu=new Map;class bw extends Iu{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zy(this);const c=hr(s),u=s[Lt]||null;u&&vE(u),this._bootstrapComponents=ao(c.bootstrap),this._r3Injector=Db(s,a,[{provide:Iu,useValue:this},{provide:nl,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=_n.THROW_IF_NOT_FOUND,c=Se.Default){return s===_n||s===Iu||s===Hc?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Wy extends QT{constructor(s){super(),this.moduleType=s,null!==hr(s)&&function(i){const s=new Set;!function a(c){const u=hr(c,!0),f=u.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(f,xu.get(f),c),xu.set(f,c));const _=ao(u.imports);for(const v of _)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new bw(this.moduleType,s)}}function Ky(i,s,a){const c=nr()+i,u=Ce();return u[c]===ot?co(u,c,a?s.call(a):s()):function(i,s){return i[s]}(u,c)}function nh(i,s,a,c){return function(i,s,a,c,u,f){const _=s+a;return Di(i,_,u)?co(i,_+1,f?c.call(f,u):c(u)):function(i,s){const a=i[s];return a===ot?void 0:a}(i,_+1)}(Ce(),nr(),i,s,a,c)}function yn(i){return s=>{setTimeout(i,void 0,s)}}const Pn=class extends d.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var u,f,_;let v=s,w=a||(()=>null),I=c;if(s&&"object"==typeof s){const P=s;v=null===(u=P.next)||void 0===u?void 0:u.bind(P),w=null===(f=P.error)||void 0===f?void 0:f.bind(P),I=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(w=yn(w),v&&(v=yn(v)),I&&(I=yn(I)));const x=super.subscribe({next:v,error:w,complete:I});return s instanceof re.w&&s.add(x),x}};function Ga(){return this._results[Nf()]()}class dm{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Nf(),c=dm.prototype;c[a]||(c[a]=Ga)}get changes(){return this._changes||(this._changes=new Pn)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const u=Ci(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let u=i[c],f=s[c];if(a&&(u=a(u),f=a(f)),f!==u)return!1}return!0}(c._results,u,a))&&(c._results=u,c.length=u.length,c.last=u[this.length-1],c.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Jy{constructor(s){this.queryList=s,this.matches=null}clone(){return new Jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tw{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,u=[];for(let f=0;f<c;f++){const _=a.getByIndex(f);u.push(this.queries[_.indexInDeclarationView].clone())}return new Tw(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==jI(s,a).matches&&this.queries[a].setDirty()}}class Xy{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Iw{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const u=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,u);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Iw(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Dw{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Dw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let u=0;u<c.length;u++){const f=c[u];this.matchTNodeWithReadOption(s,a,qn(a,f)),this.matchTNodeWithReadOption(s,a,Ta(a,s,f,!1,!1))}else c===rl?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ta(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const u=this.metadata.read;if(null!==u)if(u===Jo||u===Ny||u===rl&&4&a.type)this.addMatch(a.index,-2);else{const f=Ta(a,s,u,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function qn(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function IO(i,s,a,c){return-1===a?function(i,s){return 11&i.type?jd(i,s):4&i.type?ip(i,s):null}(s,i):-2===a?function(i,s,a){return a===Jo?jd(s,i):a===rl?ip(s,i):a===Ny?eI(s,i):void 0}(i,s,c):Lo(i,i[1],a,s)}function Sw(i,s,a,c){const u=s[19].queries[c];if(null===u.matches){const f=i.data,_=a.matches,v=[];for(let w=0;w<_.length;w+=2){const I=_[w];v.push(I<0?null:IO(s,f[I],_[w+1],a.metadata.read))}u.matches=v}return u.matches}function Aw(i,s,a,c){const u=i.queries.getByIndex(a),f=u.matches;if(null!==f){const _=Sw(i,s,u,a);for(let v=0;v<f.length;v+=2){const w=f[v];if(w>0)c.push(_[v/2]);else{const I=f[v+1],x=s[-w];for(let P=10;P<x.length;P++){const N=x[P];N[17]===N[3]&&Aw(N[1],N,I,c)}if(null!==x[9]){const P=x[9];for(let N=0;N<P.length;N++){const $=P[N];Aw($[1],$,I,c)}}}}}return c}function LI(i){const s=Ce(),a=St(),c=Ph();Rl(c+1);const u=jI(a,c);if(i.dirty&&Cl(s)===(2==(2&u.metadata.flags))){if(null===u.matches)i.reset([]);else{const f=u.crossesNgTemplate?Aw(a,s,c,[]):Sw(a,s,u,c);i.reset(f,Iy),i.notifyOnChanges()}return!0}return!1}function xw(i,s,a){const c=St();c.firstCreatePass&&(Lx(c,new Xy(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),BI(c,Ce(),s)}function VI(i,s,a,c){const u=St();if(u.firstCreatePass){const f=Mn();Lx(u,new Xy(s,a,c),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(u,i),2==(2&a)&&(u.staticContentQueries=!0)}BI(u,Ce(),a)}function UI(){return i=Ce(),s=Ph(),i[19].queries[s].queryList;var i,s}function BI(i,s,a){const c=new dm(4==(4&a));mb(i,s,c,c.destroy),null===s[19]&&(s[19]=new Tw),s[19].queries.push(new Jy(c))}function Lx(i,s,a){null===i.queries&&(i.queries=new Iw),i.queries.track(new Dw(s,a))}function jI(i,s){return i.queries.getByIndex(s)}const jw=new on("Application Initializer");let dp=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Ty,this.reject=Ty,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if(Uf(f))a.push(f);else if(Lg(f)){const _=new Promise((v,w)=>{f.subscribe({complete:v,error:w})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(u=>{this.reject(u)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Rn(jw,8))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();const KI=new on("AppId"),oM={provide:KI,useFactory:function(){return`${$w()}${$w()}${$w()}`},deps:[]};function $w(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const YI=new on("Platform Initializer"),aM=new on("Platform ID"),QI=new on("appBootstrapListener");let av=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();const vm=new on("LocaleId"),Hw=new on("DefaultCurrencyCode");class uM{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const fl=function(i){return new Wy(i)},yo=fl,XI=function(i){return Promise.resolve(fl(i))},hp=function(i){const s=fl(i),c=ao(hr(i).declarations).reduce((u,f)=>{const _=Gn(f);return _&&u.push(new TI(_)),u},[]);return new uM(s,c)},qi=hp,fp=function(i){return Promise.resolve(hp(i))};let ta=(()=>{class i{constructor(){this.compileModuleSync=yo,this.compileModuleAsync=XI,this.compileModuleAndAllComponentsSync=qi,this.compileModuleAndAllComponentsAsync=fp}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();const pM=(()=>Promise.resolve(0))();function qw(i){"undefined"==typeof Zone?pM.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ms{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pn(!1),this.onMicrotaskEmpty=new Pn(!1),this.onStable=new Pn(!1),this.onError=new Pn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&a,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let i=q.requestAnimationFrame,s=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(q,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Gw(i),i.isCheckStableRunning=!0,Zw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Gw(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,u,f,_,v)=>{try{return uv(i),a.invokeTask(u,f,_,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),tD(i)}},onInvoke:(a,c,u,f,_,v,w)=>{try{return uv(i),a.invoke(u,f,_,v,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),tD(i)}},onHasTask:(a,c,u,f)=>{a.hasTask(u,f),c===u&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Gw(i),Zw(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,u,f)=>(a.handleError(u,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ms.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ms.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,u){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+u,s,bm,Ty,Ty);try{return f.runTask(_,a,c)}finally{f.cancelTask(_)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const bm={};function Zw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Gw(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function uv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function tD(i){i._nesting--,Zw(i)}class nD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pn,this.onMicrotaskEmpty=new Pn,this.onStable=new Pn,this.onError=new Pn}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,u){return s.apply(a,c)}}let dv=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ms.assertNotInAngularZone(),qw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qw(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,u){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:u})}whenStable(a,c,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,u){return[]}}return i.\u0275fac=function(a){return new(a||i)(Rn(ms))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})(),Ww=(()=>{class i{constructor(){this._applications=new Map,rD.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return rD.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();class hv{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function yM(i){rD=i}let rD=new hv,iD=!0,fv=!1;function sD(){return fv=!0,iD}function HO(){if(fv)throw new Error("Cannot enable prod mode after platform setup.");iD=!1}let na;const Kw=new on("AllowMultipleToken");class bM{constructor(s,a){this.name=s,this.token=a}}function Fr(i,s,a=[]){const c=`Platform: ${s}`,u=new on(c);return(f=[])=>{let _=pv();if(!_||_.injector.get(Kw,!1))if(i)i(a.concat(f).concat({provide:u,useValue:!0}));else{const v=a.concat(f).concat({provide:u,useValue:!0},{provide:Df,useValue:"platform"});!function(i){if(na&&!na.destroyed&&!na.injector.get(Kw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");na=i.get(oD);const s=i.get(YI,null);s&&s.forEach(a=>a())}(_n.create({providers:v,name:c}))}return function(i){const s=pv();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(u)}}function pv(){return na&&!na.destroyed?na:null}let oD=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const v=function(i,s){let a;return a="noop"===i?new nD:("zone.js"===i?void 0:i)||new ms({enableLongStackTrace:sD(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:ms,useValue:v}];return v.run(()=>{const I=_n.create({providers:w,parent:this.injector,name:a.moduleType.name}),x=a.create(I),P=x.injector.get(Lc,null);if(!P)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const N=v.onError.subscribe({next:$=>{P.handleError($)}});x.onDestroy(()=>{Jw(this._modules,x),N.unsubscribe()})}),function(i,s,a){try{const c=a();return Uf(c)?c.catch(u=>{throw s.runOutsideAngular(()=>i.handleError(u)),u}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(P,v,()=>{const N=x.injector.get(dp);return N.runInitializers(),N.donePromise.then(()=>(vE(x.injector.get(vm,Ns)||Ns),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,c=[]){const u=Qw({},c);return function(i,s,a){const c=new Wy(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(a){const c=a.injector.get(Em);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(u=>c.bootstrap(u));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${Q(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Rn(_n))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();function Qw(i,s){return Array.isArray(s)?s.reduce(Qw,i):Object.assign(Object.assign({},i),s)}let Em=(()=>{class i{constructor(a,c,u,f,_){this._zone=a,this._injector=c,this._exceptionHandler=u,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new L.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new L.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{ms.assertNotInAngularZone(),qw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{ms.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),P.unsubscribe()}});this.isStable=(0,he.T)(v,w.pipe(i=>(0,ae.x)()(function(i,s){return function(c){let u;u="function"==typeof i?i:function(){return i};const f=Object.create(c,oe.N);return f.source=c,f.subjectFactory=u,f}}(X)(i))))}bootstrap(a,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=a instanceof OE?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(u.componentType);const f=function(i){return i.isBoundToModule}(u)?void 0:this._injector.get(Iu),v=u.create(_n.NULL,[],c||u.selector,f),w=v.location.nativeElement,I=v.injector.get(dv,null),x=I&&v.injector.get(Ww);return I&&x&&x.registerApplication(w,I),v.onDestroy(()=>{this.detachView(v.hostView),Jw(this.components,v),x&&x.unregisterApplication(w)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Jw(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(QI,[]).concat(this._bootstrapListeners).forEach(u=>u(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Rn(ms),Rn(_n),Rn(Lc),Rn(nl),Rn(dp))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();function Jw(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class Zi{}class t0{}const DM={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let SM=(()=>{class i{constructor(a,c){this._compiler=a,this._config=c||DM}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[c,u]=a.split("#");return void 0===u&&(u="default"),V(8255)(c).then(f=>f[u]).then(f=>cD(f,c,u)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[c,u]=a.split("#"),f="NgFactory";return void 0===u&&(u="default",f=""),V(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(_=>_[u+f]).then(_=>cD(_,c,u))}}return i.\u0275fac=function(a){return new(a||i)(Rn(ta),Rn(t0,8))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),i})();function cD(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const OM=function(i){return null},PM=Fr(null,"core",[{provide:aM,useValue:"unknown"},{provide:oD,deps:[_n]},{provide:Ww,deps:[]},{provide:av,deps:[]}]),LM=[{provide:Em,useClass:Em,deps:[ms,_n,Lc,nl,dp]},{provide:Tx,deps:[ms],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:dp,useClass:dp,deps:[[new ss,jw]]},{provide:ta,useClass:ta,deps:[]},oM,{provide:Ry,useFactory:function(){return jE},deps:[]},{provide:rp,useFactory:function(){return WT},deps:[]},{provide:vm,useFactory:function(i){return vE(i=i||"undefined"!=typeof $localize&&$localize.locale||Ns),i},deps:[[new ql(vm),new ss,new Aa]]},{provide:Hw,useValue:"USD"}];let UM=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Rn(Em))},i.\u0275mod=ca({type:i}),i.\u0275inj=Ur({providers:LM}),i})()},8939:(Xe,Ee,V)=>{"use strict";V.d(Ee,{hO:()=>Q,xv:()=>X,Dh:()=>ae,GT:()=>le,cc:()=>ie,on:()=>F,pX:()=>oe});var d=V(3018),re=V(7841),L=V(9259);Xe=V.hmd(Xe);const he=["ngOnDestroy"],oe=(_e,Te,Pe,Ue={})=>new Proxy(_e,{get:(It,Le)=>Pe.runOutsideAngular(()=>{var Bt;if(_e[Le])return(null===(Bt=null==Ue?void 0:Ue.spy)||void 0===Bt?void 0:Bt.get)&&Ue.spy.get(Le,_e[Le]),_e[Le];if(he.indexOf(Le)>-1)return()=>{};const vt=Te.toPromise().then(In=>{const wt=In&&In[Le];return"function"==typeof wt?wt.bind(In):wt&&wt.then?wt.then(Dt=>Pe.run(()=>Dt)):Pe.run(()=>wt)});return new Proxy(()=>{},{get:(In,wt)=>vt[wt],apply:(In,wt,Dt)=>vt.then(pt=>{var ht;const Ft=pt&&pt(...Dt);return(null===(ht=null==Ue?void 0:Ue.spy)||void 0===ht?void 0:ht.apply)&&Ue.spy.apply(Le,Dt,Ft),Ft})})})}),le=(_e,Te)=>{Te.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Ue=>{Object.defineProperty(_e.prototype,Ue,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Ue))})})};class se{constructor(Te){return Te}}const ae=new d.OlP("angularfire2.app.options"),X=new d.OlP("angularfire2.app.name");function F(_e,Te,Pe){const It="object"==typeof Pe&&Pe||{};It.name=It.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Bt=re.Z.apps.filter(vt=>vt&&vt.name===It.name)[0]||Te.runOutsideAngular(()=>re.Z.initializeApp(_e,It));try{JSON.stringify(_e)!==JSON.stringify(Bt.options)&&U("error",`${Bt.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(vt){}return new se(Bt)}const U=(_e,...Te)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[_e](...Te)},te={provide:se,useFactory:F,deps:[ae,d.R0b,[new d.FiY,X]]};let Q=(()=>{class _e{constructor(Pe){re.Z.registerVersion("angularfire",L.q4.full,"core"),re.Z.registerVersion("angularfire",L.q4.full,"app-compat"),re.Z.registerVersion("angular",d.q4F.full,Pe.toString())}static initializeApp(Pe,Ue){return{ngModule:_e,providers:[{provide:ae,useValue:Pe},{provide:X,useValue:Ue}]}}}return _e.\u0275fac=function(Pe){return new(Pe||_e)(d.LFG(d.Lbi))},_e.\u0275mod=d.oAB({type:_e}),_e.\u0275inj=d.cJS({providers:[te]}),_e})();function ie(_e,Te,Pe,Ue,It){const[,Le,Bt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===_e)||[];if(Le)return function(_e,Te){try{return _e.toString()===Te.toString()}catch(Pe){return _e===Te}}(It,Bt)||(Y("error",`${Te} was already initialized on the ${Pe} Firebase App with different settings.${pe?" You may need to reload as Firebase is not HMR aware.":""}`),Y("warn",{is:It,was:Bt})),Le;{const vt=Ue();return globalThis.\u0275AngularfireInstanceCache.push([_e,vt,It]),vt}}const pe=!!Xe.hot,Y=(_e,...Te)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[_e](...Te)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9259:(Xe,Ee,V)=>{"use strict";V.d(Ee,{q4:()=>jh,iC:()=>yr,HU:()=>Ti,vb:()=>Cc,JM:()=>Hl});var d=V(3018),re=V(2329),L=V(8239),he=V(8026),oe=V(3854),le=V(3910),se=V(5422),ae=V(6676);const X="@firebase/installations",F="0.5.5",te=`w:${F}`,Q="FIS_v2",Te=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(T){return T instanceof oe.ZR&&T.code.includes("request-failed")}function Ue({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function It(T){return{token:T.token,requestStatus:2,expiresIn:pt(T.expiresIn),creationTime:Date.now()}}function Le(T,S){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,L.Z)(function*(T,S){const B=(yield S.json()).error;return Te.create("request-failed",{requestName:T,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function vt({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function In(T,{refreshToken:S}){const k=vt(T);return k.append("Authorization",function(T){return`${Q} ${T}`}(S)),k}function wt(T){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,L.Z)(function*(T){const S=yield T();return S.status>=500&&S.status<600?T():S})).apply(this,arguments)}function pt(T){return Number(T.replace("s","000"))}function Ft(T,S){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,L.Z)(function*(T,{fid:S}){const k=Ue(T),fe={method:"POST",headers:vt(T),body:JSON.stringify({fid:S,authVersion:Q,appId:T.appId,sdkVersion:te})},Ie=yield wt(()=>fetch(k,fe));if(Ie.ok){const $e=yield Ie.json();return{fid:$e.fid||S,registrationStatus:2,refreshToken:$e.refreshToken,authToken:It($e.authToken)}}throw yield Le("Create Installation",Ie)})).apply(this,arguments)}function _i(T){return new Promise(S=>{setTimeout(S,T)})}const vo=/^[cdef][\w-]{21}$/;function Bn(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const k=function(T){return function(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return vo.test(k)?k:""}catch(T){return""}}function ys(T){return`${T.appName}!${T.appId}`}const $s=new Map;function vs(T,S){const k=ys(T);Xn(k,S),function(T,S){const k=(!zt&&"BroadcastChannel"in self&&(zt=new BroadcastChannel("[Firebase] FID Change"),zt.onmessage=T=>{Xn(T.data.key,T.data.fid)}),zt);k&&k.postMessage({key:T,fid:S}),0===$s.size&&zt&&(zt.close(),zt=null)}(k,S)}function Xn(T,S){const k=$s.get(T);if(k)for(const B of k)B(S)}let zt=null;const De="firebase-installations-store";let dr=null;function jn(){return dr||(dr=(0,ae.openDb)("firebase-installations-database",1,T=>{switch(T.oldVersion){case 0:T.createObjectStore(De)}})),dr}function Ri(T,S){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,L.Z)(function*(T,S){const k=ys(T),J=(yield jn()).transaction(De,"readwrite"),fe=J.objectStore(De),Ie=yield fe.get(k);return yield fe.put(S,k),yield J.complete,(!Ie||Ie.fid!==S.fid)&&vs(T,S.fid),S})).apply(this,arguments)}function ti(T){return bo.apply(this,arguments)}function bo(){return(bo=(0,L.Z)(function*(T){const S=ys(T),B=(yield jn()).transaction(De,"readwrite");yield B.objectStore(De).delete(S),yield B.complete})).apply(this,arguments)}function rt(T,S){return Se.apply(this,arguments)}function Se(){return(Se=(0,L.Z)(function*(T,S){const k=ys(T),J=(yield jn()).transaction(De,"readwrite"),fe=J.objectStore(De),Ie=yield fe.get(k),$e=S(Ie);return void 0===$e?yield fe.delete(k):yield fe.put($e,k),yield J.complete,$e&&(!Ie||Ie.fid!==$e.fid)&&vs(T,$e.fid),$e})).apply(this,arguments)}function qt(T){return un.apply(this,arguments)}function un(){return(un=(0,L.Z)(function*(T){let S;const k=yield rt(T,B=>{const J=Dn(B),fe=jt(T,J);return S=fe.registrationPromise,fe.installationEntry});return""===k.fid?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}})).apply(this,arguments)}function Dn(T){return Ct(T||{fid:Bn(),registrationStatus:0})}function jt(T,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Te.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:k,registrationPromise:function(T,S){return We.apply(this,arguments)}(T,k)}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Br(T)}:{installationEntry:S}}function We(){return(We=(0,L.Z)(function*(T,S){try{return Ri(T,yield Ft(T,S))}catch(k){throw Pe(k)&&409===k.customData.serverCode?yield ti(T):yield Ri(T,{fid:S.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Br(T){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,L.Z)(function*(T){let S=yield Jt(T);for(;1===S.registrationStatus;)yield _i(100),S=yield Jt(T);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:B}=yield qt(T);return B||k}return S})).apply(this,arguments)}function Jt(T){return rt(T,S=>{if(!S)throw Te.create("installation-not-found");return Ct(S)})}function Ct(T){return function(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function vl(T,S){return W.apply(this,arguments)}function W(){return(W=(0,L.Z)(function*({appConfig:T,platformLoggerProvider:S},k){const B=G(T,k),J=In(T,k),fe=S.getImmediate({optional:!0});fe&&J.append("x-firebase-client",fe.getPlatformInfoString());const $e={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:te}})},He=yield wt(()=>fetch(B,$e));if(He.ok)return It(yield He.json());throw yield Le("Generate Auth Token",He)})).apply(this,arguments)}function G(T,{fid:S}){return`${Ue(T)}/${S}/authTokens:generate`}function q(T){return we.apply(this,arguments)}function we(){return(we=(0,L.Z)(function*(T,S=!1){let k;const B=yield rt(T.appConfig,fe=>{if(!bn(fe))throw Te.create("not-registered");const Ie=fe.authToken;if(!S&&jr(Ie))return fe;if(1===Ie.requestStatus)return k=ue(T,S),fe;{if(!navigator.onLine)throw Te.create("app-offline");const $e=pn(fe);return k=Xt(T,$e),$e}});return k?yield k:B.authToken})).apply(this,arguments)}function ue(T,S){return je.apply(this,arguments)}function je(){return(je=(0,L.Z)(function*(T,S){let k=yield Be(T.appConfig);for(;1===k.authToken.requestStatus;)yield _i(100),k=yield Be(T.appConfig);const B=k.authToken;return 0===B.requestStatus?q(T,S):B})).apply(this,arguments)}function Be(T){return rt(T,S=>{if(!bn(S))throw Te.create("not-registered");return function(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Xt(T,S){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,L.Z)(function*(T,S){try{const k=yield vl(T,S),B=Object.assign(Object.assign({},S),{authToken:k});return yield Ri(T.appConfig,B),k}catch(k){if(!Pe(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Ri(T.appConfig,B)}else yield ti(T.appConfig);throw k}})).apply(this,arguments)}function bn(T){return void 0!==T&&2===T.registrationStatus}function jr(T){return 2===T.requestStatus&&!function(T){const S=Date.now();return S<T.creationTime||T.creationTime+T.expiresIn<S+36e5}(T)}function pn(T){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:S})}function wo(){return(wo=(0,L.Z)(function*(T){const S=T,{installationEntry:k,registrationPromise:B}=yield qt(S.appConfig);return B?B.catch(console.error):q(S).catch(console.error),k.fid})).apply(this,arguments)}function Co(){return(Co=(0,L.Z)(function*(T,S=!1){const k=T;return yield Bu(k.appConfig),(yield q(k,S)).token})).apply(this,arguments)}function Bu(T){return yi.apply(this,arguments)}function yi(){return(yi=(0,L.Z)(function*(T){const{registrationPromise:S}=yield qt(T);S&&(yield S)})).apply(this,arguments)}function hr(T){return Te.create("missing-app-config-values",{valueName:T})}const yh="installations";(0,he._registerComponent)(new le.wA(yh,T=>{const S=T.getProvider("app").getImmediate();return{app:S,appConfig:function(T){if(!T||!T.options)throw hr("App Configuration");if(!T.name)throw hr("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!T.options[k])throw hr(k);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(S),platformLoggerProvider:(0,he._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,he._registerComponent)(new le.wA("installations-internal",T=>{const S=T.getProvider("app").getImmediate(),k=(0,he._getProvider)(S,yh).getImmediate();return{getId:()=>function(T){return wo.apply(this,arguments)}(k),getToken:J=>function(T){return Co.apply(this,arguments)}(k,J)}},"PRIVATE")),(0,he.registerVersion)(X,F),(0,he.registerVersion)(X,F,"esm2017");const Sn="@firebase/remote-config",$n=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Dp{constructor(S,k,B,J){this.client=S,this.storage=k,this.storageCache=B,this.logger=J}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-k,J=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${J}.`),J}fetch(S){var k=this;return(0,L.Z)(function*(){const[B,J]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(J&&k.isCachedDataFresh(S.cacheMaxAgeMillis,B))return J;S.eTag=J&&J.eTag;const fe=yield k.client.fetch(S),Ie=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Ie.push(k.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Ie),fe})()}}function Ki(T=navigator){return T.languages&&T.languages[0]||T.language}class An{constructor(S,k,B,J,fe,Ie){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=B,this.projectId=J,this.apiKey=fe,this.appId=Ie}fetch(S){var k=this;return(0,L.Z)(function*(){const[B,J]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},He={sdk_version:k.sdkVersion,app_instance_id:B,app_instance_id_token:J,app_id:k.appId,language_code:Ki()},$t={method:"POST",headers:$e,body:JSON.stringify(He)},Kt=fetch(Ie,$t),rr=new Promise((xs,Ho)=>{S.signal.addEventListener(()=>{const bt=new Error("The operation was aborted.");bt.name="AbortError",Ho(bt)})});let ir;try{yield Promise.race([Kt,rr]),ir=yield Kt}catch(xs){let Ho="fetch-client-network";throw"AbortError"===xs.name&&(Ho="fetch-timeout"),$n.create(Ho,{originalErrorMessage:xs.message})}let sr=ir.status;const ro=ir.headers.get("ETag")||void 0;let $o,is;if(200===ir.status){let xs;try{xs=yield ir.json()}catch(Ho){throw $n.create("fetch-client-parse",{originalErrorMessage:Ho.message})}$o=xs.entries,is=xs.state}if("INSTANCE_STATE_UNSPECIFIED"===is?sr=500:"NO_CHANGE"===is?sr=304:("NO_TEMPLATE"===is||"EMPTY_CONFIG"===is)&&($o={}),304!==sr&&200!==sr)throw $n.create("fetch-status",{httpStatus:sr});return{status:sr,eTag:ro,config:$o}})()}}class fa{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,L.Z)(function*(){const B=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:B}){var J=this;return(0,L.Z)(function*(){yield function(T,S){return new Promise((k,B)=>{const J=Math.max(S-Date.now(),0),fe=setTimeout(k,J);T.addEventListener(()=>{clearTimeout(fe),B($n.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const fe=yield J.client.fetch(S);return yield J.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function(T){if(!(T instanceof oe.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}(fe))throw fe;const Ie={throttleEndTimeMillis:Date.now()+(0,oe.$s)(B),backoffCount:B+1};return yield J.storage.setThrottleMetadata(Ie),J.attemptFetch(S,Ie)}})()}}class Bm{constructor(S,k,B,J,fe){this.app=S,this._client=k,this._storageCache=B,this._storage=J,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pa(T,S){const k=T.target.error||void 0;return $n.create(S,{originalErrorMessage:k&&k.message})}const So="app_namespace_store";class jm{constructor(S,k,B,J=function(){return new Promise((T,S)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=B=>{S(pa(B,"storage-open"))},k.onsuccess=B=>{T(B.target.result)},k.onupgradeneeded=B=>{const J=B.target.result;switch(B.oldVersion){case 0:J.createObjectStore(So,{keyPath:"compositeKey"})}}}catch(k){S($n.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=S,this.appName=k,this.namespace=B,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,L.Z)(function*(){const B=yield k.openDbPromise;return new Promise((J,fe)=>{const $e=B.transaction([So],"readonly").objectStore(So),He=k.createCompositeKey(S);try{const $t=$e.get(He);$t.onerror=Kt=>{fe(pa(Kt,"storage-get"))},$t.onsuccess=Kt=>{const rr=Kt.target.result;J(rr?rr.value:void 0)}}catch($t){fe($n.create("storage-get",{originalErrorMessage:$t&&$t.message}))}})})()}set(S,k){var B=this;return(0,L.Z)(function*(){const J=yield B.openDbPromise;return new Promise((fe,Ie)=>{const He=J.transaction([So],"readwrite").objectStore(So),$t=B.createCompositeKey(S);try{const Kt=He.put({compositeKey:$t,value:k});Kt.onerror=rr=>{Ie(pa(rr,"storage-set"))},Kt.onsuccess=()=>{fe()}}catch(Kt){Ie($n.create("storage-set",{originalErrorMessage:Kt&&Kt.message}))}})})()}delete(S){var k=this;return(0,L.Z)(function*(){const B=yield k.openDbPromise;return new Promise((J,fe)=>{const $e=B.transaction([So],"readwrite").objectStore(So),He=k.createCompositeKey(S);try{const $t=$e.delete(He);$t.onerror=Kt=>{fe(pa(Kt,"storage-delete"))},$t.onsuccess=()=>{J()}}catch($t){fe($n.create("storage-delete",{originalErrorMessage:$t&&$t.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Ch{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,L.Z)(function*(){const k=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),J=S.storage.getActiveConfig(),fe=yield k;fe&&(S.lastFetchStatus=fe);const Ie=yield B;Ie&&(S.lastSuccessfulFetchTimestampMillis=Ie);const $e=yield J;$e&&(S.activeConfig=$e)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Hu(){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,L.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(T){return!1}})).apply(this,arguments)}(0,he._registerComponent)(new le.wA("remote-config",function(S,{instanceIdentifier:k}){const B=S.getProvider("app").getImmediate(),J=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw $n.create("registration-window");if(!(0,oe.hl)())throw $n.create("indexed-db-unavailable");const{projectId:fe,apiKey:Ie,appId:$e}=B.options;if(!fe)throw $n.create("registration-project-id");if(!Ie)throw $n.create("registration-api-key");if(!$e)throw $n.create("registration-app-id");const He=new jm($e,B.name,k=k||"firebase"),$t=new Ch(He),Kt=new se.Yd(Sn);Kt.logLevel=se.in.ERROR;const rr=new An(J,he.SDK_VERSION,k,fe,Ie,$e),ir=new fa(rr,He),sr=new Dp(ir,He,$t,Kt),ro=new Bm(B,sr,$t,He,Kt);return function(T){const S=(0,oe.m9)(T);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(ro),ro},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Sn,"0.3.4"),(0,he.registerVersion)(Sn,"0.3.4","esm2017");const Dh="/firebase-messaging-sw.js",Hm="/firebase-cloud-messaging-push-scope",tc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nc="google.c.a.c_id",ga="google.c.a.c_l",ws="google.c.a.ts",zu="google.c.a.e";var xn=(()=>{return(T=xn||(xn={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",xn;var T})();function Yi(T){const S=new Uint8Array(T);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rc(T){const k=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(k),J=new Uint8Array(B.length);for(let fe=0;fe<B.length;++fe)J[fe]=B.charCodeAt(fe);return J}const ic="fcm_token_details_db",Ap="fcm_token_object_Store";function qu(T){return sc.apply(this,arguments)}function sc(){return(sc=(0,L.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(ic))return null;let S=null;return(yield(0,ae.openDb)(ic,5,function(){var B=(0,L.Z)(function*(J){var fe;if(J.oldVersion<2||!J.objectStoreNames.contains(Ap))return;const Ie=J.transaction.objectStore(Ap),$e=yield Ie.index("fcmSenderId").get(T);if(yield Ie.clear(),$e)if(2===J.oldVersion){const He=$e;if(!He.auth||!He.p256dh||!He.endpoint)return;S={token:He.fcmToken,createTime:null!==(fe=He.createTime)&&void 0!==fe?fe:Date.now(),subscriptionOptions:{auth:He.auth,p256dh:He.p256dh,endpoint:He.endpoint,swScope:He.swScope,vapidKey:"string"==typeof He.vapidKey?He.vapidKey:Yi(He.vapidKey)}}}else if(3===J.oldVersion){const He=$e;S={token:He.fcmToken,createTime:He.createTime,subscriptionOptions:{auth:Yi(He.auth),p256dh:Yi(He.p256dh),endpoint:He.endpoint,swScope:He.swScope,vapidKey:Yi(He.vapidKey)}}}else if(4===J.oldVersion){const He=$e;S={token:He.fcmToken,createTime:He.createTime,subscriptionOptions:{auth:Yi(He.auth),p256dh:Yi(He.p256dh),endpoint:He.endpoint,swScope:He.swScope,vapidKey:Yi(He.vapidKey)}}}});return function(J){return B.apply(this,arguments)}}())).close(),yield(0,ae.deleteDb)(ic),yield(0,ae.deleteDb)("fcm_vapid_details_db"),yield(0,ae.deleteDb)("undefined"),xp(S)?S:null})).apply(this,arguments)}function xp(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:S}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const tr="firebase-messaging-store";let El=null;function Ws(){return El||(El=(0,ae.openDb)("firebase-messaging-database",1,T=>{switch(T.oldVersion){case 0:T.createObjectStore(tr)}})),El}function oc(T){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,L.Z)(function*(T){const S=ac(T),B=yield(yield Ws()).transaction(tr).objectStore(tr).get(S);if(B)return B;{const J=yield qu(T.appConfig.senderId);if(J)return yield ri(T,J),J}})).apply(this,arguments)}function ri(T,S){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,L.Z)(function*(T,S){const k=ac(T),J=(yield Ws()).transaction(tr,"readwrite");return yield J.objectStore(tr).put(S,k),yield J.complete,S})).apply(this,arguments)}function sn(T){return wl.apply(this,arguments)}function wl(){return(wl=(0,L.Z)(function*(T){const S=ac(T),B=(yield Ws()).transaction(tr,"readwrite");yield B.objectStore(tr).delete(S),yield B.complete})).apply(this,arguments)}function ac({appConfig:T}){return T.appId}const Mt=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _a(T,S){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,L.Z)(function*(T,S){const k=yield fr(T),B=ya(S),J={method:"POST",headers:k,body:JSON.stringify(B)};let fe;try{fe=yield(yield fetch(Wn(T.appConfig),J)).json()}catch(Ie){throw Mt.create("token-subscribe-failed",{errorInfo:Ie})}if(fe.error)throw Mt.create("token-subscribe-failed",{errorInfo:fe.error.message});if(!fe.token)throw Mt.create("token-subscribe-no-token");return fe.token})).apply(this,arguments)}function xo(T,S){return $r.apply(this,arguments)}function $r(){return($r=(0,L.Z)(function*(T,S){const k=yield fr(T),B=ya(S.subscriptionOptions),J={method:"PATCH",headers:k,body:JSON.stringify(B)};let fe;try{fe=yield(yield fetch(`${Wn(T.appConfig)}/${S.token}`,J)).json()}catch(Ie){throw Mt.create("token-update-failed",{errorInfo:Ie})}if(fe.error)throw Mt.create("token-update-failed",{errorInfo:fe.error.message});if(!fe.token)throw Mt.create("token-update-no-token");return fe.token})).apply(this,arguments)}function Rh(T,S){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,L.Z)(function*(T,S){const B={method:"DELETE",headers:yield fr(T)};try{const fe=yield(yield fetch(`${Wn(T.appConfig)}/${S}`,B)).json();if(fe.error)throw Mt.create("token-unsubscribe-failed",{errorInfo:fe.error.message})}catch(J){throw Mt.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function Wn({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function fr(T){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,L.Z)(function*({appConfig:T,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function ya({p256dh:T,auth:S,endpoint:k,vapidKey:B}){const J={web:{endpoint:k,auth:S,p256dh:T}};return B!==tc&&(J.web.applicationPubKey=B),J}const cc=6048e5;function Ts(T){return lc.apply(this,arguments)}function lc(){return(lc=(0,L.Z)(function*(T){const S=yield Il(T.swRegistration,T.vapidKey),k={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:S.endpoint,auth:Yi(S.getKey("auth")),p256dh:Yi(S.getKey("p256dh"))},B=yield oc(T.firebaseDependencies);if(B){if(Zu(B.subscriptionOptions,k))return Date.now()>=B.createTime+cc?Oh(T,{token:B.token,createTime:Date.now(),subscriptionOptions:k}):B.token;try{yield Rh(T.firebaseDependencies,B.token)}catch(J){console.warn(J)}return Ks(T.firebaseDependencies,k)}return Ks(T.firebaseDependencies,k)})).apply(this,arguments)}function Tl(T){return at.apply(this,arguments)}function at(){return(at=(0,L.Z)(function*(T){const S=yield oc(T.firebaseDependencies);S&&(yield Rh(T.firebaseDependencies,S.token),yield sn(T.firebaseDependencies));const k=yield T.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Oh(T,S){return Is.apply(this,arguments)}function Is(){return(Is=(0,L.Z)(function*(T,S){try{const k=yield xo(T.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield ri(T.firebaseDependencies,B),k}catch(k){throw yield Tl(T),k}})).apply(this,arguments)}function Ks(T,S){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,L.Z)(function*(T,S){const B={token:yield _a(T,S),createTime:Date.now(),subscriptionOptions:S};return yield ri(T,B),B.token})).apply(this,arguments)}function Il(T,S){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,L.Z)(function*(T,S){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rc(S)})})).apply(this,arguments)}function Zu(T,S){return S.vapidKey===T.vapidKey&&S.endpoint===T.endpoint&&S.auth===T.auth&&S.p256dh===T.p256dh}function Ce(T){const S={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function(T,S){if(!S.notification)return;T.notification={};const k=S.notification.title;k&&(T.notification.title=k);const B=S.notification.body;B&&(T.notification.body=B);const J=S.notification.image;J&&(T.notification.image=J)}(S,T),function(T,S){!S.data||(T.data=S.data)}(S,T),function(T,S){if(!S.fcmOptions)return;T.fcmOptions={};const k=S.fcmOptions.link;k&&(T.fcmOptions.link=k);const B=S.fcmOptions.analytics_label;B&&(T.fcmOptions.analyticsLabel=B)}(S,T),S}function Dl(T){return"object"==typeof T&&!!T&&nc in T}function Ro(T,S){const k=[];for(let B=0;B<T.length;B++)k.push(T.charAt(B)),B<S.length&&k.push(S.charAt(B));return k.join("")}function dc(T){return Mt.create("missing-app-config-values",{valueName:T})}Ro("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ro("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ys{constructor(S,k,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function(T){if(!T||!T.options)throw dc("App Configuration Object");if(!T.name)throw dc("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=T;for(const B of S)if(!k[B])throw dc(B);return{appName:T.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:J,installations:k,analyticsProvider:B}}_delete(){return Promise.resolve()}}function kh(T){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,L.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Dh,{scope:Hm}),T.swRegistration.update().catch(()=>{})}catch(S){throw Mt.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Xi(T,S){return es.apply(this,arguments)}function es(){return(es=(0,L.Z)(function*(T,S){if(!S&&!T.swRegistration&&(yield kh(T)),S||!T.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Mt.create("invalid-sw-registration");T.swRegistration=S}})).apply(this,arguments)}function nr(T,S){return wi.apply(this,arguments)}function wi(){return(wi=(0,L.Z)(function*(T,S){S?T.vapidKey=S:T.vapidKey||(T.vapidKey=tc)})).apply(this,arguments)}function Qs(){return(Qs=(0,L.Z)(function*(T,S){if(!navigator)throw Mt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mt.create("permission-blocked");return yield nr(T,null==S?void 0:S.vapidKey),yield Xi(T,null==S?void 0:S.serviceWorkerRegistration),Ts(T)})).apply(this,arguments)}function Pi(T,S,k){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,L.Z)(function*(T,S,k){const B=Al(S);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:k[nc],message_name:k[ga],message_time:k[ws],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Al(T){switch(T){case xn.NOTIFICATION_CLICKED:return"notification_open";case xn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ba(){return(ba=(0,L.Z)(function*(T,S){const k=S.data;if(!k.isFirebaseMessaging)return;T.onMessageHandler&&k.messageType===xn.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Ce(k)):T.onMessageHandler.next(Ce(k)));const B=k.data;Dl(B)&&"1"===B[zu]&&(yield Pi(T,k.messageType,B))})).apply(this,arguments)}const Ml="@firebase/messaging";function Nh(){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,oe.hl)()&&(yield(0,oe.eu)())&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,he._registerComponent)(new le.wA("messaging",T=>{const S=new Ys(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function(T,S){return ba.apply(this,arguments)}(S,k)),S},"PUBLIC")),(0,he._registerComponent)(new le.wA("messaging-internal",T=>{const S=T.getProvider("messaging").getImmediate();return{getToken:B=>function(T,S){return Qs.apply(this,arguments)}(S,B)}},"PRIVATE")),(0,he.registerVersion)(Ml,"0.9.6"),(0,he.registerVersion)(Ml,"0.9.6","esm2017");const ii="analytics",En="firebase_id",pc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vh="https://www.googletagmanager.com/gtag/js",Hn=new se.Yd("@firebase/analytics");function Uh(T){return Promise.all(T.map(S=>S.catch(k=>k)))}function Pl(T,S){const k=document.createElement("script");k.src=`${Vh}?l=${T}&id=${S}`,k.async=!0,document.head.appendChild(k)}function mc(T,S,k,B,J,fe){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,L.Z)(function*(T,S,k,B,J,fe){const Ie=B[J];try{if(Ie)yield S[Ie];else{const He=(yield Uh(k)).find($t=>$t.measurementId===J);He&&(yield S[He.appId])}}catch($e){Hn.error($e)}T("config",J,fe)})).apply(this,arguments)}function Oo(T,S,k,B,J){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,L.Z)(function*(T,S,k,B,J){try{let fe=[];if(J&&J.send_to){let Ie=J.send_to;Array.isArray(Ie)||(Ie=[Ie]);const $e=yield Uh(k);for(const He of Ie){const $t=$e.find(rr=>rr.measurementId===He),Kt=$t&&S[$t.appId];if(!Kt){fe=[];break}fe.push(Kt)}}0===fe.length&&(fe=Object.values(S)),yield Promise.all(fe),T("event",B,J||{})}catch(fe){Hn.error(fe)}})).apply(this,arguments)}function qm(){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(Vh))return S;return null}const pr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Gm=new class{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Nv(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function _c(T){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,L.Z)(function*(T){var S;const{appId:k,apiKey:B}=T,J={method:"GET",headers:Nv(B)},fe=pc.replace("{app-id}",k),Ie=yield fetch(fe,J);if(200!==Ie.status&&304!==Ie.status){let $e="";try{const He=yield Ie.json();(null===(S=He.error)||void 0===S?void 0:S.message)&&($e=He.error.message)}catch(He){}throw pr.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:$e})}return Ie.json()})).apply(this,arguments)}function Vl(T){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,L.Z)(function*(T,S=Gm,k){const{appId:B,apiKey:J,measurementId:fe}=T.options;if(!B)throw pr.create("no-app-id");if(!J){if(fe)return{measurementId:fe,appId:B};throw pr.create("no-api-key")}const Ie=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new vc;return setTimeout((0,L.Z)(function*(){$e.abort()}),void 0!==k?k:6e4),Ul({appId:B,apiKey:J,measurementId:fe},Ie,$e,S)})).apply(this,arguments)}function Ul(T,S,k){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,L.Z)(function*(T,{throttleEndTimeMillis:S,backoffCount:k},B,J=Gm){const{appId:fe,measurementId:Ie}=T;try{yield yc(B,S)}catch($e){if(Ie)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:fe,measurementId:Ie};throw $e}try{const $e=yield _c(T);return J.deleteThrottleMetadata(fe),$e}catch($e){if(!Np($e)){if(J.deleteThrottleMetadata(fe),Ie)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:fe,measurementId:Ie};throw $e}const He=503===Number($e.customData.httpStatus)?(0,oe.$s)(k,J.intervalMillis,30):(0,oe.$s)(k,J.intervalMillis),$t={throttleEndTimeMillis:Date.now()+He,backoffCount:k+1};return J.setThrottleMetadata(fe,$t),Hn.debug(`Calling attemptFetch again in ${He} millis`),Ul(T,$t,B,J)}})).apply(this,arguments)}function yc(T,S){return new Promise((k,B)=>{const J=Math.max(S-Date.now(),0),fe=setTimeout(k,J);T.addEventListener(()=>{clearTimeout(fe),B(pr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Np(T){if(!(T instanceof oe.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}class vc{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function jl(){return No.apply(this,arguments)}function No(){return(No=(0,L.Z)(function*(){if(!(0,oe.hl)())return Hn.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(T){return Hn.warn(pr.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function wa(){return(wa=(0,L.Z)(function*(T,S,k,B,J,fe,Ie){var $e;const He=Vl(T);He.then(sr=>{k[sr.measurementId]=sr.appId,T.options.measurementId&&sr.measurementId!==T.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${sr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(sr=>Hn.error(sr)),S.push(He);const $t=jl().then(sr=>{if(sr)return B.getId()}),[Kt,rr]=yield Promise.all([He,$t]);qm()||Pl(fe,Kt.measurementId),J("js",new Date);const ir=null!==($e=null==Ie?void 0:Ie.config)&&void 0!==$e?$e:{};return ir.origin="firebase",ir.update=!0,null!=rr&&(ir[En]=rr),J("config",Kt.measurementId,ir),Kt.measurementId})).apply(this,arguments)}class wn{constructor(S){this.app=S}_delete(){return delete Ke[this.app.options.appId],Promise.resolve()}}let Ke={},Vt=[];const Fo={};let bc,en,gr="dataLayer",Wu=!1;function Kn(T,S,k){!function(){const T=[];if((0,oe.ru)()&&T.push("This is a browser extension environment."),(0,oe.zI)()||T.push("Cookies are not available."),T.length>0){const S=T.map((B,J)=>`(${J+1}) ${B}`).join(" "),k=pr.create("invalid-analytics-context",{errorInfo:S});Hn.warn(k.message)}}();const B=T.options.appId;if(!B)throw pr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw pr.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ke[B])throw pr.create("already-exists",{id:B});if(!Wu){!function(T){let S=[];Array.isArray(window[T])?S=window[T]:window[T]=S}(gr);const{wrappedGtag:fe,gtagCore:Ie}=function(T,S,k,B,J){let fe=function(...Ie){window[B].push(arguments)};return window[J]&&"function"==typeof window[J]&&(fe=window[J]),window[J]=function(T,S,k,B){function fe(){return(fe=(0,L.Z)(function*(Ie,$e,He){try{"event"===Ie?yield Oo(T,S,k,$e,He):"config"===Ie?yield mc(T,S,k,B,$e,He):T("set",$e)}catch($t){Hn.error($t)}})).apply(this,arguments)}return function(Ie,$e,He){return fe.apply(this,arguments)}}(fe,T,S,k),{gtagCore:fe,wrappedGtag:window[J]}}(Ke,Vt,Fo,gr,"gtag");en=fe,bc=Ie,Wu=!0}return Ke[B]=function(T,S,k,B,J,fe,Ie){return wa.apply(this,arguments)}(T,Vt,Fo,S,bc,gr,k),new wn(T)}function Ku(){return(Ku=(0,L.Z)(function*(T,S,k,B,J){if(J&&J.global)T("event",k,B);else{const fe=yield S;T("event",k,Object.assign(Object.assign({},B),{send_to:fe}))}})).apply(this,arguments)}function Fi(){return eo.apply(this,arguments)}function eo(){return(eo=(0,L.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(T){return!1}})).apply(this,arguments)}const Vp="@firebase/analytics";(0,he._registerComponent)(new le.wA(ii,(S,{options:k})=>Kn(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,he._registerComponent)(new le.wA("analytics-internal",function(S){try{const k=S.getProvider(ii).getImmediate();return{logEvent:(B,J,fe)=>function(T,S,k,B){T=(0,oe.m9)(T),function(T,S,k,B,J){return Ku.apply(this,arguments)}(en,Ke[T.app.options.appId],S,k,B).catch(J=>Hn.error(J))}(k,B,J,fe)}}catch(k){throw pr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,he.registerVersion)(Vp,"0.7.5"),(0,he.registerVersion)(Vp,"0.7.5","esm2017");var Km=V(7771),on=V(3637),Bo=V(3342),Da=V(9673),Ym=V(309);const jh=new d.GfV("7.2.0"),Ju="__angularfire_symbol__analyticsIsSupported",to="__angularfire_symbol__remoteConfigIsSupported",wc="__angularfire_symbol__messagingIsSupported";function Hl(T,S,k){if(S){if(1===S.length)return S[0];const fe=S.filter(Ie=>Ie.app===k);if(1===fe.length)return fe[0]}return k.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ju]||(globalThis[Ju]=Fi().then(T=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=T)),globalThis[wc]||(globalThis[wc]=Nh().then(T=>globalThis.__angularfire_symbol__messagingIsSupportedValue=T)),globalThis[to]||(globalThis[to]=Hu().then(T=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=T));const Cc=(T,S)=>{const k=S?[S]:(0,re.C6)(),B=[];return k.forEach(J=>{J.container.getProvider(T).instances.forEach(Ie=>{B.includes(Ie)||B.push(Ie)})}),B};function Tc(){}class Hh{constructor(S,k=Km.N){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,B){const J=this.zone;return this.delegate.schedule(function(Ie){J.runGuarded(()=>{S.apply(this,[Ie])})},k,B)}}class Ci{constructor(S){this.zone=S,this.task=null}call(S,k){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tc,{},Tc,Tc)),k.pipe((0,Bo.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ti=(()=>{class T{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Hh(Zone.current)),this.insideAngular=k.run(()=>new Hh(Zone.current,on.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(k){return new(k||T)(d.LFG(d.R0b))},T.\u0275prov=d.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function ns(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function yr(T){return ns(),function(T){return function(k){return(k=k.lift(new Ci(T.ngZone))).pipe((0,Da.R)(T.outsideAngular),(0,Ym.QV)(T.insideAngular))}}(ns())(T)}},3854:(Xe,Ee,V)=>{"use strict";V.d(Ee,{BH:()=>Q,LL:()=>Ye,ZR:()=>Ft,zI:()=>Dt,US:()=>le,tV:()=>X,$s:()=>Jt,r3:()=>vn,Sg:()=>ie,ne:()=>dr,vZ:()=>zt,ZB:()=>U,pd:()=>Ar,m9:()=>vl,z$:()=>ve,jU:()=>_e,ru:()=>Te,d:()=>Ue,xb:()=>Xn,w1:()=>It,hl:()=>In,uI:()=>pe,UG:()=>Y,b$:()=>Pe,G6:()=>vt,Mn:()=>Le,xO:()=>Ja,zd:()=>Ur,eu:()=>wt});const he=function(W){const G=[];let q=0;for(let we=0;we<W.length;we++){let ue=W.charCodeAt(we);ue<128?G[q++]=ue:ue<2048?(G[q++]=ue>>6|192,G[q++]=63&ue|128):55296==(64512&ue)&&we+1<W.length&&56320==(64512&W.charCodeAt(we+1))?(ue=65536+((1023&ue)<<10)+(1023&W.charCodeAt(++we)),G[q++]=ue>>18|240,G[q++]=ue>>12&63|128,G[q++]=ue>>6&63|128,G[q++]=63&ue|128):(G[q++]=ue>>12|224,G[q++]=ue>>6&63|128,G[q++]=63&ue|128)}return G},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let ue=0;ue<W.length;ue+=3){const je=W[ue],Be=ue+1<W.length,Xt=Be?W[ue+1]:0,Zn=ue+2<W.length,bn=Zn?W[ue+2]:0;let pn=(15&Xt)<<2|bn>>6,Gi=63&bn;Zn||(Gi=64,Be||(pn=64)),we.push(q[je>>2],q[(3&je)<<4|Xt>>4],q[pn],q[Gi])}return we.join("")},encodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(he(W),G)},decodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){const G=[];let q=0,we=0;for(;q<W.length;){const ue=W[q++];if(ue<128)G[we++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const je=W[q++];G[we++]=String.fromCharCode((31&ue)<<6|63&je)}else if(ue>239&&ue<365){const Zn=((7&ue)<<18|(63&W[q++])<<12|(63&W[q++])<<6|63&W[q++])-65536;G[we++]=String.fromCharCode(55296+(Zn>>10)),G[we++]=String.fromCharCode(56320+(1023&Zn))}else{const je=W[q++],Be=W[q++];G[we++]=String.fromCharCode((15&ue)<<12|(63&je)<<6|63&Be)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray(W,G){this.init_();const q=G?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let ue=0;ue<W.length;){const je=q[W.charAt(ue++)],Xt=ue<W.length?q[W.charAt(ue)]:0;++ue;const bn=ue<W.length?q[W.charAt(ue)]:64;++ue;const Lt=ue<W.length?q[W.charAt(ue)]:64;if(++ue,null==je||null==Xt||null==bn||null==Lt)throw Error();we.push(je<<2|Xt>>4),64!==bn&&(we.push(Xt<<4&240|bn>>2),64!==Lt&&we.push(bn<<6&192|Lt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ae=function(W){return function(W){const G=he(W);return le.encodeByteArray(G,!0)}(W).replace(/\./g,"")},X=function(W){try{return le.decodeString(W,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function U(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(const q in G)!G.hasOwnProperty(q)||!te(q)||(W[q]=U(W[q],G[q]));return W}function te(W){return"__proto__"!==W}class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,q)=>{this.resolve=G,this.reject=q})}wrapCallback(G){return(q,we)=>{q?this.reject(q):this.resolve(we),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(q):G(q,we))}}}function ie(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=G||"demo-project",ue=W.iat||0,je=W.sub||W.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:ue,exp:ue+3600,auth_time:ue,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(Be)),""].join(".")}function ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function Y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function _e(){return"object"==typeof self&&self.self===self}function Te(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){return ve().indexOf("Electron/")>=0}function It(){const W=ve();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Le(){return ve().indexOf("MSAppHost/")>=0}function vt(){return!Y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function In(){return"object"==typeof indexedDB}function wt(){return new Promise((W,G)=>{try{let q=!0;const we="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(we);ue.onsuccess=()=>{ue.result.close(),q||self.indexedDB.deleteDatabase(we),W(!0)},ue.onupgradeneeded=()=>{q=!1},ue.onerror=()=>{var je;G((null===(je=ue.error)||void 0===je?void 0:je.message)||"")}}catch(q){G(q)}})}function Dt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ft extends Error{constructor(G,q,we){super(q),this.code=G,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(G,q,we){this.service=G,this.serviceName=q,this.errors=we}create(G,...q){const we=q[0]||{},ue=`${this.service}/${G}`,je=this.errors[G],Be=je?function(W,G){return W.replace(Bs,(q,we)=>{const ue=G[we];return null!=ue?String(ue):`<${we}?>`})}(je,we):"Error";return new Ft(ue,`${this.serviceName}: ${Be} (${ue}).`,we)}}const Bs=/\{\$([^}]+)}/g;function vn(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function Xn(W){for(const G in W)if(Object.prototype.hasOwnProperty.call(W,G))return!1;return!0}function zt(W,G){if(W===G)return!0;const q=Object.keys(W),we=Object.keys(G);for(const ue of q){if(!we.includes(ue))return!1;const je=W[ue],Be=G[ue];if(xt(je)&&xt(Be)){if(!zt(je,Be))return!1}else if(je!==Be)return!1}for(const ue of we)if(!q.includes(ue))return!1;return!0}function xt(W){return null!==W&&"object"==typeof W}function Ja(W){const G=[];for(const[q,we]of Object.entries(W))Array.isArray(we)?we.forEach(ue=>{G.push(encodeURIComponent(q)+"="+encodeURIComponent(ue))}):G.push(encodeURIComponent(q)+"="+encodeURIComponent(we));return G.length?"&"+G.join("&"):""}function Ur(W){const G={};return W.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[ue,je]=we.split("=");G[decodeURIComponent(ue)]=decodeURIComponent(je)}}),G}function Ar(W){const G=W.indexOf("?");if(!G)return"";const q=W.indexOf("#",G);return W.substring(G,q>0?q:void 0)}function dr(W,G){const q=new jn(W,G);return q.subscribe.bind(q)}class jn{constructor(G,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{G(this)}).catch(we=>{this.error(we)})}next(G){this.forEachObserver(q=>{q.next(G)})}error(G){this.forEachObserver(q=>{q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,q,we){let ue;if(void 0===G&&void 0===q&&void 0===we)throw new Error("Missing Observer.");ue=function(W,G){if("object"!=typeof W||null===W)return!1;for(const q of["next","error","complete"])if(q in W&&"function"==typeof W[q])return!0;return!1}(G)?G:{next:G,error:q,complete:we},void 0===ue.next&&(ue.next=ti),void 0===ue.error&&(ue.error=ti),void 0===ue.complete&&(ue.complete=ti);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch(Be){}}),this.observers.push(ue),je}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,G)}sendOne(G,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{q(this.observers[G])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}function Jt(W,G=1e3,q=2){const we=G*Math.pow(q,W),ue=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+ue)}function vl(W){return W&&W._delegate?W._delegate:W}},2329:(Xe,Ee,V)=>{"use strict";V.d(Ee,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=V(8026);(0,d.registerVersion)("firebase","9.6.3","app")},7841:(Xe,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>d.Z});var d=V(3394);d.Z.registerVersion("firebase","9.6.3","app-compat")},8402:(Xe,Ee,V)=>{"use strict";V.r(Ee);var d=V(8239),re=V(3394),L=V(3854),he=V(8026);function ae(y,p){var g={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&p.indexOf(E)<0&&(g[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(E=Object.getOwnPropertySymbols(y);D<E.length;D++)p.indexOf(E[D])<0&&Object.prototype.propertyIsEnumerable.call(y,E[D])&&(g[E[D]]=y[E[D]])}return g}var Ft=V(5422),Ye=V(3910);const $s=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},vs=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vn=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xn=new Ft.Yd("@firebase/auth");function Hs(y,...p){Xn.logLevel<=Ft.in.ERROR&&Xn.error(`Auth (${he.SDK_VERSION}): ${y}`,...p)}function zt(y,...p){throw Ar(y,...p)}function xt(y,...p){return Ar(y,...p)}function Ja(y,p,g){const E=Object.assign(Object.assign({},vs()),{[p]:g});return new L.LL("auth","Firebase",E).create(p,{appName:y.name})}function Ur(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&zt(y,"argument-error"),Ja(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ar(y,...p){if("string"!=typeof y){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(g,...E)}return vn.create(y,...p)}function De(y,p,...g){if(!y)throw Ar(p,...g)}function dr(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Hs(p),new Error(p)}function jn(y,p){y||dr(p)}const Ri=new Map;function Ut(y){jn(y instanceof Function,"Expected a class definition");let p=Ri.get(y);return p?(jn(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ri.set(y,p),p)}function rt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Se(){return"http:"===qt()||"https:"===qt()}function qt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class jt{constructor(p,g){this.shortDelay=p,this.longDelay=g,jn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Se()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Qe(y,p){jn(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class We{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Br={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Eo=new jt(3e4,6e4);function Jt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ct(y,p,g,E){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(y,p,g,E,D={}){return vl(y,D,(0,d.Z)(function*(){let R={},H={};E&&("GET"===p?H=E:R={body:JSON.stringify(E)});const ce=(0,L.xO)(Object.assign({key:y.config.apiKey},H)).slice(1),ke=yield y._getAdditionalHeaders();return ke["Content-Type"]="application/json",y.languageCode&&(ke["X-Firebase-Locale"]=y.languageCode),We.fetch()(we(y,y.config.apiHost,g,ce),Object.assign({method:p,headers:ke,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function vl(y,p,g){return W.apply(this,arguments)}function W(){return(W=(0,d.Z)(function*(y,p,g){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Br),p);try{const D=new ue(y),R=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const H=yield R.json();if("needConfirmation"in H)throw je(y,"account-exists-with-different-credential",H);if(R.ok&&!("errorMessage"in H))return H;{const ce=R.ok?H.errorMessage:H.error.message,[ke,Ae]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw je(y,"credential-already-in-use",H);if("EMAIL_EXISTS"===ke)throw je(y,"email-already-in-use",H);const Ze=E[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(Ae)throw Ja(y,Ze,Ae);zt(y,Ze)}}catch(D){if(D instanceof L.ZR)throw D;zt(y,"network-request-failed")}})).apply(this,arguments)}function G(y,p,g,E){return q.apply(this,arguments)}function q(){return(q=(0,d.Z)(function*(y,p,g,E,D={}){const R=yield Ct(y,p,g,E,D);return"mfaPendingCredential"in R&&zt(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function we(y,p,g,E){const D=`${p}${g}?${E}`;return y.config.emulator?Qe(y.config,D):`${y.config.apiScheme}://${D}`}class ue{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(xt(this.auth,"timeout")),Eo.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function je(y,p,g){const E={appName:y.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const D=xt(y,p,E);return D.customData._tokenResponse=g,D}function Xt(){return(Xt=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Zn(y,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function jr(y,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function pn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function wo(){return(wo=(0,d.Z)(function*(y,p=!1){const g=(0,L.m9)(y),E=yield g.getIdToken(p),D=Co(E);De(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const R="object"==typeof D.firebase?D.firebase:void 0,H=null==R?void 0:R.sign_in_provider;return{claims:D,token:E,authTime:pn(Uu(D.auth_time)),issuedAtTime:pn(Uu(D.iat)),expirationTime:pn(Uu(D.exp)),signInProvider:H||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Uu(y){return 1e3*Number(y)}function Co(y){const[p,g,E]=y.split(".");if(void 0===p||void 0===g||void 0===E)return Hs("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(g);return D?JSON.parse(D):(Hs("Failed to decode base64 JWT payload"),null)}catch(D){return Hs("Caught error parsing JWT payload as JSON",D),null}}function yi(y,p){return ca.apply(this,arguments)}function ca(){return(ca=(0,d.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof L.ZR&&To(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function To({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class la{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class _h{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=pn(this.lastLoginAt),this.creationTime=pn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zs(y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(y){var p;const g=y.auth,E=yield y.getIdToken(),D=yield yi(y,jr(g,{idToken:E}));De(null==D?void 0:D.users.length,g,"internal-error");const R=D.users[0];y._notifyReloadListener(R);const H=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?yh(R.providerUserInfo):[],ce=hr(y.providerData,H),Ze=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==ce?void 0:ce.length)),Ge={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ce,metadata:new _h(R.createdAt,R.lastLoginAt),isAnonymous:Ze};Object.assign(y,Ge)})).apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(y){const p=(0,L.m9)(y);yield zs(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function hr(y,p){return[...y.filter(E=>!p.some(D=>D.providerId===E.providerId)),...p]}function yh(y){return y.map(p=>{var{providerId:g}=p,E=ae(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Fe(){return(Fe=(0,d.Z)(function*(y,p){const g=yield vl(y,{},(0,d.Z)(function*(){const E=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:R}=y.config,H=we(y,D,"/v1/token",`key=${R}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",We.fetch()(H,{method:"POST",headers:ce,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){De(p.idToken,"internal-error"),De(void 0!==p.idToken,"internal-error"),De(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=Co(y);return De(p,"internal-error"),De(void 0!==p.exp,"internal-error"),De(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,d.Z)(function*(){return De(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,d.Z)(function*(){const{accessToken:D,refreshToken:R,expiresIn:H}=yield function(y,p){return Fe.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(D,R,Number(H))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:D,expirationTime:R}=g,H=new ft;return E&&(De("string"==typeof E,"internal-error",{appName:p}),H.refreshToken=E),D&&(De("string"==typeof D,"internal-error",{appName:p}),H.accessToken=D),R&&(De("number"==typeof R,"internal-error",{appName:p}),H.expirationTime=R),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ft,this.toJSON())}_performRefresh(){return dr("not implemented")}}function Zt(y,p){De("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Sn{constructor(p){var{uid:g,auth:E,stsTokenManager:D}=p,R=ae(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new la(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new _h(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const E=yield yi(g,g.stsTokenManager.getToken(g.auth,p));return De(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function(y){return wo.apply(this,arguments)}(this,p)}reload(){return function(y){return bs.apply(this,arguments)}(this)}_assign(p){this!==p&&(De(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Sn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,d.Z)(function*(){let D=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),D=!0),g&&(yield zs(E)),yield E.auth._persistUserIfCurrent(E),D&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield yi(p,function(y,p){return Xt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,D,R,H,ce,ke,Ae,Ze;const Ge=null!==(E=g.displayName)&&void 0!==E?E:void 0,Rt=null!==(D=g.email)&&void 0!==D?D:void 0,Yn=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Wo=null!==(H=g.photoURL)&&void 0!==H?H:void 0,cg=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,ka=null!==(ke=g._redirectEventId)&&void 0!==ke?ke:void 0,hf=null!==(Ae=g.createdAt)&&void 0!==Ae?Ae:void 0,hd=null!==(Ze=g.lastLoginAt)&&void 0!==Ze?Ze:void 0,{uid:lg,emailVerified:ff,isAnonymous:D_,providerData:fd,stsTokenManager:ug}=g;De(lg&&ug,p,"internal-error");const Kv=ft.fromJSON(this.name,ug);De("string"==typeof lg,p,"internal-error"),Zt(Ge,p.name),Zt(Rt,p.name),De("boolean"==typeof ff,p,"internal-error"),De("boolean"==typeof D_,p,"internal-error"),Zt(Yn,p.name),Zt(Wo,p.name),Zt(cg,p.name),Zt(ka,p.name),Zt(hf,p.name),Zt(hd,p.name);const Pa=new Sn({uid:lg,auth:p,email:Rt,emailVerified:ff,displayName:Ge,isAnonymous:D_,photoURL:Wo,phoneNumber:Yn,tenantId:cg,stsTokenManager:Kv,createdAt:hf,lastLoginAt:hd});return fd&&Array.isArray(fd)&&(Pa.providerData=fd.map(Yv=>Object.assign({},Yv))),ka&&(Pa._redirectEventId=ka),Pa}static _fromIdTokenResponse(p,g,E=!1){return(0,d.Z)(function*(){const D=new ft;D.updateFromServerResponse(g);const R=new Sn({uid:g.localId,auth:p,stsTokenManager:D,isAnonymous:E});return yield zs(R),R})()}}const dn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,E){var D=this;return(0,d.Z)(function*(){D.storage[g]=E})()}_get(g){var E=this;return(0,d.Z)(function*(){const D=E.storage[g];return void 0===D?null:D})()}_remove(g){var E=this;return(0,d.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return y.type="NONE",y})();function er(y,p,g){return`firebase:${y}:${p}:${g}`}class nn{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:D,name:R}=this.auth;this.fullUserKey=er(this.userKey,D.apiKey,R),this.fullPersistenceKey=er("persistence",D.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Sn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,d.Z)(function*(){if(!g.length)return new nn(Ut(dn),p,E);const D=(yield Promise.all(g.map(function(){var Ae=(0,d.Z)(function*(Ze){if(yield Ze._isAvailable())return Ze});return function(Ze){return Ae.apply(this,arguments)}}()))).filter(Ae=>Ae);let R=D[0]||Ut(dn);const H=er(E,p.config.apiKey,p.name);let ce=null;for(const Ae of g)try{const Ze=yield Ae._get(H);if(Ze){const Ge=Sn._fromJSON(p,Ze);Ae!==R&&(ce=Ge),R=Ae;break}}catch(Ze){}const ke=D.filter(Ae=>Ae._shouldAllowMigration);return R._shouldAllowMigration&&ke.length?(R=ke[0],ce&&(yield R._set(H,ce.toJSON())),yield Promise.all(g.map(function(){var Ae=(0,d.Z)(function*(Ze){if(Ze!==R)try{yield Ze._remove(H)}catch(Ge){}});return function(Ze){return Ae.apply(this,arguments)}}())),new nn(R,p,E)):new nn(R,p,E)})()}}function $n(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Zs(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ua(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Oi(p))return"Blackberry";if(Mr(p))return"Webos";if(gt(p))return"Safari";if((p.includes("chrome/")||Xa(p))&&!p.includes("edge/"))return"Chrome";if(Do(p))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ua(y=(0,L.z$)()){return/firefox\//i.test(y)}function gt(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Xa(y=(0,L.z$)()){return/crios\//i.test(y)}function Zs(y=(0,L.z$)()){return/iemobile/i.test(y)}function Do(y=(0,L.z$)()){return/android/i.test(y)}function Oi(y=(0,L.z$)()){return/blackberry/i.test(y)}function Mr(y=(0,L.z$)()){return/webos/i.test(y)}function Wi(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)}function da(y=(0,L.z$)()){return Wi(y)||Do(y)||Mr(y)||Oi(y)||/windows phone/i.test(y)||Zs(y)}function bl(y,p=[]){let g;switch(y){case"Browser":g=$n((0,L.z$)());break;case"Worker":g=`${$n((0,L.z$)())}-${y}`;break;default:g=y}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${he.SDK_VERSION}/${E}`}class bh{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Es(this),this.idTokenSubscription=new Es(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=Ut(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var D,R;if(!E._deleted&&(E.persistenceManager=yield nn.create(E,p),!E._deleted)){if(null===(D=E._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(H){}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var E;let D=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,H=null==D?void 0:D._redirectEventId,ce=yield g.tryRedirectSignIn(p);(!R||R===H)&&(null==ce?void 0:ce.user)&&(D=ce.user)}return D?D._redirectEventId?(De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===D._redirectEventId?g.directlySetCurrentUser(D):g.reloadAndSetCurrentUserOrClear(D)):g.reloadAndSetCurrentUserOrClear(D):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(D){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield zs(p)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const E=p?(0,L.m9)(p):null;return E&&De(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return p&&De(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(Ut(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,d.Z)(function*(){const D=yield E.getOrInitRedirectPersistenceManager(g);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&Ut(p)||g._popupRedirectResolver;De(E,g,"argument-error"),g.redirectPersistenceManager=yield nn.create(g,[Ut(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var E,D;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,D){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),H=this._isInitialized?Promise.resolve():this._initializationPromise;return De(H,this,"internal-error"),H.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,E,D):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=bl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){const g={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(g["X-Firebase-gmpid"]=p.app.options.appId),g})()}}function Nn(y){return(0,L.m9)(y)}class Es{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gn(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Ki(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Gs{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return dr("not implemented")}_getIdTokenResponse(p){return dr("not implemented")}_linkToIdToken(p,g){return dr("not implemented")}_getReauthenticationResolver(p){return dr("not implemented")}}function ec(y,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:resetPassword",Jt(y,p))})).apply(this,arguments)}function bi(y,p){return ju.apply(this,arguments)}function ju(){return(ju=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Bm(y,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:update",Jt(y,p))})).apply(this,arguments)}function Eh(){return(Eh=(0,d.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithPassword",Jt(y,p))})).apply(this,arguments)}function $u(y,p){return wh.apply(this,arguments)}function wh(){return(wh=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:sendOobCode",Jt(y,p))})).apply(this,arguments)}function jm(y,p){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,d.Z)(function*(y,p){return $u(y,p)})).apply(this,arguments)}function $m(y,p){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,d.Z)(function*(y,p){return $u(y,p)})).apply(this,arguments)}function Th(y,p){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,d.Z)(function*(y,p){return $u(y,p)})).apply(this,arguments)}function Ih(y,p){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,d.Z)(function*(y,p){return $u(y,p)})).apply(this,arguments)}function tc(){return(tc=(0,d.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithEmailLink",Jt(y,p))})).apply(this,arguments)}function nc(){return(nc=(0,d.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithEmailLink",Jt(y,p))})).apply(this,arguments)}class ga extends Gs{constructor(p,g,E,D=null){super("password",E),this._email=p,this._password=g,this._tenantId=D}static _fromEmailAndPassword(p,g){return new ga(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new ga(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function(y,p){return Eh.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,p){return tc.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:zt(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return bi(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(y,p){return nc.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:zt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ws(y,p){return zu.apply(this,arguments)}function zu(){return(zu=(0,d.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithIdp",Jt(y,p))})).apply(this,arguments)}class xn extends Gs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new xn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):zt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:D}=g,R=ae(g,["providerId","signInMethod"]);if(!E||!D)return null;const H=new xn(E,D);return H.idToken=R.idToken||void 0,H.accessToken=R.accessToken||void 0,H.secret=R.secret,H.nonce=R.nonce,H.pendingToken=R.pendingToken||null,H}_getIdTokenResponse(p){return ws(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,ws(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ws(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function Yi(y,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:sendVerificationCode",Jt(y,p))})).apply(this,arguments)}function Ah(){return(Ah=(0,d.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithPhoneNumber",Jt(y,p))})).apply(this,arguments)}function qu(){return(qu=(0,d.Z)(function*(y,p){const g=yield G(y,"POST","/v1/accounts:signInWithPhoneNumber",Jt(y,p));if(g.temporaryProof)throw je(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const sc={USER_NOT_FOUND:"user-not-found"};function ma(){return(ma=(0,d.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithPhoneNumber",Jt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),sc)})).apply(this,arguments)}class Ao extends Gs{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Ao({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Ao({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(y,p){return Ah.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(y,p){return qu.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return ma.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:D}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:R}=p;return E||g||D||R?new Ao({verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:R}):null}}class Ws{constructor(p){var g,E,D,R,H,ce;const ke=(0,L.zd)((0,L.pd)(p)),Ae=null!==(g=ke.apiKey)&&void 0!==g?g:null,Ze=null!==(E=ke.oobCode)&&void 0!==E?E:null,Ge=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=ke.mode)&&void 0!==D?D:null);De(Ae&&Ze&&Ge,"argument-error"),this.apiKey=Ae,this.operation=Ge,this.code=Ze,this.continueUrl=null!==(R=ke.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(H=ke.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(ce=ke.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const g=function(y){const p=(0,L.zd)((0,L.pd)(y)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,E=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(E?(0,L.zd)((0,L.pd)(E)).link:null)||E||g||p||y}(p);try{return new Ws(g)}catch(E){return null}}}let Cs=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,E){return ga._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const D=Ws.parseLink(E);return De(D,"argument-error"),ga._fromEmailAndCode(g,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ri{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Qi extends ri{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class sn extends Qi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return De("providerId"in g&&"signInMethod"in g,"argument-error"),xn._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return De(p.idToken||p.accessToken,"argument-error"),xn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return sn.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return sn.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:D,pendingToken:R,nonce:H,providerId:ce}=p;if(!E&&!D&&!g&&!R||!ce)return null;try{return new sn(ce)._credential({idToken:g,accessToken:E,nonce:H,pendingToken:R})}catch(ke){return null}}}let wl=(()=>{class y extends Qi{constructor(){super("facebook.com")}static credential(g){return xn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ac=(()=>{class y extends Qi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return xn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:D}=g;if(!E&&!D)return null;try{return y.credential(E,D)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),xh=(()=>{class y extends Qi{constructor(){super("github.com")}static credential(g){return xn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class _a extends Gs{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return ws(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,ws(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ws(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:D,pendingToken:R}=g;return E&&D&&R&&E===D?new _a(E,R):null}static _create(p,g){return new _a(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xo extends ri{constructor(p){De(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return xo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return xo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=_a.fromJSON(p);return De(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return _a._create(E,g)}catch(D){return null}}}let $r=(()=>{class y extends Qi{constructor(){super("twitter.com")}static credential(g,E){return xn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:D}=g;if(!E||!D)return null;try{return y.credential(E,D)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Rh(y,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,d.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signUp",Jt(y,p))})).apply(this,arguments)}class Wn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,D=!1){return(0,d.Z)(function*(){const R=yield Sn._fromIdTokenResponse(p,E,D),H=fr(E);return new Wn({user:R,providerId:H,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const D=fr(E);return new Wn({user:p,providerId:D,_tokenResponse:E,operationType:g})})()}}function fr(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function ya(){return(ya=(0,d.Z)(function*(y){var p;const g=Nn(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Wn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield Rh(g,{returnSecureToken:!0}),D=yield Wn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class cc extends L.ZR{constructor(p,g,E,D){var R;super(g.code,g.message),this.operationType=E,this.user=D,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,D){return new cc(p,g,E,D)}}function Ts(y,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?cc._fromErrorAndOperation(y,R,p,E):R})}function lc(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function at(){return(at=(0,d.Z)(function*(y,p){const g=(0,L.m9)(y);yield Ks(!0,g,p);const{providerUserInfo:E}=yield Zn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),D=lc(E||[]);return g.providerData=g.providerData.filter(R=>D.has(R.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Oh(y,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(y,p,g=!1){const E=yield yi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Wn._forOperation(y,"link",E)})).apply(this,arguments)}function Ks(y,p,g){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,d.Z)(function*(y,p,g){yield zs(p);const D=!1===y?"provider-already-linked":"no-such-provider";De(lc(p.providerData).has(g)===y,p.auth,D)})).apply(this,arguments)}function Il(y,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(y,p,g=!1){const{auth:E}=y,D="reauthenticate";try{const R=yield yi(y,Ts(E,D,p,y),g);De(R.idToken,E,"internal-error");const H=Co(R.idToken);De(H,E,"internal-error");const{sub:ce}=H;return De(y.uid===ce,E,"user-mismatch"),Wn._forOperation(y,D,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&zt(E,"user-mismatch"),R}})).apply(this,arguments)}function Zu(y,p){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(y,p,g=!1){const E="signIn",D=yield Ts(y,E,p),R=yield Wn._fromIdTokenResponse(y,E,D);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function St(y,p){return uc.apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(y,p){return Zu(Nn(y),p)})).apply(this,arguments)}function Mn(y,p){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,d.Z)(function*(y,p){const g=(0,L.m9)(y);return yield Ks(!1,g,p.providerId),Oh(g,p)})).apply(this,arguments)}function Ro(y,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,d.Z)(function*(y,p){return Il((0,L.m9)(y),p)})).apply(this,arguments)}function dc(y,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(y,p){return G(y,"POST","/v1/accounts:signInWithCustomToken",Jt(y,p))})).apply(this,arguments)}function Sl(){return(Sl=(0,d.Z)(function*(y,p){const g=Nn(y),E=yield dc(g,{token:p,returnSecureToken:!0}),D=yield Wn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class Xi{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?es._fromServerResponse(p,g):zt(p,"internal-error")}}class es extends Xi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new es(g)}}function nr(y,p,g){var E;De((null===(E=g.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),De(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function va(){return(va=(0,d.Z)(function*(y,p,g){const E=(0,L.m9)(y),D={requestType:"PASSWORD_RESET",email:p};g&&nr(E,D,g),yield $m(E,D)})).apply(this,arguments)}function Pi(){return(Pi=(0,d.Z)(function*(y,p,g){yield ec((0,L.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Al(){return(Al=(0,d.Z)(function*(y,p){yield Bm((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function xl(y,p){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(y,p){const g=(0,L.m9)(y),E=yield ec(g,{oobCode:p}),D=E.requestType;switch(De(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(E.mfaInfo,g,"internal-error");default:De(E.email,g,"internal-error")}let R=null;return E.mfaInfo&&(R=Xi._fromServerResponse(Nn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:D}})).apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(y,p){const{data:g}=yield xl((0,L.m9)(y),p);return g.email})).apply(this,arguments)}function Rl(){return(Rl=(0,d.Z)(function*(y,p,g){const E=Nn(y),D=yield Rh(E,{returnSecureToken:!0,email:p,password:g}),R=yield Wn._fromIdTokenResponse(E,"signIn",D);return yield E._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(y,p,g){const E=(0,L.m9)(y),D={requestType:"EMAIL_SIGNIN",email:p};De(g.handleCodeInApp,E,"argument-error"),g&&nr(E,D,g),yield Th(E,D)})).apply(this,arguments)}function hc(){return(hc=(0,d.Z)(function*(y,p,g){const E=(0,L.m9)(y),D=Cs.credentialWithLink(p,g||rt());return De(D._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),St(E,D)})).apply(this,arguments)}function zm(y,p){return kl.apply(this,arguments)}function kl(){return(kl=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:createAuthUri",Jt(y,p))})).apply(this,arguments)}function Rp(){return(Rp=(0,d.Z)(function*(y,p){const E={identifier:p,continueUri:Se()?rt():"http://localhost"},{signinMethods:D}=yield zm((0,L.m9)(y),E);return D||[]})).apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(y,p){const g=(0,L.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&nr(g.auth,D,p);const{email:R}=yield jm(g.auth,D);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function fc(){return(fc=(0,d.Z)(function*(y,p,g){const E=(0,L.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&nr(E.auth,R,g);const{email:H}=yield Ih(E.auth,R);H!==y.email&&(yield y.reload())})).apply(this,arguments)}function Op(y,p){return pc.apply(this,arguments)}function pc(){return(pc=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,L.m9)(y),R={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},H=yield yi(E,Op(E.auth,R));E.displayName=H.displayName||null,E.photoURL=H.photoUrl||null;const ce=E.providerData.find(({providerId:ke})=>"password"===ke);ce&&(ce.displayName=E.displayName,ce.photoURL=E.photoURL),yield E._updateTokensIfNecessary(H)})).apply(this,arguments)}function gc(y,p,g){return mc.apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(y,p,g){const{auth:E}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const H=yield yi(y,bi(E,R));yield y._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Oo{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class Fl extends Oo{constructor(p,g,E,D){super(p,g,E),this.username=D}}class Js extends Oo{constructor(p,g){super(p,"facebook.com",g)}}class ko extends Fl{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class qm extends Oo{constructor(p,g){super(p,"google.com",g)}}class kp extends Fl{constructor(p,g,E){super(p,"twitter.com",g,E)}}function pr(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,g;if(!y)return null;const{providerId:E}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const H=null===(g=null===(p=Co(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(H)return new Oo(R,"anonymous"!==H&&"custom"!==H?H:null)}if(!E)return null;switch(E){case"facebook.com":return new Js(R,D);case"github.com":return new ko(R,D);case"google.com":return new qm(R,D);case"twitter.com":return new kp(R,D,y.screenName||null);case"custom":case"anonymous":return new Oo(R,null);default:return new Oo(R,E,D)}}(g)}class Ni{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Ni("enroll",p)}static _fromMfaPendingCredential(p){return new Ni("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ni._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return Ni._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ul{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=Nn(p),D=g.customData._serverResponse,R=(D.mfaInfo||[]).map(ce=>Xi._fromServerResponse(E,ce));De(D.mfaPendingCredential,E,"internal-error");const H=Ni._fromMfaPendingCredential(D.mfaPendingCredential);return new Ul(H,R,function(){var ce=(0,d.Z)(function*(ke){const Ae=yield ke._process(E,H);delete D.mfaInfo,delete D.mfaPendingCredential;const Ze=Object.assign(Object.assign({},D),{idToken:Ae.idToken,refreshToken:Ae.refreshToken});switch(g.operationType){case"signIn":const Ge=yield Wn._fromIdTokenResponse(E,g.operationType,Ze);return yield E._updateCurrentUser(Ge.user),Ge;case"reauthenticate":return De(g.user,E,"internal-error"),Wn._forOperation(g.user,g.operationType,Ze);default:zt(E,"internal-error")}});return function(ke){return ce.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function yc(y,p){return Ct(y,"POST","/v2/accounts/mfaEnrollment:start",Jt(y,p))}class jl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>Xi._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new jl(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Ni._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var E=this;return(0,d.Z)(function*(){const D=p,R=yield E.getSession(),H=yield yi(E.user,D._process(E.user.auth,R,g));return yield E.user._updateTokensIfNecessary(H),E.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const E="string"==typeof p?p:p.uid,D=yield g.user.getIdToken(),R=yield yi(g.user,function(y,p){return Ct(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(y,p))}(g.user.auth,{idToken:D,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:H})=>H!==E),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(H){if("auth/user-token-expired"!==H.code)throw H}})()}}const No=new WeakMap,wa="__sak";class wn{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ts=(()=>{class y extends wn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,L.z$)();return gt(y)||Wi(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=da(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const D=this.storage.getItem(E),R=this.localCache[E];D!==R&&g(E,R,D)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((ce,ke,Ae)=>{this.notifyListeners(ce,Ae)});const D=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(D);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!E)return}const R=()=>{const ce=this.storage.getItem(D);!E&&this.localCache[D]===ce||this.notifyListeners(D,ce)},H=this.storage.getItem(D);(0,L.w1)()&&10===document.documentMode&&H!==g.newValue&&g.newValue!==g.oldValue?setTimeout(R,10):R()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const R of Array.from(D))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var D=()=>super._set,R=this;return(0,d.Z)(function*(){yield D().call(R,g,E),R.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,D=this;return(0,d.Z)(function*(){const R=yield E().call(D,g);return D.localCache[g]=JSON.stringify(R),R})()}_remove(g){var E=()=>super._remove,D=this;return(0,d.Z)(function*(){yield E().call(D,g),delete D.localCache[g]})()}}return y.type="LOCAL",y})(),en=(()=>{class y extends wn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return y.type="SESSION",y})();let Fp=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(R=>R.isListeningto(g));if(E)return E;const D=new y(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,d.Z)(function*(){const D=g,{eventId:R,eventType:H,data:ce}=D.data,ke=E.handlersMap[H];if(!(null==ke?void 0:ke.size))return;D.ports[0].postMessage({status:"ack",eventId:R,eventType:H});const Ae=Array.from(ke).map(function(){var Ge=(0,d.Z)(function*(Rt){return Rt(D.origin,ce)});return function(Rt){return Ge.apply(this,arguments)}}()),Ze=yield function(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(Ae);D.ports[0].postMessage({status:"done",eventId:R,eventType:H,response:Ze})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ca(y="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return y+g}class Kn{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var D=this;return(0,d.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let H,ce;return new Promise((ke,Ae)=>{const Ze=Ca("",20);R.port1.start();const Ge=setTimeout(()=>{Ae(new Error("unsupported_event"))},E);ce={messageChannel:R,onMessage(Rt){const Yn=Rt;if(Yn.data.eventId===Ze)switch(Yn.data.status){case"ack":clearTimeout(Ge),H=setTimeout(()=>{Ae(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),ke(Yn.data.response);break;default:clearTimeout(Ge),clearTimeout(H),Ae(new Error("invalid_response"))}}},D.handlers.add(ce),R.port1.addEventListener("message",ce.onMessage),D.target.postMessage({eventType:p,eventId:Ze,data:g},[R.port2])}).finally(()=>{ce&&D.removeMessageHandler(ce)})})()}}function Fn(){return window}function $l(){return void 0!==Fn().WorkerGlobalScope&&"function"==typeof Fn().importScripts}function Lo(){return(Lo=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Xs="firebaseLocalStorageDb",Vo="firebaseLocalStorage",Ec="fbase_key";class zr{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Fi(y,p){return y.transaction([Vo],p?"readwrite":"readonly").objectStore(Vo)}function ut(){const y=indexedDB.open(Xs,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Vo,{keyPath:Ec})}catch(D){g(D)}}),y.addEventListener("success",(0,d.Z)(function*(){const E=y.result;E.objectStoreNames.contains(Vo)?p(E):(E.close(),yield function(){const y=indexedDB.deleteDatabase(Xs);return new zr(y).toPromise()}(),p(yield ut()))}))})}function mr(y,p,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(y,p,g){const E=Fi(y,!0).put({[Ec]:p,value:g});return new zr(E).toPromise()})).apply(this,arguments)}function Bh(){return(Bh=(0,d.Z)(function*(y,p){const g=Fi(y,!1).get(p),E=yield new zr(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Vp(y,p){const g=Fi(y,!0).delete(p);return new zr(g).toPromise()}const on=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield ut()),g.db})()}_withRetries(g){var E=this;return(0,d.Z)(function*(){let D=0;for(;;)try{const R=yield E._openDb();return yield g(R)}catch(R){if(D++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return $l()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=Fp._getInstance($l()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(D,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(D,R){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(D,R){return["keyChanged"]});return function(D,R){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var E,D;if(g.activeServiceWorker=yield function(){return Lo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Kn(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(E=R[0])||void 0===E?void 0:E.fulfilled)&&(null===(D=R[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ut();return yield mr(g,wa,"1"),yield Vp(g,wa),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var D=this;return(0,d.Z)(function*(){return D._withPendingWrite((0,d.Z)(function*(){return yield D._withRetries(R=>mr(R,g,E)),D.localCache[g]=E,D.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,d.Z)(function*(){const D=yield E._withRetries(R=>function(y,p){return Bh.apply(this,arguments)}(R,g));return E.localCache[g]=D,D})()}_remove(g){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(D=>Vp(D,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const E=yield g._withRetries(H=>{const ce=Fi(H,!1).getAll();return new zr(ce).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const D=[],R=new Set;for(const{fbase_key:H,value:ce}of E)R.add(H),JSON.stringify(g.localCache[H])!==JSON.stringify(ce)&&(g.notifyListeners(H,ce),D.push(H));for(const H of Object.keys(g.localCache))g.localCache[H]&&!R.has(H)&&(g.notifyListeners(H,null),D.push(H));return D})()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const R of Array.from(D))R(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Bo(y,p){return Ct(y,"POST","/v2/accounts/mfaSignIn:start",Jt(y,p))}function jh(){return(jh=(0,d.Z)(function*(y){return(yield Ct(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ju(y){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=p,E.onerror=D=>{const R=xt("internal-error");R.customData=D,g(R)},E.type="text/javascript",E.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(E)})}function $h(y){return`__${y}${Math.floor(1e6*Math.random())}`}const wc=1e12;class _r{constructor(p){this.auth=p,this.counter=wc,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new no(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||wc;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||wc))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var E;return null===(E=g._widgets.get(p||wc))||void 0===E||E.execute(),""})()}}class no{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;De(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vn=$h("rcb"),Hl=new jt(3e4,6e4);class Tc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Fn().grecaptcha}load(p,g=""){return De((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Fn().grecaptcha):new Promise((E,D)=>{const R=Fn().setTimeout(()=>{D(xt(p,"network-request-failed"))},Hl.get());Fn()[Vn]=()=>{Fn().clearTimeout(R),delete Fn()[Vn];const ce=Fn().grecaptcha;if(!ce)return void D(xt(p,"internal-error"));const ke=ce.render;ce.render=(Ae,Ze)=>{const Ge=ke(Ae,Ze);return this.counter++,Ge},this.hostLanguage=g,E(ce)},Ju(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Vn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),D(xt(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Fn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ci{load(p){return(0,d.Z)(function*(){return new _r(p)})()}clearedOneInstance(){}}const Ti="recaptcha",ns={theme:"light",type:"image"};class jo{constructor(p,g=Object.assign({},ns),E){this.parameters=g,this.type=Ti,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nn(E),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;De(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ci:new Tc,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(R=>{const H=ce=>{!ce||(p.tokenChangeListeners.delete(H),R(ce))};p.tokenChangeListeners.add(H),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=Fn()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){De(Se()&&!$l(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(y){return jh.apply(this,arguments)}(p.auth);De(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xu{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Ao._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function yr(){return(yr=(0,d.Z)(function*(y,p,g){const E=Nn(y),D=yield S(E,p,(0,L.m9)(g));return new Xu(D,R=>St(E,R))})).apply(this,arguments)}function rs(){return(rs=(0,d.Z)(function*(y,p,g){const E=(0,L.m9)(y);yield Ks(!1,E,"phone");const D=yield S(E.auth,p,(0,L.m9)(g));return new Xu(D,R=>Mn(E,R))})).apply(this,arguments)}function T(){return(T=(0,d.Z)(function*(y,p,g){const E=(0,L.m9)(y),D=yield S(E.auth,p,(0,L.m9)(g));return new Xu(D,R=>Ro(E,R))})).apply(this,arguments)}function S(y,p,g){return k.apply(this,arguments)}function k(){return(k=(0,d.Z)(function*(y,p,g){var E;const D=yield g.verify();try{let R;if(De("string"==typeof D,y,"argument-error"),De(g.type===Ti,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const H=R.session;if("phoneNumber"in R)return De("enroll"===H.type,y,"internal-error"),(yield yc(y,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{De("signin"===H.type,y,"internal-error");const ce=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return De(ce,y,"missing-multi-factor-info"),(yield Bo(y,{mfaPendingCredential:H.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield Yi(y,{phoneNumber:R.phoneNumber,recaptchaToken:D});return H}}finally{g._reset()}})).apply(this,arguments)}function J(){return(J=(0,d.Z)(function*(y,p){yield Oh((0,L.m9)(y),p)})).apply(this,arguments)}let fe=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Nn(g)}verifyPhoneNumber(g,E){return S(this.auth,g,(0,L.m9)(E))}static credential(g,E){return Ao._fromVerification(g,E)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:D}=g;return E&&D?Ao._fromTokenResponse(E,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ie(y,p){return p?Ut(p):(De(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class $e extends Gs{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ws(p,this._buildIdpRequest())}_linkToIdToken(p,g){return ws(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return ws(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function He(y){return Zu(y.auth,new $e(y),y.bypassAuthState)}function $t(y){const{auth:p,user:g}=y;return De(g,p,"internal-error"),Il(g,new $e(y),y.bypassAuthState)}function Kt(y){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(y){const{auth:p,user:g}=y;return De(g,p,"internal-error"),Oh(g,new $e(y),y.bypassAuthState)})).apply(this,arguments)}class ir{constructor(p,g,E,D,R=!1){this.auth=p,this.resolver=E,this.user=D,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(E,D){p.pendingPromise={resolve:E,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(E,D){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:D,postBody:R,tenantId:H,error:ce,type:ke}=p;if(ce)return void g.reject(ce);const Ae={auth:g.auth,requestUri:E,sessionId:D,tenantId:H||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ke)(Ae))}catch(Ze){g.reject(Ze)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return He;case"linkViaPopup":case"linkViaRedirect":return Kt;case"reauthViaPopup":case"reauthViaRedirect":return $t;default:zt(this.auth,"internal-error")}}resolve(p){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sr=new jt(2e3,1e4);function $o(){return($o=(0,d.Z)(function*(y,p,g){const E=Nn(y);Ur(y,p,ri);const D=Ie(E,g);return new ed(E,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(y,p,g){const E=(0,L.m9)(y);Ur(E.auth,p,ri);const D=Ie(E.auth,g);return new ed(E.auth,"reauthViaPopup",p,D,E).executeNotNull()})).apply(this,arguments)}function bt(){return(bt=(0,d.Z)(function*(y,p,g){const E=(0,L.m9)(y);Ur(E.auth,p,ri);const D=Ie(E.auth,g);return new ed(E.auth,"linkViaPopup",p,D,E).executeNotNull()})).apply(this,arguments)}let ed=(()=>{class y extends ir{constructor(g,E,D,R,H){super(g,E,R,H),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const E=yield g.execute();return De(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,d.Z)(function*(){jn(1===g.filter.length,"Popup operations only handle one event");const E=Ca();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(xt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,D;this.pollId=(null===(D=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(xt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,sr.get())};g()}}return y.currentPopupAction=null,y})();const Ic=new Map;class Dc extends ir{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let E=Ic.get(g.auth._key());if(!E){try{const R=(yield function(y,p){return $p.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(R)}catch(D){E=()=>Promise.reject(D)}Ic.set(g.auth._key(),E)}return g.bypassAuthState||Ic.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const D=yield E.auth._redirectUserForId(p.eventId);if(D)return E.user=D,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function $p(){return($p=(0,d.Z)(function*(y,p){const g=Sc(p),E=zo(y);if(!(yield E._isAvailable()))return!1;const D="true"===(yield E._get(g));return yield E._remove(g),D})).apply(this,arguments)}function Rn(y,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,d.Z)(function*(y,p){return zo(y)._set(Sc(p),"true")})).apply(this,arguments)}function zo(y){return Ut(y._redirectPersistence)}function Sc(y){return er("pendingRedirect",y.config.apiKey,y.name)}function Vi(){return(Vi=(0,d.Z)(function*(y,p,g){const E=Nn(y);Ur(y,p,ri);const D=Ie(E,g);return yield Rn(D,E),D._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function ss(){return(ss=(0,d.Z)(function*(y,p,g){const E=(0,L.m9)(y);Ur(E.auth,p,ri);const D=Ie(E.auth,g);yield Rn(D,E.auth);const R=yield Ma(E);return D._openRedirect(E.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function zh(){return(zh=(0,d.Z)(function*(y,p,g){const E=(0,L.m9)(y);Ur(E.auth,p,ri);const D=Ie(E.auth,g);yield Ks(!1,E,p.providerId),yield Rn(D,E.auth);const R=yield Ma(E);return D._openRedirect(E.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Zl(){return(Zl=(0,d.Z)(function*(y,p){return yield Nn(y)._initializationPromise,xa(y,p,!1)})).apply(this,arguments)}function xa(y,p){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,d.Z)(function*(y,p,g=!1){const E=Nn(y),D=Ie(E,p),H=yield new Dc(E,D,g).execute();return H&&!g&&(delete H.user._redirectEventId,yield E._persistUserIfCurrent(H.user),yield E._setRedirectUser(null,p)),H})).apply(this,arguments)}function Ma(y){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(y){const p=Ca(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Gl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fv(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!Fv(p)){const D=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(xt(this.auth,D))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ra(p))}saveEventToCache(p){this.cachedEventUids.add(Ra(p)),this.lastProcessedEventTime=Date.now()}}function Ra(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Fv({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Hp(y){return e_.apply(this,arguments)}function e_(){return(e_=(0,d.Z)(function*(y,p={}){return Ct(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Zh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rd=/^https?/;function qo(){return(qo=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Hp(y);for(const g of p)try{if(zp(g))return}catch(E){}zt(y,"unauthorized-domain")})).apply(this,arguments)}function zp(y){const p=rt(),{protocol:g,hostname:E}=new URL(p);if(y.startsWith("chrome-extension://")){const H=new URL(y);return""===H.hostname&&""===E?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&H.hostname===E}if(!rd.test(g))return!1;if(Zh.test(y))return E===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(E)}const Oa=new jt(3e4,6e4);function id(){const y=Fn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Gh=null;function Wh(y){return Gh=Gh||function(y){return new Promise((p,g)=>{var E,D,R;function H(){id(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{id(),g(xt(y,"network-request-failed"))},timeout:Oa.get()})}if(null===(D=null===(E=Fn().gapi)||void 0===E?void 0:E.iframes)||void 0===D?void 0:D.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=Fn().gapi)||void 0===R?void 0:R.load)){const ce=$h("iframefcb");return Fn()[ce]=()=>{gapi.load?H():g(xt(y,"network-request-failed"))},Ju(`https://apis.google.com/js/api.js?onload=${ce}`).catch(ke=>g(ke))}H()}}).catch(p=>{throw Gh=null,p})}(y),Gh}const qp=new jt(5e3,15e3),i_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lv(y){const p=y.config;De(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Qe(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:y.name,v:he.SDK_VERSION},D=xc.get(y.config.apiHost);D&&(E.eid=D);const R=y._getFrameworks();return R.length&&(E.fw=R.join(",")),`${g}?${(0,L.xO)(E).slice(1)}`}function Zp(){return(Zp=(0,d.Z)(function*(y){const p=yield Wh(y),g=Fn().gapi;return De(g,y,"internal-error"),p.open({where:document.body,url:Lv(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i_,dontclear:!0},E=>new Promise(function(){var D=(0,d.Z)(function*(R,H){yield E.restyle({setHideOnLeave:!1});const ce=xt(y,"network-request-failed"),ke=Fn().setTimeout(()=>{H(ce)},qp.get());function Ae(){Fn().clearTimeout(ke),R(E)}E.ping(Ae).then(Ae,()=>{H(ce)})});return function(R,H){return D.apply(this,arguments)}}()))})).apply(this,arguments)}const s_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wp{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Kh(y,p,g,E,D,R){De(y.config.authDomain,y,"auth-domain-config-required"),De(y.config.apiKey,y,"invalid-api-key");const H={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:E,v:he.SDK_VERSION,eventId:D};if(p instanceof ri){p.setDefaultLanguage(y.languageCode),H.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(H.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ke,Ae]of Object.entries(R||{}))H[ke]=Ae}if(p instanceof Qi){const ke=p.getScopes().filter(Ae=>""!==Ae);ke.length>0&&(H.scopes=ke.join(","))}y.tenantId&&(H.tid=y.tenantId);const ce=H;for(const ke of Object.keys(ce))void 0===ce[ke]&&delete ce[ke];return`${function({config:y}){return y.emulator?Qe(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(ce).slice(1)}`}const Qh="webStorageSupport";class od extends class{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return dr("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new od(p)}_finalizeEnroll(p,g,E){return function(y,p){return Ct(y,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(y,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(y,p){return Ct(y,"POST","/v2/accounts/mfaSignIn:finalize",Jt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ad=(()=>{class y{constructor(){}static assertion(g){return od._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Kl="@firebase/auth";class cd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{var D;p((null===(D=E)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function so(){return window}function Yl(){return(Yl=(0,d.Z)(function*(y,p,g){var E;const{BuildInfo:D}=so();jn(p.sessionId,"AuthEvent did not contain a session ID");const R=yield ef(p.sessionId),H={};return Wi()?H.ibi=D.packageName:Do()?H.apn=D.packageName:zt(y,"operation-not-supported-in-this-environment"),D.displayName&&(H.appDisplayName=D.displayName),H.sessionId=R,Kh(y,g,p.type,void 0,null!==(E=p.eventId)&&void 0!==E?E:void 0,H)})).apply(this,arguments)}function Rc(){return(Rc=(0,d.Z)(function*(y){const{BuildInfo:p}=so(),g={};Wi()?g.iosBundleId=p.packageName:Do()?g.androidPackageName=p.packageName:zt(y,"operation-not-supported-in-this-environment"),yield Hp(y,g)})).apply(this,arguments)}function Xh(){return(Xh=(0,d.Z)(function*(y,p,g){const{cordova:E}=so();let D=()=>{};try{yield new Promise((R,H)=>{let ce=null;function ke(){var Ge;R();const Rt=null===(Ge=E.plugins.browsertab)||void 0===Ge?void 0:Ge.close;"function"==typeof Rt&&Rt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ae(){ce||(ce=window.setTimeout(()=>{H(xt(y,"redirect-cancelled-by-user"))},2e3))}function Ze(){"visible"===(null==document?void 0:document.visibilityState)&&Ae()}p.addPassiveListener(ke),document.addEventListener("resume",Ae,!1),Do()&&document.addEventListener("visibilitychange",Ze,!1),D=()=>{p.removePassiveListener(ke),document.removeEventListener("resume",Ae,!1),document.removeEventListener("visibilitychange",Ze,!1),ce&&window.clearTimeout(ce)}})}finally{D()}})).apply(this,arguments)}function ef(y){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,d.Z)(function*(y){const p=Xp(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xp(y){if(jn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let E=0;E<y.length;E++)g[E]=y.charCodeAt(E);return g}y="Browser",(0,he._registerComponent)(new Ye.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),{apiKey:D,authDomain:R}=E.options;return(H=>{De(D&&!D.includes(":"),"invalid-api-key",{appName:H.name}),De(!(null==R?void 0:R.includes(":")),"argument-error",{appName:H.name});const ce={apiKey:D,authDomain:R,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bl(y)},ke=new bh(H,ce);return function(y,p){const g=(null==p?void 0:p.persistence)||[],E=(Array.isArray(g)?g:[g]).map(Ut);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(ke,g),ke})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new Ye.wA("auth-internal",p=>{const g=Nn(p.getProvider("auth").getImmediate());return new cd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Kl,"0.19.5",void 0),(0,he.registerVersion)(Kl,"0.19.5","esm2017");class ld extends Gl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function p_(y){return mn.apply(this,arguments)}function mn(){return(mn=(0,d.Z)(function*(y){const p=yield as()._get(tf(y));return p&&(yield as()._remove(tf(y))),p})).apply(this,arguments)}function ng(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*p.length);y.push(p.charAt(E))}return y.join("")}function as(){return Ut(ts)}function tf(y){return er("authEvent",y.config.apiKey,y.name)}function nf(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,L.zd)(g.join("?"))}function ud(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xt("no-auth-event")}}function kc(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Pc(y=(0,L.z$)()){return!("file:"!==kc()&&"ionic:"!==kc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function y_(){try{const y=self.localStorage,p=Ca();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch(y){return cf()&&(0,L.hl)()}return!1}function cf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ig(){return("http:"===kc()||"https:"===kc()||(0,L.ru)()||Pc())&&!((0,L.b$)()||(0,L.UG)())&&y_()&&!cf()}function Jl(){return Pc()&&"undefined"!=typeof document}function lf(){return(lf=(0,d.Z)(function*(){return!!Jl()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Or={LOCAL:"local",NONE:"none",SESSION:"session"},Nc=De,Fc="persistence";function og(y){return b_.apply(this,arguments)}function b_(){return(b_=(0,d.Z)(function*(y){yield y._initializationPromise;const p=dd(),g=er(Fc,y.config.apiKey,y.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,y._getPersistence())})).apply(this,arguments)}function dd(){return"undefined"!=typeof window?window:null}const zv=De;class oo{constructor(){this.browserResolver=Ut(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=en,this._completeRedirectFn=xa}_openPopup(p,g,E,D){var R=this;return(0,d.Z)(function*(){var H;jn(null===(H=R.eventManagers[p._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const ce=Kh(p,g,E,rt(),D);return function(y,p,g,E=500,D=600){const R=Math.max((window.screen.availHeight-D)/2,0).toString(),H=Math.max((window.screen.availWidth-E)/2,0).toString();let ce="";const ke=Object.assign(Object.assign({},s_),{width:E.toString(),height:D.toString(),top:R,left:H}),Ae=(0,L.z$)().toLowerCase();g&&(ce=Xa(Ae)?"_blank":g),ua(Ae)&&(p=p||"http://localhost",ke.scrollbars="yes");const Ze=Object.entries(ke).reduce((Rt,[Yn,Wo])=>`${Rt}${Yn}=${Wo},`,"");if(function(y=(0,L.z$)()){var p;return Wi(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ae)&&"_self"!==ce)return function(y,p){const g=document.createElement("a");g.href=y,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",ce),new Wp(null);const Ge=window.open(p||"",ce,Ze);De(Ge,y,"popup-blocked");try{Ge.focus()}catch(Rt){}return new Wp(Ge)}(p,ce,Ca())})()}_openRedirect(p,g,E,D){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(p),y=Kh(p,g,E,rt(),D),Fn().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:D,promise:R}=this.eventManagers[g];return D?Promise.resolve(D):(jn(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const E=yield function(y){return Zp.apply(this,arguments)}(p),D=new Gl(p);return E.register("authEvent",R=>(De(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:D.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:D},g.iframes[p._key()]=E,D})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Qh,{type:Qh},D=>{var R;const H=null===(R=null==D?void 0:D[0])||void 0===R?void 0:R[Qh];void 0!==H&&g(!!H),zt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return qo.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return da()||gt()||Wi()}}),this.cordovaResolver=Ut(class{constructor(){this._redirectPersistence=en,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xa}_initialize(p){var g=this;return(0,d.Z)(function*(){const E=p._key();let D=g.eventManagers.get(E);return D||(D=new ld(p),g.eventManagers.set(E,D),g.attachCallbackListeners(p,D)),D})()}_openPopup(p){zt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,E,D){var R=this;return(0,d.Z)(function*(){!function(y){var p,g,E,D,R,H,ce,ke,Ae,Ze;const Ge=so();De("function"==typeof(null===(p=null==Ge?void 0:Ge.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(g=null==Ge?void 0:Ge.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(R=null===(D=null===(E=null==Ge?void 0:Ge.cordova)||void 0===E?void 0:E.plugins)||void 0===D?void 0:D.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(ke=null===(ce=null===(H=null==Ge?void 0:Ge.cordova)||void 0===H?void 0:H.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===ke?void 0:ke.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Ze=null===(Ae=null==Ge?void 0:Ge.cordova)||void 0===Ae?void 0:Ae.InAppBrowser)||void 0===Ze?void 0:Ze.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const H=yield R._initialize(p);yield H.initialized(),H.resetRedirect(),Ic.clear(),yield R._originValidation(p);const ce=function(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:ng(),postBody:null,tenantId:y.tenantId,error:xt(y,"no-auth-event")}}(p,E,D);yield function(y,p){return as()._set(tf(y),p)}(p,ce);const ke=yield function(y,p,g){return Yl.apply(this,arguments)}(p,ce,g),Ae=yield function(y){const{cordova:p}=so();return new Promise(g=>{p.plugins.browsertab.isAvailable(E=>{let D=null;E?p.plugins.browsertab.openUrl(y):D=p.InAppBrowser.open(y,function(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(D)})})}(ke);return function(y,p,g){return Xh.apply(this,arguments)}(p,H,Ae)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return Rc.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:E,handleOpenURL:D,BuildInfo:R}=so(),H=setTimeout((0,d.Z)(function*(){yield p_(p),g.onEvent(ud())}),500),ce=function(){var Ze=(0,d.Z)(function*(Ge){clearTimeout(H);const Rt=yield p_(p);let Yn=null;Rt&&(null==Ge?void 0:Ge.url)&&(Yn=function(y,p){var g,E;const D=function(y){const p=nf(y),g=p.link?decodeURIComponent(p.link):void 0,E=nf(g).link,D=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return nf(D).link||D||E||g||y}(p);if(D.includes("/__/auth/callback")){const R=nf(D),H=R.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,ce=null===(E=null===(g=null==H?void 0:H.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],ke=ce?xt(ce):null;return ke?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(Rt,Ge.url)),g.onEvent(Yn||ud())});return function(Rt){return Ze.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,ce);const ke=D,Ae=`${R.packageName.toLowerCase()}://`;so().handleOpenURL=function(){var Ze=(0,d.Z)(function*(Ge){if(Ge.toLowerCase().startsWith(Ae)&&ce({url:Ge}),"function"==typeof ke)try{ke(Ge)}catch(Rt){console.error(Rt)}});return function(Ge){return Ze.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=en,this._completeRedirectFn=xa}_initialize(p){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,E,D){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,E,D)})()}_openRedirect(p,g,E,D){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,E,D)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Jl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return lf.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Lc(y){return y.unwrap()}function uf(y){return C_(y)}function C_(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return fe.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=ac;break;case"facebook.com":E=wl;break;case"github.com":E=xh;break;case"twitter.com":E=$r;break;default:const{oauthIdToken:D,oauthAccessToken:R,oauthTokenSecret:H,pendingToken:ce,nonce:ke}=p;return R||H||D||ce?ce?g.startsWith("saml.")?_a._create(g,ce):xn._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:D,accessToken:R}):new sn(g).credential({idToken:D,accessToken:R,rawNonce:ke}):null}return y instanceof L.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function kr(y,p){return p.catch(g=>{throw g instanceof L.ZR&&function(y,p){var g;const E=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new T_(y,function(y,p){var g;const E=(0,L.m9)(y),D=p;return De(p.customData.operationType,E,"argument-error"),De(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Ul._fromError(E,D)}(y,p));else if(E){const D=C_(p),R=p;D&&(R.credential=D,R.tenantId=E.tenantId||void 0,R.email=E.email||void 0,R.phoneNumber=E.phoneNumber||void 0)}}(y,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:uf(g),additionalUserInfo:pr(g),user:Zo.getOrCreate(D)}})}function Xl(y,p){return br.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:E=>kr(y,g.confirm(E))}})).apply(this,arguments)}class T_{constructor(p,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return kr(Lc(this.auth),this.resolver.resolveSignIn(p))}}class Zo{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,L.m9)(y);return No.has(p)||No.set(p,jl._fromUser(p)),No.get(p)}(p)}static getOrCreate(p){return Zo.USER_MAP.has(p)||Zo.USER_MAP.set(p,new Zo(p)),Zo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,d.Z)(function*(){return kr(g.auth,Mn(g._delegate,p))})()}linkWithPhoneNumber(p,g){var E=this;return(0,d.Z)(function*(){return Xl(E.auth,function(y,p,g){return rs.apply(this,arguments)}(E._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,d.Z)(function*(){return kr(g.auth,function(y,p,g){return bt.apply(this,arguments)}(g._delegate,p,oo))})()}linkWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield og(Nn(g.auth)),function(y,p,g){return function(y,p,g){return zh.apply(this,arguments)}(y,p,g)}(g._delegate,p,oo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,d.Z)(function*(){return kr(g.auth,Ro(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Xl(this.auth,function(y,p,g){return T.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return kr(this.auth,function(y,p,g){return xs.apply(this,arguments)}(this._delegate,p,oo))}reauthenticateWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield og(Nn(g.auth)),function(y,p,g){return function(y,p,g){return ss.apply(this,arguments)}(y,p,g)}(g._delegate,p,oo)})()}sendEmailVerification(p){return function(y,p){return ii.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,d.Z)(function*(){return yield function(y,p){return at.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(y,p){return gc((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return gc((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return J.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return Hn.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(y,p,g){return fc.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zo.USER_MAP=new WeakMap;const Go=De;let ag=(()=>{class y{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;Go(D,"invalid-api-key",{appName:g.name}),Go(D,"invalid-api-key",{appName:g.name});const R="undefined"!=typeof window?oo:void 0;this._delegate=E.initialize({options:{persistence:I_(D,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap($s),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(y,p,g){const E=Nn(y);De(E._canInitEmulator,E,"emulator-config-failed"),De(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const D=!!(null==g?void 0:g.disableWarnings),R=gn(p),{host:H,port:ce}=function(y){const p=gn(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(E);if(D){const R=D[1];return{host:R,port:Ki(E.substr(R.length+1))}}{const[R,H]=E.split(":");return{host:R,port:Ki(H)}}}(p);E.config.emulator={url:`${R}//${H}${null===ce?"":`:${ce}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:H,port:ce,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,E)}applyActionCode(g){return function(y,p){return Al.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return xl(this._delegate,g)}confirmPasswordReset(g,E){return function(y,p,g){return Pi.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var D=this;return(0,d.Z)(function*(){return kr(D._delegate,function(y,p,g){return Rl.apply(this,arguments)}(D._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,p){return Rp.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,p){const g=Ws.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){Go(ig(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(y,p){return Zl.apply(this,arguments)}(g._delegate,oo);return E?kr(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,p){Nn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,E,D){const{next:R,error:H,complete:ce}=Zv(g,E,D);return this._delegate.onAuthStateChanged(R,H,ce)}onIdTokenChanged(g,E,D){const{next:R,error:H,complete:ce}=Zv(g,E,D);return this._delegate.onIdTokenChanged(R,H,ce)}sendSignInLinkToEmail(g,E){return function(y,p,g){return Ss.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(y,p,g){return va.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,d.Z)(function*(){let D;switch(function(y,p){Nc(Object.values(Or).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?Nc(p!==Or.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?Nc(p===Or.NONE,y,"unsupported-persistence-type"):cf()?Nc(p===Or.NONE||p===Or.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):Nc(p===Or.NONE||y_(),y,"unsupported-persistence-type")}(E._delegate,g),g){case Or.SESSION:D=en;break;case Or.LOCAL:D=(yield Ut(on)._isAvailable())?on:ts;break;case Or.NONE:D=dn;break;default:return zt("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return kr(this._delegate,function(y){return ya.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return kr(this._delegate,St(this._delegate,g))}signInWithCustomToken(g){return kr(this._delegate,function(y,p){return Sl.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return kr(this._delegate,function(y,p,g){return St((0,L.m9)(y),Cs.credential(p,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return kr(this._delegate,function(y,p,g){return hc.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return Xl(this._delegate,function(y,p,g){return yr.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,d.Z)(function*(){return Go(ig(),E._delegate,"operation-not-supported-in-this-environment"),kr(E._delegate,function(y,p,g){return $o.apply(this,arguments)}(E._delegate,g,oo))})()}signInWithRedirect(g){var E=this;return(0,d.Z)(function*(){return Go(ig(),E._delegate,"operation-not-supported-in-this-environment"),yield og(E._delegate),function(y,p,g){return function(y,p,g){return Vi.apply(this,arguments)}(y,p,g)}(E._delegate,g,oo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,p){return Ea.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Or,y})();function Zv(y,p,g){let E=y;"function"!=typeof y&&({next:E,error:p,complete:g}=y);const D=E;return{next:H=>D(H&&Zo.getOrCreate(H)),error:p,complete:g}}function I_(y,p){const g=function(y,p){const g=dd();if(!(null==g?void 0:g.sessionStorage))return[];const E=er(Fc,y,p);switch(g.sessionStorage.getItem(E)){case Or.NONE:return[dn];case Or.LOCAL:return[on,en];case Or.SESSION:return[en];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(on)&&g.push(on),"undefined"!=typeof window)for(const E of[ts,en])g.includes(E)||g.push(E);return g.includes(dn)||g.push(dn),g}class df{constructor(){this.providerId="phone",this._delegate=new fe(Lc(re.Z.auth()))}static credential(p,g){return fe.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}df.PHONE_SIGN_IN_METHOD=fe.PHONE_SIGN_IN_METHOD,df.PROVIDER_ID=fe.PROVIDER_ID;const Gv=De;class Wv{constructor(p,g,E=re.Z.app()){var D;Gv(null===(D=E.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new jo(p,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new Ye.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),E=p.getProvider("auth");return new ag(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Cs,FacebookAuthProvider:wl,GithubAuthProvider:xh,GoogleAuthProvider:ac,OAuthProvider:sn,SAMLAuthProvider:xo,PhoneAuthProvider:df,PhoneMultiFactorGenerator:ad,RecaptchaVerifier:Wv,TwitterAuthProvider:$r,Auth:ag,AuthCredential:Gs,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.5")}(re.Z)},6676:function(Xe,Ee){!function(V){"use strict";function d(Y){return Array.prototype.slice.call(Y)}function re(Y){return new Promise(function(_e,Te){Y.onsuccess=function(){_e(Y.result)},Y.onerror=function(){Te(Y.error)}})}function L(Y,_e,Te){var Pe,Ue=new Promise(function(It,Le){re(Pe=Y[_e].apply(Y,Te)).then(It,Le)});return Ue.request=Pe,Ue}function he(Y,_e,Te){var Pe=L(Y,_e,Te);return Pe.then(function(Ue){if(Ue)return new F(Ue,Pe.request)})}function oe(Y,_e,Te){Te.forEach(function(Pe){Object.defineProperty(Y.prototype,Pe,{get:function(){return this[_e][Pe]},set:function(Ue){this[_e][Pe]=Ue}})})}function le(Y,_e,Te,Pe){Pe.forEach(function(Ue){Ue in Te.prototype&&(Y.prototype[Ue]=function(){return L(this[_e],Ue,arguments)})})}function se(Y,_e,Te,Pe){Pe.forEach(function(Ue){Ue in Te.prototype&&(Y.prototype[Ue]=function(){return this[_e][Ue].apply(this[_e],arguments)})})}function ae(Y,_e,Te,Pe){Pe.forEach(function(Ue){Ue in Te.prototype&&(Y.prototype[Ue]=function(){return he(this[_e],Ue,arguments)})})}function X(Y){this._index=Y}function F(Y,_e){this._cursor=Y,this._request=_e}function U(Y){this._store=Y}function te(Y){this._tx=Y,this.complete=new Promise(function(_e,Te){Y.oncomplete=function(){_e()},Y.onerror=function(){Te(Y.error)},Y.onabort=function(){Te(Y.error)}})}function Q(Y,_e,Te){this._db=Y,this.oldVersion=_e,this.transaction=new te(Te)}function ie(Y){this._db=Y}oe(X,"_index",["name","keyPath","multiEntry","unique"]),le(X,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ae(X,"_index",IDBIndex,["openCursor","openKeyCursor"]),oe(F,"_cursor",["direction","key","primaryKey","value"]),le(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Y){Y in IDBCursor.prototype&&(F.prototype[Y]=function(){var _e=this,Te=arguments;return Promise.resolve().then(function(){return _e._cursor[Y].apply(_e._cursor,Te),re(_e._request).then(function(Pe){if(Pe)return new F(Pe,_e._request)})})})}),U.prototype.createIndex=function(){return new X(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new X(this._store.index.apply(this._store,arguments))},oe(U,"_store",["name","keyPath","indexNames","autoIncrement"]),le(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ae(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),se(U,"_store",IDBObjectStore,["deleteIndex"]),te.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},oe(te,"_tx",["objectStoreNames","mode"]),se(te,"_tx",IDBTransaction,["abort"]),Q.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},oe(Q,"_db",["name","version","objectStoreNames"]),se(Q,"_db",IDBDatabase,["deleteObjectStore","close"]),ie.prototype.transaction=function(){return new te(this._db.transaction.apply(this._db,arguments))},oe(ie,"_db",["name","version","objectStoreNames"]),se(ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Y){[U,X].forEach(function(_e){Y in _e.prototype&&(_e.prototype[Y.replace("open","iterate")]=function(){var Te=d(arguments),Pe=Te[Te.length-1],Ue=this._store||this._index,It=Ue[Y].apply(Ue,Te.slice(0,-1));It.onsuccess=function(){Pe(It.result)}})})}),[X,U].forEach(function(Y){Y.prototype.getAll||(Y.prototype.getAll=function(_e,Te){var Pe=this,Ue=[];return new Promise(function(It){Pe.iterateCursor(_e,function(Le){Le?(Ue.push(Le.value),void 0===Te||Ue.length!=Te?Le.continue():It(Ue)):It(Ue)})})})}),V.openDb=function(Y,_e,Te){var Pe=L(indexedDB,"open",[Y,_e]),Ue=Pe.request;return Ue&&(Ue.onupgradeneeded=function(It){Te&&Te(new Q(Ue.result,It.oldVersion,Ue.transaction))}),Pe.then(function(It){return new ie(It)})},V.deleteDb=function(Y){return L(indexedDB,"deleteDatabase",[Y])},Object.defineProperty(V,"__esModule",{value:!0})}(Ee)},7574:(Xe,Ee,V)=>{"use strict";V.d(Ee,{y:()=>U});var d=V(7393),L=V(9181),he=V(6490),le=V(6554),se=V(4487);var F=V(2494);let U=(()=>{class Q{constructor(ve){this._isScalar=!1,ve&&(this._subscribe=ve)}lift(ve){const pe=new Q;return pe.source=this,pe.operator=ve,pe}subscribe(ve,pe,Y){const{operator:_e}=this,Te=function(Q,ie,ve){if(Q){if(Q instanceof d.L)return Q;if(Q[L.b])return Q[L.b]()}return Q||ie||ve?new d.L(Q,ie,ve):new d.L(he.c)}(ve,pe,Y);if(Te.add(_e?_e.call(Te,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!Te.syncErrorThrowable?this._subscribe(Te):this._trySubscribe(Te)),F.v.useDeprecatedSynchronousErrorHandling&&Te.syncErrorThrowable&&(Te.syncErrorThrowable=!1,Te.syncErrorThrown))throw Te.syncErrorValue;return Te}_trySubscribe(ve){try{return this._subscribe(ve)}catch(pe){F.v.useDeprecatedSynchronousErrorHandling&&(ve.syncErrorThrown=!0,ve.syncErrorValue=pe),function(Q){for(;Q;){const{closed:ie,destination:ve,isStopped:pe}=Q;if(ie||pe)return!1;Q=ve&&ve instanceof d.L?ve:null}return!0}(ve)?ve.error(pe):console.warn(pe)}}forEach(ve,pe){return new(pe=te(pe))((Y,_e)=>{let Te;Te=this.subscribe(Pe=>{try{ve(Pe)}catch(Ue){_e(Ue),Te&&Te.unsubscribe()}},_e,Y)})}_subscribe(ve){const{source:pe}=this;return pe&&pe.subscribe(ve)}[le.L](){return this}pipe(...ve){return 0===ve.length?this:function(Q){return 0===Q.length?se.y:1===Q.length?Q[0]:function(ve){return Q.reduce((pe,Y)=>Y(pe),ve)}}(ve)(this)}toPromise(ve){return new(ve=te(ve))((pe,Y)=>{let _e;this.subscribe(Te=>_e=Te,Te=>Y(Te),()=>pe(_e))})}}return Q.create=ie=>new Q(ie),Q})();function te(Q){if(Q||(Q=F.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},6490:(Xe,Ee,V)=>{"use strict";V.d(Ee,{c:()=>L});var d=V(2494),re=V(4449);const L={closed:!0,next(he){},error(he){if(d.v.useDeprecatedSynchronousErrorHandling)throw he;(0,re.z)(he)},complete(){}}},9765:(Xe,Ee,V)=>{"use strict";V.d(Ee,{Yc:()=>se,xQ:()=>ae});var d=V(7574),re=V(7393),L=V(5319),he=V(7971),oe=V(8858),le=V(9181);class se extends re.L{constructor(U){super(U),this.destination=U}}let ae=(()=>{class F extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[le.b](){return new se(this)}lift(te){const Q=new X(this,this);return Q.operator=te,Q}next(te){if(this.closed)throw new he.N;if(!this.isStopped){const{observers:Q}=this,ie=Q.length,ve=Q.slice();for(let pe=0;pe<ie;pe++)ve[pe].next(te)}}error(te){if(this.closed)throw new he.N;this.hasError=!0,this.thrownError=te,this.isStopped=!0;const{observers:Q}=this,ie=Q.length,ve=Q.slice();for(let pe=0;pe<ie;pe++)ve[pe].error(te);this.observers.length=0}complete(){if(this.closed)throw new he.N;this.isStopped=!0;const{observers:te}=this,Q=te.length,ie=te.slice();for(let ve=0;ve<Q;ve++)ie[ve].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(te){if(this.closed)throw new he.N;return super._trySubscribe(te)}_subscribe(te){if(this.closed)throw new he.N;return this.hasError?(te.error(this.thrownError),L.w.EMPTY):this.isStopped?(te.complete(),L.w.EMPTY):(this.observers.push(te),new oe.W(this,te))}asObservable(){const te=new d.y;return te.source=this,te}}return F.create=(U,te)=>new X(U,te),F})();class X extends ae{constructor(U,te){super(),this.destination=U,this.source=te}next(U){const{destination:te}=this;te&&te.next&&te.next(U)}error(U){const{destination:te}=this;te&&te.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:te}=this;return te?this.source.subscribe(U):L.w.EMPTY}}},8858:(Xe,Ee,V)=>{"use strict";V.d(Ee,{W:()=>re});var d=V(5319);class re extends d.w{constructor(he,oe){super(),this.subject=he,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const he=this.subject,oe=he.observers;if(this.subject=null,!oe||0===oe.length||he.isStopped||he.closed)return;const le=oe.indexOf(this.subscriber);-1!==le&&oe.splice(le,1)}}},7393:(Xe,Ee,V)=>{"use strict";V.d(Ee,{L:()=>se});var d=V(9105),re=V(6490),L=V(5319),he=V(9181),oe=V(2494),le=V(4449);class se extends L.w{constructor(F,U,te){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=re.c;break;case 1:if(!F){this.destination=re.c;break}if("object"==typeof F){F instanceof se?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new ae(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new ae(this,F,U,te)}}[he.b](){return this}static create(F,U,te){const Q=new se(F,U,te);return Q.syncErrorThrowable=!1,Q}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class ae extends se{constructor(F,U,te,Q){super(),this._parentSubscriber=F;let ie,ve=this;(0,d.m)(U)?ie=U:U&&(ie=U.next,te=U.error,Q=U.complete,U!==re.c&&(ve=Object.create(U),(0,d.m)(ve.unsubscribe)&&this.add(ve.unsubscribe.bind(ve)),ve.unsubscribe=this.unsubscribe.bind(this))),this._context=ve,this._next=ie,this._error=te,this._complete=Q}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;oe.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:te}=oe.v;if(this._error)te&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(U.syncErrorThrowable)te?(U.syncErrorValue=F,U.syncErrorThrown=!0):(0,le.z)(F),this.unsubscribe();else{if(this.unsubscribe(),te)throw F;(0,le.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const U=()=>this._complete.call(this._context);oe.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,U){try{F.call(this._context,U)}catch(te){if(this.unsubscribe(),oe.v.useDeprecatedSynchronousErrorHandling)throw te;(0,le.z)(te)}}__tryOrSetError(F,U,te){if(!oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,te)}catch(Q){return oe.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=Q,F.syncErrorThrown=!0,!0):((0,le.z)(Q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Xe,Ee,V)=>{"use strict";V.d(Ee,{w:()=>le});var d=V(9796),re=V(1555),L=V(9105);const oe=(()=>{function ae(X){return Error.call(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((F,U)=>`${U+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X,this}return ae.prototype=Object.create(Error.prototype),ae})();class le{constructor(X){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,X&&(this._ctorUnsubscribe=!0,this._unsubscribe=X)}unsubscribe(){let X;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:U,_unsubscribe:te,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof le)F.remove(this);else if(null!==F)for(let ie=0;ie<F.length;++ie)F[ie].remove(this);if((0,L.m)(te)){U&&(this._unsubscribe=void 0);try{te.call(this)}catch(ie){X=ie instanceof oe?se(ie.errors):[ie]}}if((0,d.k)(Q)){let ie=-1,ve=Q.length;for(;++ie<ve;){const pe=Q[ie];if((0,re.K)(pe))try{pe.unsubscribe()}catch(Y){X=X||[],Y instanceof oe?X=X.concat(se(Y.errors)):X.push(Y)}}}if(X)throw new oe(X)}add(X){let F=X;if(!X)return le.EMPTY;switch(typeof X){case"function":F=new le(X);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof le)){const Q=F;F=new le,F._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+X+" added to Subscription.")}let{_parentOrParents:U}=F;if(null===U)F._parentOrParents=this;else if(U instanceof le){if(U===this)return F;F._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return F;U.push(this)}const te=this._subscriptions;return null===te?this._subscriptions=[F]:te.push(F),F}remove(X){const F=this._subscriptions;if(F){const U=F.indexOf(X);-1!==U&&F.splice(U,1)}}}var ae;function se(ae){return ae.reduce((X,F)=>X.concat(F instanceof oe?F.errors:F),[])}le.EMPTY=((ae=new le).closed=!0,ae)},2494:(Xe,Ee,V)=>{"use strict";V.d(Ee,{v:()=>re});let d=!1;const re={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const he=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+he.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=L},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(Xe,Ee,V)=>{"use strict";V.d(Ee,{IY:()=>he,Ds:()=>le,ft:()=>ae});var d=V(7393),re=V(7574),L=V(7444);class he extends d.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class le extends d.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function ae(X,F){if(F.closed)return;if(X instanceof re.y)return X.subscribe(F);let U;try{U=(0,L.s)(X)(F)}catch(te){F.error(te)}return U}},2441:(Xe,Ee,V)=>{"use strict";V.d(Ee,{c:()=>oe,N:()=>le});var d=V(9765),re=V(7574),L=V(5319),he=V(1307);class oe extends re.y{constructor(U,te){super(),this.source=U,this.subjectFactory=te,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new L.w,U.add(this.source.subscribe(new se(this.getSubject(),this))),U.closed&&(this._connection=null,U=L.w.EMPTY)),U}refCount(){return(0,he.x)()(this)}}const le=(()=>{const F=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class se extends d.Yc{constructor(U,te){super(U),this.connectable=te}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const te=U._connection;U._refCount=0,U._subject=null,U._connection=null,te&&te.unsubscribe()}}}},9193:(Xe,Ee,V)=>{"use strict";V.d(Ee,{E:()=>re,c:()=>L});var d=V(7574);const re=new d.y(oe=>oe.complete());function L(oe){return oe?function(oe){return new d.y(le=>oe.schedule(()=>le.complete()))}(oe):re}},4402:(Xe,Ee,V)=>{"use strict";V.d(Ee,{D:()=>ve});var d=V(7574),re=V(7444),L=V(5319),he=V(6554),se=V(4087),ae=V(377),U=V(4072),te=V(9489);function ve(pe,Y){return Y?function(pe,Y){if(null!=pe){if(function(pe){return pe&&"function"==typeof pe[he.L]}(pe))return function(pe,Y){return new d.y(_e=>{const Te=new L.w;return Te.add(Y.schedule(()=>{const Pe=pe[he.L]();Te.add(Pe.subscribe({next(Ue){Te.add(Y.schedule(()=>_e.next(Ue)))},error(Ue){Te.add(Y.schedule(()=>_e.error(Ue)))},complete(){Te.add(Y.schedule(()=>_e.complete()))}}))})),Te})}(pe,Y);if((0,U.t)(pe))return function(pe,Y){return new d.y(_e=>{const Te=new L.w;return Te.add(Y.schedule(()=>pe.then(Pe=>{Te.add(Y.schedule(()=>{_e.next(Pe),Te.add(Y.schedule(()=>_e.complete()))}))},Pe=>{Te.add(Y.schedule(()=>_e.error(Pe)))}))),Te})}(pe,Y);if((0,te.z)(pe))return(0,se.r)(pe,Y);if(function(pe){return pe&&"function"==typeof pe[ae.hZ]}(pe)||"string"==typeof pe)return function(pe,Y){if(!pe)throw new Error("Iterable cannot be null");return new d.y(_e=>{const Te=new L.w;let Pe;return Te.add(()=>{Pe&&"function"==typeof Pe.return&&Pe.return()}),Te.add(Y.schedule(()=>{Pe=pe[ae.hZ](),Te.add(Y.schedule(function(){if(_e.closed)return;let Ue,It;try{const Le=Pe.next();Ue=Le.value,It=Le.done}catch(Le){return void _e.error(Le)}It?_e.complete():(_e.next(Ue),this.schedule())}))})),Te})}(pe,Y)}throw new TypeError((null!==pe&&typeof pe||pe)+" is not observable")}(pe,Y):pe instanceof d.y?pe:new d.y((0,re.s)(pe))}},6693:(Xe,Ee,V)=>{"use strict";V.d(Ee,{n:()=>he});var d=V(7574),re=V(5015),L=V(4087);function he(oe,le){return le?(0,L.r)(oe,le):new d.y((0,re.V)(oe))}},6682:(Xe,Ee,V)=>{"use strict";V.d(Ee,{T:()=>oe});var d=V(7574),re=V(4869),L=V(3282),he=V(6693);function oe(...le){let se=Number.POSITIVE_INFINITY,ae=null,X=le[le.length-1];return(0,re.K)(X)?(ae=le.pop(),le.length>1&&"number"==typeof le[le.length-1]&&(se=le.pop())):"number"==typeof X&&(se=le.pop()),null===ae&&1===le.length&&le[0]instanceof d.y?le[0]:(0,L.J)(se)((0,he.n)(le,ae))}},5917:(Xe,Ee,V)=>{"use strict";V.d(Ee,{of:()=>he});var d=V(4869),re=V(6693),L=V(4087);function he(...oe){let le=oe[oe.length-1];return(0,d.K)(le)?(oe.pop(),(0,L.r)(oe,le)):(0,re.n)(oe)}},8002:(Xe,Ee,V)=>{"use strict";V.d(Ee,{U:()=>re});var d=V(7393);function re(oe,le){return function(ae){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ae.lift(new L(oe,le))}}class L{constructor(le,se){this.project=le,this.thisArg=se}call(le,se){return se.subscribe(new he(le,this.project,this.thisArg))}}class he extends d.L{constructor(le,se,ae){super(le),this.project=se,this.count=0,this.thisArg=ae||this}_next(le){let se;try{se=this.project.call(this.thisArg,le,this.count++)}catch(ae){return void this.destination.error(ae)}this.destination.next(se)}}},3282:(Xe,Ee,V)=>{"use strict";V.d(Ee,{J:()=>L});var d=V(9773),re=V(4487);function L(he=Number.POSITIVE_INFINITY){return(0,d.zg)(re.y,he)}},9773:(Xe,Ee,V)=>{"use strict";V.d(Ee,{zg:()=>he});var d=V(8002),re=V(4402),L=V(5345);function he(ae,X,F=Number.POSITIVE_INFINITY){return"function"==typeof X?U=>U.pipe(he((te,Q)=>(0,re.D)(ae(te,Q)).pipe((0,d.U)((ie,ve)=>X(te,ie,Q,ve))),F)):("number"==typeof X&&(F=X),U=>U.lift(new oe(ae,F)))}class oe{constructor(X,F=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=F}call(X,F){return F.subscribe(new le(X,this.project,this.concurrent))}}class le extends L.Ds{constructor(X,F,U=Number.POSITIVE_INFINITY){super(X),this.project=F,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let F;const U=this.index++;try{F=this.project(X,U)}catch(te){return void this.destination.error(te)}this.active++,this._innerSub(F)}_innerSub(X){const F=new L.IY(this),U=this.destination;U.add(F);const te=(0,L.ft)(X,F);te!==F&&U.add(te)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Xe,Ee,V)=>{"use strict";V.d(Ee,{ht:()=>U,QV:()=>X});var d=V(7393),re=V(9193),L=V(5917),he=V(7574);class ae{constructor(ie,ve,pe){this.kind=ie,this.value=ve,this.error=pe,this.hasValue="N"===ie}observe(ie){switch(this.kind){case"N":return ie.next&&ie.next(this.value);case"E":return ie.error&&ie.error(this.error);case"C":return ie.complete&&ie.complete()}}do(ie,ve,pe){switch(this.kind){case"N":return ie&&ie(this.value);case"E":return ve&&ve(this.error);case"C":return pe&&pe()}}accept(ie,ve,pe){return ie&&"function"==typeof ie.next?this.observe(ie):this.do(ie,ve,pe)}toObservable(){switch(this.kind){case"N":return(0,L.of)(this.value);case"E":return Q=this.error,new he.y(ve=>ve.error(Q));case"C":return(0,re.c)()}var Q;throw new Error("unexpected notification kind value")}static createNext(ie){return void 0!==ie?new ae("N",ie):ae.undefinedValueNotification}static createError(ie){return new ae("E",void 0,ie)}static createComplete(){return ae.completeNotification}}function X(Q,ie=0){return function(pe){return pe.lift(new F(Q,ie))}}ae.completeNotification=new ae("C"),ae.undefinedValueNotification=new ae("N",void 0);class F{constructor(ie,ve=0){this.scheduler=ie,this.delay=ve}call(ie,ve){return ve.subscribe(new U(ie,this.scheduler,this.delay))}}class U extends d.L{constructor(ie,ve,pe=0){super(ie),this.scheduler=ve,this.delay=pe}static dispatch(ie){const{notification:ve,destination:pe}=ie;ve.observe(pe),this.unsubscribe()}scheduleMessage(ie){this.destination.add(this.scheduler.schedule(U.dispatch,this.delay,new te(ie,this.destination)))}_next(ie){this.scheduleMessage(ae.createNext(ie))}_error(ie){this.scheduleMessage(ae.createError(ie)),this.unsubscribe()}_complete(){this.scheduleMessage(ae.createComplete()),this.unsubscribe()}}class te{constructor(ie,ve){this.notification=ie,this.destination=ve}}},1307:(Xe,Ee,V)=>{"use strict";V.d(Ee,{x:()=>re});var d=V(7393);function re(){return function(le){return le.lift(new L(le))}}class L{constructor(le){this.connectable=le}call(le,se){const{connectable:ae}=this;ae._refCount++;const X=new he(le,ae),F=se.subscribe(X);return X.closed||(X.connection=ae.connect()),F}}class he extends d.L{constructor(le,se){super(le),this.connectable=se}_unsubscribe(){const{connectable:le}=this;if(!le)return void(this.connection=null);this.connectable=null;const se=le._refCount;if(se<=0)return void(this.connection=null);if(le._refCount=se-1,se>1)return void(this.connection=null);const{connection:ae}=this,X=le._connection;this.connection=null,X&&(!ae||X===ae)&&X.unsubscribe()}}},9673:(Xe,Ee,V)=>{"use strict";V.d(Ee,{R:()=>oe});var d=V(7574),re=V(4581),L=V(6561);class he extends d.y{constructor(ae,X=0,F=re.e){super(),this.source=ae,this.delayTime=X,this.scheduler=F,(!(0,L.k)(X)||X<0)&&(this.delayTime=0),(!F||"function"!=typeof F.schedule)&&(this.scheduler=re.e)}static create(ae,X=0,F=re.e){return new he(ae,X,F)}static dispatch(ae){const{source:X,subscriber:F}=ae;return this.add(X.subscribe(F))}_subscribe(ae){return this.scheduler.schedule(he.dispatch,this.delayTime,{source:this.source,subscriber:ae})}}function oe(se,ae=0){return function(F){return F.lift(new le(se,ae))}}class le{constructor(ae,X){this.scheduler=ae,this.delay=X}call(ae,X){return new he(X,this.delay,this.scheduler).subscribe(ae)}}},3342:(Xe,Ee,V)=>{"use strict";V.d(Ee,{b:()=>he});var d=V(7393);function re(){}var L=V(9105);function he(se,ae,X){return function(U){return U.lift(new oe(se,ae,X))}}class oe{constructor(ae,X,F){this.nextOrObserver=ae,this.error=X,this.complete=F}call(ae,X){return X.subscribe(new le(ae,this.nextOrObserver,this.error,this.complete))}}class le extends d.L{constructor(ae,X,F,U){super(ae),this._tapNext=re,this._tapError=re,this._tapComplete=re,this._tapError=F||re,this._tapComplete=U||re,(0,L.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||re,this._tapError=X.error||re,this._tapComplete=X.complete||re)}_next(ae){try{this._tapNext.call(this._context,ae)}catch(X){return void this.destination.error(X)}this.destination.next(ae)}_error(ae){try{this._tapError.call(this._context,ae)}catch(X){return void this.destination.error(X)}this.destination.error(ae)}_complete(){try{this._tapComplete.call(this._context)}catch(ae){return void this.destination.error(ae)}return this.destination.complete()}}},4087:(Xe,Ee,V)=>{"use strict";V.d(Ee,{r:()=>L});var d=V(7574),re=V(5319);function L(he,oe){return new d.y(le=>{const se=new re.w;let ae=0;return se.add(oe.schedule(function(){ae!==he.length?(le.next(he[ae++]),le.closed||se.add(this.schedule())):le.complete()})),se})}},6465:(Xe,Ee,V)=>{"use strict";V.d(Ee,{o:()=>L});var d=V(5319);class re extends d.w{constructor(oe,le){super()}schedule(oe,le=0){return this}}class L extends re{constructor(oe,le){super(oe,le),this.scheduler=oe,this.work=le,this.pending=!1}schedule(oe,le=0){if(this.closed)return this;this.state=oe;const se=this.id,ae=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(ae,se,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(ae,this.id,le),this}requestAsyncId(oe,le,se=0){return setInterval(oe.flush.bind(oe,this),se)}recycleAsyncId(oe,le,se=0){if(null!==se&&this.delay===se&&!1===this.pending)return le;clearInterval(le)}execute(oe,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(oe,le);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,le){let ae,se=!1;try{this.work(oe)}catch(X){se=!0,ae=!!X&&X||new Error(X)}if(se)return this.unsubscribe(),ae}_unsubscribe(){const oe=this.id,le=this.scheduler,se=le.actions,ae=se.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ae&&se.splice(ae,1),null!=oe&&(this.id=this.recycleAsyncId(le,oe,null)),this.delay=null}}},6102:(Xe,Ee,V)=>{"use strict";V.d(Ee,{v:()=>re});let d=(()=>{class L{constructor(oe,le=L.now){this.SchedulerAction=oe,this.now=le}schedule(oe,le=0,se){return new this.SchedulerAction(this,oe).schedule(se,le)}}return L.now=()=>Date.now(),L})();class re extends d{constructor(he,oe=d.now){super(he,()=>re.delegate&&re.delegate!==this?re.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(he,oe=0,le){return re.delegate&&re.delegate!==this?re.delegate.schedule(he,oe,le):super.schedule(he,oe,le)}flush(he){const{actions:oe}=this;if(this.active)return void oe.push(he);let le;this.active=!0;do{if(le=he.execute(he.state,he.delay))break}while(he=oe.shift());if(this.active=!1,le){for(;he=oe.shift();)he.unsubscribe();throw le}}}},4581:(Xe,Ee,V)=>{"use strict";V.d(Ee,{e:()=>te,E:()=>U});let d=1;const re=Promise.resolve(),L={};function he(Q){return Q in L&&(delete L[Q],!0)}const oe={setImmediate(Q){const ie=d++;return L[ie]=!0,re.then(()=>he(ie)&&Q()),ie},clearImmediate(Q){he(Q)}};var se=V(6465),X=V(6102);const U=new class extends X.v{flush(ie){this.active=!0,this.scheduled=void 0;const{actions:ve}=this;let pe,Y=-1,_e=ve.length;ie=ie||ve.shift();do{if(pe=ie.execute(ie.state,ie.delay))break}while(++Y<_e&&(ie=ve.shift()));if(this.active=!1,pe){for(;++Y<_e&&(ie=ve.shift());)ie.unsubscribe();throw pe}}}(class extends se.o{constructor(ie,ve){super(ie,ve),this.scheduler=ie,this.work=ve}requestAsyncId(ie,ve,pe=0){return null!==pe&&pe>0?super.requestAsyncId(ie,ve,pe):(ie.actions.push(this),ie.scheduled||(ie.scheduled=oe.setImmediate(ie.flush.bind(ie,null))))}recycleAsyncId(ie,ve,pe=0){if(null!==pe&&pe>0||null===pe&&this.delay>0)return super.recycleAsyncId(ie,ve,pe);0===ie.actions.length&&(oe.clearImmediate(ve),ie.scheduled=void 0)}}),te=U},3637:(Xe,Ee,V)=>{"use strict";V.d(Ee,{z:()=>L,P:()=>he});var d=V(6465);const L=new(V(6102).v)(d.o),he=L},7771:(Xe,Ee,V)=>{"use strict";V.d(Ee,{c:()=>le,N:()=>oe});var d=V(6465),L=V(6102);const oe=new class extends L.v{}(class extends d.o{constructor(ae,X){super(ae,X),this.scheduler=ae,this.work=X}schedule(ae,X=0){return X>0?super.schedule(ae,X):(this.delay=X,this.state=ae,this.scheduler.flush(this),this)}execute(ae,X){return X>0||this.closed?super.execute(ae,X):this._execute(ae,X)}requestAsyncId(ae,X,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(ae,X,F):ae.flush(this)}}),le=oe},377:(Xe,Ee,V)=>{"use strict";V.d(Ee,{hZ:()=>re});const re="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,Ee,V)=>{"use strict";V.d(Ee,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,Ee,V)=>{"use strict";V.d(Ee,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,Ee,V)=>{"use strict";V.d(Ee,{N:()=>re});const re=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(Xe,Ee,V)=>{"use strict";function d(re){setTimeout(()=>{throw re},0)}V.d(Ee,{z:()=>d})},4487:(Xe,Ee,V)=>{"use strict";function d(re){return re}V.d(Ee,{y:()=>d})},9796:(Xe,Ee,V)=>{"use strict";V.d(Ee,{k:()=>d});const d=Array.isArray||(re=>re&&"number"==typeof re.length)},9489:(Xe,Ee,V)=>{"use strict";V.d(Ee,{z:()=>d});const d=re=>re&&"number"==typeof re.length&&"function"!=typeof re},9105:(Xe,Ee,V)=>{"use strict";function d(re){return"function"==typeof re}V.d(Ee,{m:()=>d})},6561:(Xe,Ee,V)=>{"use strict";V.d(Ee,{k:()=>re});var d=V(9796);function re(L){return!(0,d.k)(L)&&L-parseFloat(L)+1>=0}},1555:(Xe,Ee,V)=>{"use strict";function d(re){return null!==re&&"object"==typeof re}V.d(Ee,{K:()=>d})},4072:(Xe,Ee,V)=>{"use strict";function d(re){return!!re&&"function"!=typeof re.subscribe&&"function"==typeof re.then}V.d(Ee,{t:()=>d})},4869:(Xe,Ee,V)=>{"use strict";function d(re){return re&&"function"==typeof re.schedule}V.d(Ee,{K:()=>d})},7444:(Xe,Ee,V)=>{"use strict";V.d(Ee,{s:()=>U});var d=V(5015),re=V(4449),he=V(377),le=V(6554),ae=V(9489),X=V(4072),F=V(1555);const U=te=>{if(te&&"function"==typeof te[le.L])return(te=>Q=>{const ie=te[le.L]();if("function"!=typeof ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ie.subscribe(Q)})(te);if((0,ae.z)(te))return(0,d.V)(te);if((0,X.t)(te))return(te=>Q=>(te.then(ie=>{Q.closed||(Q.next(ie),Q.complete())},ie=>Q.error(ie)).then(null,re.z),Q))(te);if(te&&"function"==typeof te[he.hZ])return(te=>Q=>{const ie=te[he.hZ]();for(;;){let ve;try{ve=ie.next()}catch(pe){return Q.error(pe),Q}if(ve.done){Q.complete();break}if(Q.next(ve.value),Q.closed)break}return"function"==typeof ie.return&&Q.add(()=>{ie.return&&ie.return()}),Q})(te);{const ie=`You provided ${(0,F.K)(te)?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ie)}}},5015:(Xe,Ee,V)=>{"use strict";V.d(Ee,{V:()=>d});const d=re=>L=>{for(let he=0,oe=re.length;he<oe&&!L.closed;he++)L.next(re[he]);L.complete()}},7127:(Xe,Ee,V)=>{"use strict";var d=V(3018);let re=null;function L(){return re}const se=new d.OlP("DocumentToken");let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:X,token:n,providedIn:"platform"}),n})();function X(){return(0,d.LFG)(U)}const F=new d.OlP("Location Initialized");let U=(()=>{class n extends ae{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){te()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){te()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=(0,d.Yz7)({factory:Q,token:n,providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Q(){return new U((0,d.LFG)(se))}function ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ve(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function pe(n){return n&&"?"!==n[0]?"?"+n:n}let Y=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:_e,token:n,providedIn:"root"}),n})();function _e(n){const e=(0,d.LFG)(se).location;return new Pe((0,d.LFG)(ae),e&&e.origin||"")}const Te=new d.OlP("appBaseHref");let Pe=(()=>{class n extends Y{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+pe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+pe(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+pe(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae),d.LFG(Te,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n extends Y{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+pe(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+pe(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae),d.LFG(Te,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),It=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ve(vt(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pe(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,vt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pe(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pe(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Y),d.LFG(ae))},n.normalizeQueryParams=pe,n.joinWithSlash=ie,n.stripTrailingSlash=ve,n.\u0275prov=(0,d.Yz7)({factory:Le,token:n,providedIn:"root"}),n})();function Le(){return new It((0,d.LFG)(Y),(0,d.LFG)(ae))}function vt(n){return n.replace(/\/index.html$/,"")}var Dt=(()=>((Dt=Dt||{})[Dt.Zero=0]="Zero",Dt[Dt.One=1]="One",Dt[Dt.Two=2]="Two",Dt[Dt.Few=3]="Few",Dt[Dt.Many=4]="Many",Dt[Dt.Other=5]="Other",Dt))();const Ar=d.kL8;class er{}let $n=(()=>{class n extends er{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Ar(r||this.locale)(t)){case Dt.Zero:return"zero";case Dt.One:return"one";case Dt.Two:return"two";case Dt.Few:return"few";case Dt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Do{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oi=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,l,h)=>{if(null==o.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Do(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new Mr(o,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const b=new Mr(o,m);r.push(b)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,l=this._viewContainer.length;o<l;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Mr{constructor(e,t){this.record=e,this.view=t}}let ni=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ki,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ki{constructor(){this.$implicit=null,this.ngIf=null}}function rn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let gn=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,l]=t.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,o,r):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ws=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:er,useClass:$n}]}),n})();function ic(n){return"server"===n}let sc=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new xp((0,d.LFG)(se),window)}),n})();class xp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ma(this.window.history)||ma(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ma(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class oc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new oc,re||(re=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Cs=Cs||document.querySelector("base"),Cs?Cs.getAttribute("href"):null);return null==t?null:function(n){Qi=Qi||document.createElement("a"),Qi.setAttribute("href",n);const e=Qi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Qi,Cs=null;const wl=new d.OlP("TRANSITION_ID"),xh=[{provide:d.ip1,useFactory:function(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=L(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[wl,se,d.zs3],multi:!0}];class Mt{static init(){(0,d.VLi)(new Mt)}addToWindow(e){d.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const o=d.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(b){h=h||b,l--,0==l&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let _a=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=new d.OlP("EventManagerPlugins");let Ks=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Is),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Mo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=L().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Il=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ds=(()=>{class n extends Il{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Zu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Zu))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Zu(n){L().remove(n)}const Ce={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},St=/%COMP%/g;function Ys(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ys(n,o,t):(o=o.replace(St,n),t.push(o))}return t}function kh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xi=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new es(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Qs(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case d.ifc.ShadowDom:return new Pi(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ys(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ks),d.LFG(Ds),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class es{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ce[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=Ce[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ce[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,o&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,kh(r)):this.eventManager.addEventListener(e,t,kh(r))}}class Qs extends es{constructor(e,t,r,o){super(e),this.component=r;const l=Ys(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(St,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(St,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Pi extends es{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ys(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gu=(()=>{class n extends Mo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ss=["alt","control","meta","shift"],Ol={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ii=(()=>{class n extends Mo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(Ss.forEach(b=>{const C=r.indexOf(b);C>-1&&(r.splice(C,1),h+=b+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&hc.hasOwnProperty(e)&&(e=hc[e]))}return Ol[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ss.forEach(l=>{l!=o&&Hr[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Fl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){oc.makeCurrent(),Mt.init()},multi:!0},{provide:se,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Js=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:Is,useClass:Gu,multi:!0,deps:[se,d.R0b,d.Lbi]},{provide:Is,useClass:ii,multi:!0,deps:[se]},[],{provide:Xi,useClass:Xi,deps:[Ks,Ds,d.AFp]},{provide:d.FYo,useExisting:Xi},{provide:Il,useExisting:Ds},{provide:Ds,useClass:Ds,deps:[se]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Ks,useClass:Ks,deps:[Is,d.R0b]},{provide:class{},useClass:_a,deps:[]},[]];let ko=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:wl,useExisting:d.AFp},xh]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Js,imports:[ws,d.hGG]}),n})();"undefined"!=typeof window&&window;var wn=V(4402),Ke=V(5917),Vt=V(9765),Fo=V(7971);class gr extends Vt.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Fo.N;return this._value}next(e){super.next(this._value=e)}}var ts=V(4869),bc=V(9796),en=V(7393);class Wu extends en.L{notifyNext(e,t,r,o,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Fp extends en.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ca=V(7444),Kn=V(7574);function Fn(n,e,t,r,o=new Fp(n,t,r)){if(!o.closed)return e instanceof Kn.y?e.subscribe(o):(0,Ca.s)(e)(o)}var Ku=V(6693);const $l={};class Lo{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Yu(e,this.resultSelector))}}class Yu extends Wu{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push($l),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Fn(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===$l?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Xs=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var As=V(3282);function Ec(...n){return(0,As.J)(1)((0,Ke.of)(...n))}var zr=V(9193);function Fi(n){return new Kn.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,wn.D)(t):(0,zr.c)()).subscribe(e)})}var eo=V(2441),ut=V(8002),mr=V(5345);function Ln(n,e){return"function"==typeof e?t=>t.pipe(Ln((r,o)=>(0,wn.D)(n(r,o)).pipe((0,ut.U)((l,h)=>e(r,l,o,h))))):t=>t.lift(new Ia(n))}class Ia{constructor(e){this.project=e}call(e,t){return t.subscribe(new Bh(e,this.project))}}class Bh extends mr.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new mr.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,mr.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Qu=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Uo(n){return e=>0===n?(0,zr.c)():e.lift(new Km(n))}class Km{constructor(e){if(this.total=e,this.total<0)throw new Qu}call(e,t){return t.subscribe(new on(e,this.total))}}class on extends en.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Bo(...n){const e=n[n.length-1];return(0,ts.K)(e)?(n.pop(),t=>Ec(n,t,e)):t=>Ec(n,t)}function Da(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new Ym(n,e,t))}}class Ym{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new jh(e,this.accumulator,this.seed,this.hasSeed))}}class jh extends en.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function qr(n,e){return function(r){return r.lift(new Ju(n,e))}}class Ju{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new $h(e,this.predicate,this.thisArg))}}class $h extends en.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function to(n){return function(t){const r=new Up(n),o=t.lift(r);return r.caught=o}}class Up{constructor(e){this.selector=e}call(e,t){return t.subscribe(new wc(e,this.selector,this.caught))}}class wc extends mr.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new mr.IY(this);this.add(r);const o=(0,mr.ft)(t,r);o!==r&&this.add(o)}}}var _r=V(9773);function no(n,e){return(0,_r.zg)(n,e,1)}function Bp(n){return function(t){return 0===n?(0,zr.c)():t.lift(new Vn(n))}}class Vn{constructor(e){if(this.total=e,this.total<0)throw new Qu}call(e,t){return t.subscribe(new Hl(e,this.total))}}class Hl extends en.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let l=0;l<r;l++){const h=t++%r;e.next(o[h])}}e.complete()}}function Cc(n=Ci){return e=>e.lift(new Tc(n))}class Tc{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Hh(e,this.errorFactory))}}class Hh extends en.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Ci(){return new Xs}function Ti(n=null){return e=>e.lift(new ns(n))}class ns{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new jo(e,this.defaultValue))}}class jo extends en.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Rr=V(4487);function Sa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qr((o,l)=>n(o,l,r)):Rr.y,Uo(1),t?Ti(e):Cc(()=>new Xs))}var yr=V(3342),Qm=V(1307),rs=V(5319);class T{constructor(e){this.callback=e}call(e,t){return t.subscribe(new S(e,this.callback))}}class S extends en.L{constructor(e,t){super(e),this.add(new rs.w(t))}}class k{constructor(e,t){this.id=e,this.url=t}}class B extends k{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class J extends k{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fe extends k{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ie extends k{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $e extends k{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class He extends k{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $t extends k{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kt extends k{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends k{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sr{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ro{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $o{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class is{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ho{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bt="primary";class ed{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function td(n){return new ed(n)}const Ic="ngNavigationCancelingError";function Dc(n){const e=Error("NavigationCancelingError: "+n);return e[Ic]=!0,e}function $p(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Li(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!Jm(n[o],e[o]))return!1;return!0}function Jm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function zo(n){return Array.prototype.concat.apply([],n)}function Sc(n){return n.length>0?n[n.length-1]:null}function vr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Vi(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,wn.D)(Promise.resolve(n)):(0,Ke.of)(n)}const ql={exact:function zh(n,e,t){if(!Ra(n.segments,e.segments)||!Ac(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!zh(n.children[r],e.children[r],t))return!1;return!0},subset:Zl},ss={exact:function(n,e){return Li(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Jm(n[t],e[t]))},ignored:()=>!0};function nd(n,e,t){return ql[t.paths](n.root,e.root,t.matrixParams)&&ss[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Zl(n,e,t){return xa(n,e,e.segments,t)}function xa(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ra(o,t)||e.hasChildren()||!Ac(o,t,r))}if(n.segments.length===t.length){if(!Ra(n.segments,t)||!Ac(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Zl(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Ra(n.segments,o)&&Ac(n.segments,o,r)&&n.children[bt])&&xa(n.children[bt],e,l,r)}}function Ac(n,e,t){return e.every((r,o)=>ss[t](n[o].parameters,r.parameters))}class Ma{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=td(this.queryParams)),this._queryParamMap}toString(){return e_.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zh(this)}}class io{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=td(this.parameters)),this._parameterMap}toString(){return Gh(this)}}function Ra(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class qh{}class Hp{parse(e){const t=new Zp(e);return new Ma(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${rd(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${qo(t)}=${qo(o)}`).join("&"):`${qo(t)}=${qo(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const e_=new Hp;function Zh(n){return n.segments.map(e=>Gh(e)).join("/")}function rd(n,e){if(!n.hasChildren())return Zh(n);if(e){const t=n.children[bt]?rd(n.children[bt],!1):"",r=[];return vr(n.children,(o,l)=>{l!==bt&&r.push(`${l}:${rd(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return vr(n.children,(r,o)=>{o===bt&&(t=t.concat(e(r,o)))}),vr(n.children,(r,o)=>{o!==bt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===bt?[rd(n.children[bt],!1)]:[`${o}:${rd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bt]?`${Zh(n)}/${t[0]}`:`${Zh(n)}/(${t.join("//")})`}}function t_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qo(n){return t_(n).replace(/%3B/gi,";")}function Oa(n){return t_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function id(n){return decodeURIComponent(n)}function n_(n){return id(n.replace(/\+/g,"%20"))}function Gh(n){return`${Oa(n.path)}${function(n){return Object.keys(n).map(e=>`;${Oa(e)}=${Oa(n[e])}`).join("")}(n.parameters)}`}const r_=/^[^\/()?;=#]+/;function sd(n){const e=n.match(r_);return e?e[0]:""}const i_=/^[^=?&#]+/,Lv=/^[^?&#]+/;class Zp{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[bt]=new Ot(e,t)),r}parseSegment(){const e=sd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new io(id(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=sd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=sd(this.remaining);o&&(r=o,this.capture(r))}e[id(t)]=id(r)}parseQueryParam(e){const t=function(n){const e=n.match(i_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(Lv);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=n_(t),l=n_(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=sd(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=bt);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[bt]:new Ot([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class s_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Gp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ms(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ms(e,this._root).map(t=>t.value)}}function Gp(n,e){if(n===e.value)return e;for(const t of e.children){const r=Gp(n,t);if(r)return r}return null}function Ms(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ms(n,t);if(r.length)return r.unshift(e),r}return[]}class Ii{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Wl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Wp extends s_{constructor(e,t){super(e),this.snapshot=t,Kp(this,e)}toString(){return this.snapshot.toString()}}function o_(n,e){const t=function(n,e){const h=new Yh([],{},{},"",{},bt,e,null,n.root,-1,{});return new Qh("",new Ii(h,[]))}(n,e),r=new gr([new io("",{})]),o=new gr({}),l=new gr({}),h=new gr({}),m=new gr(""),b=new Mc(r,o,h,m,l,bt,e,t.root);return b.snapshot=t.root,new Wp(new Ii(b,[]),t)}class Mc{constructor(e,t,r,o,l,h,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(e=>td(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(e=>td(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function a_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Yh{constructor(e,t,r,o,l,h,m,b,C,M,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=C,this._lastPathIndex=M,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=td(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=td(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qh extends s_{constructor(e,t){super(t),this.url=e,Kp(this,t)}toString(){return Yp(this._root)}}function Kp(n,e){e.value._routerState=n,e.children.forEach(t=>Kp(n,t))}function Yp(n){const e=n.children.length>0?` { ${n.children.map(Yp).join(", ")} } `:"";return`${n.value}${e}`}function c_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Li(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Li(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Li(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Li(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function od(n,e){return Li(n.params,e.params)&&function(n,e){return Ra(n,e)&&n.every((t,r)=>Li(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||od(n.parent,e.parent))}function Kl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Kl(n,r,o);return Kl(n,r)})}(n,e,t);return new Ii(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return os(e,h),h}}const r=function(n){return new Mc(new gr(n.url),new gr(n.params),new gr(n.queryParams),new gr(n.fragment),new gr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Kl(n,l));return new Ii(r,o)}}function os(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)os(n.children[t],e.children[t])}function Jh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function so(n){return"object"==typeof n&&null!=n&&n.outlets}function d_(n,e,t,r,o){let l={};return r&&vr(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new Ma(t.root===n?e:Bv(t.root,n,e),l,o)}function Bv(n,e,t){const r={};return vr(n.children,(o,l)=>{r[l]=o===e?t:Bv(o,e,t)}),new Ot(n.segments,r)}class Yl{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Jh(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(so);if(o&&o!==Sc(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function h_(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return ef(n,e,t);const r=function(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],m=t[r];if(so(m))break;const b=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&C&&"object"==typeof C&&void 0===C.outlets){if(!eg(b,C,h))return l;r+=2}else{if(!eg(b,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Ot(n.segments.slice(0,r.pathIndex),{});return l.children[bt]=new Ot(n.segments.slice(r.pathIndex),n.children),ef(l,0,o)}return r.match&&0===o.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?Xp(n,e,t):r.match?ef(n,0,o):Xp(n,e,t)}function ef(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const r=function(n){return so(n[0])?n[0].outlets:{[bt]:n}}(t),o={};return vr(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=h_(n.children[h],e,l))}),vr(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new Ot(n.segments,o)}}function Xp(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(so(l)){const b=f_(l.outlets);return new Ot(r,b)}if(0===o&&Jh(t[0])){r.push(new io(n.segments[e].path,ld(t[0]))),o++;continue}const h=so(l)?l.outlets[bt]:`${l}`,m=o<t.length-1?t[o+1]:null;h&&m&&Jh(m)?(r.push(new io(h,ld(m))),o+=2):(r.push(new io(h,{})),o++)}return new Ot(r,{})}function f_(n){const e={};return vr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Xp(new Ot([],{}),0,t))}),e}function ld(n){const e={};return vr(n,(t,r)=>e[r]=`${t}`),e}function eg(n,e,t){return n==t.path&&Li(e,t.parameters)}class p_{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),c_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Wl(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),vr(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Wl(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Wl(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new xs(l.value.snapshot))}),e.children.length&&this.forwardEvent(new $o(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(c_(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),mn(m.route)}else{const m=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function mn(n){c_(n.value),n.children.forEach(mn)}class ng{constructor(e,t){this.routes=e,this.module=t}}function as(n){return"function"==typeof n}function Oc(n){return n instanceof Ma}const rf=Symbol("INITIAL_VALUE");function ud(){return Ln(n=>function(...n){let e,t;return(0,ts.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,bc.k)(n[0])&&(n=n[0]),(0,Ku.n)(n,t).lift(new Lo(e))}(n.map(e=>e.pipe(Uo(1),Bo(rf)))).pipe(Da((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==rf?o:(l===rf&&(r=!0),r||!1!==l&&h!==t.length-1&&!Oc(l)?o:l),e)},rf),qr(e=>e!==rf),(0,ut.U)(e=>Oc(e)?e:!0===e),Uo(1)))}let Ql=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:function(){return[x_]},encapsulation:2}),n})();function Zr(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];rg(r,m_(e,r))}}function rg(n,e){n.children&&Zr(n.children,e)}function m_(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function kc(n){const e=n.children&&n.children.map(kc),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bt&&(t.component=Ql),t}function hn(n){return n.outlet||bt}function Pc(n,e){const t=n.filter(r=>hn(r)===e);return t.push(...n.filter(r=>hn(r)!==e)),t}const sf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function of(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},sf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||$p)(t,n,e);if(!l)return Object.assign({},sf);const h={};vr(l.posParams,(b,C)=>{h[C]=b.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function af(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Jl(n,e,r)&&hn(r)!==bt)}(n,t,r)){const h=new Ot(e,function(n,e,t,r){const o={};o[bt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&hn(l)!==bt){const h=new Ot([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[hn(l)]=h}return o}(n,e,r,new Ot(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Jl(n,e,r))}(n,t,r)){const h=new Ot(n.segments,function(n,e,t,r,o,l){const h={};for(const m of r)if(Jl(n,t,m)&&!o[hn(m)]){const b=new Ot([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[hn(m)]=b}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Ot(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Jl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function v_(n,e,t,r){return!!(hn(n)===r||r!==bt&&Jl(e,t,n))&&("**"===n.path||of(e,n,t).matched)}function lf(n,e,t){return 0===e.length&&!n.children[t]}class Or{constructor(e){this.segmentGroup=e||null}}class Nc{constructor(e){this.urlTree=e}}function Fc(n){return new Kn.y(e=>e.error(new Or(n)))}function sg(n){return new Kn.y(e=>e.error(new Nc(n)))}function og(n){return new Kn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class dd{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=af(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,bt).pipe((0,ut.U)(l=>this.createUrlTree(oo(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(to(l=>{if(l instanceof Nc)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Or?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,bt).pipe((0,ut.U)(o=>this.createUrlTree(oo(o),e.queryParams,e.fragment))).pipe(to(o=>{throw o instanceof Or?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Ot([],{[bt]:e}):e;return new Ma(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ut.U)(l=>new Ot([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,wn.D)(o).pipe(no(l=>{const h=r.children[l],m=Pc(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,ut.U)(b=>({segment:b,outlet:l})))}),Da((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qr((o,l)=>n(o,l,r)):Rr.y,Bp(1),t?Ti(e):Cc(()=>new Xs))}())}expandSegment(e,t,r,o,l,h){return(0,wn.D)(r).pipe(no(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,h).pipe(to(C=>{if(C instanceof Or)return(0,Ke.of)(null);throw C}))),Sa(m=>!!m),to((m,b)=>{if(m instanceof Xs||"EmptyError"===m.name){if(lf(t,o,l))return(0,Ke.of)(new Ot([],{}));throw new Or(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,h,m){return v_(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):Fc(t):Fc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sg(l):this.lineralizeSegments(r,l).pipe((0,_r.zg)(h=>{const m=new Ot(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:m,consumedSegments:b,lastChild:C,positionalParamSegments:M}=of(t,o,l);if(!m)return Fc(t);const O=this.applyRedirectCommands(b,o.redirectTo,M);return o.redirectTo.startsWith("/")?sg(O):this.lineralizeSegments(o,O).pipe((0,_r.zg)(j=>this.expandSegment(e,t,r,j.concat(l.slice(C)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ke.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ut.U)(j=>(r._loadedConfig=j,new Ot(o,{})))):(0,Ke.of)(new Ot(o,{}));const{matched:h,consumedSegments:m,lastChild:b}=of(t,r,o);if(!h)return Fc(t);const C=o.slice(b);return this.getChildConfig(e,r,o).pipe((0,_r.zg)(O=>{const j=O.module,K=O.routes,{segmentGroup:ee,slicedSegments:ye}=af(t,m,C,K),Re=new Ot(ee.segments,ee.children);if(0===ye.length&&Re.hasChildren())return this.expandChildren(j,K,Re).pipe((0,ut.U)(ct=>new Ot(m,ct)));if(0===K.length&&0===ye.length)return(0,Ke.of)(new Ot(m,{}));const it=hn(r)===l;return this.expandSegment(j,Re,K,ye,it?bt:l,!0).pipe((0,ut.U)(Nt=>new Ot(m.concat(Nt.segments),Nt.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ke.of)(new ng(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ke.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,_r.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,ut.U)(l=>(t._loadedConfig=l,l))):(n=t,new Kn.y(e=>e.error(Dc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ke.of)(new ng([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Ke.of)(!0);const l=o.map(h=>{const m=e.get(h);let b;if((n=m)&&as(n.canLoad))b=m.canLoad(t,r);else{if(!as(m))throw new Error("Invalid CanLoad guard");b=m(t,r)}var n;return Vi(b)});return(0,Ke.of)(l).pipe(ud(),(0,yr.b)(h=>{if(!Oc(h))return;const m=Dc(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,ut.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ke.of)(r);if(o.numberOfChildren>1||!o.children[bt])return og(e.redirectTo);o=o.children[bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new Ma(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return vr(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return vr(t.children,(m,b)=>{h[b]=this.createSegmentGroup(e,m,r,o)}),new Ot(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function oo(n){const e={};for(const r of Object.keys(n.children)){const l=oo(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[bt]){const e=n.children[bt];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}class w_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uf{constructor(e,t){this.component=e,this.route=t}}function qv(n,e,t){const r=n._root;return br(r,e?e._root:null,t,[r.value])}function kr(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function br(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Wl(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ra(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ra(n.url,e.url)||!Li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!od(n,e)||!Li(n.queryParams,e.queryParams);case"paramsChange":default:return!od(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new w_(r)):(l.data=h.data,l._resolvedData=h._resolvedData),br(n,e,l.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new uf(m.outlet.component,h))}else h&&Go(e,m,o),o.canActivateChecks.push(new w_(r)),br(n,null,l.component?m?m.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),vr(l,(h,m)=>Go(h,t.getContext(m),o)),o}function Go(n,e,t){const r=Wl(n),o=n.value;vr(r,(l,h)=>{Go(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new uf(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class y{}function p(n){return new Kn.y(e=>e.error(n))}class E{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=af(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,bt);if(null===t)return null;const r=new Yh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ii(r,t),l=new Qh(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=a_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=Pc(e,l),b=this.processSegmentGroup(m,h,l);if(null===b)return null;r.push(...b)}const o=ce(r);return o.sort((e,t)=>e.value.outlet===bt?-1:t.value.outlet===bt?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return lf(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!v_(e,t,r,o))return null;let l,h=[],m=[];if("**"===e.path){const K=r.length>0?Sc(r).parameters:{};l=new Yh(r,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ge(e),hn(e),e.component,e,Ae(t),Ze(t)+r.length,Rt(e))}else{const K=of(t,e,r);if(!K.matched)return null;h=K.consumedSegments,m=r.slice(K.lastChild),l=new Yh(h,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ge(e),hn(e),e.component,e,Ae(t),Ze(t)+h.length,Rt(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:M}=af(t,h,m,b.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);var n;if(0===M.length&&C.hasChildren()){const K=this.processChildren(b,C);return null===K?null:[new Ii(l,K)]}if(0===b.length&&0===M.length)return[new Ii(l,[])];const O=hn(e)===o,j=this.processSegment(b,C,M,O?bt:o);return null===j?null:[new Ii(l,j)]}}function H(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ce(n){const e=[],t=new Set;for(const r of n){if(!H(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=ce(r.children);e.push(new Ii(r.value,o))}return e.filter(r=>!t.has(r))}function Ae(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ze(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Ge(n){return n.data||{}}function Rt(n){return n.resolve||{}}function hd(n){return Ln(e=>{const t=n(e);return t?(0,wn.D)(t).pipe((0,ut.U)(()=>e)):(0,Ke.of)(e)})}class D_ extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const fd=new d.OlP("ROUTES");class ug{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,ut.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new ng(zo(h.injector.get(fd,void 0,d.XFs.Self|d.XFs.Optional)).map(kc),h)}),to(l=>{throw t._loader$=void 0,l}));return t._loader$=new eo.c(o,()=>new Vt.xQ).pipe((0,Qm.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,wn.D)(this.loader.load(e)):Vi(e()).pipe((0,_r.zg)(t=>t instanceof d.YKP?(0,Ke.of)(t):(0,wn.D)(this.compiler.compileModuleAsync(t))))}}class Kv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pa,this.attachRef=null}}class Pa{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Kv,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class N0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Qv(n){throw n}function F0(n,e,t){return e.parse("/")}function S_(n,e){return(0,Ke.of)(null)}const SS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{class n{constructor(t,r,o,l,h,m,b,C){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vt.xQ,this.errorHandler=Qv,this.malformedUriErrorHandler=F0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:S_,afterPreactivation:S_},this.urlHandlingStrategy=new N0,this.routeReuseStrategy=new D_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(d.h0i),this.console=h.get(d.c2e);const j=h.get(d.R0b);this.isNgZoneEnabled=j instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new Ma(new Ot([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ug(m,b,K=>this.triggerEvent(new ir(K)),K=>this.triggerEvent(new sr(K))),this.routerState=o_(this.currentUrlTree,this.rootComponentType),this.transitions=new gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(qr(o=>0!==o.id),(0,ut.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ln(o=>{let l=!1,h=!1;return(0,Ke.of)(o).pipe((0,yr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ln(m=>{const b=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Na(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,Ke.of)(m).pipe(Ln(O=>{const j=this.transitions.getValue();return r.next(new B(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),j!==this.transitions.getValue()?zr.E:Promise.resolve(O)}),function(n,e,t,r){return Ln(o=>function(n,e,t,r,o){return new dd(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,ut.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yr.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(n,e,t,r,o){return(0,_r.zg)(l=>function(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new E(n,e,t,r,o,l).recognize();return null===h?p(new y):(0,Ke.of)(h)}catch(h){return p(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,ut.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yr.b)(O=>{"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(O.urlAfterRedirects,O),this.browserUrlTree=O.urlAfterRedirects);const j=new $e(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(j)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:K,source:ee,restoredState:ye,extras:Re}=m,it=new B(j,this.serializeUrl(K),ee,ye);r.next(it);const st=o_(K,this.rootComponentType).snapshot;return(0,Ke.of)(Object.assign(Object.assign({},m),{targetSnapshot:st,urlAfterRedirects:K,extras:Object.assign(Object.assign({},Re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),zr.E}),hd(m=>{const{targetSnapshot:b,id:C,extractedUrl:M,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:K}}=m;return this.hooks.beforePreactivation(b,{navigationId:C,appliedUrlTree:M,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!K})}),(0,yr.b)(m=>{const b=new He(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,ut.U)(m=>Object.assign(Object.assign({},m),{guards:qv(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,e){return(0,_r.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?(0,Ke.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,wn.D)(n).pipe((0,_r.zg)(o=>function(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Ke.of)(!0);const h=l.map(m=>{const b=kr(m,e,o);let C;if(function(n){return n&&as(n.canDeactivate)}(b))C=Vi(b.canDeactivate(n,e,t,r));else{if(!as(b))throw new Error("Invalid CanDeactivate guard");C=Vi(b(n,e,t,r))}return C.pipe(Sa())});return(0,Ke.of)(h).pipe(ud())}(o.component,o.route,t,e,r)),Sa(o=>!0!==o,!0))}(h,r,o,n).pipe((0,_r.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,e,t,r){return(0,wn.D)(e).pipe(no(o=>Ec(function(n,e){return null!==n&&e&&e(new ro(n)),(0,Ke.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new is(n)),(0,Ke.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Fi(()=>{const m=h.guards.map(b=>{const C=kr(b,h.node,t);let M;if(function(n){return n&&as(n.canActivateChild)}(C))M=Vi(C.canActivateChild(r,n));else{if(!as(C))throw new Error("Invalid CanActivateChild guard");M=Vi(C(r,n))}return M.pipe(Sa())});return(0,Ke.of)(m).pipe(ud())}));return(0,Ke.of)(l).pipe(ud())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ke.of)(!0);const o=r.map(l=>Fi(()=>{const h=kr(l,e,t);let m;if(function(n){return n&&as(n.canActivate)}(h))m=Vi(h.canActivate(e,n));else{if(!as(h))throw new Error("Invalid CanActivate guard");m=Vi(h(e,n))}return m.pipe(Sa())}));return(0,Ke.of)(o).pipe(ud())}(n,o.route,t))),Sa(o=>!0!==o,!0))}(r,l,n,e):(0,Ke.of)(m)),(0,ut.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,yr.b)(m=>{if(Oc(m.guardsResult)){const C=Dc(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw C.url=m.guardsResult,C}const b=new $t(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),qr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),hd(m=>{if(m.guards.canActivateChecks.length)return(0,Ke.of)(m).pipe((0,yr.b)(b=>{const C=new Kt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}),Ln(b=>{let C=!1;return(0,Ke.of)(b).pipe(function(n,e){return(0,_r.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ke.of)(t);let l=0;return(0,wn.D)(o).pipe(no(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Ke.of)({});const l={};return(0,wn.D)(o).pipe((0,_r.zg)(h=>function(n,e,t,r){const o=kr(n,e,r);return Vi(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,yr.b)(m=>{l[h]=m}))),Bp(1),(0,_r.zg)(()=>Object.keys(l).length===o.length?(0,Ke.of)(l):zr.E))}(n._resolve,n,e,r).pipe((0,ut.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),a_(n,t).resolve),null)))}(h.route,r,n,e)),(0,yr.b)(()=>l++),Bp(1),(0,_r.zg)(h=>l===o.length?(0,Ke.of)(t):zr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yr.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,yr.b)(b=>{const C=new rr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}))}),hd(m=>{const{targetSnapshot:b,id:C,extractedUrl:M,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:K}}=m;return this.hooks.afterPreactivation(b,{navigationId:C,appliedUrlTree:M,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!K})}),(0,ut.U)(m=>{const b=function(n,e,t){const r=Kl(n,e._root,t?t._root:void 0);return new Wp(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,yr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,ut.U)(r=>(new p_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,yr.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new T(n))}(()=>{var m;if(!l&&!h){const b=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,b)):this.cancelNavigationTransition(o,b)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),to(m=>{if(h=!0,function(n){return n&&n[Ic]}(m)){const b=Oc(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const C=new fe(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(C),b?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Na(o.source)};this.scheduleNavigation(M,"imperative",null,O,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new Ie(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(C){o.reject(C)}}return zr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:l,urlTree:h}=r,m={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,o,l,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Zr(t),this.config=t.map(kc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,C=o||this.routerState.root,M=b?this.currentUrlTree.fragment:h;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),function(n,e,t,r,o){if(0===t.length)return d_(e.root,e.root,e,r,o);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yl(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return vr(l.outlets,(b,C)=>{m[C]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new Yl(t,e,r)}(t);if(l.toRoot())return d_(e.root,new Ot([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new Rc(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Rc(l,l===e.root,0)}const r=Jh(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Rc(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?ef(h.segmentGroup,h.index,l.commands):h_(h.segmentGroup,h.index,l.commands);return d_(h.segmentGroup,m,e,r,o)}(C,this.currentUrlTree,t,O,null!=M?M:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Oc(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},SS):!1===r?Object.assign({},AS):r,Oc(t))return nd(this.currentUrlTree,t,o);const l=this.parseUrl(t);return nd(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var m,b;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),M=Na(r)&&C&&!Na(C.source),K=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===t.toString();if(M&&K)return Promise.resolve(!0);let ee,ye,Re;h?(ee=h.resolve,ye=h.reject,Re=h.promise):Re=new Promise((Nt,ct)=>{ee=Nt,ye=ct});const it=++this.navigationId;let st;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),st=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):st=0,this.setTransition({id:it,targetPageId:st,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:ee,reject:ye,promise:Re,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Re.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new fe(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.DyG),d.LFG(qh),d.LFG(Pa),d.LFG(It),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Na(n){return"imperative"!==n}let A_=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.route=r,this.commands=[],this.onChanges=new Vt.xQ,null==o&&l.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:gf(this.skipLocationChange),replaceUrl:gf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gf(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ui),d.Y36(Mc),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),n})(),pf=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=[],this.onChanges=new Vt.xQ,this.subscription=t.events.subscribe(l=>{l instanceof J&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,h){if(0!==t||r||o||l||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const m={skipLocationChange:gf(this.skipLocationChange),replaceUrl:gf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gf(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ui),d.Y36(Mc),d.Y36(Y))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&(d.Ikx("href",r.href,d.LSH),d.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),n})();function gf(n){return""===n||!!n}let dg=(()=>{class n{constructor(t,r,o,l,h,m){this.router=t,this.element=r,this.renderer=o,this.cdr=l,this.link=h,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(b=>{b instanceof J&&this.update()})}ngAfterContentInit(){(0,Ke.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ke.of)(null)).pipe((0,As.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,wn.D)(r).pipe((0,As.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}))})}isLinkActive(t){const r=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ui),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(A_,8),d.Y36(pf,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&(d.Suo(o,A_,5),d.Suo(o,pf,5)),2&t){let l;d.iGM(l=d.CRH())&&(r.links=l),d.iGM(l=d.CRH())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[d.TTD]}),n})(),x_=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=l||bt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new V0(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Pa),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class V0{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Mc?this.route:e===Pa?this.childContexts:this.parent.get(e,t)}}class Jv{}class eb{preload(e,t){return(0,Ke.of)(null)}}let hg=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.injector=l,this.preloadingStrategy=h,this.loader=new ug(r,o,C=>t.triggerEvent(new ir(C)),C=>t.triggerEvent(new sr(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(qr(t=>t instanceof J),no(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,wn.D)(o).pipe((0,As.J)(),(0,ut.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ke.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,_r.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ui),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Jv))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),mf=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof B?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof J&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ho&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ho(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ui),d.LFG(sc),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Vc=new d.OlP("ROUTER_CONFIGURATION"),tb=new d.OlP("ROUTER_FORROOT_GUARD"),fg=[It,{provide:qh,useClass:Hp},{provide:Ui,useFactory:function(n,e,t,r,o,l,h,m={},b,C){const M=new Ui(null,n,e,t,r,o,l,zo(h));return b&&(M.urlHandlingStrategy=b),C&&(M.routeReuseStrategy=C),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(m,M),m.enableTracing&&M.events.subscribe(O=>{var j,K;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(K=console.groupEnd)||void 0===K||K.call(console)}),M},deps:[qh,Pa,It,d.zs3,d.v3s,d.Sil,fd,Vc,[class{},new d.FiY],[class{},new d.FiY]]},Pa,{provide:Mc,useFactory:function(n){return n.routerState.root},deps:[Ui]},{provide:d.v3s,useClass:d.EAV},hg,eb,class{preload(e,t){return t().pipe(to(()=>(0,Ke.of)(null)))}},{provide:Vc,useValue:{enableTracing:!1}}];function RS(){return new d.PXZ("Router",Ui)}let rb=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[fg,M_(t),{provide:tb,useFactory:U0,deps:[[Ui,new d.FiY,new d.tp0]]},{provide:Vc,useValue:r||{}},{provide:Y,useFactory:kS,deps:[ae,[new d.tBr(Te),new d.FiY],Vc]},{provide:mf,useFactory:OS,deps:[Ui,sc,Vc]},{provide:Jv,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:eb},{provide:d.PXZ,multi:!0,useFactory:RS},[ib,{provide:d.ip1,multi:!0,useFactory:$0,deps:[ib]},{provide:H0,useFactory:PS,deps:[ib]},{provide:d.tb,multi:!0,useExisting:H0}]]}}static forChild(t){return{ngModule:n,providers:[M_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tb,8),d.LFG(Ui,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function OS(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new mf(n,e,t)}function kS(n,e,t={}){return t.useHash?new Ue(n,e):new Pe(n,e)}function U0(n){return"guarded"}function M_(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:fd,multi:!0,useValue:n}]}let ib=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Vt.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(Ui),h=this.injector.get(Vc);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Ke.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Vc),o=this.injector.get(hg),l=this.injector.get(mf),h=this.injector.get(Ui),m=this.injector.get(d.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function $0(n){return n.appInitializer.bind(n)}function PS(n){return n.bootstrapListener.bind(n)}const H0=new d.OlP("Router Initializer");class z0{}var R_=V(3637),si=V(9259);function O_(){return n=>n.lift(new NS)}class NS{call(e,t){return t.subscribe(new q0(e))}}class q0 extends en.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function sb(n,e){return t=>t.lift(new FS(n,e))}class FS{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new LS(e,this.compare,this.keySelector))}}class LS extends en.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var qe,ot=V(8939),Z0=(V(8402),V(3394)),me=V(8239),oi=V(8026),pg=V(3910),tu=V(5422),kt=V(3854),Uc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Yo={},gg=gg||{},Tt=Uc||self;function mg(){}function G0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rs(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _f="closure_uid_"+(1e9*Math.random()>>>0),ob=0;function XR(n,e,t){return n.call.apply(n.bind,arguments)}function US(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Gr(n,e,t){return(Gr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?XR:US).apply(null,arguments)}function ab(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ai(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function pd(){this.s=this.s,this.o=this.o}var K0={};pd.prototype.s=!1,pd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,_f)&&n[_f]||(n[_f]=++ob)}(this);delete K0[n]}},pd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},P_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function BS(n){return Array.prototype.concat.apply([],arguments)}function Q0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function cb(n){return/^[\s\xa0]*$/.test(n)}var ls,jS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function cs(n,e){return-1!=n.indexOf(e)}function J0(n,e){return n<e?-1:n>e?1:0}e:{var $S=Tt.navigator;if($S){var HS=$S.userAgent;if(HS){ls=HS;break e}}ls=""}function X0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Bc(n){const e={};for(const t in n)e[t]=n[t];return e}var N_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eC(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<N_.length;l++)t=N_[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function F_(n){return F_[" "](n),n}F_[" "]=mg;var yf,n,tC=cs(ls,"Opera"),nu=cs(ls,"Trident")||cs(ls,"MSIE"),nC=cs(ls,"Edge"),Fa=nC||nu,ub=cs(ls,"Gecko")&&!(cs(ls.toLowerCase(),"webkit")&&!cs(ls,"Edge"))&&!(cs(ls,"Trident")||cs(ls,"MSIE"))&&!cs(ls,"Edge"),zS=cs(ls.toLowerCase(),"webkit")&&!cs(ls,"Edge");function qS(){var n=Tt.document;return n?n.documentMode:void 0}e:{var db="",L_=(n=ls,ub?/rv:([^\);]+)(\)|;)/.exec(n):nC?/Edge\/([\d\.]+)/.exec(n):nu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zS?/WebKit\/(\S+)/.exec(n):tC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(L_&&(db=L_?L_[1]:""),nu){var hb=qS();if(null!=hb&&hb>parseFloat(db)){yf=String(hb);break e}}yf=db}var ZS={};function _g(){return e=ZS,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=jS(String(yf)).split("."),t=jS("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=J0(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||J0(0==o[2].length,0==l[2].length)||J0(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n}();var e}var vf=Tt.document&&nu&&(qS()||parseInt(yf,10))||void 0,yg=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Tt.addEventListener("test",mg,e),Tt.removeEventListener("test",mg,e)}catch(t){}return n}();function or(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function vg(n,e){if(or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ub){e:{try{F_(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vg.Z.h.call(this)}}or.prototype.h=function(){this.defaultPrevented=!0},ai(vg,or);var rC={2:"touch",3:"pen",4:"mouse"};vg.prototype.h=function(){vg.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bf="closure_listenable_"+(1e6*Math.random()|0),fb=0;function pb(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++fb,this.ca=this.fa=!1}function bg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function gd(n){this.src=n,this.g={},this.h=0}function gb(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=Y0(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(bg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function U_(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}gd.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=U_(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new pb(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var iC="closure_lm_"+(1e6*Math.random()|0),B_={};function mb(n,e,t,r,o){if(r&&r.once)return aC(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)mb(n,e[l],t,r,o);return null}return t=j_(t),n&&n[bf]?n.N(e,t,Rs(r)?!!r.capture:!!r,o):sC(n,e,t,!1,r,o)}function sC(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=Rs(o)?!!o.capture:!!o,m=uC(n);if(m||(n[iC]=m=new gd(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=GS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)yg||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(lC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function aC(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)aC(n,e[l],t,r,o);return null}return t=j_(t),n&&n[bf]?n.O(e,t,Rs(r)?!!r.capture:!!r,o):sC(n,e,t,!0,r,o)}function cC(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)cC(n,e[l],t,r,o);else r=Rs(r)?!!r.capture:!!r,t=j_(t),n&&n[bf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=U_(l=n.g[e],t,r,o))&&(bg(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=uC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=U_(e,t,r,o)),(t=-1<n?e[n]:null)&&Bi(t))}function Bi(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[bf])gb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(lC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=uC(e))?(gb(t,n),0==t.h&&(t.src=null,e[iC]=null)):bg(n)}}}function lC(n){return n in B_?B_[n]:B_[n]="on"+n}function GS(n,e){if(n.ca)n=!0;else{e=new vg(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Bi(n),n=t.call(r,e)}return n}function uC(n){return(n=n[iC])instanceof gd?n:null}var dC="__closure_events_fn_"+(1e9*Math.random()>>>0);function j_(n){return"function"==typeof n?n:(n[dC]||(n[dC]=function(e){return n.handleEvent(e)}),n[dC])}function ci(){pd.call(this),this.i=new gd(this),this.P=this,this.I=null}function li(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new or(e,n);else if(e instanceof or)e.target=e.target||n;else{var o=e;eC(e=new or(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=Ef(h,r,!0,e)&&o}if(o=Ef(h=e.g=n,r,!0,e)&&o,o=Ef(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Ef(h=e.g=t[l],r,!1,e)&&o}function Ef(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,b=h.ia||h.src;h.fa&&gb(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}ai(ci,pd),ci.prototype[bf]=!0,ci.prototype.removeEventListener=function(n,e,t,r){cC(this,n,e,t,r)},ci.prototype.M=function(){if(ci.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)bg(t[r]);delete n.g[e],n.h--}}this.I=null},ci.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ci.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var $_=Tt.JSON.stringify;function WS(){var n=yb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _b,hC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fC,n=>n.reset());class fC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function YS(n){Tt.setTimeout(()=>{throw n},0)}function H_(n,e){_b||function(){var n=Tt.Promise.resolve(void 0);_b=function(){n.then(JS)}}(),z_||(_b(),z_=!0),yb.add(n,e)}var z_=!1,yb=new class{constructor(){this.h=this.g=null}add(e,t){const r=hC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function JS(){for(var n;n=WS();){try{n.h.call(n.g)}catch(t){YS(t)}var e=hC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}z_=!1}function Os(n,e){ci.call(this),this.h=n||1,this.g=e||Tt,this.j=Gr(this.kb,this),this.l=Date.now()}function Eg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function vb(n,e,t){if("function"==typeof n)t&&(n=Gr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Gr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Tt.setTimeout(n,e||0)}function pC(n){n.g=vb(()=>{n.g=null,n.i&&(n.i=!1,pC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ai(Os,ci),(qe=Os.prototype).da=!1,qe.S=null,qe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),li(this,"tick"),this.da&&(Eg(this),this.start()))}},qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){Os.Z.M.call(this),Eg(this),delete this.g};class tO extends pd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pC(this)}M(){super.M(),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wf(n){pd.call(this),this.h=n,this.g={}}ai(wf,pd);var gC=[];function mC(n,e,t,r){Array.isArray(t)||(t&&(gC[0]=t.toString()),t=gC);for(var o=0;o<t.length;o++){var l=mb(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function _C(n){X0(n.g,function(e,t){this.g.hasOwnProperty(t)&&Bi(e)},n),n.g={}}function Cf(){this.g=!0}function jc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return $_(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}wf.prototype.M=function(){wf.Z.M.call(this),_C(this)},wf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cf.prototype.Aa=function(){this.g=!1},Cf.prototype.info=function(){};var $c={},q_=null;function wg(){return q_=q_||new ci}function yC(n){or.call(this,$c.Ma,n)}function Cg(n){const e=wg();li(e,new yC(e,n))}function Z_(n,e){or.call(this,$c.STAT_EVENT,n),this.stat=e}function us(n){const e=wg();li(e,new Z_(e,n))}function vC(n,e){or.call(this,$c.Na,n),this.size=e}function Tf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){n()},e)}$c.Ma="serverreachability",ai(yC,or),$c.STAT_EVENT="statevent",ai(Z_,or),$c.Na="timingevent",ai(vC,or);var Tg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Eb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function G_(){}function La(){}G_.prototype.h=null;var bC,iu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Cb(){or.call(this,"d")}function Tb(){or.call(this,"c")}function Hc(){}function If(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new wf(this),this.P=Ig,this.W=new Os(n=Fa?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Df}function Df(){this.i=null,this.g="",this.h=!1}ai(Cb,or),ai(Tb,or),ai(Hc,G_),Hc.prototype.g=function(){return new XMLHttpRequest},Hc.prototype.i=function(){return{}},bC=new Hc;var Ig=45e3,Ib={},Sf={};function W_(n,e,t){n.K=1,n.v=Mf(Ua(e)),n.s=t,n.U=!0,EC(n,null)}function EC(n,e){n.F=Date.now(),Dg(n),n.A=Ua(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Pb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Df,n.g=Hb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new tO(Gr(n.Ia,n,n.g),n.O)),mC(n.V,n.g,"readystatechange",n.gb),e=n.H?Bc(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Cg(1),function(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),b=0;b<m.length;b++){var C=m[b].split("=");if(1<C.length){var M=C[0];C=C[1];var O=M.split("_");h=2<=O.length&&"type"==O[1]?h+(M+"=")+C+"&":h+(M+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Db(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function wC(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Sb(n,t),o==Sf){4==e&&(n.o=4,us(14),r=!1),jc(n.j,n.m,null,"[Incomplete Response]");break}if(o==Ib){n.o=4,us(15),jc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}jc(n.j,n.m,o,null),Ab(n,o)}Db(n)&&o!=Sf&&o!=Ib&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,us(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),du(e),e.L=!0,us(11))):(jc(n.j,n.m,t,"[Invalid Chunked Response]"),su(n),Va(n))}function Sb(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Sf:(t=Number(e.substring(t,r)),isNaN(t)?Ib:(r+=1)+t>e.length?Sf:(e=e.substr(r,t),n.C=r+t,e))}function Dg(n){n.Y=Date.now()+n.P,CC(n,n.P)}function CC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Tf(Gr(n.eb,n),e)}function Sg(n){n.B&&(Tt.clearTimeout(n.B),n.B=null)}function Va(n){0==n.l.G||n.I||bd(n.l,n)}function su(n){Sg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Eg(n.W),_C(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ab(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Fb(t.i,n)))if(t.I=n.N,!n.J&&Fb(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Tf(Gr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Zc(t),Q_(t)}uu(t),us(18)}if(1>=Nb(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else lo(t,11)}else if((n.J||t.g==n)&&Zc(t),!cb(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const M=C[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const O=C[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const j=C[5];null!=j&&"number"==typeof j&&0<j&&(t.K=r=1.5*j,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const ee=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var l=r.i;!l.g&&(cs(ee,"spdy")||cs(ee,"quic")||cs(ee,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Lb(l,l.h),l.h=null))}if(r.D){const ye=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.sa=ye,Cn(r.F,r.D,ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=Cd(r,r.H?r.la:null,r.W),h.J){lA(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(Sg(m),Dg(m)),r.g=h}else X_(r);0<t.l.length&&au(t)}else"stop"!=C[0]&&"close"!=C[0]||lo(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?lo(t,7):$b(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}Cg(4)}catch(C){}}function ou(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(G0(n)||"string"==typeof n)P_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(G0(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(G0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Af(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Af)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function xb(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];md(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)md(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function md(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(qe=If.prototype).setTimeout=function(n){this.P=n},qe.gb=function(n){n=n.target;const e=this.L;e&&3==qc(n)?e.l():this.Ia(n)},qe.Ia=function(n){try{if(n==this.g)e:{const M=qc(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>M)&&(3!=M||Fa||this.g&&(this.h.h||this.g.ga()||Rg(this.g)))){this.I||4!=M||7==e||Cg(8==e||0>=O?3:2),Sg(this);var t=this.g.ba();this.N=t;t:if(Db(this)){var r=Rg(this.g);n="";var o=r.length,l=4==qc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){su(this),Va(this);var h="";break t}this.h.i=new Tt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cb(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,us(12),su(this),Va(this);break e}jc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ab(this,t)}this.U?(wC(this,M,h),Fa&&this.i&&3==M&&(mC(this.V,this.W,"tick",this.fb),this.W.start())):(jc(this.j,this.m,h,null),Ab(this,h)),4==M&&su(this),this.i&&!this.I&&(4==M?bd(this.l,this):(this.i=!1,Dg(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,us(12)):(this.o=0,us(13)),su(this),Va(this)}}}catch(M){}},qe.fb=function(){if(this.g){var n=qc(this.g),e=this.g.ga();this.C<e.length&&(Sg(this),wC(this,n,e),this.i&&4!=n&&Dg(this))}},qe.cancel=function(){this.I=!0,su(this)},qe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Cg(3),us(17)),su(this),this.o=2,Va(this)):CC(this,this.Y-n)},(qe=Af.prototype).R=function(){xb(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},qe.T=function(){return xb(this),this.g.concat()},qe.get=function(n,e){return md(this.h,n)?this.h[n]:e},qe.set=function(n,e){md(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},qe.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var TC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _d(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof _d){this.g=void 0!==e?e:n.g,_n(this,n.j),this.s=n.s,xf(this,n.i),Mb(this,n.m),this.l=n.l,e=n.h;var t=new yd;t.i=e.i,e.g&&(t.g=new Af(e.g),t.h=e.h),Ba(this,t),this.o=n.o}else n&&(t=String(n).match(TC))?(this.g=!!e,_n(this,t[1]||"",!0),this.s=Ag(t[2]||""),xf(this,t[3]||"",!0),Mb(this,t[4]),this.l=Ag(t[5]||"",!0),Ba(this,t[6]||"",!0),this.o=Ag(t[7]||"")):(this.g=!!e,this.h=new yd(null,this.g))}function Ua(n){return new _d(n)}function _n(n,e,t){n.j=t?Ag(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xf(n,e,t){n.i=t?Ag(e,!0):e}function Mb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ba(n,e,t){e instanceof yd?(n.h=e,function(n,e){e&&!n.j&&(zc(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Ob(this,r),Pb(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Rf(e,sA)),n.h=new yd(e,n.g))}function Cn(n,e,t){n.h.set(e,t)}function Mf(n){return Cn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ag(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,IC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function IC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_d.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rf(e,Rb,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rf(e,Rb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rf(t,"/"==t.charAt(0)?iA:DC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rf(t,xg)),n.join("")};var Rb=/[#\/\?@]/g,DC=/[#\?:]/g,iA=/[#\?]/g,sA=/[#\?@]/g,xg=/#/g;function yd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zc(n){n.g||(n.g=new Af,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ob(n,e){zc(n),e=Of(n,e),md(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,md((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&xb(n)))}function kb(n,e){return zc(n),e=Of(n,e),md(n.g.h,e)}function Pb(n,e,t){Ob(n,e),0<t.length&&(n.i=null,n.g.set(Of(n,e),Q0(t)),n.h+=t.length)}function Of(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function SC(n){this.l=n||AC,n=Tt.PerformanceNavigationTiming?0<(n=Tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Tt.g&&Tt.g.Ea&&Tt.g.Ea()&&Tt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qe=yd.prototype).add=function(n,e){zc(this),this.i=null,n=Of(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qe.forEach=function(n,e){zc(this),this.g.forEach(function(t,r){P_(t,function(o){n.call(e,o,r,this)},this)},this)},qe.T=function(){zc(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},qe.R=function(n){zc(this);var e=[];if("string"==typeof n)kb(this,n)&&(e=BS(e,this.g.get(Of(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=BS(e,n[t])}return e},qe.set=function(n,e){return zc(this),this.i=null,kb(this,n=Of(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var AC=10;function cA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Nb(n){return n.h?1:n.g?n.g.size:0}function Fb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Lb(n,e){n.g?n.g.add(e):n.h=e}function lA(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function uA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Q0(n.i)}function Mg(){}function dA(){this.g=new Mg}function xC(n,e,t){const r=t||"";try{ou(n,function(o,l){let h=o;Rs(o)&&(h=$_(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Vb(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function ji(n){this.l=n.$b||null,this.j=n.ib||!1}function Ub(n,e){ci.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=RC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}SC.prototype.cancel=function(){if(this.i=uA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Mg.prototype.stringify=function(n){return Tt.JSON.stringify(n,void 0)},Mg.prototype.parse=function(n){return Tt.JSON.parse(n,void 0)},ai(ji,G_),ji.prototype.g=function(){return new Ub(this.l,this.j)},ji.prototype.i=function(n){return function(){return n}}({}),ai(Ub,ci);var RC=0;function hA(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function kf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pf(n)}function Pf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qe=Ub.prototype).open=function(n,e){if(this.readyState!=RC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Pf(this)},qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Tt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kf(this)),this.readyState=RC},qe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pf(this)),this.g&&(this.readyState=3,Pf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Tt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hA(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},qe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?kf(this):Pf(this),3==this.readyState&&hA(this)}},qe.Ua=function(n){this.g&&(this.response=this.responseText=n,kf(this))},qe.Ta=function(n){this.g&&(this.response=n,kf(this))},qe.ha=function(){this.g&&kf(this)},qe.setRequestHeader=function(n,e){this.v.append(n,e)},qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ub.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var OC=Tt.JSON.parse;function Er(n){ci.call(this),this.headers=new Af,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fA,this.K=this.L=!1}ai(Er,ci);var fA="",kC=/^https?$/i,Bb=["POST","PUT"];function jb(n){return"content-type"==n.toLowerCase()}function PC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,NC(n),K_(n)}function NC(n){n.D||(n.D=!0,li(n,"complete"),li(n,"error"))}function FC(n){if(n.h&&void 0!==gg&&(!n.C[1]||4!=qc(n)||2!=n.ba()))if(n.v&&4==qc(n))vb(n.Fa,0,n);else if(li(n,"readystatechange"),4==qc(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(TC)[1]||null;if(!o&&Tt.self&&Tt.self.location){var l=Tt.self.location.protocol;o=l.substr(0,l.length-1)}r=!kC.test(o?o.toLowerCase():"")}t=r}if(t)li(n,"complete"),li(n,"success");else{n.m=6;try{var h=2<qc(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",NC(n)}}finally{K_(n)}}}function K_(n,e){if(n.g){LC(n);const t=n.g,r=n.C[0]?mg:null;n.g=null,n.C=null,e||li(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function LC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Tt.clearTimeout(n.A),n.A=null)}function qc(n){return n.g?n.g.readyState:0}function Rg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case fA:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Y_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return X0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Cn(n,e,t))}function $i(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ff(n){this.za=0,this.l=[],this.h=new Cf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$i("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$i("baseRetryDelayMs",5e3,n),this.$a=$i("retryDelaySeedMs",1e4,n),this.Ya=$i("forwardChannelMaxRetries",2,n),this.ra=$i("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new SC(n&&n.concurrentRequestLimit),this.Ca=new dA,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function $b(n){if(J_(n),3==n.G){var e=n.V++,t=Ua(n.F);Cn(t,"SID",n.J),Cn(t,"RID",e),Cn(t,"TYPE","terminate"),lu(n,t),(e=new If(n,n.h,e,void 0)).K=2,e.v=Mf(Ua(t)),t=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(t=Tt.navigator.sendBeacon(e.v.toString(),"")),!t&&Tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Hb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Dg(e)}wd(n)}function Q_(n){n.g&&(du(n),n.g.cancel(),n.g=null)}function J_(n){Q_(n),n.u&&(Tt.clearTimeout(n.u),n.u=null),Zc(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Tt.clearTimeout(n.m),n.m=null)}function co(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&au(n)}function au(n){cA(n.i)||n.m||(n.m=!0,H_(n.Ha,n),n.C=0)}function cu(n,e){var t;t=e?e.m:n.V++;const r=Ua(n.F);Cn(r,"SID",n.J),Cn(r,"RID",t),Cn(r,"AID",n.U),lu(n,r),n.o&&n.s&&Y_(r,n.o,n.s),t=new If(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ks(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Lb(n.i,t),W_(t,r,e)}function lu(n,e){n.j&&ou({},function(t,r){Cn(e,r,t)})}function ks(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Gr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let b=0;b<t;b++){let C=o[b].h;const M=o[b].g;if(C-=l,0>C)l=Math.max(0,o[b].h-100),m=!1;else try{xC(M,h,"req"+C+"_")}catch(O){r&&r(M)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function X_(n){n.g||n.u||(n.Y=1,H_(n.Ga,n),n.A=0)}function uu(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Tf(Gr(n.Ga,n),Ed(n,n.A)),n.A++,0))}function du(n){null!=n.B&&(Tt.clearTimeout(n.B),n.B=null)}function vd(n){n.g=new If(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ua(n.oa);Cn(e,"RID","rpc"),Cn(e,"SID",n.J),Cn(e,"CI",n.N?"0":"1"),Cn(e,"AID",n.U),lu(n,e),Cn(e,"TYPE","xmlhttp"),n.o&&n.s&&Y_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Mf(Ua(e)),t.s=null,t.U=!0,EC(t,n)}function Zc(n){null!=n.v&&(Tt.clearTimeout(n.v),n.v=null)}function bd(n,e){var t=null;if(n.g==e){Zc(n),du(n),n.g=null;var r=2}else{if(!Fb(n.i,e))return;t=e.D,lA(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;li(r=wg(),new vC(r,t,e,o)),au(n)}else X_(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(Nb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Tf(Gr(n.Ha,n,e),Ed(n,n.C)),n.C++,0)))}(n,e)||2==r&&uu(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:lo(n,5);break;case 4:lo(n,10);break;case 3:lo(n,6);break;default:lo(n,2)}}function Ed(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function lo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Gr(n.jb,n);t||(t=new _d("//www.google.com/images/cleardot.gif"),Tt.location&&"http"==Tt.location.protocol||_n(t,"https"),Mf(t)),function(n,e){const t=new Cf;if(Tt.Image){const r=new Image;r.onload=ab(Vb,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ab(Vb,t,r,"TestLoadImage: error",!1,e),r.onabort=ab(Vb,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ab(Vb,t,r,"TestLoadImage: timeout",!1,e),Tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else us(2);n.G=0,n.j&&n.j.va(e),wd(n),J_(n)}function wd(n){n.G=0,n.I=-1,n.j&&((0!=uA(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Q0(n.l),n.l.length=0),n.j.ua())}function Cd(n,e,t){let r=function(n){return n instanceof _d?Ua(n):new _d(n,void 0)}(t);if(""!=r.i)e&&xf(r,e+"."+r.i),Mb(r,r.m);else{const o=Tt.location;r=function(n,e,t,r){var o=new _d(null,void 0);return n&&_n(o,n),e&&xf(o,e),t&&Mb(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&X0(n.aa,function(o,l){Cn(r,l,o)}),t=n.sa,(e=n.D)&&t&&Cn(r,e,t),Cn(r,"VER",n.ma),lu(n,r),r}function Hb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Er(t&&n.Ba&&!n.qa?new ji({ib:!0}):n.qa)).L=n.H,e}function zb(){}function Og(){if(nu&&!(10<=Number(vf)))throw Error("Environmental error: no available transport.")}function ds(n,e){ci.call(this),this.g=new Ff(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!cb(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cb(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Td(this)}function qb(n){Cb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Zb(){Tb.call(this),this.status=1}function Td(n){this.g=n}(qe=Er.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bC.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:bC),this.g.onreadystatechange=Gr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void PC(this,l)}n=t||"";const o=new Af(this.headers);r&&ou(r,function(l,h){o.set(h,l)}),r=function(n){e:{var e=jb;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Tt.FormData&&n instanceof Tt.FormData,!(0<=Y0(Bb,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{LC(this),0<this.B&&((this.K=function(n){return nu&&_g()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gr(this.pa,this)):this.A=vb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){PC(this,l)}},qe.pa=function(){void 0!==gg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,li(this,"timeout"),this.abort(8))},qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,li(this,"complete"),li(this,"abort"),K_(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),K_(this,!0)),Er.Z.M.call(this)},qe.Fa=function(){this.s||(this.F||this.v||this.l?FC(this):this.cb())},qe.cb=function(){FC(this)},qe.ba=function(){try{return 2<qc(this)?this.g.status:-1}catch(n){return-1}},qe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},qe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),OC(e)}},qe.Da=function(){return this.m},qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=Ff.prototype).ma=8,qe.G=1,qe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},qe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new If(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Bc(l),eC(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ks(this,o,e),Cn(t=Ua(this.F),"RID",n),Cn(t,"CVER",22),this.D&&Cn(t,"X-HTTP-Session-Id",this.D),lu(this,t),this.o&&l&&Y_(t,this.o,l),Lb(this.i,o),this.Ra&&Cn(t,"TYPE","init"),this.ja?(Cn(t,"$req",e),Cn(t,"SID","null"),o.$=!0,W_(o,t,null)):W_(o,t,e),this.G=2}}else 3==this.G&&(n?cu(this,n):0==this.l.length||cA(this.i)||cu(this))},qe.Ga=function(){if(this.u=null,vd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Tf(Gr(this.bb,this),n)}},qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,us(10),Q_(this),vd(this))},qe.ab=function(){null!=this.v&&(this.v=null,Q_(this),uu(this),us(19))},qe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),us(2)):(this.h.info("Failed to ping google.com"),us(1))},(qe=zb.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Oa=function(){},Og.prototype.g=function(n,e){return new ds(n,e)},ai(ds,ci),ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),H_(Gr(n.hb,n,e))),us(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Cd(n,null,n.W),au(n)},ds.prototype.close=function(){$b(this.g)},ds.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,co(this.g,e)}else this.v?((e={}).__data__=$_(n),co(this.g,e)):co(this.g,n)},ds.prototype.M=function(){this.g.j=null,delete this.j,$b(this.g),delete this.g,ds.Z.M.call(this)},ai(qb,Cb),ai(Zb,Tb),ai(Td,zb),Td.prototype.xa=function(){li(this.g,"a")},Td.prototype.wa=function(n){li(this.g,new qb(n))},Td.prototype.va=function(n){li(this.g,new Zb(n))},Td.prototype.ua=function(){li(this.g,"b")},Og.prototype.createWebChannel=Og.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,Tg.NO_ERROR=0,Tg.TIMEOUT=8,Tg.HTTP_ERROR=6,Eb.COMPLETE="complete",La.EventType=iu,iu.OPEN="a",iu.CLOSE="b",iu.ERROR="c",iu.MESSAGE="d",ci.prototype.listen=ci.prototype.N,Er.prototype.listenOnce=Er.prototype.O,Er.prototype.getLastError=Er.prototype.La,Er.prototype.getLastErrorCode=Er.prototype.Da,Er.prototype.getStatus=Er.prototype.ba,Er.prototype.getResponseJson=Er.prototype.Qa,Er.prototype.getResponseText=Er.prototype.ga,Er.prototype.send=Er.prototype.ea;var VC=Yo.createWebChannelTransport=function(){return new Og},UC=Yo.getStatEventTarget=function(){return wg()},Gb=Yo.ErrorCode=Tg,BC=Yo.EventType=Eb,gA=Yo.Event=$c,jC=Yo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$C=Yo.FetchXmlHttpFactory=ji,ey=Yo.WebChannel=La,iO=Yo.XhrIo=Er;const HC="@firebase/firestore";class Wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let Lf="9.6.3";const Gc=new tu.Yd("@firebase/firestore");function Wb(){return Gc.logLevel}function Ne(n,...e){if(Gc.logLevel<=tu.in.DEBUG){const t=e.map(zC);Gc.debug(`Firestore (${Lf}): ${n}`,...t)}}function wr(n,...e){if(Gc.logLevel<=tu.in.ERROR){const t=e.map(zC);Gc.error(`Firestore (${Lf}): ${n}`,...t)}}function Vf(n,...e){if(Gc.logLevel<=tu.in.WARN){const t=e.map(zC);Gc.warn(`Firestore (${Lf}): ${n}`,...t)}}function zC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${Lf}) INTERNAL ASSERTION FAILED: `+n;throw wr(e),new Error(e)}function mt(n,e){n||nt()}function Ve(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends kt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ty{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wr.UNAUTHENTICATED))}shutdown(){}}class sO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class oO{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let h=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Cr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const C=h;e.enqueueRetryable((0,me.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},b=C=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>b(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?b(C):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Cr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt("string"==typeof r.accessToken),new ty(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(null===e||"string"==typeof e),new Wr(e)}}class aO{constructor(e,t,r){this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class vA{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new aO(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cO{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=o=>{e.enqueueRetryable(()=>{return null!=(l=o).error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const r=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt("string"==typeof t.token),new Kb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Kr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function bA(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Kr.I=-1;class Yb{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=bA(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function Id(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function kg(n){return n+"\0"}class Yr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Yr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Yr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function qC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Dd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Pg{constructor(e,t,r){void 0===t?t=0:t>e.length&&nt(),void 0===r?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Pg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class an extends Pg{construct(e,t,r){return new an(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new an(t)}static emptyPath(){return new an([])}}const GC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends Pg{construct(e,t,r){return new ui(e,t,r)}static isValidIdentifier(e){return GC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ui(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Me(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Me(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Me(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new Me(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ui(t)}static emptyPath(){return new ui([])}}class Sd{constructor(e){this.fields=e,e.sort(ui.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Id(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ar(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const uO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(n){if(mt(!!n),"string"==typeof n){let e=0;const t=uO.exec(n);if(mt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ng(n){return"string"==typeof n?ar.fromBase64String(n):ar.fromUint8Array(n)}function Ad(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function KC(n){const e=n.mapValue.fields.__previous_value__;return Ad(e)?KC(e):e}function xd(n){const e=ja(n.mapValue.fields.__local_write_time__.timestampValue);return new Yr(e.seconds,e.nanos)}function Wc(n){return null==n}function ny(n){return 0===n&&1/n==-1/0}function ry(n){return"number"==typeof n&&Number.isInteger(n)&&!ny(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class et{constructor(e){this.path=e}static fromPath(e){return new et(an.fromString(e))}static fromName(e){return new et(an.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new an(e.slice()))}}function hu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ad(n)?4:10:nt()}function Kc(n,e){if(n===e)return!0;const t=hu(n);if(t!==hu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xd(n).isEqual(xd(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=ja(r.timestampValue),h=ja(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ng(n.bytesValue).isEqual(Ng(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Tr(r.geoPointValue.latitude)===Tr(o.geoPointValue.latitude)&&Tr(r.geoPointValue.longitude)===Tr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Tr(r.integerValue)===Tr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Tr(r.doubleValue),h=Tr(o.doubleValue);return l===h?ny(l)===ny(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Id(n.arrayValue.values||[],e.arrayValue.values||[],Kc);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(qC(l)!==qC(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!Kc(l[m],h[m])))return!1;return!0}(n,e);default:return nt()}var o}function Fg(n,e){return void 0!==(n.values||[]).find(t=>Kc(t,e))}function Md(n,e){if(n===e)return 0;const t=hu(n),r=hu(e);if(t!==r)return Ht(t,r);switch(t){case 0:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=Tr(o.integerValue||o.doubleValue),m=Tr(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return Qb(n.timestampValue,e.timestampValue);case 4:return Qb(xd(n),xd(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(o,l){const h=Ng(o),m=Ng(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let b=0;b<h.length&&b<m.length;b++){const C=Ht(h[b],m[b]);if(0!==C)return C}return Ht(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Ht(Tr(o.latitude),Tr(l.latitude));return 0!==h?h:Ht(Tr(o.longitude),Tr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let b=0;b<h.length&&b<m.length;++b){const C=Md(h[b],m[b]);if(C)return C}return Ht(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},m=Object.keys(h),b=l.fields||{},C=Object.keys(b);m.sort(),C.sort();for(let M=0;M<m.length&&M<C.length;++M){const O=Ht(m[M],C[M]);if(0!==O)return O;const j=Md(h[m[M]],b[C[M]]);if(0!==j)return j}return Ht(m.length,C.length)}(n.mapValue,e.mapValue);default:throw nt()}}function Qb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=ja(n),r=ja(e),o=Ht(t.seconds,r.seconds);return 0!==o?o:Ht(t.nanos,r.nanos)}function Jb(n){return iy(n)}function iy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=ja(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ng(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=iy(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${iy(r.fields[m])}`;return l+"}"}(n.mapValue):nt();var e}function Uf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sy(n){return!!n&&"integerValue"in n}function Lg(n){return!!n&&"arrayValue"in n}function oy(n){return!!n&&"nullValue"in n}function ay(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cy(n){return!!n&&"mapValue"in n}function Bf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Dd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bf(t)}setAll(e){let t=ui.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=Bf(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());cy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];cy(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Dd(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new di(Bf(this.value))}}function ly(n){const e=[];return Dd(n.fields,(t,r)=>{const o=new ui([t]);if(cy(r)){const l=ly(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Sd(e)}class On{constructor(e,t,r,o,l){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new On(e,0,Et.min(),di.empty(),0)}static newFoundDocument(e,t,r){return new On(e,1,t,r,0)}static newNoDocument(e,t){return new On(e,2,t,di.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,di.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class EA{constructor(e,t=null,r=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function Xb(n,e=null,t=[],r=[],o=null,l=null,h=null){return new EA(n,e,t,r,o,l,h)}function jf(n){const e=Ve(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Jb(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Wc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=uy(e.startAt)),e.endAt&&(t+="|ub:",t+=uy(e.endAt)),e.R=t}return e.R}function $f(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!tT(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Kc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rT(n.startAt,e.startAt)&&rT(n.endAt,e.endAt)}function Vg(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Si extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new QC(e,t,r):"array-contains"===t?new eT(e,r):"in"===t?new dO(e,r):"not-in"===t?new wA(e,r):"array-contains-any"===t?new CA(e,r):new Si(e,t,r)}static P(e,t,r){return"in"===t?new JC(e,r):new XC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Md(t,this.value)):null!==t&&hu(this.value)===hu(t)&&this.v(Md(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class QC extends Si{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.v(t)}}class JC extends Si{constructor(e,t){super(e,"in",t),this.keys=tE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XC extends Si{constructor(e,t){super(e,"not-in",t),this.keys=tE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class eT extends Si{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lg(t)&&Fg(t.arrayValue,this.value)}}class dO extends Si{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fg(this.value.arrayValue,t)}}class wA extends Si{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fg(this.value.arrayValue,t)}}class CA extends Si{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fg(this.value.arrayValue,r))}}class Hf{constructor(e,t){this.position=e,this.before=t}}function uy(n){return`${n.before?"b":"a"}:${n.position.map(e=>Jb(e)).join(",")}`}class Un{constructor(e,t="asc"){this.field=e,this.dir=t}}function tT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function nT(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?et.comparator(et.fromName(h.referenceValue),t.key):Md(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function rT(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Kc(n.position[t],e.position[t]))return!1;return!0}class $a{constructor(e,t=null,r=[],o=[],l=null,h="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=b,this.S=null,this.D=null}}function iT(n,e,t,r,o,l,h,m){return new $a(n,e,t,r,o,l,h,m)}function Rd(n){return new $a(n)}function Ug(n){return!Wc(n.limit)&&"F"===n.limitType}function Yc(n){return!Wc(n.limit)&&"L"===n.limitType}function nE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rE(n){for(const e of n.filters)if(e.V())return e.field;return null}function dy(n){return null!==n.collectionGroup}function zf(n){const e=Ve(n);if(null===e.S){e.S=[];const t=rE(e),r=nE(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new Un(t)),e.S.push(new Un(ui.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Un(ui.keyField(),l))}}}return e.S}function Ps(n){const e=Ve(n);if(!e.D)if("F"===e.limitType)e.D=Xb(e.path,e.collectionGroup,zf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of zf(e))t.push(new Un(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Hf(e.endAt.position,!e.endAt.before):null,o=e.startAt?new Hf(e.startAt.position,!e.startAt.before):null;e.D=Xb(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.D}function TA(n,e,t){return new $a(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Od(n,e){return $f(Ps(n),Ps(e))&&n.limitType===e.limitType}function hy(n){return`${jf(Ps(n))}|lt:${n.limitType}`}function uo(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Jb(r.value)}`;var r}).join(", ")}]`),Wc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+uy(n.startAt)),n.endAt&&(e+=", endAt: "+uy(n.endAt)),`Target(${e})`}(Ps(n))}; limitType=${n.limitType})`}function Bg(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):et.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!nT(t.startAt,zf(t),r)||t.endAt&&nT(t.endAt,zf(t),r)));var t,r}function sT(n){return(e,t)=>{let r=!1;for(const o of zf(n)){const l=Ha(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function Ha(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(o,l,h){const m=l.data.field(o),b=h.data.field(o);return null!==m&&null!==b?Md(m,b):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}function ho(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ny(e)?"-0":e}}function fo(n){return{integerValue:""+n}}function iE(n,e){return ry(e)?fo(e):ho(n,e)}class jg{constructor(){this._=void 0}}function IA(n,e,t){return n instanceof qf?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Qc?Zf(n,e):n instanceof kd?sE(n,e):function(r,o){const l=oT(r,o),h=oE(l)+oE(r.N);return sy(l)&&sy(r.N)?fo(h):ho(r.k,h)}(n,e)}function DA(n,e,t){return n instanceof Qc?Zf(n,e):n instanceof kd?sE(n,e):t}function oT(n,e){return n instanceof Gf?sy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class qf extends jg{}class Qc extends jg{constructor(e){super(),this.elements=e}}function Zf(n,e){const t=aE(e);for(const r of n.elements)t.some(o=>Kc(o,r))||t.push(r);return{arrayValue:{values:t}}}class kd extends jg{constructor(e){super(),this.elements=e}}function sE(n,e){let t=aE(e);for(const r of n.elements)t=t.filter(o=>!Kc(o,r));return{arrayValue:{values:t}}}class Gf extends jg{constructor(e,t){super(),this.k=e,this.N=t}}function oE(n){return Tr(n.integerValue||n.doubleValue)}function aE(n){return Lg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fu{constructor(e,t){this.field=e,this.transform=t}}class aT{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Pd{}function cT(n,e,t){n instanceof Kf?function(r,o,l){const h=r.value.clone(),m=uT(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Jc?function(r,o,l){if(!Wf(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=uT(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(uE(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fy(n,e,t){var o;n instanceof Kf?function(r,o,l){if(!Wf(r.precondition,o))return;const h=r.value.clone(),m=dT(r.fieldTransforms,l,o);h.setAll(m),o.convertToFoundDocument(lE(o),h).setHasLocalMutations()}(n,e,t):n instanceof Jc?function(r,o,l){if(!Wf(r.precondition,o))return;const h=dT(r.fieldTransforms,l,o),m=o.data;m.setAll(uE(r)),m.setAll(h),o.convertToFoundDocument(lE(o),m).setHasLocalMutations()}(n,e,t):Wf(n.precondition,o=e)&&o.convertToNoDocument(Et.min())}function lT(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=oT(r.transform,o||null);null!=l&&(null==t&&(t=di.empty()),t.set(r.field,l))}return t||null}function cE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Id(t,r,(o,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Qc&&r instanceof Qc||t instanceof kd&&r instanceof kd?Id(t.elements,r.elements,Kc):t instanceof Gf&&r instanceof Gf?Kc(t.N,r.N):t instanceof qf&&r instanceof qf);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function lE(n){return n.isFoundDocument()?n.version:Et.min()}class Kf extends Pd{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Jc extends Pd{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function uE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uT(n,e,t){const r=new Map;mt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,m=e.data.field(l.field);r.set(l.field,DA(h,m,t[o]))}return r}function dT(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,IA(l,h,e))}return r}class $g extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class dE extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class AA{constructor(e){this.count=e}}var Ir,Yt;function hT(n){switch(n){default:return nt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function fT(n){if(void 0===n)return wr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Ir.OK:return ge.OK;case Ir.CANCELLED:return ge.CANCELLED;case Ir.UNKNOWN:return ge.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return ge.INTERNAL;case Ir.UNAVAILABLE:return ge.UNAVAILABLE;case Ir.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Ir.NOT_FOUND:return ge.NOT_FOUND;case Ir.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Ir.ABORTED:return ge.ABORTED;case Ir.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Ir.DATA_LOSS:return ge.DATA_LOSS;default:return nt()}}(Yt=Ir||(Ir={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";class Pr{constructor(e,t){this.comparator=e,this.root=t||hi.EMPTY}insert(e,t){return new Pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new py(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new py(this.root,e,this.comparator,!1)}getReverseIterator(){return new py(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new py(this.root,e,this.comparator,!0)}}class py{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hi{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:hi.RED,this.left=null!=o?o:hi.EMPTY,this.right=null!=l?l:hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new hi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return hi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1,hi.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new hi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pT(this.data.getIterator())}getIteratorFrom(e){return new pT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class pT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const xA=new Pr(et.comparator);function po(){return xA}const MA=new Pr(et.comparator);function hE(){return MA}const gT=new Pr(et.comparator);function fE(){return gT}const mT=new Qn(et.comparator);function ln(...n){let e=mT;for(const t of n)e=e.add(t);return e}const _T=new Qn(Ht);function Hg(){return _T}class Yf{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Qf.createSynthesizedTargetChangeForCurrentChange(e,t)),new Yf(Et.min(),r,Hg(),po(),ln())}}class Qf{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Qf(ar.EMPTY_BYTE_STRING,t,ln(),ln(),ln())}}class zg{constructor(e,t,r,o){this.$=e,this.removedTargetIds=t,this.key=r,this.O=o}}class gy{constructor(e,t){this.targetId=e,this.M=t}}class my{constructor(e,t,r=ar.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class pu{constructor(){this.F=0,this.L=Nd(),this.B=ar.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=ln(),t=ln(),r=ln();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:nt()}}),new Qf(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=Nd()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class RA{constructor(e){this.et=e,this.nt=new Map,this.st=po(),this.it=yT(),this.rt=new Qn(Ht)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,o)=>{this.lt(o)&&t(o)})}dt(e){const t=e.targetId,r=e.M.count,o=this.wt(t);if(o){const l=o.target;if(Vg(l))if(0===r){const h=new et(l.path);this.at(t,h,On.newNoDocument(h,Et.min()))}else mt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&Vg(m.target)){const b=new et(m.target.path);null!==this.st.get(b)||this.yt(h,b)||this.at(h,b,On.newNoDocument(b,e))}l.j&&(t.set(h,l.G()),l.H())}});let r=ln();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(b=>{const C=this.wt(b);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const o=new Yf(e,t,this.rt,this.st,r);return this.st=po(),this.it=yT(),this.rt=new Qn(Ht),o}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const o=this.ht(e);this.yt(e,t)?o.J(t,1):o.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new pu,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Qn(Ht),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new pu),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function yT(){return new Pr(et.comparator)}function Nd(){return new Pr(et.comparator)}const hO={asc:"ASCENDING",desc:"DESCENDING"},pE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fO{constructor(e,t){this.databaseId=e,this.C=t}}function Jf(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gE(n,e){return n.C?e.toBase64():e.toUint8Array()}function pO(n,e){return Jf(n,e.toTimestamp())}function ze(n){return mt(!!n),Et.fromTimestamp(function(e){const t=ja(e);return new Yr(t.seconds,t.nanos)}(n))}function mE(n,e){return(t=n,new an(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function vT(n){const e=an.fromString(n);return mt(ep(e)),e}function qg(n,e){return mE(n.databaseId,e.path)}function Ns(n,e){const t=vT(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(zn(t))}function _E(n,e){return mE(n.databaseId,e)}function Zg(n){const e=vT(n);return 4===e.length?an.emptyPath():zn(e)}function gu(n){return new an(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zn(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OA(n,e,t){return{name:qg(n,e),fields:t.value.mapValue.fields}}function yE(n,e,t){const r=Ns(n,e.name),o=ze(e.updateTime),l=new di({mapValue:{fields:e.fields}}),h=On.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Gg(n,e){let t;if(e instanceof Kf)t={update:OA(n,e.key,e.value)};else if(e instanceof $g)t={delete:qg(n,e.key)};else if(e instanceof Jc)t={update:OA(n,e.key,e.data),updateMask:Wg(e.fieldMask)};else{if(!(e instanceof dE))return nt();t={verify:qg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof qf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Qc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof kd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Gf)return{fieldPath:l.field.canonicalString(),increment:h.N};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:pO(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:nt()),t;var o}function bE(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?cr.updateTime(ze(o.updateTime)):void 0!==o.exists?cr.exists(o.exists):cr.none():cr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(mt("REQUEST_TIME"===h.setToServerValue),m=new qf):"appendMissingElements"in h?m=new Qc(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new kd(h.removeAllFromArray.values||[]):"increment"in h?m=new Gf(l,h.increment):nt();const b=ui.fromServerFormat(h.fieldPath);return new fu(b,m)}(n,o)):[];var o;if(e.update){const o=Ns(n,e.update.name),l=new di({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Sd((e.updateMask.fieldPaths||[]).map(C=>ui.fromServerFormat(C)));return new Jc(o,l,h,t,r)}return new Kf(o,l,t,r)}if(e.delete){const o=Ns(n,e.delete);return new $g(o,t)}if(e.verify){const o=Ns(n,e.verify);return new dE(o,t)}return nt()}function EE(n,e){return{documents:[_E(n,e.path)]}}function ET(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=_E(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=_E(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const b=m.map(C=>function(M){if("=="===M.op){if(ay(M.value))return{unaryFilter:{field:Fd(M.field),op:"IS_NAN"}};if(oy(M.value))return{unaryFilter:{field:Fd(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(ay(M.value))return{unaryFilter:{field:Fd(M.field),op:"IS_NOT_NAN"}};if(oy(M.value))return{unaryFilter:{field:Fd(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fd(M.field),op:_y(M.op),value:M.value}}}(C));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(m){if(0!==m.length)return m.map(b=>{return{field:Fd((C=b).field),direction:NA(C.dir)};var C})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(b=e.limit,n.C||Wc(b)?b:{value:b});var b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=CT(e.startAt)),e.endAt&&(t.structuredQuery.endAt=CT(e.endAt)),t}function wT(n){let e=Zg(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){mt(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let l=[];t.where&&(l=Xf(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(M=>{return new Un(Ld((O=M).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(M){let O;return O="object"==typeof M?M.value:M,Wc(O)?null:O}(t.limit));let b=null;t.startAt&&(b=TT(t.startAt));let C=null;return t.endAt&&(C=TT(t.endAt)),iT(e,o,h,l,m,"F",b,C)}function Xf(n){return n?void 0!==n.unaryFilter?[FA(n)]:void 0!==n.fieldFilter?[IT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Xf(e)).reduce((e,t)=>e.concat(t)):nt():[]}function CT(n){return{before:n.before,values:n.position}}function TT(n){return new Hf(n.values||[],!!n.before)}function NA(n){return hO[n]}function _y(n){return pE[n]}function Fd(n){return{fieldPath:n.canonicalString()}}function Ld(n){return ui.fromServerFormat(n.fieldPath)}function IT(n){return Si.create(Ld(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(n.fieldFilter.op),n.fieldFilter.value)}function FA(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ld(n.unaryFilter.field);return Si.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ld(n.unaryFilter.field);return Si.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ld(n.unaryFilter.field);return Si.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ld(n.unaryFilter.field);return Si.create(o,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}function Wg(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ep(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Qo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DT(e)),e=LA(n.get(t),e);return DT(e)}function LA(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function DT(n){return n+"\x01\x01"}function za(n){const e=n.length;if(mt(e>=2),2===e)return mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),an.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&nt(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:nt()}l=h+2}return new an(r)}class ST{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class hs{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}hs.store="owner",hs.key="owner";class mu{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}mu.store="mutationQueues",mu.keyPath="userId";class Tn{constructor(e,t,r,o,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}Tn.store="mutations",Tn.keyPath="batchId",Tn.userMutationsIndex="userMutationsIndex",Tn.userMutationsKeyPath=["userId","batchId"];class Ai{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Qo(t)]}static key(e,t,r){return[e,Qo(t),r]}}Ai.store="documentMutations",Ai.PLACEHOLDER=new Ai;class VA{constructor(e,t){this.path=e,this.readTime=t}}class gO{constructor(e,t){this.path=e,this.version=t}}class lr{constructor(e,t,r,o,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=h}}lr.store="remoteDocuments",lr.readTimeIndex="readTimeIndex",lr.readTimeIndexPath="readTime",lr.collectionReadTimeIndex="collectionReadTimeIndex",lr.collectionReadTimeIndexPath=["parentPath","readTime"];class Xc{constructor(e){this.byteSize=e}}Xc.store="remoteDocumentGlobal",Xc.key="remoteDocumentGlobalKey";class Fs{constructor(e,t,r,o,l,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Fs.store="targets",Fs.keyPath="targetId",Fs.queryTargetsIndexName="queryTargetsIndex",Fs.queryTargetsKeyPath=["canonicalId","targetId"];class Qr{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Qr.store="targetDocuments",Qr.keyPath=["targetId","path"],Qr.documentTargetsIndex="documentTargetsIndex",Qr.documentTargetsKeyPath=["path","targetId"];class xi{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}xi.key="targetGlobalKey",xi.store="targetGlobal";class Vd{constructor(e,t){this.collectionId=e,this.parent=t}}Vd.store="collectionParents",Vd.keyPath=["collectionId","parent"];class el{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}el.store="clientMetadata",el.keyPath="clientId";class Ud{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Ud.store="bundles",Ud.keyPath="bundleId";class qa{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}qa.store="namedQueries",qa.keyPath="name";const UA=[mu.store,Tn.store,Ai.store,lr.store,Fs.store,hs.store,xi.store,Qr.store,el.store,Xc.store,Vd.store,Ud.store,qa.store],AT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xe((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof xe?t:xe.resolve(t)}catch(t){return xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.reject(t)}static resolve(e){return new xe((t,r)=>{t(e)})}static reject(e){return new xe((t,r)=>{r(e)})}static waitFor(e){return new xe((t,r)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},b=>r(b))}),h=!0,l===o&&t()})}static or(e){let t=xe.resolve(!1);for(const r of e)t=t.next(o=>o?xe.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class yy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Cr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Kg(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=vy(r.target.error);this.It.reject(new Kg(e,o))}}static open(e,t,r,o){try{return new yy(t,e.transaction(o,r))}catch(l){throw new Kg(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new jA(t)}}class go{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===go.bt((0,kt.z$)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),_u(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,kt.hl)())return!1;if(go.vt())return!0;const e=(0,kt.z$)(),t=go.bt(e),r=0<t&&t<10,o=go.Vt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,me.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new Kg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Me(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Kg(e,m))},l.onupgradeneeded=h=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,me.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Ct(e);const b=yy.open(l.db,e,h?"readonly":"readwrite",r),C=o(b).catch(M=>(b.abort(M),xe.reject(M))).toPromise();return C.catch(()=>{}),yield b.At,C}catch(b){const C="FirebaseError"!==b.name&&m<3;if(Ne("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),l.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class BA{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return _u(this.$t.delete())}}class Kg extends Me{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function mo(n){return"IndexedDbTransactionError"===n.name}class jA{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_u(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),_u(this.store.add(e))}get(e){return _u(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),_u(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),_u(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Ut(r,(l,h)=>{o.push(h)}).next(()=>o)}qt(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(l,h,m)=>m.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Ut(o,t)}Qt(e){const t=this.cursor({});return new xe((r,o)=>{t.onerror=l=>{const h=vy(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new xe((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new BA(m),C=t(m.primaryKey,m.value,b);if(C instanceof xe){const M=C.catch(O=>(b.done(),xe.reject(O)));r.push(M)}b.isDone?o():null===b.Ft?m.continue():m.continue(b.Ft)}}).next(()=>xe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _u(n){return new xe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=vy(r.target.error);t(o)}})}let MT=!1;function vy(n){const e=go.bt((0,kt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MT||(MT=!0,setTimeout(()=>{throw r},0)),r}}return n}class RT extends xT{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Hi(n,e){const t=Ve(n);return go.Dt(t.Wt,e)}class wE{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&cT(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&fy(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&fy(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Et.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ln())}isEqual(e){return this.batchId===e.batchId&&Id(this.mutations,e.mutations,(t,r)=>cE(t,r))&&Id(this.baseMutations,e.baseMutations,(t,r)=>cE(t,r))}}class Yg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){mt(e.mutations.length===r.length);let o=fE();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new Yg(e,t,r,o)}}class yu{constructor(e,t,r,o,l=Et.min(),h=Et.min(),m=ar.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new yu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new yu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class CE{constructor(e){this.Gt=e}}function by(n,e){if(e.document)return yE(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=et.fromSegments(e.noDocument.path),r=tp(e.noDocument.readTime),o=On.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=et.fromSegments(e.unknownDocument.path),r=tp(e.unknownDocument.version);return On.newUnknownDocument(t,r)}return nt()}function OT(n,e,t){const r=TE(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:qg(m=n.Gt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Jf(m,b.version.toTimestamp())};return new lr(null,null,l,e.hasCommittedMutations,r,o)}var m,b;if(e.isNoDocument()){const l=e.key.path.toArray(),h=vu(e.version),m=e.hasCommittedMutations;return new lr(null,new VA(l,h),null,m,r,o)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=vu(e.version);return new lr(new gO(l,h),null,null,!0,r,o)}return nt()}function TE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kT(n){const e=new Yr(n[0],n[1]);return Et.fromTimestamp(e)}function vu(n){const e=n.toTimestamp();return new ST(e.seconds,e.nanoseconds)}function tp(n){const e=new Yr(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function Bd(n,e){const t=(e.baseMutations||[]).map(l=>bE(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>bE(n.Gt,l)),o=Yr.fromMillis(e.localWriteTimeMs);return new wE(e.batchId,o,t,r)}function Qg(n){const e=tp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?tp(n.lastLimboFreeSnapshotVersion):Et.min();let r;var o;return void 0!==n.query.documents?(mt(1===(o=n.query).documents.length),r=Ps(Rd(Zg(o.documents[0])))):r=Ps(wT(n.query)),new yu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ar.fromBase64String(n.resumeToken))}function PT(n,e){const t=vu(e.snapshotVersion),r=vu(e.lastLimboFreeSnapshotVersion);let o;o=Vg(e.target)?EE(n.Gt,e.target):ET(n.Gt,e.target);const l=e.resumeToken.toBase64();return new Fs(e.targetId,jf(e.target),t,l,e.sequenceNumber,r,o)}function IE(n){const e=wT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?TA(e,e.limit,"L"):e}class $A{getBundleMetadata(e,t){return NT(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:tp(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return NT(e).put({bundleId:(r=t).id,createTime:vu(ze(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return FT(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:IE(o.bundledQuery),readTime:tp(o.readTime)};var o})}saveNamedQuery(e,t){return FT(e).put({name:(r=t).name,readTime:vu(ze(r.readTime)),bundledQuery:r.bundledQuery});var r}}function NT(n){return Hi(n,Ud.store)}function FT(n){return Hi(n,qa.store)}class HA{constructor(){this.zt=new DE}addToCollectionParentIndex(e,t){return this.zt.add(t),xe.resolve()}getCollectionParents(e,t){return xe.resolve(this.zt.getEntries(t))}}class DE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Qn(an.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Qn(an.comparator)).toArray()}}class LT{constructor(){this.Ht=new DE}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:r,parent:Qo(o)};return SE(e).put(l)}return xe.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[kg(t),""],!1,!0);return SE(e).Bt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(za(h.parent))}return r})}}function SE(n){return Hi(n,Vd.store)}const VT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function AE(n,e,t){const r=n.store(Tn.store),o=n.store(Ai.store),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const b=r.jt({range:h},(M,O,j)=>(m++,j.delete()));l.push(b.next(()=>{mt(1===m)}));const C=[];for(const M of t.mutations){const O=Ai.key(e,M.key.path,t.batchId);l.push(o.delete(O)),C.push(M.key)}return xe.waitFor(l).next(()=>C)}function Ey(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nt();e=n.noDocument}return JSON.stringify(e).length}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class xE{constructor(e,t,r,o){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(e,t,r,o){mt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new xE(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Za(e).jt({index:Tn.userMutationsIndex,range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=bu(e),h=Za(e);return h.add({}).next(m=>{mt("number"==typeof m);const b=new wE(m,t,r,o),C=function(j,K,ee){const ye=ee.baseMutations.map(it=>Gg(j.Gt,it)),Re=ee.mutations.map(it=>Gg(j.Gt,it));return new Tn(K,ee.batchId,ee.localWriteTime.toMillis(),ye,Re)}(this.k,this.userId,b),M=[];let O=new Qn((j,K)=>Ht(j.canonicalString(),K.canonicalString()));for(const j of o){const K=Ai.key(this.userId,j.key.path,m);O=O.add(j.key.path.popLast()),M.push(h.put(C)),M.push(l.put(K,Ai.PLACEHOLDER))}return O.forEach(j=>{M.push(this.Jt.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.Yt[m]=b.keys()}),xe.waitFor(M).next(()=>b)})}lookupMutationBatch(e,t){return Za(e).get(t).next(r=>r?(mt(r.userId===this.userId),Bd(this.k,r)):null)}Zt(e,t){return this.Yt[t]?xe.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Yt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Za(e).jt({index:Tn.userMutationsIndex,range:o},(h,m,b)=>{m.userId===this.userId&&(mt(m.batchId>=r),l=Bd(this.k,m)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Za(e).jt({index:Tn.userMutationsIndex,range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Za(e).Bt(Tn.userMutationsIndex,t).next(r=>r.map(o=>Bd(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ai.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return bu(e).jt({range:o},(h,m,b)=>{const[C,M,O]=h,j=za(M);if(C===this.userId&&t.path.isEqual(j))return Za(e).get(O).next(K=>{if(!K)throw nt();mt(K.userId===this.userId),l.push(Bd(this.k,K))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Ht);const o=[];return t.forEach(l=>{const h=Ai.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),b=bu(e).jt({range:m},(C,M,O)=>{const[j,K,ee]=C,ye=za(K);j===this.userId&&l.path.isEqual(ye)?r=r.add(ee):O.done()});o.push(b)}),xe.waitFor(o).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=Ai.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new Qn(Ht);return bu(e).jt({range:h},(b,C,M)=>{const[O,j,K]=b,ee=za(j);O===this.userId&&r.isPrefixOf(ee)?ee.length===o&&(m=m.add(K)):M.done()}).next(()=>this.te(e,m))}te(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Za(e).get(l).next(h=>{if(null===h)throw nt();mt(h.userId===this.userId),r.push(Bd(this.k,h))}))}),xe.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return AE(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),xe.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return xe.resolve();const r=IDBKeyRange.lowerBound(Ai.prefixForUser(this.userId)),o=[];return bu(e).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const b=za(l[1]);o.push(b)}else m.done()}).next(()=>{mt(0===o.length)})})}containsKey(e,t){return UT(e,this.userId,t)}ne(e){return ME(e).get(this.userId).next(t=>t||new mu(this.userId,-1,""))}}function UT(n,e,t){const r=Ai.prefixForPath(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return bu(n).jt({range:l,Kt:!0},(m,b,C)=>{const[M,O,j]=m;M===e&&O===o&&(h=!0),C.done()}).next(()=>h)}function Za(n){return Hi(n,Tn.store)}function bu(n){return Hi(n,Ai.store)}function ME(n){return Hi(n,mu.store)}class tl{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new tl(0)}static re(){return new tl(-1)}}class zA{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new tl(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Et.fromTimestamp(new Yr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.ce(e,o)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>np(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(mt(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return np(e).jt((h,m)=>{const b=Qg(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,l.push(this.removeTargetData(e,b)))}).next(()=>xe.waitFor(l)).next(()=>o)}forEachTarget(e,t){return np(e).jt((r,o)=>{const l=Qg(o);t(l)})}oe(e){return wy(e).get(xi.key).next(t=>(mt(null!==t),t))}ce(e,t){return wy(e).put(xi.key,t)}ae(e,t){return np(e).put(PT(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=jf(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return np(e).jt({range:o,index:Fs.queryTargetsIndexName},(h,m,b)=>{const C=Qg(m);$f(t,C.target)&&(l=C,b.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Eu(e);return t.forEach(h=>{const m=Qo(h.path);o.push(l.put(new Qr(r,m))),o.push(this.referenceDelegate.addReference(e,r,h))}),xe.waitFor(o)}removeMatchingKeys(e,t,r){const o=Eu(e);return xe.forEach(t,l=>{const h=Qo(l.path);return xe.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Eu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Eu(e);let l=ln();return o.jt({range:r,Kt:!0},(h,m,b)=>{const C=za(h[1]),M=new et(C);l=l.add(M)}).next(()=>l)}containsKey(e,t){const r=Qo(t.path),o=IDBKeyRange.bound([r],[kg(r)],!1,!0);let l=0;return Eu(e).jt({index:Qr.documentTargetsIndex,Kt:!0,range:o},([h,m],b,C)=>{0!==h&&(l++,C.done())}).next(()=>l>0)}Et(e,t){return np(e).get(t).next(r=>r?Qg(r):null)}}function np(n){return Hi(n,Fs.store)}function wy(n){return Hi(n,xi.store)}function Eu(n){return Hi(n,Qr.store)}function wu(n){return RE.apply(this,arguments)}function RE(){return(RE=(0,me.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==AT)throw n;Ne("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function OE([n,e],[t,r]){const o=Ht(n,t);return 0===o?Ht(e,r):o}class BT{constructor(e){this.he=e,this.buffer=new Qn(OE),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();OE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jT{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Ne("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,me.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){mo(o)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield wu(o)}yield t.me(e)}))}}class mO{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return xe.resolve(Kr.I);const r=new BT(t);return this.ge.forEachTarget(e,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(e,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(VT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VT):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,o,l,h,m,b,C;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,h=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(l=O,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(C=Date.now(),Wb()<=tu.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-M}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(b-m)+`ms\n\tRemoved ${O} documents in `+(C-b)+`ms\nTotal Duration: ${C-M}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:O})))}}class qA{constructor(e,t){this.db=e,this.garbageCollector=new mO(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,o)=>t(o))}addReference(e,t,r){return nl(e,r)}removeReference(e,t,r){return nl(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return nl(e,t)}Ae(e,t){return function(r,o){let l=!1;return ME(r).Qt(h=>UT(r,h,o).next(m=>(m&&(l=!0),xe.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ie(e,(h,m)=>{if(m<=t){const b=this.Ae(e,h).next(C=>{if(!C)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Eu(e).delete([0,Qo(h.path)])))});o.push(b)}}).next(()=>xe.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return nl(e,t)}Ie(e,t){const r=Eu(e);let o,l=Kr.I;return r.jt({index:Qr.documentTargetsIndex},([h,m],{path:b,sequenceNumber:C})=>{0===h?(l!==Kr.I&&t(new et(za(o)),l),l=C,o=b):l=Kr.I}).next(()=>{l!==Kr.I&&t(new et(za(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nl(n,e){return Eu(n).put((r=n.currentSequenceNumber,new Qr(0,Qo(e.path),r)));var r}class Jg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){Dd(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return ZC(this.inner)}}class Cy{constructor(){this.changes=new Jg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Et.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:On.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?xe.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ty{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return Cu(e).put(kE(t),r)}removeEntry(e,t){const r=Cu(e),o=kE(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return Cu(e).get(kE(t)).next(r=>this.be(t,r))}Pe(e,t){return Cu(e).get(kE(t)).next(r=>({document:this.be(t,r),size:Ey(r)}))}getEntries(e,t){let r=po();return this.ve(e,t,(o,l)=>{const h=this.be(o,l);r=r.insert(o,h)}).next(()=>r)}Ve(e,t){let r=po(),o=new Pr(et.comparator);return this.ve(e,t,(l,h)=>{const m=this.be(l,h);r=r.insert(l,m),o=o.insert(l,Ey(h))}).next(()=>({documents:r,Se:o}))}ve(e,t,r){if(t.isEmpty())return xe.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return Cu(e).jt({range:o},(m,b,C)=>{const M=et.fromSegments(m);for(;h&&et.comparator(h,M)<0;)r(h,null),h=l.getNext();h&&h.isEqual(M)&&(r(h,b),h=l.hasNext()?l.getNext():null),h?C.Lt(h.path.toArray()):C.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=po();const l=t.path.length+1,h={};if(r.isEqual(Et.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),b=TE(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=lr.collectionReadTimeIndex}return Cu(e).jt(h,(m,b,C)=>{if(m.length!==l)return;const M=by(this.k,b);t.path.isPrefixOf(M.key.path)?Bg(t,M)&&(o=o.insert(M.key,M)):C.done()}).next(()=>o)}newChangeBuffer(e){return new ZA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jd(e).get(Xc.key).next(t=>(mt(!!t),t))}Re(e,t){return jd(e).put(Xc.key,t)}be(e,t){if(t){const r=by(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Et.min()))return r}return On.newInvalidDocument(e)}}class ZA extends Cy{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Jg(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Qn((l,h)=>Ht(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const b=OT(this.De.k,h.document,this.getReadTime(l));o=o.add(l.path.popLast()),r+=Ey(b)-m,t.push(this.De.addEntry(e,l,b))}else if(r-=m,this.trackRemovals){const b=OT(this.De.k,On.newNoDocument(l,Et.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,b))}else t.push(this.De.removeEntry(e,l))}),o.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,r)),xe.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:o})=>(o.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function jd(n){return Hi(n,Xc.store)}function Cu(n){return Hi(n,lr.store)}function kE(n){return n.path.toArray()}class GA{constructor(e){this.k=e}Nt(e,t,r,o){mt(r<o&&r>=0&&o<=11);const l=new yy("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(hs.store),(m=e).createObjectStore(mu.store,{keyPath:mu.keyPath}),m.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Ai.store),Jo(e),function(m){m.createObjectStore(lr.store)}(e));let h=xe.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(Qr.store),m.deleteObjectStore(Fs.store),m.deleteObjectStore(xi.store)}(e),Jo(e)),h=h.next(()=>function(m){const b=m.store(xi.store),C=new xi(0,0,Et.min().toTimestamp(),0);return b.put(xi.key,C)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(Tn.store).Bt().next(C=>{m.deleteObjectStore(Tn.store),m.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0});const M=b.store(Tn.store),O=C.map(j=>M.put(j));return xe.waitFor(O)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore(el.store,{keyPath:el.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ne(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore(Xc.store)}(e),this.ke(l)))),r<7&&o>=7&&(h=h.next(()=>this.xe(l))),r<8&&o>=8&&(h=h.next(()=>this.$e(e,l))),r<9&&o>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const b=m.objectStore(lr.store);b.createIndex(lr.readTimeIndex,lr.readTimeIndexPath,{unique:!1}),b.createIndex(lr.collectionReadTimeIndex,lr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.Oe(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(Ud.store,{keyPath:Ud.keyPath})})(e),function(m){m.createObjectStore(qa.store,{keyPath:qa.keyPath})}(e)})),h}ke(e){let t=0;return e.store(lr.store).jt((r,o)=>{t+=Ey(o)}).next(()=>{const r=new Xc(t);return e.store(Xc.store).put(Xc.key,r)})}Ne(e){const t=e.store(mu.store),r=e.store(Tn.store);return t.Bt().next(o=>xe.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(Tn.userMutationsIndex,h).next(m=>xe.forEach(m,b=>{mt(b.userId===l.userId);const C=Bd(this.k,b);return AE(e,l.userId,C).next(()=>{})}))}))}xe(e){const t=e.store(Qr.store),r=e.store(lr.store);return e.store(xi.store).get(xi.key).next(o=>{const l=[];return r.jt((h,m)=>{const b=new an(h),C=[0,Qo(b)];l.push(t.get(C).next(M=>M?xe.resolve():t.put(new Qr(0,Qo(b),o.highestListenSequenceNumber))))}).next(()=>xe.waitFor(l))})}$e(e,t){e.createObjectStore(Vd.store,{keyPath:Vd.keyPath});const r=t.store(Vd.store),o=new DE,l=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:Qo(b)})}};return t.store(lr.store).jt({Kt:!0},(h,m)=>{const b=new an(h);return l(b.popLast())}).next(()=>t.store(Ai.store).jt({Kt:!0},([h,m,b],C)=>{const M=za(m);return l(M.popLast())}))}Oe(e){const t=e.store(Fs.store);return t.jt((r,o)=>{const l=Qg(o),h=PT(this.k,l);return t.put(h)})}}function Jo(n){n.createObjectStore(Qr.store,{keyPath:Qr.keyPath}).createIndex(Qr.documentTargetsIndex,Qr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Fs.store,{keyPath:Fs.keyPath}).createIndex(Fs.queryTargetsIndexName,Fs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(xi.store)}const Iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $T{constructor(e,t,r,o,l,h,m,b,C,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=l,this.window=h,this.document=m,this.Fe=C,this.Le=M,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=O=>Promise.resolve(),!$T.Pt())throw new Me(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qA(this,o),this.Ge=t+"main",this.k=new CE(b),this.ze=new go(this.Ge,11,new GA(this.k)),this.He=new zA(this.referenceDelegate,this.k),this.Jt=new LT,this.Je=new Ty(this.k,this.Jt),this.Ye=new $A,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===M&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ge.FAILED_PRECONDITION,Iy);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Kr(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,me.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Dy(e).put(new el(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(mo(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Tu(e).get(hs.key).next(t=>xe.resolve(this.un(t)))}hn(e){return Dy(e).delete(this.clientId)}ln(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Hi(r,el.store);return o.Bt().next(l=>{const h=e.dn(l,18e5),m=l.filter(b=>-1===h.indexOf(b));return xe.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?xe.resolve(!0):Tu(e).get(hs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Me(ge.FAILED_PRECONDITION,Iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dy(e).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[hs.store,el.store],t=>{const r=new RT(t,Kr.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Dy(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return xE.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let l;return Ne("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",UA,h=>(l=new RT(h,this.Be?this.Be.next():Kr.I),"readwrite-primary"===t?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Me(ge.FAILED_PRECONDITION,AT);return r(l)}).next(m=>this.an(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(e){return Tu(e).get(hs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ge.FAILED_PRECONDITION,Iy)})}an(e){const t=new hs(this.clientId,this.allowTabSynchronization,Date.now());return Tu(e).put(hs.key,t)}static Pt(){return go.Pt()}cn(e){const t=Tu(e);return t.get(hs.key).next(r=>this.un(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete(hs.key)):xe.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(wr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,kt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return wr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){wr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tu(n){return Hi(n,hs.store)}function Dy(n){return Hi(n,el.store)}function PE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _O{constructor(e,t){this.progress=e,this.In=t}}class HT{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Pn(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(e,t.path):dy(t)?this.Dn(e,t,r):this.Cn(e,t,r);var o}Sn(e,t){return this.Rn(e,new et(t)).next(r=>{let o=hE();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(e,t,r){const o=t.collectionGroup;let l=hE();return this.Jt.getCollectionParents(e,o).next(h=>xe.forEach(h,m=>{const b=(C=t,M=m.child(o),new $a(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.Cn(e,b,r).next(C=>{C.forEach((M,O)=>{l=l.insert(M,O)})})}).next(()=>l))}Cn(e,t,r){let o,l;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Nn(e,l,o).next(m=>{o=m;for(const b of l)for(const C of b.mutations){const M=C.key;let O=o.get(M);null==O&&(O=On.newInvalidDocument(M),o=o.insert(M,O)),fy(C,O,b.localWriteTime),O.isFoundDocument()||(o=o.remove(M))}}))).next(()=>(o.forEach((h,m)=>{Bg(t,m)||(o=o.remove(h))}),o))}Nn(e,t,r){let o=ln();for(const h of t)for(const m of h.mutations)m instanceof Jc&&null===r.get(m.key)&&(o=o.add(m.key));let l=r;return this.Je.getEntries(e,o).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(l=l.insert(m,b))}),l))}}class NE{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=o}static $n(e,t){let r=ln(),o=ln();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new NE(e,t.fromCache,r,o)}}class zT{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Et.min())?this.Fn(e,t):this.Mn.vn(e,o).next(l=>{const h=this.Ln(t,l);return(Ug(t)||Yc(t))&&this.Bn(t.limitType,h,o,r)?this.Fn(e,t):(Wb()<=tu.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uo(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var l}Ln(e,t){let r=new Qn(sT(e));return t.forEach((o,l)=>{Bg(e,l)&&(r=r.add(l))}),r}Bn(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Fn(e,t){return Wb()<=tu.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",uo(t)),this.Mn.getDocumentsMatchingQuery(e,t,Et.min())}}class FE{constructor(e,t,r,o){this.persistence=e,this.Un=t,this.k=o,this.qn=new Pr(Ht),this.Kn=new Jg(l=>jf(l),$f),this.jn=Et.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new HT(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function LE(n,e,t,r){return new FE(n,e,t,r)}function Sy(n,e){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,me.Z)(function*(n,e){const t=Ve(n);let r=t.An,o=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.An.getAllMutationBatches(h).next(b=>(m=b,r=t.persistence.getMutationQueue(e),o=new HT(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const C=[],M=[];let O=ln();for(const j of m){C.push(j.batchId);for(const K of j.mutations)O=O.add(K.key)}for(const j of b){M.push(j.batchId);for(const K of j.mutations)O=O.add(K.key)}return o.vn(h,O).next(j=>({Gn:j,removedBatchIds:C,addedBatchIds:M}))})});return t.An=r,t.Wn=o,t.Un.On(t.Wn),l})).apply(this,arguments)}function WA(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,C){const M=b.batch,O=M.keys();let j=xe.resolve();return O.forEach(K=>{j=j.next(()=>C.getEntry(m,K)).next(ee=>{const ye=b.docVersions.get(K);mt(null!==ye),ee.version.compareTo(ye)<0&&(M.applyToRemoteDocument(ee,b),ee.isValidDocument()&&C.addEntry(ee,b.commitVersion))})}),j.next(()=>h.An.removeMutationBatch(m,M))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,o))})}function KA(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function YA(n,e){const t=Ve(n),r=e.snapshotVersion;let o=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});o=t.qn;const m=[];e.targetChanges.forEach((C,M)=>{const O=o.get(M);if(!O)return;m.push(t.He.removeMatchingKeys(l,C.removedDocuments,M).next(()=>t.He.addMatchingKeys(l,C.addedDocuments,M)));let j=O.withSequenceNumber(l.currentSequenceNumber);var K,ee,ye;e.targetMismatches.has(M)?j=j.withResumeToken(ar.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):C.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(C.resumeToken,r)),o=o.insert(M,j),ee=j,ye=C,(0===(K=O).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&m.push(t.He.updateTargetData(l,j))});let b=po();if(e.documentUpdates.forEach((C,M)=>{e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),m.push(qT(l,h,e.documentUpdates,r,void 0).next(C=>{b=C})),!r.isEqual(Et.min())){const C=t.He.getLastRemoteSnapshotVersion(l).next(M=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(C)}return xe.waitFor(m).next(()=>h.apply(l)).next(()=>t.Wn.Vn(l,b)).next(()=>b)}).then(l=>(t.qn=o,l))}function qT(n,e,t,r,o){let l=ln();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let m=po();return t.forEach((b,C)=>{const M=h.get(b),O=(null==o?void 0:o.get(b))||r;C.isNoDocument()&&C.version.isEqual(Et.min())?(e.removeEntry(b,O),m=m.insert(b,C)):!M.isValidDocument()||C.version.compareTo(M.version)>0||0===C.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(C,O),m=m.insert(b,C)):Ne("LocalStore","Ignoring outdated watch update for ",b,". Current version:",M.version," Watch version:",C.version)}),m})}function QA(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function $d(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.He.getTargetData(r,e).next(l=>l?(o=l,xe.resolve(o)):t.He.allocateTargetId(r).next(h=>(o=new yu(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Hd(n,e,t){return xy.apply(this,arguments)}function xy(){return(xy=(0,me.Z)(function*(n,e,t){const r=Ve(n),o=r.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!mo(h))throw h;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(o.target)})).apply(this,arguments)}function My(n,e,t){const r=Ve(n);let o=Et.min(),l=ln();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,C){const M=Ve(m),O=M.Kn.get(C);return void 0!==O?xe.resolve(M.qn.get(O)):M.He.getTargetData(b,C)}(r,h,Ps(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(b=>{l=b})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?o:Et.min(),t?l:ln())).next(m=>({documents:m,zn:l})))}function ZT(n,e){const t=Ve(n),r=Ve(t.He),o=t.qn.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function VE(n){const e=Ve(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,l){const h=Ve(r);let m=po(),b=TE(l);const C=Cu(o),M=IDBKeyRange.lowerBound(b,!0);return C.jt({index:lr.readTimeIndex,range:M},(O,j)=>{const K=by(h.k,j);m=m.insert(K.key,K),b=j.readTime}).next(()=>({In:m,readTime:kT(b)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function UE(){return(UE=(0,me.Z)(function*(n){const e=Ve(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=Cu(r);let l=Et.min();return o.jt({index:lr.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(l=kT(m.readTime)),b.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function rp(){return(rp=(0,me.Z)(function*(n,e,t,r){const o=Ve(n);let l=ln(),h=po(),m=fE();for(const M of t){const O=e.Hn(M.metadata.name);M.document&&(l=l.add(O)),h=h.insert(O,e.Jn(M)),m=m.insert(O,e.Yn(M.metadata.readTime))}const b=o.Qn.newChangeBuffer({trackRemovals:!0}),C=yield $d(o,(M=r,Ps(Rd(an.fromString(`__bundle__/docs/${M}`)))));var M;return o.persistence.runTransaction("Apply bundle documents","readwrite",M=>qT(M,b,h,Et.min(),m).next(O=>(b.apply(M),O)).next(O=>o.He.removeMatchingKeysForTargetId(M,C.targetId).next(()=>o.He.addMatchingKeys(M,l,C.targetId)).next(()=>o.Wn.Vn(M,O)).next(()=>O)))})).apply(this,arguments)}function Oy(n,e){return zd.apply(this,arguments)}function zd(){return(zd=(0,me.Z)(function*(n,e,t=ln()){const r=yield $d(n,Ps(IE(e.bundledQuery))),o=Ve(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=ze(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ye.saveNamedQuery(l,e);const m=r.withResumeToken(ar.EMPTY_BYTE_STRING,h);return o.qn=o.qn.insert(m.targetId,m),o.He.updateTargetData(l,m).next(()=>o.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.He.addMatchingKeys(l,t,r.targetId)).next(()=>o.Ye.saveNamedQuery(l,e))})})).apply(this,arguments)}class JA{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return xe.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:ze(r.createTime)}),xe.resolve()}getNamedQuery(e,t){return xe.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:IE(r.bundledQuery),readTime:ze(r.readTime)}),xe.resolve();var r}}class BE{constructor(){this.ts=new Qn(fi.es),this.ns=new Qn(fi.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new fi(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new fi(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new et(new an([])),r=new fi(t,e),o=new fi(t,e+1),l=[];return this.ns.forEachInRange([r,o],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new et(new an([])),r=new fi(t,e),o=new fi(t,e+1);let l=ln();return this.ns.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new fi(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class fi{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return et.comparator(e.key,t.key)||Ht(e.fs,t.fs)}static ss(e,t){return Ht(e.fs,t.fs)||et.comparator(e.key,t.key)}}class XA{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Qn(fi.es)}checkEmpty(e){return xe.resolve(0===this.An.length)}addMutationBatch(e,t,r,o){const l=this.ds;this.ds++;const h=new wE(l,t,r,o);this.An.push(h);for(const m of o)this.ws=this.ws.add(new fi(m.key,l)),this.Jt.addToCollectionParentIndex(e,m.key.path.popLast());return xe.resolve(h)}lookupMutationBatch(e,t){return xe.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.gs(t+1),l=o<0?0:o;return xe.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return xe.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fi(t,0),o=new fi(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,o],h=>{const m=this._s(h.fs);l.push(m)}),xe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Ht);return t.forEach(o=>{const l=new fi(o,0),h=new fi(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),xe.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;et.isDocumentKey(l)||(l=l.child(""));const h=new fi(new et(l),0);let m=new Qn(Ht);return this.ws.forEachWhile(b=>{const C=b.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(b.fs)),!0)},h),xe.resolve(this.ys(m))}ys(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){mt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return xe.forEach(t.mutations,o=>{const l=new fi(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new fi(t,0),o=this.ws.firstAfterOrEqual(r);return xe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return xe.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class ex{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Pr(et.comparator),this.size=0}addEntry(e,t,r){const o=t.key,l=this.docs.get(o),h=l?l.size:0,m=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return xe.resolve(r?r.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let r=po();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():On.newInvalidDocument(o))}),xe.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=po();const l=new et(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:b,readTime:C}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;C.compareTo(r)<=0||Bg(t,b)&&(o=o.insert(b.key,b.mutableCopy()))}return xe.resolve(o)}Es(e,t){return xe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tx(this)}getSize(e){return xe.resolve(this.size)}}class tx extends Cy{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.De.addEntry(e,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),xe.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class nx{constructor(e){this.persistence=e,this.Is=new Jg(t=>jf(t),$f),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.As=0,this.Rs=new BE,this.targetCount=0,this.bs=tl.ie()}forEachTarget(e,t){return this.Is.forEach((r,o)=>t(o)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),xe.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,xe.resolve()}updateTargetData(e,t){return this.ae(t),xe.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),xe.waitFor(l).next(()=>o)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return xe.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),xe.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),xe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),xe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return xe.resolve(r)}containsKey(e,t){return xe.resolve(this.Rs.containsKey(t))}}class rx{constructor(e,t){this.Ps={},this.Be=new Kr(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new nx(this),this.Jt=new HA,this.Je=new ex(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new CE(t),this.Ye=new JA(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new XA(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const o=new ix(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(l=>this.referenceDelegate.Ss(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ds(e,t){return xe.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class ix extends xT{constructor(e){super(),this.currentSequenceNumber=e}}class jE{constructor(e){this.persistence=e,this.Cs=new BE,this.Ns=null}static ks(e){return new jE(e)}get xs(){if(this.Ns)return this.Ns;throw nt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),xe.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),xe.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.xs,r=>{const o=et.fromPath(r);return this.$s(e,o).next(l=>{l||t.removeEntry(o)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return xe.or([()=>xe.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function WT(n,e){return`firestore_clients_${n}_${e}`}function KT(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function YT(n,e){return`firestore_targets_${n}_${e}`}class ky{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Os(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Me(o.error.code,o.error.message))),h?new ky(e,t,o.state,l):(wr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rl{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Me(r.error.code,r.error.message))),l?new rl(e,r.state,o):(wr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Py{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=Hg();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=ry(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new Py(e,l):(wr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $E{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $E(t.clientId,t.onlineState):(wr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class HE{constructor(){this.activeTargetIds=Hg()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ip{constructor(e,t,r,o,l){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Pr(Ht),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=WT(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new HE),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.Tn();for(const o of t){if(o===e.Bs)continue;const l=e.getItem(WT(e.persistenceKey,o));if(l){const h=Py.Os(o,l);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const o=e.Zs(r);o&&e.ti(o)}for(const o of e.js)e.qs(o);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(YT(this.persistenceKey,e));if(r){const o=rl.Os(e,r);o&&(t=o.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(YT(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.si(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const o=t.ai(r.key);return t.ui(o,null)}{const o=t.hi(r.key,r.newValue);if(o)return t.ui(o.clientId,o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.li(r.key,r.newValue);if(o)return t.fi(o)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const o=t.di(r.key,r.newValue);if(o)return t.wi(o)}}else if(r.key===t.Js){if(null!==r.newValue){const o=t.Zs(r.newValue);if(o)return t.ti(o)}}else if(r.key===t.Ws){const o=function(l){let h=Kr.I;if(null!=l)try{const m=JSON.parse(l);mt("number"==typeof m),h=m}catch(m){wr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==Kr.I&&t.sequenceNumberHandler(o)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const o=new ky(this.currentUser,e,t,r),l=KT(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Ms())}si(e){const t=KT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const o=YT(this.persistenceKey,e),l=new rl(e,t,r);this.setItem(o,l.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return Py.Os(r,t)}li(e,t){const r=this.zs.exec(e),o=Number(r[1]);return ky.Os(new Wr(void 0!==r[2]?r[2]:null),o,t)}di(e,t){const r=this.Hs.exec(e),o=Number(r[1]);return rl.Os(o,t)}Zs(e){return $E.Os(e)}fi(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),o=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{l.has(b)||m.push(b)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Hg();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Iu{constructor(){this.pi=new HE,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new HE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class QT{Ei(e){}shutdown(){}}class JT{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sx{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class Ny extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,o,l){const h=this.Ui(e,t);Ne("RestConnection","Sending: ",h,r);const m={};return this.qi(m,o,l),this.Ki(e,h,m,r).then(b=>(Ne("RestConnection","Received: ",b),b),b=>{throw Vf("RestConnection",`${e} failed with error: `,b,"url: ",h,"request:",r),b})}ji(e,t,r,o,l){return this.Bi(e,t,r,o,l)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}Ui(e,t){return`${this.Fi}/v1/${t}:${yO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,o){return new Promise((l,h)=>{const m=new iO;m.listenOnce(BC.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Gb.NO_ERROR:const C=m.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(C)),l(C);break;case Gb.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),h(new Me(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Gb.HTTP_ERROR:const M=m.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',M,"response text:",m.getResponseText()),M>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const j=function(K){const ee=K.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(ee)>=0?ee:ge.UNKNOWN}(O.status);h(new Me(j,O.message))}else h(new Me(ge.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Me(ge.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}Qi(e,t,r){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VC(),h=UC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new $C({})),this.qi(m.initMessageHeaders,t,r),(0,kt.uI)()||(0,kt.b$)()||(0,kt.d)()||(0,kt.w1)()||(0,kt.Mn)()||(0,kt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");Ne("Connection","Creating WebChannel: "+b,m);const C=l.createWebChannel(b,m);let M=!1,O=!1;const j=new sx({Vi:ee=>{O?Ne("Connection","Not sending because WebChannel is closed:",ee):(M||(Ne("Connection","Opening WebChannel transport."),C.open(),M=!0),Ne("Connection","WebChannel sending:",ee),C.send(ee))},Si:()=>C.close()}),K=(ee,ye,Re)=>{ee.listen(ye,it=>{try{Re(it)}catch(st){setTimeout(()=>{throw st},0)}})};return K(C,ey.EventType.OPEN,()=>{O||Ne("Connection","WebChannel transport opened.")}),K(C,ey.EventType.CLOSE,()=>{O||(O=!0,Ne("Connection","WebChannel transport closed"),j.Oi())}),K(C,ey.EventType.ERROR,ee=>{O||(O=!0,Vf("Connection","WebChannel transport errored:",ee),j.Oi(new Me(ge.UNAVAILABLE,"The operation could not be completed")))}),K(C,ey.EventType.MESSAGE,ee=>{var ye;if(!O){const Re=ee.data[0];mt(!!Re);const it=Re,st=it.error||(null===(ye=it[0])||void 0===ye?void 0:ye.error);if(st){Ne("Connection","WebChannel received error:",st);const Nt=st.status;let ct=function(Dr){const ei=Ir[Dr];if(void 0!==ei)return fT(ei)}(Nt),fn=st.message;void 0===ct&&(ct=ge.INTERNAL,fn="Unknown error status: "+Nt+" with message "+st.message),O=!0,j.Oi(new Me(ct,fn)),C.close()}else Ne("Connection","WebChannel received:",Re),j.Mi(Re)}}),K(h,gA.STAT_EVENT,ee=>{ee.stat===jC.PROXY?Ne("Connection","Detected buffering proxy"):ee.stat===jC.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.$i()},0),j}}function XT(){return"undefined"!=typeof window?window:null}function Fy(){return"undefined"!=typeof document?document:null}function sp(n){return new fO(n,!0)}class Ly{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=o,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,t-r);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Vy{constructor(e,t,r,o,l,h,m,b){this.Me=e,this.nr=r,this.sr=o,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Ly(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,me.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,me.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===t&&this.Ir(r,o)},r=>{e(()=>{const o=new Me(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var e=this;this.state=5,this.ur.Zi((0,me.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eI extends Vy{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:nt(),o=e.targetChange.targetIds||[],l=function(b,C){return b.C?(mt(void 0===C||"string"==typeof C),ar.fromBase64String(C||"")):(mt(void 0===C||C instanceof Uint8Array),ar.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(b){const C=void 0===b.code?ge.UNKNOWN:fT(b.code);return new Me(C,b.message||"")}(h);t=new my(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Ns(n,r.document.name),l=ze(r.document.updateTime),h=new di({mapValue:{fields:r.document.fields}}),m=On.newFoundDocument(o,l,h);t=new zg(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Ns(n,r.document),l=r.readTime?ze(r.readTime):Et.min(),h=On.newNoDocument(o,l);t=new zg([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Ns(n,r.document);t=new zg([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return nt();{const r=e.filter,l=new AA(r.count||0);t=new gy(r.targetId,l)}}var b;return t}(this.k,e),r=function(o){if(!("targetChange"in o))return Et.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Et.min():l.readTime?ze(l.readTime):Et.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=gu(this.k),t.addTarget=function(o,l){let h;const m=l.target;return h=Vg(m)?{documents:EE(o,m)}:{query:ET(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=gE(o,l.resumeToken):l.snapshotVersion.compareTo(Et.min())>0&&(h.readTime=Jf(o,l.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=gu(this.k),t.removeTarget=e,this.gr(t)}}class tI extends Vy{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(mt(void 0!==e),n.map(t=>function(r,o){let l=ze(r.updateTime?r.updateTime:o);return l.isEqual(Et.min())&&(l=ze(o)),new aT(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ze(e.commitTime);return this.listener.Cr(r,t)}return mt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=gu(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Gg(this.k,r))};this.gr(t)}}class ox extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=o,this.$r=!1}Or(){if(this.$r)throw new Me(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.Bi(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ge.UNKNOWN,o.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.ji(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ge.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class ax{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(wr(t),this.Lr=!1):Ne("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class nI{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,me.Z)(function*(){var b;Zd(h)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,me.Z)(function*(C){const M=Ve(C);M.Gr.add(4),yield il(M),M.Jr.set("Unknown"),M.Gr.delete(4),yield Xg(M)}),function(C){return b.apply(this,arguments)})(h))}))}),this.Jr=new ax(r,o)}}function Xg(n){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,me.Z)(function*(n){if(Zd(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function il(n){return op.apply(this,arguments)}function op(){return(op=(0,me.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function zE(n,e){const t=Ve(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),qd(t)?Du(t):Yd(t).lr()&&tn(t,e))}function sl(n,e){const t=Ve(n),r=Yd(t);t.Wr.delete(e),r.lr()&&ol(t,e),0===t.Wr.size&&(r.lr()?r._r():Zd(t)&&t.Jr.set("Unknown"))}function tn(n,e){n.Yr.X(e.targetId),Yd(n).Pr(e)}function ol(n,e){n.Yr.X(e),Yd(n).vr(e)}function Du(n){n.Yr=new RA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Yd(n).start(),n.Jr.Br()}function qd(n){return Zd(n)&&!Yd(n).hr()&&n.Wr.size>0}function Zd(n){return 0===Ve(n).Gr.size}function _t(n){n.Yr=void 0}function _o(n){return em.apply(this,arguments)}function em(){return(em=(0,me.Z)(function*(n){n.Wr.forEach((e,t)=>{tn(n,e)})})).apply(this,arguments)}function Gd(n,e){return rI.apply(this,arguments)}function rI(){return(rI=(0,me.Z)(function*(n,e){_t(n),qd(n)?(n.Jr.Kr(e),Du(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function iI(n,e,t){return By.apply(this,arguments)}function By(){return(By=(0,me.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof my&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.Wr.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Wr.delete(m),o.Yr.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qE(n,r)}else if(e instanceof zg?n.Yr.ot(e):e instanceof gy?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Et.min()))try{const r=yield KA(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.Yr.gt(l);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.Wr.get(b);C&&o.Wr.set(b,C.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const b=o.Wr.get(m);if(!b)return;o.Wr.set(m,b.withResumeToken(ar.EMPTY_BYTE_STRING,b.snapshotVersion)),ol(o,m);const C=new yu(b.target,m,1,b.sequenceNumber);tn(o,C)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield qE(n,r)}var r})).apply(this,arguments)}function qE(n,e,t){return ZE.apply(this,arguments)}function ZE(){return(ZE=(0,me.Z)(function*(n,e,t){if(!mo(e))throw e;n.Gr.add(1),yield il(n),n.Jr.set("Offline"),t||(t=()=>KA(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Xg(n)}))})).apply(this,arguments)}function sI(n,e){return e().catch(t=>qE(n,t,e))}function pi(n){return kn.apply(this,arguments)}function kn(){return(kn=(0,me.Z)(function*(n){const e=Ve(n),t=Ls(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Xo(e);)try{const o=yield QA(e.localStore,r);if(null===o){0===e.Qr.length&&t._r();break}r=o.batchId,oI(e,o)}catch(o){yield qE(e,o)}aI(e)&&GE(e)})).apply(this,arguments)}function Xo(n){return Zd(n)&&n.Qr.length<10}function oI(n,e){n.Qr.push(e);const t=Ls(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function aI(n){return Zd(n)&&!Ls(n).hr()&&n.Qr.length>0}function GE(n){Ls(n).start()}function WE(n){return Su.apply(this,arguments)}function Su(){return(Su=(0,me.Z)(function*(n){Ls(n).kr()})).apply(this,arguments)}function tm(n){return KE.apply(this,arguments)}function KE(){return(KE=(0,me.Z)(function*(n){const e=Ls(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function Wd(n,e,t){return YE.apply(this,arguments)}function YE(){return(YE=(0,me.Z)(function*(n,e,t){const r=n.Qr.shift(),o=Yg.from(r,e,t);yield sI(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield pi(n)})).apply(this,arguments)}function cI(n,e){return nm.apply(this,arguments)}function nm(){return(nm=(0,me.Z)(function*(n,e){var t;e&&Ls(n).Sr&&(yield(t=(0,me.Z)(function*(r,o){if(hT(l=o.code)&&l!==ge.ABORTED){const h=r.Qr.shift();Ls(r).wr(),yield sI(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield pi(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),aI(n)&&GE(n)})).apply(this,arguments)}function Kd(n,e){return rm.apply(this,arguments)}function rm(){return(rm=(0,me.Z)(function*(n,e){const t=Ve(n);e?(t.Gr.delete(2),yield Xg(t)):e||(t.Gr.add(2),yield il(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function Yd(n){return n.Xr||(n.Xr=function(e,t,r){const o=Ve(e);return o.Or(),new eI(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:_o.bind(null,n),Ni:Gd.bind(null,n),br:iI.bind(null,n)}),n.zr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Xr.wr(),qd(n)?Du(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),_t(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Ls(n){return n.Zr||(n.Zr=function(e,t,r){const o=Ve(e);return o.Or(),new tI(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:WE.bind(null,n),Ni:cI.bind(null,n),Nr:tm.bind(null,n),Cr:Wd.bind(null,n)}),n.zr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Zr.wr(),yield pi(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class QE{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,m=new QE(e,t,h,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function al(n,e){if(wr("AsyncQueue",`${e}: ${n}`),mo(n))return new Me(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class Qd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=hE(),this.sortedSet=new Pr(this.comparator)}static emptySet(e){return new Qd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Qd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class JE{constructor(){this.eo=new Pr(et.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):nt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Jd{constructor(e,t,r,o,l,h,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Jd(e,t,Qd.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class jy{constructor(){this.so=void 0,this.listeners=[]}}class cx{constructor(){this.queries=new Jg(e=>hy(e),Od),this.onlineState="Unknown",this.io=new Set}}function im(n,e){return sm.apply(this,arguments)}function sm(){return(sm=(0,me.Z)(function*(n,e){const t=Ve(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new jy),o)try{l.so=yield t.onListen(r)}catch(h){const m=al(h,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&Xd(t)})).apply(this,arguments)}function lI(n,e){return uI.apply(this,arguments)}function uI(){return(uI=(0,me.Z)(function*(n,e){const t=Ve(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function yt(n,e){const t=Ve(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.oo(o)&&(r=!0);h.so=o}}r&&Xd(t)}function vO(n,e,t){const r=Ve(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function Xd(n){n.io.forEach(e=>{e.next()})}class XE{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Jd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Jd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class lx{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class dI{constructor(e){this.k=e}Hn(e){return Ns(this.k,e)}Jn(e){return e.metadata.exists?yE(this.k,e.document,!1):On.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return ze(e)}}class bO{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=ux(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new dI(this.k);for(const o of e)if(o.metadata.queries){const l=r.Hn(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||ln()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function(n,e,t,r){return rp.apply(this,arguments)}(e.localStore,new dI(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const o of e.queries)yield Oy(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new _O(Object.assign({},e.progress),t)})()}}function ux(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class hI{constructor(e){this.key=e}}class gi{constructor(e){this.key=e}}class fI{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=ln(),this.mutatedKeys=ln(),this.Ao=sT(e),this.Ro=new Qd(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new JE,o=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b=Ug(this.query)&&o.size===this.query.limit?o.last():null,C=Yc(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,O)=>{const j=o.get(M),K=Bg(this.query,O)?O:null,ee=!!j&&this.mutatedKeys.has(j.key),ye=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Re=!1;j&&K?j.data.isEqual(K.data)?ee!==ye&&(r.track({type:3,doc:K}),Re=!0):this.Vo(j,K)||(r.track({type:2,doc:K}),Re=!0,(b&&this.Ao(K,b)>0||C&&this.Ao(K,C)<0)&&(m=!0)):!j&&K?(r.track({type:0,doc:K}),Re=!0):j&&!K&&(r.track({type:1,doc:j}),Re=!0,(b||C)&&(m=!0)),Re&&(K?(h=h.add(K),l=ye?l.add(M):l.delete(M)):(h=h.delete(M),l=l.delete(M)))}),Ug(this.query)||Yc(this.query))for(;h.size>this.query.limit;){const M=Ug(this.query)?h.last():h.first();h=h.delete(M.key),l=l.delete(M.key),r.track({type:1,doc:M})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((C,M)=>function(O,j){const K=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return K(O)-K(j)}(C.type,M.type)||this.Ao(C.doc,M.doc)),this.So(r);const h=t?this.Do():[],m=0===this.Io.size&&this.current?1:0,b=m!==this.Eo;return this.Eo=m,0!==l.length||b?{snapshot:new Jd(this.query,e.Ro,o,l,e.mutatedKeys,0===m,b,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new JE,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=ln(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new gi(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new hI(r))}),t}ko(e){this.To=e.zn,this.Io=ln();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return Jd.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class dx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ew{constructor(e){this.key=e,this.$o=!1}}class hx{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new Jg(m=>hy(m),Od),this.Fo=new Map,this.Lo=new Set,this.Bo=new Pr(et.comparator),this.Uo=new Map,this.qo=new BE,this.Ko={},this.jo=new Map,this.Qo=tl.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function fx(n,e){return tw.apply(this,arguments)}function tw(){return(tw=(0,me.Z)(function*(n,e){const t=Jr(n);let r,o;const l=t.Mo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.xo();else{const h=yield $d(t.localStore,Ps(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield nw(t,e,r,"current"===m),t.isPrimaryClient&&zE(t.remoteStore,h)}return o})).apply(this,arguments)}function nw(n,e,t,r){return rw.apply(this,arguments)}function rw(){return(rw=(0,me.Z)(function*(n,e,t,r){n.Go=(M,O,j)=>{return(K=(0,me.Z)(function*(ee,ye,Re,it){let st=ye.view.Po(Re);st.Bn&&(st=yield My(ee.localStore,ye.query,!1).then(({documents:fn})=>ye.view.Po(fn,st)));const Nt=it&&it.targetChanges.get(ye.targetId),ct=ye.view.applyChanges(st,ee.isPrimaryClient,Nt);return gI(ee,ye.targetId,ct.Co),ct.snapshot}),function(ee,ye,Re,it){return K.apply(this,arguments)})(n,M,O,j);var K};const o=yield My(n.localStore,e,!0),l=new fI(e,o.zn),h=l.Po(o.documents),m=Qf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=l.applyChanges(h,n.isPrimaryClient,m);gI(n,t,b.Co);const C=new dx(e,t,l);return n.Mo.set(e,C),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),b.snapshot})).apply(this,arguments)}function px(n,e){return om.apply(this,arguments)}function om(){return(om=(0,me.Z)(function*(n,e){const t=Ve(n),r=t.Mo.get(e),o=t.Fo.get(r.targetId);if(o.length>1)return t.Fo.set(r.targetId,o.filter(l=>!Od(l,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),sl(t.remoteStore,r.targetId),th(t,r.targetId)}).catch(wu))):(th(t,r.targetId),yield Hd(t.localStore,r.targetId,!0))})).apply(this,arguments)}function iw(){return(iw=(0,me.Z)(function*(n,e,t){const r=$y(n);try{const o=yield function(l,h){const m=Ve(l),b=Yr.now(),C=h.reduce((O,j)=>O.add(j.key),ln());let M;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.Wn.vn(O,C).next(j=>{M=j;const K=[];for(const ee of h){const ye=lT(ee,M.get(ee.key));null!=ye&&K.push(new Jc(ee.key,ye,ly(ye.value.mapValue),cr.exists(!0)))}return m.An.addMutationBatch(O,b,K,h)})).then(O=>(O.applyToLocalDocumentSet(M),{batchId:O.batchId,changes:M}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let b=l.Ko[l.currentUser.toKey()];b||(b=new Pr(Ht)),b=b.insert(h,m),l.Ko[l.currentUser.toKey()]=b}(r,o.batchId,t),yield cl(r,o.changes),yield pi(r.remoteStore)}catch(o){const l=al(o,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function sw(n,e){return am.apply(this,arguments)}function am(){return(am=(0,me.Z)(function*(n,e){const t=Ve(n);try{const r=yield YA(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Uo.get(l);h&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.$o=!0:o.modifiedDocuments.size>0?mt(h.$o):o.removedDocuments.size>0&&(mt(h.$o),h.$o=!1))}),yield cl(t,r,e)}catch(r){yield wu(r)}})).apply(this,arguments)}function pI(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Mo.forEach((l,h)=>{const m=h.view.ro(e);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=Ve(l);m.onlineState=h;let b=!1;m.queries.forEach((C,M)=>{for(const O of M.listeners)O.ro(h)&&(b=!0)}),b&&Xd(m)}(r.eventManager,e),o.length&&r.Oo.br(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EO(n,e,t){return ow.apply(this,arguments)}function ow(){return(ow=(0,me.Z)(function*(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Uo.get(e),l=o&&o.key;if(l){let h=new Pr(et.comparator);h=h.insert(l,On.newNoDocument(l,Et.min()));const m=ln().add(l),b=new Yf(Et.min(),new Map,new Qn(Ht),h,m);yield sw(r,b),r.Bo=r.Bo.remove(l),r.Uo.delete(e),dw(r)}else yield Hd(r.localStore,e,!1).then(()=>th(r,e,t)).catch(wu)})).apply(this,arguments)}function mx(n,e){return aw.apply(this,arguments)}function aw(){return(aw=(0,me.Z)(function*(n,e){const t=Ve(n),r=e.batch.batchId;try{const o=yield WA(t.localStore,e);uw(t,r,null),lw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield cl(t,o)}catch(o){yield wu(o)}})).apply(this,arguments)}function _x(n,e,t){return cw.apply(this,arguments)}function cw(){return(cw=(0,me.Z)(function*(n,e,t){const r=Ve(n);try{const o=yield function(l,h){const m=Ve(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let C;return m.An.lookupMutationBatch(b,h).next(M=>(mt(null!==M),C=M.keys(),m.An.removeMutationBatch(b,M))).next(()=>m.An.performConsistencyCheck(b)).next(()=>m.Wn.vn(b,C))})}(r.localStore,e);uw(r,e,t),lw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield cl(r,o)}catch(o){yield wu(o)}})).apply(this,arguments)}function eh(){return(eh=(0,me.Z)(function*(n,e){const t=Ve(n);Zd(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Ve(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.jo.get(r)||[];o.push(e),t.jo.set(r,o)}catch(r){const o=al(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function lw(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function uw(n,e,t){const r=Ve(n);let o=r.Ko[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Ko[r.currentUser.toKey()]=o}}function th(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||ap(n,r)})}function ap(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(sl(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),dw(n))}function gI(n,e,t){for(const r of t)r instanceof hI?(n.qo.addReference(r.key,e),mI(n,r)):r instanceof gi?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||ap(n,r.key)):nt()}function mI(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.Lo.add(r),dw(n))}function dw(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new et(an.fromString(e)),r=n.Qo.next();n.Uo.set(r,new ew(t)),n.Bo=n.Bo.insert(t,r),zE(n.remoteStore,new yu(Ps(Rd(t.path)),r,2,Kr.I))}}function cl(n,e,t){return hw.apply(this,arguments)}function hw(){return(hw=(0,me.Z)(function*(n,e,t){const r=Ve(n),o=[],l=[],h=[];var m;r.Mo.isEmpty()||(r.Mo.forEach((m,b)=>{h.push(r.Go(b,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),o.push(C);const M=NE.$n(b.targetId,C);l.push(M)}}))}),yield Promise.all(h),r.Oo.br(o),yield(m=(0,me.Z)(function*(b,C){const M=Ve(b);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>xe.forEach(C,j=>xe.forEach(j.kn,K=>M.persistence.referenceDelegate.addReference(O,j.targetId,K)).next(()=>xe.forEach(j.xn,K=>M.persistence.referenceDelegate.removeReference(O,j.targetId,K)))))}catch(O){if(!mo(O))throw O;Ne("LocalStore","Failed to update sequence numbers: "+O)}for(const O of C){const j=O.targetId;if(!O.fromCache){const K=M.qn.get(j),ye=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);M.qn=M.qn.insert(j,ye)}}}),function(b,C){return m.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function vx(n,e){return fw.apply(this,arguments)}function fw(){return(fw=(0,me.Z)(function*(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield Sy(t.localStore,e);t.currentUser=e,(o=t).jo.forEach(h=>{h.forEach(m=>{m.reject(new Me(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cl(t,r.Gn)}var o})).apply(this,arguments)}function _I(n,e){const t=Ve(n),r=t.Uo.get(e);if(r&&r.$o)return ln().add(r.key);{let o=ln();const l=t.Fo.get(e);if(!l)return o;for(const h of l){const m=t.Mo.get(h);o=o.unionWith(m.view.bo)}return o}}function bx(n,e){return pw.apply(this,arguments)}function pw(){return(pw=(0,me.Z)(function*(n,e){const t=Ve(n),r=yield My(t.localStore,e.query,!0),o=e.view.ko(r);return t.isPrimaryClient&&gI(t,e.targetId,o.Co),o})).apply(this,arguments)}function wO(n){return yI.apply(this,arguments)}function yI(){return(yI=(0,me.Z)(function*(n){const e=Ve(n);return VE(e.localStore).then(t=>cl(e,t))})).apply(this,arguments)}function CO(n,e,t,r){return cm.apply(this,arguments)}function cm(){return(cm=(0,me.Z)(function*(n,e,t,r){const o=Ve(n),l=yield function(h,m){const b=Ve(h),C=Ve(b.An);return b.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Zt(M,m).next(O=>O?b.Wn.vn(M,O):xe.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield pi(o.remoteStore):"acknowledged"===t||"rejected"===t?(uw(o,e,r||null),lw(o,e),m=e,Ve(Ve(o.localStore).An).ee(m)):nt(),yield cl(o,l)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function gw(){return(gw=(0,me.Z)(function*(n,e){const t=Ve(n);if(Jr(t),$y(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield vI(t,r.toArray());t.Wo=!0,yield Kd(t.remoteStore,!0);for(const l of o)zE(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const r=[];let o=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(th(t,h),Hd(t.localStore,h,!0))),sl(t.remoteStore,h)}),yield o,yield vI(t,r),function(l){const h=Ve(l);h.Uo.forEach((m,b)=>{sl(h.remoteStore,b)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Pr(et.comparator)}(t),t.Wo=!1,yield Kd(t.remoteStore,!1)}})).apply(this,arguments)}function vI(n,e,t){return mw.apply(this,arguments)}function mw(){return(mw=(0,me.Z)(function*(n,e,t){const r=Ve(n),o=[],l=[];for(const h of e){let m;const b=r.Fo.get(h);if(b&&0!==b.length){m=yield $d(r.localStore,Ps(b[0]));for(const C of b){const M=r.Mo.get(C),O=yield bx(r,M);O.snapshot&&l.push(O.snapshot)}}else{const C=yield ZT(r.localStore,h);m=yield $d(r.localStore,C),yield nw(r,bI(C),h,!1)}o.push(m)}return r.Oo.br(l),o})).apply(this,arguments)}function bI(n){return iT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function wx(n){const e=Ve(n);return Ve(Ve(e.localStore).persistence).Tn()}function EI(n,e,t,r){return lm.apply(this,arguments)}function lm(){return(lm=(0,me.Z)(function*(n,e,t,r){const o=Ve(n);if(o.Wo)Ne("SyncEngine","Ignoring unexpected query state notification.");else if(o.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield VE(o.localStore),h=Yf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield cl(o,l,h);break}case"rejected":yield Hd(o.localStore,e,!0),th(o,e,r);break;default:nt()}})).apply(this,arguments)}function Cx(n,e,t){return Au.apply(this,arguments)}function Au(){return(Au=(0,me.Z)(function*(n,e,t){const r=Jr(n);if(r.Wo){for(const o of e){if(r.Fo.has(o)){Ne("SyncEngine","Adding an already active target "+o);continue}const l=yield ZT(r.localStore,o),h=yield $d(r.localStore,l);yield nw(r,bI(l),h.targetId,!1),zE(r.remoteStore,h)}for(const o of t)r.Fo.has(o)&&(yield Hd(r.localStore,o,!1).then(()=>{sl(r.remoteStore,o),th(r,o)}).catch(wu))}})).apply(this,arguments)}function Jr(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EO.bind(null,e),e.Oo.br=yt.bind(null,e.eventManager),e.Oo.zo=vO.bind(null,e.eventManager),e}function $y(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_x.bind(null,e),e}class Hy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.k=sp(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return LE(this.persistence,new zT,e.initialUser,this.k)}Yo(e){return new rx(jE.ks,this.k)}Jo(e){return new Iu}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wI extends Hy{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield function(n){return UE.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield $y(r.tc.syncEngine),yield pi(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return LE(this.persistence,new zT,e.initialUser,this.k)}Xo(e){return new jT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=PE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new $T(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,XT(),Fy(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Iu}}class CI extends wI{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const o=r.tc.syncEngine;r.sharedClientState instanceof ip&&(r.sharedClientState.syncEngine={mi:CO.bind(null,o),gi:EI.bind(null,o),yi:Cx.bind(null,o),Tn:wx.bind(null,o),_i:wO.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,me.Z)(function*(h){yield function(n,e){return gw.apply(this,arguments)}(r.tc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(e){const t=XT();if(!ip.Pt(t))throw new Me(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=PE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ip(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class zy{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>pI(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=vx.bind(null,r.syncEngine),yield Kd(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cx}createDatastore(e){const t=sp(e.databaseInfo.databaseId),r=new Ny(e.databaseInfo);return new ox(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>pI(this.syncEngine,m,0),h=JT.Pt()?new JT:new QT,new nI(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,m,b,C){const M=new hx(r,o,l,h,m,b);return C&&(M.Wo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=Ve(t);Ne("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield il(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _w(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Tx{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Cr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,me.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),o=Number(r);isNaN(o)&&e.cc(`length string (${r}) is not valid number`);const l=yield e.ac(o);return new lx(JSON.parse(l),t.length+o)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,me.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,me.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Ix{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,me.Z)(function*(l,h){const m=Ve(l),b=gu(m.k)+"/documents",C={documents:h.map(K=>qg(m.k,K))},M=yield m.ji("BatchGetDocuments",b,C),O=new Map;M.forEach(K=>{const ee=function(n,e){return"found"in e?function(t,r){mt(!!r.found);const o=Ns(t,r.found.name),l=ze(r.found.updateTime),h=new di({mapValue:{fields:r.found.fields}});return On.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){mt(!!r.missing),mt(!!r.readTime);const o=Ns(t,r.missing),l=ze(r.readTime);return On.newNoDocument(o,l)}(n,e):nt()}(m.k,K);O.set(ee.key.toString(),ee)});const j=[];return h.forEach(K=>{const ee=O.get(K.toString());mt(!!ee),j.push(ee)}),j}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $g(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=et.fromPath(o);e.mutations.push(new dE(l,e.precondition(l)))}),yield(r=(0,me.Z)(function*(o,l){const h=Ve(o),m=gu(h.k)+"/documents",b={writes:l.map(C=>Gg(h.k,C))};yield h.Bi("Commit",m,b)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nt();t=Et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?cr.updateTime(t):cr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Me(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cr.updateTime(t)}return cr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class TI{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.lc=5,this.ur=new Ly(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,me.Z)(function*(){const t=new Ix(e.datastore),r=e.dc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.wc(l)}))}).catch(o=>{e.wc(o)})}))}dc(e){try{const t=this.updateFunction(e);return!Wc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!hT(t)}return!1}}class Dx{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Wr.UNAUTHENTICATED,this.clientId=Yb.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,me.Z)(function*(m){Ne("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=al(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Sx(n,e){return yw.apply(this,arguments)}function yw(){return(yw=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,me.Z)(function*(l){r.isEqual(l)||(yield Sy(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function II(n,e){return xu.apply(this,arguments)}function xu(){return(xu=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield DI(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(l=(0,me.Z)(function*(h,m){const b=Ve(h);b.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const C=Zd(b);b.Gr.add(3),yield il(b),C&&b.Jr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Gr.delete(3),yield Xg(b)}),function(h,m){return l.apply(this,arguments)})(e.remoteStore,o);var l}),n.onlineComponents=e})).apply(this,arguments)}function DI(n){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,me.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield Sx(n,new Hy)),n.offlineComponents})).apply(this,arguments)}function Gy(n){return SI.apply(this,arguments)}function SI(){return(SI=(0,me.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield II(n,new zy)),n.onlineComponents})).apply(this,arguments)}function vw(n){return DI(n).then(e=>e.persistence)}function bw(n){return DI(n).then(e=>e.localStore)}function Wy(n){return Gy(n).then(e=>e.remoteStore)}function Ky(n){return Gy(n).then(e=>e.syncEngine)}function nh(n){return Ew.apply(this,arguments)}function Ew(){return(Ew=(0,me.Z)(function*(n){const e=yield Gy(n),t=e.eventManager;return t.onListen=fx.bind(null,e.syncEngine),t.onUnlisten=px.bind(null,e.syncEngine),t})).apply(this,arguments)}function AI(n,e,t={}){const r=new Cr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(o,l,h,m,b){const C=new qy({next:O=>{l.enqueueAndForget(()=>lI(o,M));const j=O.docs.has(h);!j&&O.fromCache?b.reject(new Me(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&O.fromCache&&m&&"server"===m.source?b.reject(new Me(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(O)},error:O=>b.reject(O)}),M=new XE(Rd(h.path),C,{includeMetadataChanges:!0,wo:!0});return im(o,M)}(yield nh(n),n.asyncQueue,e,t,r)})),r.promise}function xI(n,e,t={}){const r=new Cr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(o,l,h,m,b){const C=new qy({next:O=>{l.enqueueAndForget(()=>lI(o,M)),O.fromCache&&"server"===m.source?b.reject(new Me(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(O)},error:O=>b.reject(O)}),M=new XE(h,C,{includeMetadataChanges:!0,wo:!0});return im(o,M)}(yield nh(n),n.asyncQueue,e,t,r)})),r.promise}class OI{constructor(e,t,r,o,l,h,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class rh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rh&&e.projectId===this.projectId&&e.database===this.database}}const ww=new Map;function Cw(n,e,t){if(!t)throw new Me(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kI(n,e,t,r){if(!0===e&&!0===r)throw new Me(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function PI(n){if(!et.isDocumentKey(n))throw new Me(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NI(n){if(et.isDocumentKey(n))throw new Me(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function Qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yy(n);throw new Me(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function FI(n,e){if(e<=0)throw new Me(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,kI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ll{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cp({}),this._settingsFrozen=!1,e instanceof rh?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Me(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(o.options.projectId)}(e))}get app(){if(!this._app)throw new Me(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yA;switch(t.type){case"gapi":const r=t.client;return mt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new vA(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ww.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),ww.delete(e),t.terminate())}(this),Promise.resolve()}}class yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Pn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pn(this.firestore,e,this._query)}}class Ga extends Pn{constructor(e,t,r){super(e,t,Rd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new et(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function dm(n,e,...t){if(n=(0,kt.m9)(n),Cw("collection","path",e),n instanceof ll){const r=an.fromString(e,...t);return NI(r),new Ga(n,null,r)}{if(!(n instanceof yn||n instanceof Ga))throw new Me(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return NI(r),new Ga(n.firestore,null,r)}}function Qy(n,e,...t){if(n=(0,kt.m9)(n),1===arguments.length&&(e=Yb.A()),Cw("doc","path",e),n instanceof ll){const r=an.fromString(e,...t);return PI(r),new yn(n,null,new et(r))}{if(!(n instanceof yn||n instanceof Ga))throw new Me(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return PI(r),new yn(n.firestore,n instanceof Ga?n.converter:null,new et(r))}}function Nx(n,e){return n=(0,kt.m9)(n),e=(0,kt.m9)(e),(n instanceof yn||n instanceof Ga)&&(e instanceof yn||e instanceof Ga)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Jy(n,e){return n=(0,kt.m9)(n),e=(0,kt.m9)(e),n instanceof Pn&&e instanceof Pn&&n.firestore===e.firestore&&Od(n._query,e._query)&&n.converter===e.converter}class Tw{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Ly(this,"async_queue_retry"),this.bc=()=>{const t=Fy();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=Fy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=Fy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new Cr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,me.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!mo(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,wr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const o=QE.createAndSchedule(this,e,t,r,l=>this.Sc(l));return this.Tc.push(o),o}Pc(){this.Ec&&nt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function Xy(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Iw{constructor(){this._progressObserver={},this._taskCompletionResolver=new Cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qn extends ll{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Tw,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Sw(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||Sw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Sw(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new OI(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new Dx(n._authCredentials,n._appCheckCredentials,n._queue,r)}function xw(n,e,t){const r=new Cr;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield Sx(n,t),yield II(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===ge.FAILED_PRECONDITION||l.code===ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function $I(n){if(n._initialized||n._terminated)throw new Me(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zi(ar.fromBase64String(e))}catch(t){throw new Me(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zi(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ih{constructor(e){this._methodName=e}}class ev{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const DO=/^__.*__$/;class hm{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Jc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kf(e,this.data,t,this.fieldTransforms)}}class HI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Jc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tv(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class nv{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=o,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Oc({path:r,Fc:!1});return o.Lc(e),o}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Oc({path:r,Fc:!1});return o.xc(),o}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return gm(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(tv(this.$c)&&DO.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class zI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||sp(e)}Qc(e,t,r,o=!1){return new nv({$c:e,methodName:t,jc:r,path:ui.emptyPath(),Fc:!1,Kc:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function sh(n){const e=n._freezeSettings(),t=sp(n._databaseId);return new zI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rv(n,e,t,r,o,l={}){const h=n.Qc(l.merge||l.mergeFields?2:0,e,t,o);fm("Data must be an object, but it was:",h,r);const m=Pw(r,h);let b,C;if(l.merge)b=new Sd(h.fieldMask),C=h.fieldTransforms;else if(l.mergeFields){const M=[];for(const O of l.mergeFields){const j=pm(e,O,t);if(!h.contains(j))throw new Me(ge.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);Fw(M,j)||M.push(j)}b=new Sd(M),C=h.fieldTransforms.filter(O=>b.covers(O.field))}else b=null,C=h.fieldTransforms;return new hm(new di(m),b,C)}class oh extends ih{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}function Mw(n,e,t){return new nv({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class iv extends ih{_toFieldTransform(e){return new fu(e.path,new qf)}isEqual(e){return e instanceof iv}}class sv extends ih{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=Mw(this,e,!0),r=this.Wc.map(l=>Wa(l,t)),o=new Qc(r);return new fu(e.path,o)}isEqual(e){return this===e}}class Rw extends ih{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=Mw(this,e,!0),r=this.Wc.map(l=>Wa(l,t)),o=new kd(r);return new fu(e.path,o)}isEqual(e){return this===e}}class SO extends ih{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new Gf(e.k,iE(e.k,this.Gc));return new fu(e.path,t)}isEqual(e){return this===e}}function ov(n,e,t,r){const o=n.Qc(1,e,t);fm("Data must be an object, but it was:",o,r);const l=[],h=di.empty();Dd(r,(b,C)=>{const M=Nw(e,b,t);C=(0,kt.m9)(C);const O=o.Bc(M);if(C instanceof oh)l.push(M);else{const j=Wa(C,O);null!=j&&(l.push(M),h.set(M,j))}});const m=new Sd(l);return new HI(h,m,o.fieldTransforms)}function Ow(n,e,t,r,o,l){const h=n.Qc(1,e,t),m=[pm(e,r,t)],b=[o];if(l.length%2!=0)throw new Me(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<l.length;j+=2)m.push(pm(e,l[j])),b.push(l[j+1]);const C=[],M=di.empty();for(let j=m.length-1;j>=0;--j)if(!Fw(C,m[j])){const K=m[j];let ee=b[j];ee=(0,kt.m9)(ee);const ye=h.Bc(K);if(ee instanceof oh)C.push(K);else{const Re=Wa(ee,ye);null!=Re&&(C.push(K),M.set(K,Re))}}const O=new Sd(C);return new HI(M,O,h.fieldTransforms)}function kw(n,e,t,r=!1){return Wa(t,n.Qc(r?4:3,e))}function Wa(n,e){if(qI(n=(0,kt.m9)(n)))return fm("Unsupported field value:",e,n),Pw(n,e);if(n instanceof ih)return function(t,r){if(!tv(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let m=Wa(h,r.Uc(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,kt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return iE(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Yr.fromDate(t);return{timestampValue:Jf(r.k,o)}}if(t instanceof Yr){const o=new Yr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jf(r.k,o)}}if(t instanceof ev)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zi)return{bytesValue:gE(r.k,t._byteString)};if(t instanceof yn){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.qc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mE(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${Yy(t)}`)}(n,e)}function Pw(n,e){const t={};return ZC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dd(n,(r,o)=>{const l=Wa(o,e.Mc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function qI(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yr||n instanceof ev||n instanceof zi||n instanceof yn||n instanceof ih)}function fm(n,e,t){if(!qI(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Yy(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function pm(n,e,t){if((e=(0,kt.m9)(e))instanceof Mu)return e._internalPath;if("string"==typeof e)return Nw(n,e);throw gm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ux=new RegExp("[~\\*/\\[\\]]");function Nw(n,e,t){if(e.search(Ux)>=0)throw gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mu(...e.split("."))._internalPath}catch(r){throw gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gm(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||h)&&(b+=" (found",l&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new Me(ge.INVALID_ARGUMENT,m+n+b)}function Fw(n,e){return n.some(t=>t.isEqual(e))}class lp{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bx extends lp{data(){return super.data()}}function mm(n,e){return"string"==typeof e?Nw(n,e):e instanceof Mu?e._internalPath:e._delegate._internalPath}class Ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends lp{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _m(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _m extends ul{data(e={}){return super.data(e)}}class dl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ru(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _m(this._firestore,this._userDataWriter,r.key,r,new Ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new _m(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ru(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new _m(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ru(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,C=-1;return 0!==h.type&&(b=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),C=l.indexOf(h.doc.key)),{type:jx(h.type),doc:m,oldIndex:b,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function Lw(n,e){return n instanceof ul&&e instanceof ul?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof dl&&e instanceof dl&&n._firestore===e._firestore&&Jy(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Vw(n){if(Yc(n)&&0===n.explicitOrderBy.length)throw new Me(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class up{}function hl(n,...e){for(const t of e)n=t._apply(n);return n}class $x extends up{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=sh(e.firestore),r=function(o,l,h,m,b,C,M){let O;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Me(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){Yx(M,C);const K=[];for(const ee of M)K.push(Kx(m,o,ee));O={arrayValue:{values:K}}}else O=Kx(m,o,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||Yx(M,C),O=kw(h,"where",M,"in"===C||"not-in"===C);const j=Si.create(b,C,O);return function(K,ee){if(ee.V()){const Re=rE(K);if(null!==Re&&!Re.isEqual(ee.field))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${ee.field.toString()}'`);const it=nE(K);null!==it&&Qx(0,ee.field,it)}const ye=function(Re,it){for(const st of Re.filters)if(it.indexOf(st.op)>=0)return st.op;return null}(K,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==ye)throw new Me(ge.INVALID_ARGUMENT,ye===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${ye.toString()}' filters.`)}(o,j),j}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Pn(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new $a(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class zx extends up{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Un(o,l);return function(m,b){if(null===nE(m)){const C=rE(m);null!==C&&Qx(0,C,b.field)}}(r,h),h}(e._query,this.zc,this.Yc);return new Pn(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new $a(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class qx extends up{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new Pn(e.firestore,e.converter,TA(e._query,this.Xc,this.Zc))}}class Zx extends up{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=Wx(e,this.type,this.ta,this.ea);return new Pn(e.firestore,e.converter,(o=t,new $a((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class Gx extends up{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=Wx(e,this.type,this.ta,this.ea);return new Pn(e.firestore,e.converter,(o=t,new $a((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Wx(n,e,t,r){if(t[0]=(0,kt.m9)(t[0]),t[0]instanceof lp)return function(o,l,h,m,b){if(!m)throw new Me(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const M of zf(o))if(M.field.isKeyField())C.push(Uf(l,m.key));else{const O=m.data.field(M.field);if(Ad(O))throw new Me(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const j=M.field.canonicalString();throw new Me(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}C.push(O)}return new Hf(C,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=sh(n.firestore);return function(l,h,m,b,C,M){const O=l.explicitOrderBy;if(C.length>O.length)throw new Me(ge.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let K=0;K<C.length;K++){const ee=C[K];if(O[K].field.isKeyField()){if("string"!=typeof ee)throw new Me(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof ee}`);if(!dy(l)&&-1!==ee.indexOf("/"))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${ee}' contains a slash.`);const ye=l.path.child(an.fromString(ee));if(!et.isDocumentKey(ye))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Re=new et(ye);j.push(Uf(h,Re))}else{const ye=kw(m,b,ee);j.push(ye)}}return new Hf(j,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function Kx(n,e,t){if("string"==typeof(t=(0,kt.m9)(t))){if(""===t)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dy(e)&&-1!==t.indexOf("/"))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(an.fromString(t));if(!et.isDocumentKey(r))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uf(n,new et(r))}if(t instanceof yn)return Uf(n,t._key);throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yy(t)}.`)}function Yx(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(ge.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Qx(n,e,t){if(!t.isEqual(e))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class GI{convertValue(e,t="none"){switch(hu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ng(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){const r={};return Dd(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new ev(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=KC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const t=ja(e);return new Yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=an.fromString(e);mt(ep(r));const o=new rh(r.get(1),r.get(3)),l=new et(r.popFirst(5));return o.isEqual(t)||wr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Uw(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class PO extends GI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}class Jx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sh(e)}set(e,t,r){this._verifyNotCommitted();const o=Ou(e,this._firestore),l=Uw(o.converter,t,r),h=rv(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,cr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Ou(e,this._firestore);let h;return h="string"==typeof(t=(0,kt.m9)(t))||t instanceof Mu?Ow(this._dataReader,"WriteBatch.update",l._key,t,r,o):ov(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ou(e,this._firestore);return this._mutations=this._mutations.concat(new $g(t._key,cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ou(n,e){if((n=(0,kt.m9)(n)).firestore!==e)throw new Me(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ah extends GI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function WI(n,e,t){n=Qt(n,yn);const r=Qt(n.firestore,qn),o=Uw(n.converter,e,t);return ym(r,[rv(sh(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,cr.none())])}function nM(n,e,t,...r){n=Qt(n,yn);const o=Qt(n.firestore,qn),l=sh(o);let h;return h="string"==typeof(e=(0,kt.m9)(e))||e instanceof Mu?Ow(l,"updateDoc",n._key,e,t,r):ov(l,"updateDoc",n._key,e),ym(o,[h.toMutation(n._key,cr.exists(!0))])}function rM(n,...e){var t,r,o;n=(0,kt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Xy(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(Xy(e[h])){const O=e[h];e[h]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[h+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[h+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let b,C,M;if(n instanceof yn)C=Qt(n.firestore,qn),M=Rd(n._key.path),b={next:O=>{e[h]&&e[h](Bw(C,n,O))},error:e[h+1],complete:e[h+2]};else{const O=Qt(n,Pn);C=Qt(O.firestore,qn),M=O._query;const j=new ah(C);b={next:K=>{e[h]&&e[h](new dl(C,j,O,K))},error:e[h+1],complete:e[h+2]},Vw(n._query)}return function(O,j,K,ee){const ye=new qy(ee),Re=new XE(j,ye,K);return O.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return im(yield nh(O),Re)})),()=>{ye.nc(),O.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return lI(yield nh(O),Re)}))}}(Nr(C),M,m,b)}function ym(n,e){return function(t,r){const o=new Cr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e,t){return iw.apply(this,arguments)}(yield Ky(t),r,o)})),o.promise}(Nr(n),e)}function Bw(n,e,t){const r=t.docs.get(e._key),o=new ah(n);return new ul(n,o,e._key,r,new Ru(t.hasPendingWrites,t.fromCache),e.converter)}class jw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sh(e)}get(e){const t=Ou(e,this._firestore),r=new PO(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return nt();const l=o[0];if(l.isFoundDocument())return new lp(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new lp(this._firestore,r,t._key,null,t.converter);throw nt()})}set(e,t,r){const o=Ou(e,this._firestore),l=Uw(o.converter,t,r),h=rv(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=Ou(e,this._firestore);let h;return h="string"==typeof(t=(0,kt.m9)(t))||t instanceof Mu?Ow(this._dataReader,"Transaction.update",l._key,t,r,o):ov(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Ou(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ou(e,this._firestore),r=new ah(this._firestore);return super.get(e).then(o=>new ul(this._firestore,r,t._key,o._document,new Ru(!1,!1),t.converter))}}function av(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vm(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function Hw(){if("undefined"==typeof atob)throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Lf=oi.SDK_VERSION,(0,oi._registerComponent)(new pg.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new qn(o,new oO(t.getProvider("auth-internal")),new cO(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,oi.registerVersion)(HC,"3.4.3",n),(0,oi.registerVersion)(HC,"3.4.3","esm2017")}();class cv{constructor(e){this._delegate=e}static fromBase64String(e){return Hw(),new cv(zi.fromBase64String(e))}static fromUint8Array(e){return vm(),new cv(zi.fromUint8Array(e))}toBase64(){return Hw(),this._delegate.toBase64()}toUint8Array(){return vm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JI(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class cM{enableIndexedDbPersistence(e,t){return function(n,e){$I(n=Qt(n,qn));const t=Nr(n),r=n._freezeSettings(),o=new zy;return xw(t,o,new wI(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){$I(n=Qt(n,qn));const e=Nr(n),t=n._freezeSettings(),r=new zy;return xw(e,r,new CI(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Me(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Cr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!go.Pt())return Promise.resolve();const o=r+"main";yield go.delete(o)}),function(r){return t.apply(this,arguments)})(PE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class lM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof rh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Vf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const l=(n=Qt(n,ll))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Vf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=Wr.MOCK_USER;else{h=(0,kt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Me(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Wr(b)}n._authCredentials=new sO(new ty(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield vw(n),t=yield Wy(n);return e.setNetworkEnabled(!0),function(r){const o=Ve(r);return o.Gr.delete(0),Xg(o)}(t)}))}(Nr(n=Qt(n,qn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield vw(n),t=yield Wy(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(o){const l=Ve(o);l.Gr.add(0),yield il(l),l.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Nr(n=Qt(n,qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,kI("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Cr;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e){return eh.apply(this,arguments)}(yield Ky(e),t)})),t.promise}(Nr(n=Qt(n,qn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new qy(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield nh(n),o=t,Ve(r).io.add(o),void o.next();var r,o})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield nh(n),o=t,void Ve(r).io.delete(o);var r,o}))}}(Nr(n=Qt(n,qn)),Xy(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fp(this,dm(this._delegate,e))}catch(t){throw gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new yo(this,Qy(this._delegate,e))}catch(t){throw gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qi(this,function(n,e){if(n=Qt(n,ll),Cw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pn(n,null,(t=e,new $a(an.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Cr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const r=yield(o=n,Gy(o).then(l=>l.datastore));var o;new TI(n.asyncQueue,r,e,t).run()})),t.promise}(Nr(n=Qt(n,qn)),t=>e(new jw(n,t)))}(this._delegate,t=>e(new dM(this,t)))}batch(){return Nr(this._delegate),new hM(new Jx(this._delegate,e=>ym(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Nr(n=Qt(n,qn)),r=new Iw;return function(n,e,t,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,C){if(b instanceof Uint8Array)return _w(b,C);if(b instanceof ArrayBuffer)return _w(new Uint8Array(b),C);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Tx(b,h);var b}(t,sp(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function(n,e,t){const r=Ve(n);var o;(o=(0,me.Z)(function*(l,h,m){try{const b=yield h.getMetadata();if(yield function(j,K){const ee=Ve(j),ye=ze(K.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",Re=>ee.Ye.getBundleMetadata(Re,K.id)).then(Re=>!!Re&&Re.createTime.compareTo(ye)>=0)}(l.localStore,b))return yield h.close(),void m._completeWith((j=b,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));m._updateProgress(ux(b));const C=new bO(b,l.localStore,h.k);let M=yield h.Ho();for(;M;){const j=yield C.yo(M);j&&m._updateProgress(j),M=yield h.Ho()}const O=yield C.complete();yield cl(l,O.In,void 0),yield function(j,K){const ee=Ve(j);return ee.persistence.runTransaction("Save bundle","readwrite",ye=>ee.Ye.saveBundleMetadata(ye,K))}(l.localStore,b),m._completeWith(O.progress)}catch(b){Vf("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var j}),function(l,h,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Ky(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const o=Ve(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ye.getNamedQuery(l,r))}(yield bw(n),e)}))}(Nr(n=Qt(n,qn)),e).then(t=>t?new Pn(n,null,t.query):null)}(this._delegate,e).then(t=>t?new qi(this,t):null)}}class ch extends GI{constructor(e){super(),this.firestore=e}convertBytes(e){return new cv(new zi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return yo.forKey(t,this.firestore,null)}}class dM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ch(e)}get(e){const t=ta(e);return this._delegate.get(t).then(r=>new lv(this._firestore,new ul(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=ta(e);return r?(av("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=ta(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=ta(e);return this._delegate.delete(t),this}}class hM{constructor(e){this._delegate=e}set(e,t,r){const o=ta(e);return r?(av("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=ta(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=ta(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class fl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _m(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hp(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=fl.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new fl(e,new ch(e),t),o.set(t,l)),l}}fl.INSTANCES=new WeakMap;class yo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ch(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new yo(t,new yn(t._delegate,r,new et(e)))}static forKey(e,t,r){return new yo(t,new yn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fp(this.firestore,dm(this._delegate,e))}catch(t){throw gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,kt.m9)(e))instanceof yn&&Nx(this._delegate,e)}set(e,t){t=av("DocumentReference.set",t);try{return t?WI(this._delegate,e,t):WI(this._delegate,e)}catch(r){throw gs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?nM(this._delegate,e):nM(this._delegate,e,t,...r)}catch(o){throw gs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return ym(Qt(n.firestore,qn),[new $g(n._key,cr.none())])}(this._delegate)}onSnapshot(...e){const t=fM(e),r=XI(e,o=>new lv(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return rM(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Qt(n,yn);const e=Qt(n.firestore,qn),t=Nr(e),r=new ah(e);return function(n,e){const t=new Cr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(o,l,h){try{const m=yield function(b,C){const M=Ve(b);return M.persistence.runTransaction("read document","readonly",O=>M.Wn.Rn(O,C))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Me(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=al(m,`Failed to get document '${l} from cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield bw(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ul(e,r,n._key,o,new Ru(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Qt(n,yn);const e=Qt(n.firestore,qn);return AI(Nr(e),n._key,{source:"server"}).then(t=>Bw(e,n,t))}(this._delegate):function(n){n=Qt(n,yn);const e=Qt(n.firestore,qn);return AI(Nr(e),n._key).then(t=>Bw(e,n,t))}(this._delegate),t.then(r=>new lv(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new yo(this.firestore,this._delegate.withConverter(e?fl.getInstance(this.firestore,e):null))}}function gs(n,e,t){return n.message=n.message.replace(e,t),n}function fM(n){for(const e of n)if("object"==typeof e&&!JI(e))return e;return{}}function XI(n,e){var t,r;let o;return o=JI(n[0])?n[0]:JI(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class lv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new yo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Lw(this._delegate,e._delegate)}}class hp extends lv{data(e){const t=this._delegate.data(e);return function(n,e){n||nt()}(void 0!==t),t}}class qi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ch(e)}where(e,t,r){try{return new qi(this.firestore,hl(this._delegate,function(n,e,t){const r=e,o=mm("where",n);return new $x(o,r,t)}(e,t,r)))}catch(o){throw gs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qi(this.firestore,hl(this._delegate,function(n,e="asc"){const t=e,r=mm("orderBy",n);return new zx(r,t)}(e,t)))}catch(r){throw gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qi(this.firestore,hl(this._delegate,function(n){return FI("limit",n),new qx("limit",n,"F")}(e)))}catch(t){throw gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qi(this.firestore,hl(this._delegate,function(n){return FI("limitToLast",n),new qx("limitToLast",n,"L")}(e)))}catch(t){throw gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qi(this.firestore,hl(this._delegate,function(...n){return new Zx("startAt",n,!0)}(...e)))}catch(t){throw gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qi(this.firestore,hl(this._delegate,function(...n){return new Zx("startAfter",n,!1)}(...e)))}catch(t){throw gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qi(this.firestore,hl(this._delegate,function(...n){return new Gx("endBefore",n,!0)}(...e)))}catch(t){throw gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qi(this.firestore,hl(this._delegate,function(...n){return new Gx("endAt",n,!1)}(...e)))}catch(t){throw gs(t,"endAt()","Query.endAt()")}}isEqual(e){return Jy(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Qt(n,Pn);const e=Qt(n.firestore,qn),t=Nr(e),r=new ah(e);return function(n,e){const t=new Cr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(o,l,h){try{const m=yield My(o,l,!0),b=new fI(l,m.zn),C=b.Po(m.documents),M=b.applyChanges(C,!1);h.resolve(M.snapshot)}catch(m){const b=al(m,`Failed to execute query '${l} against cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield bw(n),e,t);var r})),t.promise}(t,n._query).then(o=>new dl(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Qt(n,Pn);const e=Qt(n.firestore,qn),t=Nr(e),r=new ah(e);return xI(t,n._query,{source:"server"}).then(o=>new dl(e,r,n,o))}(this._delegate):function(n){n=Qt(n,Pn);const e=Qt(n.firestore,qn),t=Nr(e),r=new ah(e);return Vw(n._query),xI(t,n._query).then(o=>new dl(e,r,n,o))}(this._delegate),t.then(r=>new eD(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=fM(e),r=XI(e,o=>new eD(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return rM(this._delegate,t,r)}withConverter(e){return new qi(this.firestore,this._delegate.withConverter(e?fl.getInstance(this.firestore,e):null))}}class $O{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new hp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $O(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new hp(this._firestore,r))})}isEqual(e){return Lw(this._delegate,e._delegate)}}class fp extends qi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new yo(this.firestore,e):null}doc(e){try{return new yo(this.firestore,void 0===e?Qy(this._delegate):Qy(this._delegate,e))}catch(t){throw gs(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Qt(n.firestore,qn),r=Qy(n),o=Uw(n.converter,e);return ym(t,[rv(sh(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new yo(this.firestore,t))}isEqual(e){return Nx(this._delegate,e._delegate)}withConverter(e){return new fp(this.firestore,this._delegate.withConverter(e?fl.getInstance(this.firestore,e):null))}}function ta(n){return Qt(n,yn)}class zw{constructor(...e){this._delegate=new Mu(...e)}static documentId(){return new zw(ui.keyField().canonicalString())}isEqual(e){return(e=(0,kt.m9)(e))instanceof Mu&&this._delegate._internalPath.isEqual(e._internalPath)}}class lh{constructor(e){this._delegate=e}static serverTimestamp(){const e=new iv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new lh(e)}static delete(){const e=new oh("deleteField");return e._methodName="FieldValue.delete",new lh(e)}static arrayUnion(...e){const t=function(...n){return new sv("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new lh(t)}static arrayRemove(...e){const t=function(...n){return new Rw("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new lh(t)}static increment(e){const t=function(n){return new SO("increment",n)}(e);return t._methodName="FieldValue.increment",new lh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pM={Firestore:lM,GeoPoint:ev,Timestamp:Yr,Blob:cv,Transaction:dM,WriteBatch:hM,DocumentReference:yo,DocumentSnapshot:lv,Query:qi,QueryDocumentSnapshot:hp,QuerySnapshot:eD,CollectionReference:fp,FieldPath:zw,FieldValue:lh,setLogLevel:function(n){!function(n){Gc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new pg.wA("firestore-compat",t=>((e,t)=>new lM(e,t,new cM))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},pM)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(Z0.Z);var ms=V(6682),bm=V(309),Zw=V(7771),mM=V(8858);class _M extends Vt.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Gw(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,l=r.length;let h;if(this.closed)throw new Fo.N;if(this.isStopped||this.hasError?h=rs.w.EMPTY:(this.observers.push(e),h=new mM.W(this,e)),o&&e.add(e=new bm.ht(e,o)),t)for(let m=0;m<l&&!e.closed;m++)e.next(r[m]);else for(let m=0;m<l&&!e.closed;m++)e.next(r[m].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||Zw.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,l=o.length;let h=0;for(;h<l&&!(e-o[h].time<r);)h++;return l>t&&(h=Math.max(h,l-t)),h>0&&o.splice(0,h),o}}class Gw{constructor(e,t){this.time=e,this.value=t}}function uv(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,l=0,m=!1,b=!1;return function(M){let O;l++,!o||m?(m=!1,o=new _M(n,e,r),O=o.subscribe(this),h=M.subscribe({next(j){o.next(j)},error(j){m=!0,o.error(j)},complete(){b=!0,h=void 0,o.complete()}}),b&&(h=void 0)):O=o.subscribe(this),this.add(()=>{l--,O.unsubscribe(),O=void 0,h&&!b&&t&&0===l&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function nD(n,e){return e?Ln(()=>n,e):Ln(()=>n)}var dv=V(9673);V(2329);const Kw=new Map,bM={activated:!1,tokenObservers:[]},EM={initialized:!1,enabled:!1};function Fr(n){return Kw.get(n)||bM}function ra(n,e){Kw.set(n,e)}function Yw(){return EM}class Jw{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new kt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new kt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Zi=new kt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function IM(n){if(!Fr(n).activated)throw Zi.create("use-before-activation",{appName:n.name})}function e0(n,e){return t0.apply(this,arguments)}function t0(){return(t0=(0,me.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(O){throw Zi.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==h.status)throw Zi.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(O){throw Zi.create("fetch-parse-error",{originalErrorMessage:O.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Zi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(b[1]),M=Date.now();return{token:m.attestationToken,expireTimeMillis:M+C,issuedAtTimeMillis:M}})).apply(this,arguments)}function cD(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Cm="firebase-app-check-store";let ur=null;function AM(){return ur||(ur=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Zi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(Cm,{keyPath:"compositeKey"})}}}catch(t){e(Zi.create("storage-open",{originalErrorMessage:t.message}))}}),ur)}function n0(){return(n0=(0,me.Z)(function*(n,e){const r=(yield AM()).transaction(Cm,"readwrite"),l=r.objectStore(Cm).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=b=>{h()},r.onerror=b=>{var C;m(Zi.create("storage-set",{originalErrorMessage:null===(C=b.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const uh=new tu.Yd("@firebase/app-check");function Tm(n,e){return(0,kt.hl)()?function(n,e){return function(n,e){return n0.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{uh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function c0(){return Yw().enabled}function Lr(){return hD.apply(this,arguments)}function hD(){return(hD=(0,me.Z)(function*(){const n=Yw();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const OM={error:"UNKNOWN_ERROR"};function JO(n){return kt.US.encodeString(JSON.stringify(n),!1)}function dh(n){return l0.apply(this,arguments)}function l0(){return(l0=(0,me.Z)(function*(n,e=!1){const t=n.app;IM(t);const r=Fr(t);let l,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&yv(b)&&(o=b)}if(!e&&o&&yv(o))return{token:o.token};let m,h=!1;if(c0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=e0(cD(t,yield Lr()),n.platformLoggerProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),h=!0);const b=yield r.exchangeTokenPromise;return yield Tm(t,b),ra(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?uh.warn(b.message):uh.error(b),l=b}return o?(m={token:o.token},ra(t,Object.assign(Object.assign({},r),{token:o})),yield Tm(t,o)):m=NM(l),h&&gD(t,m),m})).apply(this,arguments)}function pD(n,e){const t=Fr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ra(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function kM(n){const{app:e}=n,t=Fr(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new Jw((0,me.Z)(function*(){let r;if(r=Fr(e).token?yield dh(n,!0):yield dh(n),r.error)throw r.error}),()=>!0,()=>{const t=Fr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ra(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function gD(n,e){const t=Fr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function yv(n){return n.expireTimeMillis-Date.now()>0}function NM(n){return{token:JO(OM),error:n}}class FM{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Fr(this.app);for(const t of e)pD(this.app,t.next);return Promise.resolve()}}const Ev="app-check-internal";(0,oi._registerComponent)(new pg.wA("app-check",n=>function(n,e){return new FM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ev).initialize()})),(0,oi._registerComponent)(new pg.wA(Ev,n=>function(n){return{getToken:e=>dh(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,l=Fr(o),h={next:t,error:r,type:e};if(ra(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&yv(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),kM(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>kM(n))}(n,"INTERNAL",e),removeTokenListener:e=>pD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,oi.registerVersion)("@firebase/app-check","0.5.3");class ID{constructor(){return(0,si.vb)("app-check")}}"undefined"!=typeof window&&window;var RD=V(7841);const kD=new d.OlP("angularfire2.auth.use-emulator"),PD=new d.OlP("angularfire2.auth.settings"),p0=new d.OlP("angularfire2.auth.tenant-id"),ND=new d.OlP("angularfire2.auth.langugage-code"),FD=new d.OlP("angularfire2.auth.use-device-language"),LD=new d.OlP("angularfire.auth.persistence"),wv=(n,e,t,r,o,l,h,m)=>(0,ot.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[C,M]of Object.entries(h))b.settings[C]=M;return m&&b.setPersistence(m),b},[t,r,o,l,h,m]);let VD=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M,O,j,K){const ee=new Vt.xQ,ye=(0,Ke.of)(void 0).pipe((0,bm.QV)(h.outsideAngular),Ln(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,8402)))),(0,ut.U)(()=>(0,ot.on)(t,l,r)),(0,ut.U)(Re=>wv(Re,l,m,C,M,O,b,j)),uv({bufferSize:1,refCount:!1}));if(ic(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ke.of)(null);else{ye.pipe(Sa()).subscribe();const it=ye.pipe(Ln(ct=>ct.getRedirectResult().then(fn=>fn,()=>null)),si.iC,uv({bufferSize:1,refCount:!1})),st=ye.pipe(Ln(ct=>new Kn.y(fn=>({unsubscribe:l.runOutsideAngular(()=>ct.onAuthStateChanged(Dr=>fn.next(Dr),Dr=>fn.error(Dr),()=>fn.complete()))})))),Nt=ye.pipe(Ln(ct=>new Kn.y(fn=>({unsubscribe:l.runOutsideAngular(()=>ct.onIdTokenChanged(Dr=>fn.next(Dr),Dr=>fn.error(Dr),()=>fn.complete()))}))));this.authState=it.pipe(nD(st),(0,dv.R)(h.outsideAngular),(0,bm.QV)(h.insideAngular)),this.user=it.pipe(nD(Nt),(0,dv.R)(h.outsideAngular),(0,bm.QV)(h.insideAngular)),this.idToken=this.user.pipe(Ln(ct=>ct?(0,wn.D)(ct.getIdToken()):(0,Ke.of)(null))),this.idTokenResult=this.user.pipe(Ln(ct=>ct?(0,wn.D)(ct.getIdTokenResult()):(0,Ke.of)(null))),this.credential=(0,ms.T)(it,ee,this.authState.pipe(qr(ct=>!ct))).pipe((0,ut.U)(ct=>(null==ct?void 0:ct.user)?ct:null),(0,dv.R)(h.outsideAngular),(0,bm.QV)(h.insideAngular))}return(0,ot.pX)(this,ye,l,{spy:{apply:(Re,it,st)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&st.then(Nt=>ee.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ot.Dh),d.LFG(ot.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(si.HU),d.LFG(kD,8),d.LFG(PD,8),d.LFG(p0,8),d.LFG(ND,8),d.LFG(FD,8),d.LFG(LD,8),d.LFG(ID,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Sm(n,e){return function(n,e=R_.z){return new Kn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function pp(n,e){return Sm(n,e).pipe((0,ut.U)(t=>({payload:t,type:"query"})))}function gp(n,e){return pp(n,e).pipe(Bo(void 0),O_(),(0,ut.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(M=>M.doc.ref.isEqual(h.ref)),C=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function g0(n,e,t){return gp(n,t).pipe(Da((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return m0(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return m0(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return m0(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),sb(),(0,ut.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function m0(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function BD(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class jD{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=gp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ut.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Bo(void 0),O_(),qr(([r,o])=>o.length>0||!r),(0,ut.U)(([r,o])=>o),si.iC)}auditTrail(e){return this.stateChanges(e).pipe(Da((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=BD(e);return g0(this.query,t,this.afs.schedulers.outsideAngular).pipe(si.iC)}valueChanges(e={}){return pp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),si.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(si.iC)}add(e){return this.ref.add(e)}doc(e){return new _0(this.ref.doc(e),this.afs)}}class _0{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=Tv(r,t);return new jD(o,l,this.afs)}snapshotChanges(){return function(n,e){return Sm(n,e).pipe(Bo(void 0),O_(),(0,ut.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(si.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,wn.D)(this.ref.get(e)).pipe(si.iC)}}class QM{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?gp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),qr(t=>t.length>0),si.iC):gp(this.query,this.afs.schedulers.outsideAngular).pipe(si.iC)}auditTrail(e){return this.stateChanges(e).pipe(Da((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=BD(e);return g0(this.query,t,this.afs.schedulers.outsideAngular).pipe(si.iC)}valueChanges(e={}){return pp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),si.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(si.iC)}}const $D=new d.OlP("angularfire2.enableFirestorePersistence"),HD=new d.OlP("angularfire2.firestore.persistenceSettings"),ku=new d.OlP("angularfire2.firestore.settings"),Am=new d.OlP("angularfire2.firestore.use-emulator");function Tv(n,e=(t=>t)){return{query:e(n),ref:n}}let y0=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M,O,j,K,ee,ye,Re,it,st){this.schedulers=b;const Nt=(0,ot.on)(t,m,r),ct=M;O&&wv(Nt,m,j,ee,ye,Re,K,it),[this.firestore,this.persistenceEnabled$]=(0,ot.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const fn=m.runOutsideAngular(()=>Nt.firestore());if(l&&fn.settings(l),ct&&fn.useEmulator(...ct),o&&!ic(h)){const Dr=()=>{try{return(0,wn.D)(fn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(ei){return"undefined"!=typeof console&&console.warn(ei),(0,Ke.of)(!1)}};return[fn,m.runOutsideAngular(Dr)]}return[fn,(0,Ke.of)(!1)]},[l,ct,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=Tv(o,r),m=this.schedulers.ngZone.run(()=>l);return new jD(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new QM(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new _0(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ot.Dh),d.LFG(ot.xv,8),d.LFG($D,8),d.LFG(ku,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(si.HU),d.LFG(HD,8),d.LFG(Am,8),d.LFG(VD,8),d.LFG(kD,8),d.LFG(PD,8),d.LFG(p0,8),d.LFG(ND,8),d.LFG(FD,8),d.LFG(LD,8),d.LFG(ID,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),JM=(()=>{class n{constructor(){RD.Z.registerVersion("angularfire",si.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:$D,useValue:!0},{provide:HD,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[y0]}),n})(),zD=(()=>{class n{constructor(t){this.db=t,this.dbPath="/events",this.eventRef=t.collection(this.dbPath)}getAll(){return this.eventRef}create(t){return this.eventRef.add(Object.assign({},t))}update(t,r){return this.eventRef.doc(t).update(r)}delete(t){return this.eventRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(y0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gt=(()=>{class n{}return n.TITLE="muaythai360",n.PATH="assets/img/",n.HOME_IMG="assets/img/home.png",n.ABOUT_IMG="assets/img/about.png",n.HEADER_IMG="assets/img/home.png",n.PATH_IMG="assets/img/home.png",n.BOXE_VIDEO="assets/video/boxe.mp4",n.LOGO_IMG="assets/img/logo.png",n.FB_LOGO="assets/img/facebook.png",n.IG_LOGO="assets/img/ig.png",n.GALLERY1="assets/img/gallery1.jpg",n.GALLERY2="assets/img/gallery2.jpg",n.GALLERY3="assets/img/gallery3.jpg",n.GALLERY4="assets/img/gallery4.jpg",n.GALLERY5="assets/img/gallery5.jpg",n.GALLERY6="assets/img/gallery6.jpg",n.GALLERY7="assets/img/gallery7.jpg",n.GALLERY8="assets/img/gallery8.jpg",n.GALLERY9="assets/img/gallery9.jpg",n.GALLERY10="assets/img/gallery10.jpg",n.GALLERY11="assets/img/gallery11.jpg",n.GUANTONI_IMG="assets/img/guantoni.jpeg",n.TEAM_IMG="assets/img/gallery1.jpg",n})();function XM(n,e){if(1&n&&(d.TgZ(0,"div",3),d._UZ(1,"img",4),d.TgZ(2,"div",5),d.TgZ(3,"ul",6),d.TgZ(4,"li",7),d.TgZ(5,"a",8),d._uU(6,"HOME"),d.qZA(),d.qZA(),d.TgZ(7,"li",7),d.TgZ(8,"a",9),d._uU(9,"CHI SIAMO"),d.qZA(),d.qZA(),d.TgZ(10,"li",7),d.TgZ(11,"a",10),d._uU(12,"ISTRUTTORI"),d.qZA(),d.qZA(),d.TgZ(13,"li",7),d.TgZ(14,"a",11),d._uU(15,"CORSI"),d.qZA(),d.qZA(),d.TgZ(16,"li",7),d.TgZ(17,"a",12),d._uU(18,"EVENTI"),d.qZA(),d.qZA(),d.TgZ(19,"li",7),d.TgZ(20,"a",13),d._uU(21,"ARTICOLI"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.s9C("src",t.logo,d.LSH)}}function qD(n,e){if(1&n&&(d.TgZ(0,"div",14),d._UZ(1,"img",4),d.TgZ(2,"div",15),d._UZ(3,"input",16),d._UZ(4,"span"),d._UZ(5,"span"),d._UZ(6,"span"),d.TgZ(7,"ul",17),d.TgZ(8,"li",7),d.TgZ(9,"a",8),d._uU(10,"HOME"),d.qZA(),d.qZA(),d.TgZ(11,"li",7),d.TgZ(12,"a",9),d._uU(13,"CHI SIAMO"),d.qZA(),d.qZA(),d.TgZ(14,"li",7),d.TgZ(15,"a",10),d._uU(16,"ISTRUTTORI"),d.qZA(),d.qZA(),d.TgZ(17,"li",7),d.TgZ(18,"a",11),d._uU(19,"CORSI"),d.qZA(),d.qZA(),d.TgZ(20,"li",7),d.TgZ(21,"a",12),d._uU(22,"EVENTI"),d.qZA(),d.qZA(),d.TgZ(23,"li",7),d.TgZ(24,"a",13),d._uU(25,"ARTICOLI"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.s9C("src",t.logo,d.LSH)}}function ZD(n,e){if(1&n&&(d.TgZ(0,"div",18),d._UZ(1,"img",4),d.TgZ(2,"div",19),d._UZ(3,"input",16),d._UZ(4,"span"),d._UZ(5,"span"),d._UZ(6,"span"),d.TgZ(7,"ul",20),d.TgZ(8,"li",7),d.TgZ(9,"a",8),d._uU(10,"HOME"),d.qZA(),d.qZA(),d.TgZ(11,"li",7),d.TgZ(12,"a",9),d._uU(13,"CHI SIAMO"),d.qZA(),d.qZA(),d.TgZ(14,"li",7),d.TgZ(15,"a",10),d._uU(16,"ISTRUTTORI"),d.qZA(),d.qZA(),d.TgZ(17,"li",7),d.TgZ(18,"a",11),d._uU(19,"CORSI"),d.qZA(),d.qZA(),d.TgZ(20,"li",7),d.TgZ(21,"a",12),d._uU(22,"EVENTI"),d.qZA(),d.qZA(),d.TgZ(23,"li",7),d.TgZ(24,"a",13),d._uU(25,"ARTICOLI"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.s9C("src",t.logo,d.LSH)}}let Iv=(()=>{class n{constructor(){this.logo=Gt.LOGO_IMG,this.isMobile=!1,this.isResponsive=!1}ngOnInit(){this.isMobile=window.matchMedia("only screen and (max-device-width: 992px)").matches,this.isResponsive=this.getBrowserWidth()<660}onResize(){this.isResponsive=this.getBrowserWidth()<660}getBrowser(){return!this.isMobile&&!this.isResponsive}getBrowserResponsive(){return!this.isMobile&&this.isResponsive}getMobile(){return this.isMobile}getBrowserWidth(){return window.innerWidth}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-toolbar"]],hostBindings:function(t,r){1&t&&d.NdJ("resize",function(l){return r.onResize(l)},!1,d.Jf7)},decls:3,vars:3,consts:[["class","toolbar","role","banner",4,"ngIf"],["class","toolbarResp","role","banner",4,"ngIf"],["class","toolbarMobile","role","banner",4,"ngIf"],["role","banner",1,"toolbar"],["width","100","alt","MuayThai360 Logo",3,"src"],[1,"navigation-header"],[1,"navigation-ul"],[1,"navigation-li"],["href","#"],["href","#about"],["href","#team"],["href","#corsi"],["routerLink","/events","routerLinkActive","active"],["routerLink","/articoli","routerLinkActive","active"],["role","banner",1,"toolbarResp"],["id","menuToggleResp"],["type","checkbox"],["id","menuResp"],["role","banner",1,"toolbarMobile"],["id","menuToggle"],["id","menu"]],template:function(t,r){1&t&&(d.YNc(0,XM,22,1,"div",0),d.YNc(1,qD,26,1,"div",1),d.YNc(2,ZD,26,1,"div",2)),2&t&&(d.Q6J("ngIf",r.getBrowser()),d.xp6(1),d.Q6J("ngIf",r.getBrowserResponsive()),d.xp6(1),d.Q6J("ngIf",r.getMobile()))},directives:[ni,pf,dg],styles:[".toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:200px;display:inline-grid;align-items:center;background-color:#000;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:25px auto auto}.navigation-header[_ngcontent-%COMP%]{display:inline;margin:auto}.navigation-ul[_ngcontent-%COMP%]{padding:0}.navigation-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;font-size:18px;letter-spacing:-.7px}.navigation-li[_ngcontent-%COMP%]{margin:15px}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{text-transform:none}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold);cursor:pointer}.toolbarMobile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:60px;right:60px;height:130px;width:auto}#menuToggle[_ngcontent-%COMP%]{display:block;position:relative;top:90px;width:90%;left:50px;z-index:1;-webkit-user-select:none;user-select:none}#menuToggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .3s ease}#menuToggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold)}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:40px;height:32px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2;-webkit-touch-callout:none}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:60px;height:9px;margin-bottom:15px;position:relative;background:white;border-radius:3px;z-index:1;transform-origin:0px 4px;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform-origin:0% 0%}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-last-child(2){transform-origin:0% 100%}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(-2px,-1px);background:white}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(3){opacity:0;transform:rotate(0) scale(.2)}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg) translateY(-1px)}#menu[_ngcontent-%COMP%]{width:100%;position:absolute;margin:-100px 0 0 -50px;padding:125px 50px 50px;background:black;list-style-type:none;-webkit-font-smoothing:antialiased;transform-origin:0% 0%;transform:translateY(-100%);transition:transform .5s cubic-bezier(.77,.2,.05,1)}#menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px 0;font-size:40px;letter-spacing:.14em}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ ul[_ngcontent-%COMP%]{transform:none}.toolbarResp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:45px;right:60px;height:80px;width:auto}#menuToggleResp[_ngcontent-%COMP%]{display:block;position:relative;top:70px;width:90%;left:50px;z-index:1;-webkit-user-select:none;user-select:none}#menuToggleResp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .3s ease}#menuToggleResp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold)}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:39px;height:30px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:38px;height:4px;margin-bottom:7px;position:relative;background:white;z-index:1;transform-origin:0px 4px;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform-origin:0% 0%}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-last-child(2){transform-origin:0% 100%}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(-2px,-1px);background:white}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(3){opacity:0;transform:rotate(0) scale(.2)}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg) translateY(-1px)}#menuResp[_ngcontent-%COMP%]{width:100%;position:absolute;margin:-100px 0 0 -50px;padding:125px 50px 50px;background:black;list-style-type:none;-webkit-font-smoothing:antialiased;transform-origin:0% 0%;transform:translateY(-100%);transition:transform .5s cubic-bezier(.77,.2,.05,1)}#menuResp[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px 0;font-size:17px;letter-spacing:.14em}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ ul[_ngcontent-%COMP%]{transform:none}"]}),n})();const eR=function(n){return{"background-image":n}};let Dv=(()=>{class n{constructor(){this.logo=Gt.LOGO_IMG,this.facebookLogo=Gt.FB_LOGO,this.igLogo=Gt.IG_LOGO}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:16,vars:5,consts:[["id","domande","role","main",1,"domande"],[1,"domande-container"],[1,"domande-element",2,"margin-left","16%"],[1,"domande-title"],[1,"domande-subtitle"],[1,"domande-text"],["href","https://www.facebook.com/Muaythai360TeamPiacente"],[2,"width","50px",3,"src"],["href","https://www.instagram.com/muaythai360sansalvo/"],[2,"width","36px","position","relative","bottom","6px","padding-left","10px",3,"src"],[1,"domande-element","domande-logo",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","26%","padding-left","11%",3,"ngStyle"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1",3),d._uU(4,"CONTATTI"),d.qZA(),d.TgZ(5,"p",4),d._uU(6,"Contattaci o chiamaci per avere maggiori informazioni"),d.qZA(),d.TgZ(7,"p",5),d._uU(8,"muaythai360sansalvo@gmail.it"),d._UZ(9,"br"),d._uU(10," +393460161427 | 3209799635 | 3395067102"),d.qZA(),d.TgZ(11,"a",6),d._UZ(12,"img",7),d.qZA(),d.TgZ(13,"a",8),d._UZ(14,"img",9),d.qZA(),d.qZA(),d._UZ(15,"div",10),d.qZA(),d.qZA()),2&t&&(d.xp6(12),d.s9C("src",r.facebookLogo,d.LSH),d.xp6(2),d.s9C("src",r.igLogo,d.LSH),d.xp6(1),d.Q6J("ngStyle",d.VKq(3,eR,"url("+r.logo+")")))},directives:[gn],styles:[".domande[_ngcontent-%COMP%]{position:relative;top:500px;left:0;right:0;height:330px}.domande-container[_ngcontent-%COMP%]{display:flex}.domande-element[_ngcontent-%COMP%]{width:33%}.domande-title[_ngcontent-%COMP%]{line-height:normal;font-size:40px;color:var(--gold);letter-spacing:.4em}.domande-subtitle[_ngcontent-%COMP%]{line-height:1.3em;font-size:26px;color:#fff;letter-spacing:normal;width:60%;padding-top:50px}.domande-text[_ngcontent-%COMP%]{font-size:18px;color:#fff;letter-spacing:normal;padding-top:20px;line-height:30px}.domande-input-1[_ngcontent-%COMP%]{background-color:#000;width:90%;margin-left:40px;border:2px solid white;height:33px;margin-bottom:6px;font-size:17px;color:#fff}.domande-input-2[_ngcontent-%COMP%]{background-color:#000;width:90%;margin-left:40px;border:2px solid white;height:133px;font-size:17px;margin-bottom:6px;color:#fff}.domande-submit[_ngcontent-%COMP%]{background-color:var(--gold);width:30%;float:right;border:2px solid var(--gold);height:33px;font-size:18px;margin-bottom:6px;color:#000}@media screen and (max-device-width: 992px){.domande-title[_ngcontent-%COMP%]{font-size:45px}.domande-subtitle[_ngcontent-%COMP%]{font-size:32px}.domande-text[_ngcontent-%COMP%]{font-size:20px}.domande-logo[_ngcontent-%COMP%]{background-size:35%!important;padding-left:150px!important;margin-top:-60px}}@media screen and (max-width: 762px){.domande[_ngcontent-%COMP%]{top:600px}}"]}),n})();function gl(n,e){if(1&n&&(d.TgZ(0,"div"),d.TgZ(1,"p",6),d.TgZ(2,"span",7),d._uU(3),d.qZA(),d.qZA(),d._UZ(4,"p",8),d.qZA()),2&n){const t=d.oxw();d.xp6(3),d.Oqu(t.title),d.xp6(1),d.Q6J("innerHTML",t.description,d.oJD)}}function xm(n,e){if(1&n&&(d.TgZ(0,"div"),d.TgZ(1,"p",6),d.TgZ(2,"span",7),d._uU(3),d.qZA(),d.qZA(),d._UZ(4,"p",8),d.qZA()),2&n){const t=d.oxw();d.xp6(3),d.Oqu(t.title),d.xp6(1),d.Q6J("innerHTML",t.description,d.oJD)}}let mp=(()=>{class n{constructor(){this.showVal=!1,this.pathImage="",this.heightval="",this.top=""}ngOnInit(){let t=250,r=250;null!=this.height&&(t*=this.height),null!=this.height&&null!=this.toppos&&(r+=this.toppos),this.heightval=t+"px",this.top=r+"px",console.log(this.heightval),console.log(this.top),this.pathImage=Gt.PATH+this.image,console.log(this.pathImage)}styleObject(){return null==this.toppos||0==this.toppos?{height:this.heightval,top:"250px"}:{height:this.heightval,top:this.top}}getSingleEvent(){return null!=this.type&&"Single"==this.type}getDoubleEvent(){return null!=this.type&&"Double"==this.type}getShowEvent(){return this.showVal}showEvent(){this.showVal=!0}getEven(){return null!=this.index&&this.index%2==0}getOdds(){return null!=this.index&&this.index%2==1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-single-event"]],inputs:{height:"height",toppos:"toppos",type:"type",image:"image",title:"title",description:"description",index:"index"},decls:9,vars:3,consts:[[1,"event-container"],[1,"event-triple"],[1,"event-element"],[4,"ngIf"],[1,"white-line"],["alt","event-image","width","100%",3,"src"],[1,"p-event-title"],[2,"margin-top","0","font-size","50px","color","var(--gold)","letter-spacing","15px","font-family","'DIN', Fallback, sans-serif !important"],[1,"p-event",2,"height","355px","overflow-x","scroll",3,"innerHTML"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.YNc(3,gl,5,2,"div",3),d.qZA(),d.TgZ(4,"div",2),d._UZ(5,"div",4),d._UZ(6,"img",5),d.qZA(),d.TgZ(7,"div",2),d.YNc(8,xm,5,2,"div",3),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(3),d.Q6J("ngIf",r.getEven()),d.xp6(3),d.s9C("src",r.pathImage,d.LSH),d.xp6(2),d.Q6J("ngIf",r.getOdds()))},directives:[ni],styles:['.event-triple[_ngcontent-%COMP%]{display:inline-flex;position:relative;top:0px;width:100%}.event-element[_ngcontent-%COMP%]{width:33%;padding:35px 35px 90px}.event-container[_ngcontent-%COMP%]{width:80%;margin:-110px auto auto}.white-line[_ngcontent-%COMP%]{content:"";position:absolute;z-index:-1;top:0;bottom:0;left:50%;border-left:8px solid var(--gold);transform:translate(-50%)}.p-event[_ngcontent-%COMP%]{color:#fff}.p-event-title[_ngcontent-%COMP%]{margin-top:0}']}),n})();function Sv(n,e){if(1&n&&(d.TgZ(0,"div"),d.TgZ(1,"div",2),d._UZ(2,"app-single-event",3),d.qZA(),d.qZA()),2&n){const t=e.$implicit,r=e.index,o=d.oxw();d.xp6(2),d.Q6J("index",r)("height",2)("toppos",0)("type",o.double)("image",t.immagine)("title",t.title)("description",t.description)}}let _p=(()=>{class n{constructor(t){this.eventService=t,this.single="Single",this.double="Double",this.event=new z0,this.submitted=!1}ngOnInit(){this.retrieveTutorials()}retrieveTutorials(){this.eventService.getAll().snapshotChanges().pipe((0,ut.U)(t=>t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())))).subscribe(t=>{this.events=t,this.events.sort(function(r,o){return r.order-o.order})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(zD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-events"]],decls:5,vars:1,consts:[[1,"events-title"],["style","",4,"ngFor","ngForOf"],[1,"event-style"],[3,"index","height","toppos","type","image","title","description"]],template:function(t,r){1&t&&(d._UZ(0,"app-toolbar"),d.TgZ(1,"p",0),d._uU(2,"I NOSTRI EVENTI"),d.qZA(),d.YNc(3,Sv,3,7,"div",1),d._UZ(4,"app-footer")),2&t&&(d.xp6(3),d.Q6J("ngForOf",r.events))},directives:[Iv,Oi,Dv,mp],styles:[".events-title[_ngcontent-%COMP%]{color:#fff;position:relative;top:300px;width:-moz-fit-content;width:fit-content;font-size:75px;margin:auto;letter-spacing:20px}.event-style[_ngcontent-%COMP%]{margin-bottom:100px;position:relative;top:500px}"]}),n})(),GD=(()=>{class n{constructor(t){this.db=t,this.dbPath="/articoli",this.eventRef=t.collection(this.dbPath)}getAll(){return this.eventRef}create(t){return this.eventRef.add(Object.assign({},t))}update(t,r){return this.eventRef.doc(t).update(r)}delete(t){return this.eventRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(y0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tR(n,e){if(1&n&&(d.TgZ(0,"div",1),d.TgZ(1,"div",2),d.TgZ(2,"div",3),d._UZ(3,"img",4),d.qZA(),d.TgZ(4,"div",5),d._UZ(5,"p",6),d.qZA(),d.qZA(),d.TgZ(6,"div",7),d.TgZ(7,"div",8),d.TgZ(8,"p",9),d._uU(9),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(3),d.s9C("src",t.pathImage,d.LSH),d.xp6(2),d.Q6J("innerHTML",t.description,d.oJD),d.xp6(4),d.Oqu(t.title)}}function nR(n,e){if(1&n&&(d.TgZ(0,"div",1),d.TgZ(1,"div",7),d.TgZ(2,"div",8),d.TgZ(3,"p",9),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.TgZ(5,"div",2),d.TgZ(6,"div",3),d._UZ(7,"img",4),d.qZA(),d.TgZ(8,"div",5),d._UZ(9,"p",6),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(4),d.Oqu(t.title),d.xp6(3),d.s9C("src",t.pathImage,d.LSH),d.xp6(2),d.Q6J("innerHTML",t.description,d.oJD)}}let WD=(()=>{class n{constructor(){this.pathImage=""}ngOnInit(){this.pathImage=Gt.PATH+this.image}getEven(){return null!=this.index&&this.index%2==0}getOdd(){return null!=this.index&&this.index%2==1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-single-articolo"]],inputs:{image:"image",title:"title",description:"description",index:"index"},decls:2,vars:2,consts:[["class","articolo-container",4,"ngIf"],[1,"articolo-container"],[1,"articolo-box"],[1,"articolo-element"],["alt","","width","100%","height","100%",3,"src"],[1,"articolo-element",2,"border","1px solid rgb(255,255,255, 0.1)"],[1,"p-articolo",3,"innerHTML"],[1,"articolo-box-title"],[1,"articolo-line"],[1,"articolo-title"]],template:function(t,r){1&t&&(d.YNc(0,tR,10,3,"div",0),d.YNc(1,nR,10,3,"div",0)),2&t&&(d.Q6J("ngIf",r.getEven()),d.xp6(1),d.Q6J("ngIf",r.getOdd()))},directives:[ni],styles:['.articolo-container[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:100px;display:inline-flex;width:100%}.articolo-box[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:300px}.articolo-element[_ngcontent-%COMP%]{width:33vw}.articolo-line[_ngcontent-%COMP%]{width:100%;border:4px solid var(--gold);height:0px;margin:auto 0 auto auto}.articolo-box-title[_ngcontent-%COMP%]{width:100%;height:300px;display:inline-flex}.articolo-title[_ngcontent-%COMP%]{position:relative;top:-60px;font-size:45px;margin:auto;width:-moz-fit-content;width:fit-content;color:var(--gold);font-family:"DIN",Fallback,sans-serif!important}.p-articolo[_ngcontent-%COMP%]{color:#fff;font-size:17px;letter-spacing:1px;margin:25px}']}),n})();function KD(n,e){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"app-single-articolo",7),d.qZA()),2&n){const t=e.$implicit,r=e.index;d.xp6(1),d.Q6J("index",r)("image",t.immagine)("title",t.title)("description",t.description)}}const YD=function(n){return{"background-image":n}};let QD=(()=>{class n{constructor(t){this.articoloService=t,this.header=Gt.HEADER_IMG,this.pathImage=Gt.PATH_IMG}ngOnInit(){this.retrieveArticoli()}retrieveArticoli(){this.articoloService.getAll().snapshotChanges().pipe((0,ut.U)(t=>t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())))).subscribe(t=>{this.articoli=t,this.articoli.sort(function(r,o){return r.order-o.order})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(GD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-articoli"]],decls:14,vars:4,consts:[[1,"header-articoli"],[1,"header-img",3,"ngStyle"],[1,"header-text"],[1,"home-buttom"],[1,"home-text"],["href","#",1,"home-link"],["style","",4,"ngFor","ngForOf"],[3,"index","image","title","description"]],template:function(t,r){1&t&&(d._UZ(0,"app-toolbar"),d.TgZ(1,"div",0),d.TgZ(2,"div",1),d.TgZ(3,"p",2),d._uU(4,"Scopri gli ultimi articoli di "),d._UZ(5,"br"),d._uU(6,"MUAY THAI 360"),d.qZA(),d.qZA(),d.TgZ(7,"div",3),d.TgZ(8,"span",4),d.TgZ(9,"a",5),d._uU(10,"HOME"),d.qZA(),d._uU(11," | BLOG"),d.qZA(),d.qZA(),d.qZA(),d.YNc(12,KD,2,4,"div",6),d._UZ(13,"app-footer")),2&t&&(d.xp6(2),d.Q6J("ngStyle",d.VKq(2,YD,"url("+r.header+")")),d.xp6(10),d.Q6J("ngForOf",r.articoli))},directives:[Iv,gn,Oi,Dv,WD],styles:['.header-img[_ngcontent-%COMP%]{width:inherit;height:300px;margin-top:200px}.header-articoli[_ngcontent-%COMP%]{width:100%}.home-buttom[_ngcontent-%COMP%]{width:100px;height:36px;position:relative;top:-22px;margin:auto;background:var(--gold);color:#000;text-align:center}.home-link[_ngcontent-%COMP%]{color:#000;text-decoration:none}.home-link[_ngcontent-%COMP%]:visited{text-transform:none;text-decoration:none}.home-link[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.home-text[_ngcontent-%COMP%]{position:relative;top:10px}.header-text[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto;font-size:5.3vw;color:#fff;text-align:center;padding-top:50px;font-family:"DIN",Fallback,sans-serif!important}']}),n})(),v0=(()=>{class n{constructor(t){this.route=t,this.gallery11=Gt.GALLERY11}ngOnInit(){this.title=this.route.snapshot.queryParamMap.get("titolo")}ngAfterViewChecked(){window.scroll(0,0)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Mc))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-pagina-corsi"]],decls:13,vars:2,consts:[[1,"gold-block-cont"],[1,"gold-block"],[1,"container"],[2,"display","flex","padding-top","60px"],[1,"title"],[1,"img-corso",3,"src"],[1,"body"]],template:function(t,r){1&t&&(d._UZ(0,"app-toolbar"),d.TgZ(1,"section"),d.TgZ(2,"div",0),d._UZ(3,"div",1),d.qZA(),d.TgZ(4,"div",2),d.TgZ(5,"div",3),d.TgZ(6,"div",4),d._uU(7),d.qZA(),d._UZ(8,"img",5),d.qZA(),d.TgZ(9,"div"),d.TgZ(10,"div",6),d._uU(11," La muay boran \xe8 un\u2019arte marziale thailandese ed \xe8 il diretto progenitore della muay thai. Se la muay thai \xe8 conosciuta come l\u2019arte delle otto armi (ovvero gambe, ginocchia, pugni e gomiti), la muay boran aggiunge a queste anche la testa oltre ad un grande numero di movimenti di controllo, intrappolamento e proiezione a terra. Nello studio della muay boran, il praticante, pur crescendo atleticamente in un contesto in cui il termine \u2018rispetto\u2019 \xe8 alla base di ogni sessione di allenamento, parte dal presupposto di doversi attrezzare per far fronte ad un vero nemico, schierato contro di lui sul campo di battaglia, e perci\xf2, non meritevole di alcun trattamento \u2018sportivo\u2019. La conseguenza di ci\xf2 \xe8 che le tecniche e l\u2019approccio stesso della muay boran sono tarate per uno scontro senza quartiere e non proprio per una pratica ludico-agonistica. "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(12,"app-footer")),2&t&&(d.xp6(7),d.Oqu(r.title),d.xp6(1),d.s9C("src",r.gallery11,d.LSH))},directives:[Iv,Dv],styles:[".title[_ngcontent-%COMP%]{color:var(--gold);transform:rotate(270deg);font-size:85px;width:271px;margin-left:38px;margin-top:80px}.img-corso[_ngcontent-%COMP%]{width:60%}.body[_ngcontent-%COMP%]{margin:50px auto auto;width:90%;color:#fff;padding-bottom:150px;font-size:40px;text-align:justify;letter-spacing:-1px}.container[_ngcontent-%COMP%]{position:relative;background:black;width:90%;margin:auto;height:max-content;box-shadow:0 15px 80px #242424,0 11px 20px #242424}.gold-block-cont[_ngcontent-%COMP%]{width:100%;height:150px;margin-top:250px}.gold-block[_ngcontent-%COMP%]{width:5%;margin:auto;background:var(--gold);height:inherit}"]}),n})(),rR=(()=>{class n{constructor(){this.about=Gt.ABOUT_IMG}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-about"]],decls:57,vars:1,consts:[["id","about","role","main",1,"about"],[1,"center-about"],[1,"title-about"],[2,"color","var(--gold)"],[2,"color","white"],[1,"container-about"],[1,"p-about"],[1,"img-about",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"span",3),d._uU(4,"LA NOSTRA"),d.qZA(),d._UZ(5,"br"),d.TgZ(6,"span",4),d._uU(7,"STORIA"),d.qZA(),d.qZA(),d.TgZ(8,"div",5),d.TgZ(9,"p",6),d.TgZ(10,"b"),d.TgZ(11,"span",3),d._uU(12,"TEAM PIACENTE"),d.qZA(),d.qZA(),d._UZ(13,"br"),d._UZ(14,"br"),d._uU(15," Il Team \xe8 nato a San Salvo (CH) ufficialmente nel "),d.TgZ(16,"span",3),d.TgZ(17,"b"),d._uU(18,"1996"),d.qZA(),d.qZA(),d._uU(19,", fondato dal maestro Vincenzo Piacente."),d._UZ(20,"br"),d._uU(21," E' stato premiato come "),d.TgZ(22,"b"),d._uU(23,"miglior Team Nazionale nell\u2019anno 1999"),d.qZA(),d._uU(24,"."),d._UZ(25,"br"),d._uU(26," Numerosi i successi ottenuti negli anni dai vari atleti a livello nazionale."),d._UZ(27,"br"),d._uU(28," Vanta successi sia in competizioni dilettantistiche che "),d.TgZ(29,"span",3),d._uU(30,"PRO"),d.qZA(),d._uU(31,"."),d._UZ(32,"br"),d._UZ(33,"br"),d._uU(34," Nel "),d.TgZ(35,"span",3),d._uU(36,"2019"),d.qZA(),d._uU(37," il maestro Piacente passa le redini al suo allievo direttissimo Marco Catalano che con la nuova gestione rinomina la nuova sede con il nome di:"),d._UZ(38,"br"),d.TgZ(39,"span",3),d.TgZ(40,"b"),d._uU(41,"-Muay Thai 360-"),d.qZA(),d.qZA(),d._UZ(42,"br"),d._UZ(43,"br"),d.TgZ(44,"span",3),d.TgZ(45,"b"),d._uU(46,"Muay thai 360 perch\xe8?"),d.qZA(),d.qZA(),d._UZ(47,"br"),d._uU(48," Per fornire una conoscenza a 360 gradi della millenaria arte thailandese, con le sue mille sfaccettature ed applicazioni sportive tradizionali e militari."),d._UZ(49,"br"),d._UZ(50,"br"),d._uU(51," Nella nostra scuola \xe8 possibile praticare vari sport da combattimento e arti marziali."),d._UZ(52,"br"),d.TgZ(53,"span",3),d._uU(54,"I corsi sono accessibili a tutti "),d.qZA(),d._uU(55,"poich\xe9 le attivit\xe0 vengono suddivise in modo specifico, a seconda che siano donne o bambini, principianti o agonisti, oppure persone gi\xe0 allenate. Effettuiamo, inoltre, lezioni private e allenamenti liberi."),d.qZA(),d._UZ(56,"img",7),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(56),d.s9C("src",r.about,d.LSH))},styles:['.about[_ngcontent-%COMP%]{position:relative;background-color:#000;top:200px;left:0;right:0}.center-about[_ngcontent-%COMP%]{margin:auto;padding:100px 0 0 200px}.title-about[_ngcontent-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;letter-spacing:22px;font-size:6vw}.p-about[_ngcontent-%COMP%]{width:452px;color:#fff;font-size:16px;line-height:25px;margin-bottom:120px}.container-about[_ngcontent-%COMP%]{display:inline-flex}.img-about[_ngcontent-%COMP%]{width:425px;height:485px;padding-left:130px}@media screen and (max-device-width: 992px){.img-about[_ngcontent-%COMP%]{padding-left:0;padding-top:33%}.center-about[_ngcontent-%COMP%]{padding:100px 0 0 85px}.p-about[_ngcontent-%COMP%]{font-size:30px;line-height:35px}.title-about[_ngcontent-%COMP%]{font-size:9vw}}@media screen and (max-width: 692px){.center-about[_ngcontent-%COMP%]{padding:100px 0 0 20px}}']}),n})();const iR=function(n){return{"background-image":n}};let JD=(()=>{class n{constructor(){this.team=Gt.TEAM_IMG}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-team"]],decls:35,vars:3,consts:[["id","team","role","main",1,"team"],[1,"team-container"],[1,"team-element",2,"background-image","url(assets/img/gallery1.jpg)","background-repeat","no-repeat","background-size","cover",3,"ngStyle"],[1,"team-title"],[1,"team-text"],[1,"team-element",2,"background-color","var(--gold)"],[1,"team-text2"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d._uU(4,"IL TEAM"),d.qZA(),d.TgZ(5,"div",4),d.TgZ(6,"b"),d._uU(7,"ISTRUTTORI:"),d.qZA(),d._UZ(8,"br"),d._UZ(9,"br"),d.TgZ(10,"b"),d._uU(11,"Vincenzo Piacente"),d.qZA(),d._UZ(12,"br"),d._uU(13," (12\xb0 khan Instructor IMBA)"),d._UZ(14,"br"),d._UZ(15,"br"),d.TgZ(16,"b"),d._uU(17,"Marco Catalano"),d.qZA(),d._UZ(18,"br"),d._uU(19," (11\xb0khan Trainer Instructor scuola Oltrecorpo di Fabio Siciliani,3 titoli italiani dilettanti Kombat league, 1 titolo italiano PRO Fight 1) Tecnico Federkombat ."),d._UZ(20,"br"),d._UZ(21,"br"),d.TgZ(22,"b"),d._uU(23,"Michele Zizzari"),d.qZA(),d._UZ(24,"br"),d._uU(25," (11\xb0 khan advance Trainer Instructor IMBA)"),d._UZ(26,"br"),d._UZ(27,"br"),d.TgZ(28,"b"),d._uU(29,"Felice Nozzi"),d.qZA(),d._UZ(30,"br"),d._uU(31," (11\xb0 khan advance Trainer Instructor IMBA)"),d.qZA(),d.qZA(),d.TgZ(32,"div",5),d.TgZ(33,"div",6),d._uU(34,"Il nostro staff ha una preparazione approfondita di tutte le discipline praticate nella nostra scuola. Il team \xe8 formato da professionisti che ti affiancheranno durante il tuo allenamento o il tuo percorso di preparazione atletica. "),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.Q6J("ngStyle",d.VKq(1,iR,"url("+r.team+")")))},directives:[gn],styles:['.team[_ngcontent-%COMP%]{position:relative;background-color:#000;top:200px;left:0;right:0}.team-container[_ngcontent-%COMP%]{display:inline-flex;width:100%}.team-element[_ngcontent-%COMP%]{width:50%;height:550px}.team-title[_ngcontent-%COMP%]{color:var(--gold);letter-spacing:.15em;font-size:5vw;float:right;text-align:right;padding-right:5vw;width:228px;line-height:65px;padding-top:6vw}.team-text[_ngcontent-%COMP%]{font-family:"DINLIG",Fallback,sans-serif!important;color:#fff;font-size:13px;float:right;text-align:right;padding-right:6vw;width:26vw;padding-top:1vw;letter-spacing:-.3px}.team-text2[_ngcontent-%COMP%]{font-size:19px;line-height:1.8em;font-family:open sans condensed,sans-serif;letter-spacing:-1px;padding-top:10vw;width:25vw;font-weight:lighter;padding-left:8vw}@media screen and (max-device-width: 992px){.team-title[_ngcontent-%COMP%]{color:var(--gold);letter-spacing:.15em;font-size:65px;float:left;text-align:left;padding-right:70px;width:250px;line-height:65px;padding-top:95px;padding-left:90px}.team-text[_ngcontent-%COMP%]{font-family:"DINLIG",Fallback,sans-serif!important;color:#fff;font-size:28px;float:right;text-align:left;padding-right:80px;width:52%;position:relative;letter-spacing:-.3px;top:-65px}.team-container[_ngcontent-%COMP%]{display:block}.team-element[_ngcontent-%COMP%]{width:100%;height:820px}.team-text2[_ngcontent-%COMP%]{font-size:32px;line-height:1.8em;font-family:open sans condensed,sans-serif;letter-spacing:-1px;padding-top:185px;margin:auto;width:50%;font-weight:lighter;padding-left:0}}@media screen and (max-width: 660px){.team-text2[_ngcontent-%COMP%]{font-size:17px}}']}),n})();function XD(n){return Array.isArray(n)?n:[n]}function Vr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function yp(n){return n instanceof d.SBq?n.nativeElement:n}var ok=V(9105);function b0(n,e,t,r){return(0,ok.m)(t)&&(r=t,t=void 0),r?b0(n,e,t).pipe((0,ut.U)(o=>(0,bc.k)(o)?r(...o):r(o))):new Kn.y(o=>{oR(n,e,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,t)})}function oR(n,e,t,r,o){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(e,t,o),l=()=>h.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(e,t),l=()=>h.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(e,t),l=()=>h.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,m=n.length;h<m;h++)oR(n[h],e,t,r,o)}r.add(l)}var aR=V(6465),hk=V(6102);new class extends hk.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,o=-1,l=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++o<l&&(e=t.shift()));if(this.active=!1,r){for(;++o<l&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends aR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});V(4581);class u{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new f(e,this.durationSelector))}}class f extends mr.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:o}=this;t=o(e)}catch(o){return this.destination.error(o)}const r=(0,mr.ft)(t,new mr.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var _=V(6561);function w(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function I(n,e=R_.P){return function(n){return function(t){return t.lift(new u(n))}}(()=>function(n=0,e,t){let r=-1;return(0,_.k)(e)?r=Number(e)<1?1:Number(e):(0,ts.K)(e)&&(t=e),(0,ts.K)(t)||(t=R_.P),new Kn.y(o=>{const l=(0,_.k)(n)?n:+n-t.now();return t.schedule(w,l,{index:0,period:r,subscriber:o})})}(n,e))}function x(n){return e=>e.lift(new P(n))}class P{constructor(e){this.notifier=e}call(e,t){const r=new N(e),o=(0,mr.ft)(this.notifier,new mr.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class N extends mr.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let $;try{$="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){$=!1}let Je,Xr,Pu,Us,z=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(d.Lbi))},token:n,providedIn:"root"}),n})(),de=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function Pt(n){return function(){if(null==Je&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Je=!0}))}finally{Je=Je||!1}return Je}()?n:!!n.capture}function vp(){if(null==Xr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xr=!1,Xr;if("scrollBehavior"in document.documentElement.style)Xr=!0;else{const n=Element.prototype.scrollTo;Xr=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xr}function Ep(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ml(n){return n.composedPath?n.composedPath()[0]:n.target}function Mm(){return void 0!==Us.__karma__&&!!Us.__karma__||void 0!==Us.jasmine&&!!Us.jasmine||void 0!==Us.jest&&!!Us.jest||void 0!==Us.Mocha&&!!Us.Mocha}Us="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};const gk=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,d.f3M)(se)}});let Rm=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const o=t.documentElement?t.documentElement.dir:null,l=(t.body?t.body.dir:null)||o;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(gk,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(gk,8))},token:n,providedIn:"root"}),n})(),w0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),eS=(()=>{class n{constructor(t,r,o){this._ngZone=t,this._platform=r,this._scrolled=new Vt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Kn.y(r=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(I(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ke.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const o=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(qr(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,t)&&r.push(l)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let o=yp(r),l=t.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>b0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(z),d.LFG(se,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(d.R0b),d.LFG(z),d.LFG(se,8))},token:n,providedIn:"root"}),n})(),C0=(()=>{class n{constructor(t,r,o){this._platform=t,this._change=new Vt.xQ,this._changeListener=l=>{this._change.next(l)},this._document=o,r.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),o=t.documentElement,l=o.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||r.scrollY||o.scrollTop||0,left:-l.left||t.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(I(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(z),d.LFG(d.R0b),d.LFG(se,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(z),d.LFG(d.R0b),d.LFG(se,8))},token:n,providedIn:"root"}),n})(),bk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[w0,de,bk],w0,bk]}),n})();class cR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class lR extends cR{constructor(e,t,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=o}}class tS extends cR{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class B1 extends cR{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class uR{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof lR?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof tS?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof B1?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class j1 extends uR{constructor(e,t,r,o,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=h=>{const m=h.element,b=this._document.createComment("dom-portal");m.parentNode.insertBefore(b,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(m,b)})},this._document=l}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let o;return e.viewContainerRef?(o=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=r.create(e.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=e,o}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(r);-1!==o&&t.remove(o)}),this._attachedPortal=e,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let nS=(()=>{class n extends uR{constructor(t,r,o){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(m,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=o}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,l=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),h=r.createComponent(l,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=t,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(se))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),n})(),Ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Ik=vp();class J1{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Vr(-this._previousScrollPosition.left),e.style.top=Vr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,o=this._document.body.style,l=r.scrollBehavior||"",h=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Ik&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ik&&(r.scrollBehavior=l,o.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class X1{constructor(e,t,r,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Dk{enable(){}disable(){}attach(){}}function hR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Sk(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class eN{constructor(e,t,r,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();hR(t,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let tN=(()=>{class n{constructor(t,r,o,l){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Dk,this.close=h=>new X1(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new J1(this._viewportRuler,this._document),this.reposition=h=>new eN(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(eS),d.LFG(C0),d.LFG(d.R0b),d.LFG(se))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(eS),d.LFG(C0),d.LFG(d.R0b),d.LFG(se))},token:n,providedIn:"root"}),n})();class fR{constructor(e){if(this.scrollStrategy=new Dk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class nN{constructor(e,t,r,o,l){this.offsetX=r,this.offsetY=o,this.panelClass=l,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class rN{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Ak=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(se))},token:n,providedIn:"root"}),n})(),iN=(()=>{class n extends Ak{constructor(t){super(t),this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){o[l]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(se))},token:n,providedIn:"root"}),n})(),sN=(()=>{class n extends Ak{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=ml(o)},this._clickListener=o=>{const l=ml(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let b=m.length-1;b>-1;b--){const C=m[b];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(l)||C.overlayElement.contains(h))break;C._outsidePointerEvents.next(o)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(z))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(se),d.LFG(z))},token:n,providedIn:"root"}),n})(),T0=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Mm()){const o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].parentNode.removeChild(o[l])}const r=this._document.createElement("div");r.classList.add(t),Mm()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(z))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(se),d.LFG(z))},token:n,providedIn:"root"}),n})();class oN{constructor(e,t,r,o,l,h,m,b,C){this._portalOutlet=e,this._host=t,this._pane=r,this._config=o,this._ngZone=l,this._keyboardDispatcher=h,this._document=m,this._location=b,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new Vt.xQ,this._attachments=new Vt.xQ,this._detachments=new Vt.xQ,this._locationChanges=rs.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new Vt.xQ,this._outsidePointerEvents=new Vt.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Uo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Vr(this._config.width),e.height=Vr(this._config.height),e.minWidth=Vr(this._config.minWidth),e.minHeight=Vr(this._config.minHeight),e.maxWidth=Vr(this._config.maxWidth),e.maxHeight=Vr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const o=e.classList;XD(t).forEach(l=>{l&&(r?o.add(l):o.remove(l))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(x((0,ms.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const xk="cdk-overlay-connected-position-bounding-box",aN=/([A-Za-z%]+)$/;class Mk{constructor(e,t,r,o,l){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Vt.xQ,this._resizeSubscription=rs.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(xk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,o=[];let l;for(let h of this._preferredPositions){let m=this._getOriginPoint(e,h),b=this._getOverlayPoint(m,t,h),C=this._getOverlayFit(b,t,r,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(C,b,r)?o.push({position:h,origin:m,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!l||l.overlayFit.visibleArea<C.visibleArea)&&(l={overlayFit:C,overlayPoint:b,originPoint:m,position:h,overlayRect:t})}if(o.length){let h=null,m=-1;for(const b of o){const C=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);C>m&&(m=C,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Om(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,o;if("center"==t.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==t.originX?l:h}return o="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:o}}_getOverlayPoint(e,t,r){let o,l;return o="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+o,y:e.y+l}}_getOverlayFit(e,t,r,o){const l=Ok(t);let{x:h,y:m}=e,b=this._getOffset(o,"x"),C=this._getOffset(o,"y");b&&(h+=b),C&&(m+=C);let j=0-m,K=m+l.height-r.height,ee=this._subtractOverflows(l.width,0-h,h+l.width-r.width),ye=this._subtractOverflows(l.height,j,K),Re=ee*ye;return{visibleArea:Re,isCompletelyWithinViewport:l.width*l.height===Re,fitsInViewportVertically:ye===l.height,fitsInViewportHorizontally:ee==l.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const o=r.bottom-t.y,l=r.right-t.x,h=Rk(this._overlayRef.getConfig().minHeight),m=Rk(this._overlayRef.getConfig().minWidth),C=e.fitsInViewportHorizontally||null!=m&&m<=l;return(e.fitsInViewportVertically||null!=h&&h<=o)&&C}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const o=Ok(t),l=this._viewportRect,h=Math.max(e.x+o.width-l.width,0),m=Math.max(e.y+o.height-l.height,0),b=Math.max(l.top-r.top-e.y,0),C=Math.max(l.left-r.left-e.x,0);let M=0,O=0;return M=o.width<=l.width?C||-h:e.x<this._viewportMargin?l.left-r.left-e.x:0,O=o.height<=l.height?b||-m:e.y<this._viewportMargin?l.top-r.top-e.y:0,this._previousPushAmount={x:M,y:O},{x:e.x+M,y:e.y+O}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),o=new rN(e,r);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,o=this._isRtl();let l,h,m,M,O,j;if("top"===t.overlayY)h=e.y,l=r.height-h+this._viewportMargin;else if("bottom"===t.overlayY)m=r.height-e.y+2*this._viewportMargin,l=r.height-m+this._viewportMargin;else{const K=Math.min(r.bottom-e.y+r.top,e.y),ee=this._lastBoundingBoxSize.height;l=2*K,h=e.y-K,l>ee&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.y-ee/2)}if("end"===t.overlayX&&!o||"start"===t.overlayX&&o)j=r.width-e.x+this._viewportMargin,M=e.x-this._viewportMargin;else if("start"===t.overlayX&&!o||"end"===t.overlayX&&o)O=e.x,M=r.right-e.x;else{const K=Math.min(r.right-e.x+r.left,e.x),ee=this._lastBoundingBoxSize.width;M=2*K,O=e.x-K,M>ee&&!this._isInitialRender&&!this._growAfterOpen&&(O=e.x-ee/2)}return{top:h,left:O,bottom:m,right:j,width:M,height:l}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;o.height=Vr(r.height),o.top=Vr(r.top),o.bottom=Vr(r.bottom),o.width=Vr(r.width),o.left=Vr(r.left),o.right=Vr(r.right),o.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",o.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=Vr(l)),h&&(o.maxWidth=Vr(h))}this._lastBoundingBoxSize=r,Om(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Om(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Om(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(o){const M=this._viewportRuler.getViewportScrollPosition();Om(r,this._getExactOverlayY(t,e,M)),Om(r,this._getExactOverlayX(t,e,M))}else r.position="static";let m="",b=this._getOffset(t,"x"),C=this._getOffset(t,"y");b&&(m+=`translateX(${b}px) `),C&&(m+=`translateY(${C}px)`),r.transform=m.trim(),h.maxHeight&&(o?r.maxHeight=Vr(h.maxHeight):l&&(r.maxHeight="")),h.maxWidth&&(o?r.maxWidth=Vr(h.maxWidth):l&&(r.maxWidth="")),Om(this._pane.style,r)}_getExactOverlayY(e,t,r){let o={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===e.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=Vr(l.y),o}_getExactOverlayX(e,t,r){let h,o={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),h=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===h?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=Vr(l.x),o}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Sk(e,r),isOriginOutsideView:hR(e,r),isOverlayClipped:Sk(t,r),isOverlayOutsideView:hR(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,o)=>r-Math.max(o,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&XD(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Om(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Rk(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(aN);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Ok(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class cN{constructor(e,t,r,o,l,h,m){this._preferredPositions=[],this._positionStrategy=new Mk(r,o,l,h,m).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,r,o){const l=new nN(e,t,r,o);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const kk="cdk-global-overlay-wrapper";class lN{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(kk),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:h,maxHeight:m}=r,b=!("100%"!==o&&"100vw"!==o||h&&"100%"!==h&&"100vw"!==h),C=!("100%"!==l&&"100vh"!==l||m&&"100%"!==m&&"100vh"!==m);e.position=this._cssPosition,e.marginLeft=b?"0":this._leftOffset,e.marginTop=C?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,b?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(kk),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let uN=(()=>{class n{constructor(t,r,o,l){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=l}global(){return new lN}connectedTo(t,r,o){return new cN(r,o,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Mk(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(C0),d.LFG(se),d.LFG(z),d.LFG(T0))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(C0),d.LFG(se),d.LFG(z),d.LFG(T0))},token:n,providedIn:"root"}),n})(),dN=0,Av=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M,O,j){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=m,this._ngZone=b,this._document=C,this._directionality=M,this._location=O,this._outsideClickDispatcher=j}create(t){const r=this._createHostElement(),o=this._createPaneElement(r),l=this._createPortalOutlet(o),h=new fR(t);return h.direction=h.direction||this._directionality.value,new oN(l,r,o,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+dN++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new j1(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tN),d.LFG(T0),d.LFG(d._Vd),d.LFG(uN),d.LFG(iN),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(se),d.LFG(Rm),d.LFG(It),d.LFG(sN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const pN={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Av],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let gN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Av,pN],imports:[[w0,Ck,Ek],Ek]}),n})();class _N{constructor(e){this.total=e}call(e,t){return t.subscribe(new yN(e,this.total))}}class yN extends en.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let Vk=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Bk(r)||!this.isVisible(r)))return!1;let o=t.nodeName.toLowerCase(),l=Bk(t);return t.hasAttribute("contenteditable")?-1!==l:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===o?!!t.hasAttribute("controls")&&-1!==l:"video"===o?-1!==l&&(null!==l||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Uk(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(z))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(z))},token:n,providedIn:"root"}),n})();function Uk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Bk(n){if(!Uk(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class FN{constructor(e,t,r,o,l=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let o=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(o)return o}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let o=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(o)return o}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Uo(1)).subscribe(e)}}let jk=(()=>{class n{constructor(t,r,o){this._checker=t,this._ngZone=r,this._document=o}create(t,r=!1){return new FN(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Vk),d.LFG(d.R0b),d.LFG(se))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(Vk),d.LFG(d.R0b),d.LFG(se))},token:n,providedIn:"root"}),n})();"undefined"!=typeof Element&&Element;const zk=new d.OlP("cdk-input-modality-detector-options"),jN={ignoreKeys:[18,17,224,91,16]},xv=Pt({passive:!0,capture:!0});let Zk=(()=>{class n{constructor(t,r,o,l){this._platform=t,this._mostRecentTarget=null,this._modality=new gr(null),this._lastTouchMs=0,this._onKeydown=h=>{var m,b;(null===(b=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===b?void 0:b.some(C=>C===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ml(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(n){return 0===n.offsetX&&0===n.offsetY}(h)?"keyboard":"mouse"),this._mostRecentTarget=ml(h))},this._onTouchstart=h=>{!function(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(h)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ml(h)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},jN),l),this.modalityDetected=this._modality.pipe(e=>e.lift(new _N(1))),this.modalityChanged=this.modalityDetected.pipe(sb()),t.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,xv),o.addEventListener("mousedown",this._onMousedown,xv),o.addEventListener("touchstart",this._onTouchstart,xv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xv),document.removeEventListener("mousedown",this._onMousedown,xv),document.removeEventListener("touchstart",this._onTouchstart,xv))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(z),d.LFG(d.R0b),d.LFG(se),d.LFG(zk,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(z),d.LFG(d.R0b),d.LFG(se),d.LFG(zk,8))},token:n,providedIn:"root"}),n})();const Kk=new d.OlP("cdk-focus-monitor-default-options"),rS=Pt({passive:!0,capture:!0});let Yk=(()=>{class n{constructor(t,r,o,l,h){this._ngZone=t,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Vt.xQ,this._rootNodeFocusAndBlurListener=m=>{const b=ml(m),C="focus"===m.type?this._onFocus:this._onBlur;for(let M=b;M;M=M.parentElement)C.call(this,m,M)},this._document=l,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(t,r=!1){const o=yp(t);if(!this._platform.isBrowser||1!==o.nodeType)return(0,Ke.of)(null);const l=function(n){if(function(){if(null==Pu){const n="undefined"!=typeof document?document.head:null;Pu=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Pu}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return r&&(h.checkChildren=!0),h.subject;const m={checkChildren:r,subject:new Vt.xQ,rootNode:l};return this._elementInfo.set(o,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const r=yp(t),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(t,r,o){const l=yp(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([m,b])=>this._originChanged(m,r,b)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,r,o){o?t.classList.add(r):t.classList.remove(r)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){this._toggleClass(t,"cdk-focused",!!r),this._toggleClass(t,"cdk-touch-focused","touch"===r),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(t,"cdk-mouse-focused","mouse"===r),this._toggleClass(t,"cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const o=this._elementInfo.get(r),l=ml(t);!o||!o.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),o)}_onBlur(t,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(o.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,rS),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,rS)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(x(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rS),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rS),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,o){this._setClasses(t,r),this._emitOrigin(o.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((o,l)=>{(l===t||o.checkChildren&&l.contains(t))&&r.push([l,o])}),r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(z),d.LFG(Zk),d.LFG(se,8),d.LFG(Kk,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(d.R0b),d.LFG(z),d.LFG(Zk),d.LFG(se,8),d.LFG(Kk,8))},token:n,providedIn:"root"}),n})();const Qk="cdk-high-contrast-black-on-white",Jk="cdk-high-contrast-white-on-black",gR="cdk-high-contrast-active";let Xk=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gR),t.remove(Qk),t.remove(Jk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(gR),t.add(Qk)):2===r&&(t.add(gR),t.add(Jk))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(z),d.LFG(se))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(z),d.LFG(se))},token:n,providedIn:"root"}),n})();const eP=new d.GfV("12.2.12");class tP{}const fh="*";function qN(n,e){return{type:7,name:n,definitions:e,options:{}}}function nP(n,e=null){return{type:4,styles:e,timings:n}}function rP(n,e=null){return{type:2,steps:n,options:e}}function Mv(n){return{type:6,styles:n,offset:null}}function iP(n,e,t){return{type:0,name:n,styles:e,options:t}}function sP(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function oP(n){Promise.resolve(null).then(n)}class Rv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class aP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const l=this.players.length;0==l?oP(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function cP(){return"undefined"!=typeof window&&void 0!==window.document}function _R(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wp(n){switch(n.length){case 0:return new Rv;case 1:return n[0];default:return new aP(n)}}function lP(n,e,t,r,o={},l={}){const h=[],m=[];let b=-1,C=null;if(r.forEach(M=>{const O=M.offset,j=O==b,K=j&&C||{};Object.keys(M).forEach(ee=>{let ye=ee,Re=M[ee];if("offset"!==ee)switch(ye=e.normalizePropertyName(ye,h),Re){case"!":Re=o[ee];break;case fh:Re=l[ee];break;default:Re=e.normalizeStyleValue(ee,ye,Re,h)}K[ye]=Re}),j||m.push(K),C=K,b=O}),h.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${h.join(M)}`)}return m}function yR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&vR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&vR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&vR(t,"destroy",n)))}}function vR(n,e,t){const r=t.totalTime,l=bR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function bR(n,e,t,r,o="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:l,disabled:!!h}}function sa(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function uP(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let ER=(n,e)=>!1,wR=(n,e)=>!1,dP=(n,e,t)=>[];const hP=_R();(hP||"undefined"!=typeof Element)&&(ER=cP()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),wR=(()=>{if(hP||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):wR}})(),dP=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let l=0;l<o.length;l++)r.push(o[l])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let km=null,fP=!1;function CR(n){km||(km=("undefined"!=typeof document?document.body:null)||{},fP=!!km.style&&"WebkitAppearance"in km.style);let e=!0;return km.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in km.style,!e&&fP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in km.style)),e}const TR=wR,IR=ER,DR=dP;function pP(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let gP=(()=>{class n{validateStyleProperty(t){return CR(t)}matchesElement(t,r){return TR(t,r)}containsElement(t,r){return IR(t,r)}query(t,r,o){return DR(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,l,h,m=[],b){return new Rv(o,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),SR=(()=>{class n{}return n.NOOP=new gP,n})();const AR="ng-enter",iS="ng-leave",sS="ng-trigger",oS=".ng-trigger",_P="ng-animating",xR=".ng-animating";function Pm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:MR(parseFloat(e[1]),e[2])}function MR(n,e){switch(e){case"s":return 1e3*n;default:return n}}function aS(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,l=0,h="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=MR(parseFloat(m[1]),m[2]);const b=m[3];null!=b&&(l=MR(parseFloat(b),m[4]));const C=m[5];C&&(h=C)}else o=n;if(!t){let m=!1,b=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),m=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&e.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:l,easing:h}}(n,e,t)}function Ov(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Cp(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Ov(n,t);return t}function vP(n,e,t){return t?e+":"+t+";":""}function bP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=vP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=vP(0,XN(t),n.style[t]));n.setAttribute("style",e)}function Nu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=OR(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),_R()&&bP(n))}function Nm(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=OR(t);n.style[r]=""}),_R()&&bP(n))}function I0(n){return Array.isArray(n)?1==n.length?n[0]:rP(n):n}const RR=new RegExp("{{\\s*(.+?)\\s*}}","g");function EP(n){let e=[];if("string"==typeof n){let t;for(;t=RR.exec(n);)e.push(t[1]);RR.lastIndex=0}return e}function cS(n,e,t){const r=n.toString(),o=r.replace(RR,(l,h)=>{let m=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),m=""),m.toString()});return o==r?n:o}function lS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const JN=/-+([a-z0-9])/g;function OR(n){return n.replace(JN,(...e)=>e[1].toUpperCase())}function XN(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wP(n,e){return 0===n||0===e}function CP(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(m=>{l.hasOwnProperty(m)||h.push(m),l[m]=t[m]}),h.length)for(var o=1;o<e.length;o++){let m=e[o];h.forEach(function(b){m[b]=kR(n,b)})}}return e}function oa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function kR(n,e){return window.getComputedStyle(n)[e]}function eF(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const b=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof b)return void e.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],l=r[2],h=r[3];e.push(TP(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&e.push(TP(h,o))}(r,t,e)):t.push(n),t}const dS=new Set(["true","1"]),hS=new Set(["false","0"]);function TP(n,e){const t=dS.has(n)||hS.has(n),r=dS.has(e)||hS.has(e);return(o,l)=>{let h="*"==n||n==o,m="*"==e||e==l;return!h&&t&&"boolean"==typeof o&&(h=o?dS.has(n):hS.has(n)),!m&&r&&"boolean"==typeof l&&(m=l?dS.has(e):hS.has(e)),h&&m}}const rF=new RegExp("s*:selfs*,?","g");function PR(n,e,t){return new iF(n).build(e,t)}class iF{constructor(e){this._driver=e}build(e,t){const r=new aF(t);return this._resetContextStyleTimingState(r),oa(this,I0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const b=m,C=b.name;C.toString().split(/\s*,\s*/).forEach(M=>{b.name=M,l.push(this.visitState(b,t))}),b.name=C}else if(1==m.type){const b=this.visitTransition(m,t);r+=b.queryCount,o+=b.depCount,h.push(b)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=o||{};if(r.styles.forEach(m=>{if(fS(m)){const b=m;Object.keys(b).forEach(C=>{EP(b[C]).forEach(M=>{h.hasOwnProperty(M)||l.add(M)})})}}),l.size){const m=lS(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=oa(this,I0(e.animation),t);return{type:1,matchers:eF(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Fm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>oa(this,r,t)),options:Fm(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const l=e.steps.map(h=>{t.currentTime=r;const m=oa(this,h,t);return o=Math.max(o,t.currentTime),m});return t.currentTime=o,{type:3,steps:l,options:Fm(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return NR(aS(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=NR(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||aS(r,e),NR(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,l=e.styles?e.styles:Mv({});if(5==l.type)o=this.visitKeyframes(l,t);else{let h=e.styles,m=!1;if(!h){m=!0;const C={};r.easing&&(C.easing=r.easing),h=Mv(C)}t.currentTime+=r.duration+r.delay;const b=this.visitStyle(h,t);b.isEmptyStep=m,o=b}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==fh?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let o=!1,l=null;return r.forEach(h=>{if(fS(h)){const m=h,b=m.easing;if(b&&(l=b,delete m.easing),!o)for(let C in m)if(m[C].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const b=t.collectedStyles[t.currentQuerySelector],C=b[m];let M=!0;C&&(l!=o&&l>=C.startTime&&o<=C.endTime&&(t.errors.push(`The CSS property "${m}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${o}ms"`),M=!1),l=C.startTime),M&&(b[m]={startTime:l,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=EP(n);o.length&&o.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let m=!1,b=!1,C=0;const M=e.steps.map(it=>{const st=this._makeStyleAst(it,t);let Nt=null!=st.offset?st.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(fS(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(fS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(st.styles),ct=0;return null!=Nt&&(l++,ct=st.offset=Nt),b=b||ct<0||ct>1,m=m||ct<C,C=ct,h.push(ct),st});b&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&t.errors.push("Please ensure that all keyframe offsets are in order");const O=e.steps.length;let j=0;l>0&&l<O?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(j=1/(O-1));const K=O-1,ee=t.currentTime,ye=t.currentAnimateTimings,Re=ye.duration;return M.forEach((it,st)=>{const Nt=j>0?st==K?1:j*st:h[st],ct=Nt*Re;t.currentTime=ee+ye.delay+ct,ye.duration=ct,this._validateStyleAst(it,t),it.offset=Nt,r.styles.push(it)}),r}visitReference(e,t){return{type:8,animation:oa(this,I0(e.animation),t),options:Fm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Fm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Fm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(rF,"")),[n=n.replace(/@\*/g,oS).replace(/@\w+/g,t=>oS+"-"+t.substr(1)).replace(/:animating/g,xR),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,sa(t.collectedStyles,t.currentQuerySelector,{});const m=oa(this,I0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:m,originalSelector:e.selector,options:Fm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:aS(e.timings,t.errors,!0);return{type:12,animation:oa(this,I0(e.animation),t),timings:r,options:null}}}class aF{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function fS(n){return!Array.isArray(n)&&"object"==typeof n}function Fm(n){return n?(n=Ov(n)).params&&(n.params=function(n){return n?Ov(n):null}(n.params)):n={},n}function NR(n,e,t){return{duration:n,delay:e,easing:t}}function FR(n,e,t,r,o,l,h=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:m}}class pS{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hF=new RegExp(":enter","g"),pF=new RegExp(":leave","g");function LR(n,e,t,r,o,l={},h={},m,b,C=[]){return(new gF).buildKeyframes(n,e,t,r,o,l,h,m,b,C)}class gF{buildKeyframes(e,t,r,o,l,h,m,b,C,M=[]){C=C||new pS;const O=new VR(e,t,C,o,l,M,[]);O.options=b,O.currentTimeline.setStyles([h],null,O.errors,b),oa(this,r,O);const j=O.timelines.filter(K=>K.containsAnimation());if(j.length&&Object.keys(m).length){const K=j[j.length-1];K.allowOnlyTimelineStyles()||K.setStyles([m],null,O.errors,b)}return j.length?j.map(K=>K.buildKeyframes()):[FR(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?Pm(r.duration):null,m=null!=r.delay?Pm(r.delay):null;return 0!==h&&e.forEach(b=>{const C=t.appendInstructionToTimeline(b,h,m);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),oa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const l=e.options;if(l&&(l.params||l.delay)&&(o=t.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=gS);const h=Pm(l.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>oa(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Pm(e.options.delay):0;e.steps.forEach(h=>{const m=t.createSubContext(e.options);l&&m.delayNextStep(l),oa(this,h,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return aS(t.params?cS(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,l=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(b=>{m.forwardTime((b.offset||0)*l),m.setStyles(b.styles,b.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(o+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},l=o.delay?Pm(o.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=gS);let h=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=m.length;let b=null;m.forEach((C,M)=>{t.currentQueryIndex=M;const O=t.createSubContext(e.options,C);l&&O.delayNextStep(l),C===t.element&&(b=O.currentTimeline),oa(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),m=h*(t.currentQueryTotal-1);let b=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":b=m-b;break;case"full":b=r.currentStaggerTime}const M=t.currentTimeline;b&&M.delayNextStep(b);const O=M.currentTime;oa(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-O+(o.startTime-r.currentTimeline.startTime)}}const gS={};class VR{constructor(e,t,r,o,l,h,m,b){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new mS(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Pm(r.duration)),null!=r.delay&&(o.delay=Pm(r.delay));const l=r.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(m=>{(!t||!h.hasOwnProperty(m))&&(h[m]=cS(l[m],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,l=new VR(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=gS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new mF(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,l,h){let m=[];if(o&&m.push(this.element),e.length>0){e=(e=e.replace(hF,"."+this._enterClassName)).replace(pF,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),m.push(...C)}return!l&&0==m.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),m}}class mS{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new mS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||fh,this._currentKeyframe[t]=fh}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const l=o&&o.params||{},h=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(l=>{t[l]=fh})):Cp(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const b=cS(h[m],l,r);this._pendingStyles[m]=b,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:fh),this._updateStyle(m,b)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,b)=>{const C=Cp(m,!0);Object.keys(C).forEach(M=>{const O=C[M];"!"==O?e.add(M):O==fh&&t.add(M)}),r||(C.offset=b/this.duration),o.push(C)});const l=e.size?lS(e.values()):[],h=t.size?lS(t.values()):[];if(r){const m=o[0],b=Ov(m);m.offset=0,b.offset=1,o=[m,b]}return FR(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class mF extends mS{constructor(e,t,r,o,l,h,m=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,m=t/h,b=Cp(e[0],!1);b.offset=0,l.push(b);const C=Cp(e[0],!1);C.offset=SP(m),l.push(C);const M=e.length-1;for(let O=1;O<=M;O++){let j=Cp(e[O],!1);j.offset=SP((t+j.offset*r)/h),l.push(j)}r=h,t=0,o="",e=l}return FR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function SP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class UR{}class yF extends UR{normalizePropertyName(e,t){return OR(e)}normalizeStyleValue(e,t,r,o){let l="";const h=r.toString().trim();if(vF[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const vF=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function AP(n,e,t,r,o,l,h,m,b,C,M,O,j){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:m,queriedElements:b,preStyleProps:C,postStyleProps:M,totalTime:O,errors:j}}const BR={};class xP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(l=>l(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],l=this._stateStyles[e],h=o?o.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,o,l,h,m,b,C,M){const O=[],j=this.ast.options&&this.ast.options.params||BR,ee=this.buildStyles(r,m&&m.params||BR,O),ye=b&&b.params||BR,Re=this.buildStyles(o,ye,O),it=new Set,st=new Map,Nt=new Map,ct="void"===o,fn={params:Object.assign(Object.assign({},j),ye)},Dr=M?[]:LR(e,t,this.ast.animation,l,h,ee,Re,fn,C,O);let ei=0;if(Dr.forEach(gh=>{ei=Math.max(gh.duration+gh.delay,ei)}),O.length)return AP(t,this._triggerName,r,o,ct,ee,Re,[],[],st,Nt,ei,O);Dr.forEach(gh=>{const mh=gh.element,m1=sa(st,mh,{});gh.preStyleProps.forEach(Vm=>m1[Vm]=!0);const x0=sa(Nt,mh,{});gh.postStyleProps.forEach(Vm=>x0[Vm]=!0),mh!==t&&it.add(mh)});const ph=lS(it.values());return AP(t,this._triggerName,r,o,ct,ee,Re,Dr,ph,st,Nt,ei)}}class wF{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=Ov(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(o[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(m=>{let b=h[m];b.length>1&&(b=cS(b,o,t));const C=this.normalizer.normalizePropertyName(m,t);b=this.normalizer.normalizeStyleValue(m,C,b,t),r[C]=b})}}),r}}class TF{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new wF(o.style,o.options&&o.options.params||{},r)}),MP(this.states,"true","1"),MP(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new xP(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new xP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(h=>h.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function MP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const DF=new pS;class SF{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=PR(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,l=lP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],l=this._animations[e];let h;const m=new Map;if(l?(h=LR(this._driver,t,l,AR,iS,{},{},r,DF,o),h.forEach(M=>{const O=sa(m,M.element,{});M.postStyleProps.forEach(j=>O[j]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),h=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);m.forEach((M,O)=>{Object.keys(M).forEach(j=>{M[j]=this._driver.computeStyle(O,j,fh)})});const C=wp(h.map(M=>{const O=m.get(M.element);return this._buildPlayer(M,{},O)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const l=bR(t,"","","");return yR(this._getPlayer(e),r,l,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const RP="ng-animate-queued",OP="ng-animate-disabled",kP=".ng-animate-disabled",RF=[],PP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},OF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ya="__ng_removed";class jR{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const l=Ov(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const D0="void",$R=new jR(D0);class kF{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qa(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const l=sa(this._elementListeners,e,[]),h={name:t,phase:r,callback:o};l.push(h);const m=sa(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(Qa(e,sS),Qa(e,sS+"-"+t),m[t]=$R),()=>{this._engine.afterFlush(()=>{const b=l.indexOf(h);b>=0&&l.splice(b,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const l=this._getTrigger(t),h=new HR(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Qa(e,sS),Qa(e,sS+"-"+t),this._engine.statesByElement.set(e,m={}));let b=m[t];const C=new jR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&C.absorbOptions(b.options),m[t]=C,b||(b=$R),C.value!==D0&&b.value===C.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const l=t[o];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(b.params,C.params)){const ye=[],Re=l.matchStyles(b.value,b.params,ye),it=l.matchStyles(C.value,C.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{Nm(e,Re),Nu(e,it)})}return}const j=sa(this._engine.playersByElement,e,[]);j.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==t&&ye.queued&&ye.destroy()});let K=l.matchTransition(b.value,C.value,e,C.params),ee=!1;if(!K){if(!o)return;K=l.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:K,fromState:b,toState:C,player:h,isFallbackTransition:ee}),ee||(Qa(e,RP),h.onStart(()=>{kv(e,RP)})),h.onDone(()=>{let ye=this.players.indexOf(h);ye>=0&&this.players.splice(ye,1);const Re=this._engine.playersByElement.get(e);if(Re){let it=Re.indexOf(h);it>=0&&Re.splice(it,1)}}),this.players.push(h),j.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,oS,!0);r.forEach(o=>{if(o[Ya])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(m=>{if(this._triggers[m]){const b=this.trigger(e,m,D0,o);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&wp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const b=this._triggers[h].fallbackTransition,C=r[h]||$R,M=new jR(D0),O=new HR(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:b,fromState:C,toState:M,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Ya];(!l||l===PP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Qa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(m=>{if(m.name==r.triggerName){const b=bR(l,r.triggerName,r.fromState.value,r.toState.value);b._data=e,yR(r.player,m.phase,b,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const l=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class PF{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new kF(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let l=0;l<o.length;l++){const h=r[o[l]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&t.add(m)}}}return t}trigger(e,t,r,o){if(_S(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!_S(t))return;const l=t[Ya];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qa(e,OP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),kv(e,OP))}removeNode(e,t,r,o){if(_S(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[Ya]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,l){return _S(t)?this._fetchNamespace(e).listen(t,r,o,l):()=>{}}_buildInstruction(e,t,r,o,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,oS,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,xR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ya];if(t&&t.setForRemoval){if(e[Ya]=PP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,kP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,kP,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Qa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?wp(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new pS,o=[],l=new Map,h=[],m=new Map,b=new Map,C=new Map,M=new Set;this.disabledNodes.forEach(tt=>{M.add(tt);const lt=this.driver.query(tt,".ng-animate-queued",!0);for(let At=0;At<lt.length;At++)M.add(lt[At])});const O=this.bodyNode,j=Array.from(this.statesByElement.keys()),K=LP(j,this.collectedEnterElements),ee=new Map;let ye=0;K.forEach((tt,lt)=>{const At=AR+ye++;ee.set(lt,At),tt.forEach(cn=>Qa(cn,At))});const Re=[],it=new Set,st=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const lt=this.collectedLeaveElements[tt],At=lt[Ya];At&&At.setForRemoval&&(Re.push(lt),it.add(lt),At.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(cn=>it.add(cn)):st.add(lt))}const Nt=new Map,ct=LP(j,Array.from(it));ct.forEach((tt,lt)=>{const At=iS+ye++;Nt.set(lt,At),tt.forEach(cn=>Qa(cn,At))}),e.push(()=>{K.forEach((tt,lt)=>{const At=ee.get(lt);tt.forEach(cn=>kv(cn,At))}),ct.forEach((tt,lt)=>{const At=Nt.get(lt);tt.forEach(cn=>kv(cn,At))}),Re.forEach(tt=>{this.processLeaveNode(tt)})});const fn=[],Dr=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(t).forEach(At=>{const cn=At.player,Mi=At.element;if(fn.push(cn),this.collectedEnterElements.length){const Lu=Mi[Ya];if(Lu&&Lu.setForMove)return void cn.destroy()}const Fu=!O||!this.driver.containsElement(O,Mi),aa=Nt.get(Mi),Ip=ee.get(Mi),Sr=this._buildInstruction(At,r,Ip,aa,Fu);if(Sr.errors&&Sr.errors.length)Dr.push(Sr);else{if(Fu)return cn.onStart(()=>Nm(Mi,Sr.fromStyles)),cn.onDestroy(()=>Nu(Mi,Sr.toStyles)),void o.push(cn);if(At.isFallbackTransition)return cn.onStart(()=>Nm(Mi,Sr.fromStyles)),cn.onDestroy(()=>Nu(Mi,Sr.toStyles)),void o.push(cn);Sr.timelines.forEach(Lu=>Lu.stretchStartingKeyframe=!0),r.append(Mi,Sr.timelines),h.push({instruction:Sr,player:cn,element:Mi}),Sr.queriedElements.forEach(Lu=>sa(m,Lu,[]).push(cn)),Sr.preStyleProps.forEach((Lu,M0)=>{const DS=Object.keys(Lu);if(DS.length){let Um=b.get(M0);Um||b.set(M0,Um=new Set),DS.forEach(YR=>Um.add(YR))}}),Sr.postStyleProps.forEach((Lu,M0)=>{const DS=Object.keys(Lu);let Um=C.get(M0);Um||C.set(M0,Um=new Set),DS.forEach(YR=>Um.add(YR))})}});if(Dr.length){const tt=[];Dr.forEach(lt=>{tt.push(`@${lt.triggerName} has failed due to:\n`),lt.errors.forEach(At=>tt.push(`- ${At}\n`))}),fn.forEach(lt=>lt.destroy()),this.reportError(tt)}const ei=new Map,ph=new Map;h.forEach(tt=>{const lt=tt.element;r.has(lt)&&(ph.set(lt,lt),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,ei))}),o.forEach(tt=>{const lt=tt.element;this._getPreviousPlayers(lt,!1,tt.namespaceId,tt.triggerName,null).forEach(cn=>{sa(ei,lt,[]).push(cn),cn.destroy()})});const gh=Re.filter(tt=>UP(tt,b,C)),mh=new Map;FP(mh,this.driver,st,C,fh).forEach(tt=>{UP(tt,b,C)&&gh.push(tt)});const x0=new Map;K.forEach((tt,lt)=>{FP(x0,this.driver,new Set(tt),b,"!")}),gh.forEach(tt=>{const lt=mh.get(tt),At=x0.get(tt);mh.set(tt,Object.assign(Object.assign({},lt),At))});const Vm=[],_1=[],y1={};h.forEach(tt=>{const{element:lt,player:At,instruction:cn}=tt;if(r.has(lt)){if(M.has(lt))return At.onDestroy(()=>Nu(lt,cn.toStyles)),At.disabled=!0,At.overrideTotalTime(cn.totalTime),void o.push(At);let Mi=y1;if(ph.size>1){let aa=lt;const Ip=[];for(;aa=aa.parentNode;){const Sr=ph.get(aa);if(Sr){Mi=Sr;break}Ip.push(aa)}Ip.forEach(Sr=>ph.set(Sr,Mi))}const Fu=this._buildAnimation(At.namespaceId,cn,ei,l,x0,mh);if(At.setRealPlayer(Fu),Mi===y1)Vm.push(At);else{const aa=this.playersByElement.get(Mi);aa&&aa.length&&(At.parentPlayer=wp(aa)),o.push(At)}}else Nm(lt,cn.fromStyles),At.onDestroy(()=>Nu(lt,cn.toStyles)),_1.push(At),M.has(lt)&&o.push(At)}),_1.forEach(tt=>{const lt=l.get(tt.element);if(lt&&lt.length){const At=wp(lt);tt.setRealPlayer(At)}}),o.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<Re.length;tt++){const lt=Re[tt],At=lt[Ya];if(kv(lt,iS),At&&At.hasAnimation)continue;let cn=[];if(m.size){let Fu=m.get(lt);Fu&&Fu.length&&cn.push(...Fu);let aa=this.driver.query(lt,xR,!0);for(let Ip=0;Ip<aa.length;Ip++){let Sr=m.get(aa[Ip]);Sr&&Sr.length&&cn.push(...Sr)}}const Mi=cn.filter(Fu=>!Fu.destroyed);Mi.length?VF(this,lt,Mi):this.processLeaveNode(lt)}return Re.length=0,Vm.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const lt=this.players.indexOf(tt);this.players.splice(lt,1)}),tt.play()}),Vm}elementContainsData(e,t){let r=!1;const o=t[Ya];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,l){let h=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(h=m)}else{const m=this.playersByElement.get(e);if(m){const b=!l||l==D0;m.forEach(C=>{C.queued||!b&&C.triggerName!=o||h.push(C)})}}return(r||o)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const C=b.element,M=C!==l,O=sa(r,C,[]);this._getPreviousPlayers(C,M,h,m,t.toState).forEach(K=>{const ee=K.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),K.destroy(),O.push(K)})}Nm(l,t.fromStyles)}_buildAnimation(e,t,r,o,l,h){const m=t.triggerName,b=t.element,C=[],M=new Set,O=new Set,j=t.timelines.map(ee=>{const ye=ee.element;M.add(ye);const Re=ye[Ya];if(Re&&Re.removedBeforeQueried)return new Rv(ee.duration,ee.delay);const it=ye!==b,st=function(n){const e=[];return VP(n,e),e}((r.get(ye)||RF).map(ei=>ei.getRealPlayer())).filter(ei=>!!ei.element&&ei.element===ye),Nt=l.get(ye),ct=h.get(ye),fn=lP(0,this._normalizer,0,ee.keyframes,Nt,ct),Dr=this._buildPlayer(ee,fn,st);if(ee.subTimeline&&o&&O.add(ye),it){const ei=new HR(e,m,ye);ei.setRealPlayer(Dr),C.push(ei)}return Dr});C.forEach(ee=>{sa(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,ee.element,ee))}),M.forEach(ee=>Qa(ee,_P));const K=wp(j);return K.onDestroy(()=>{M.forEach(ee=>kv(ee,_P)),Nu(b,t.toStyles)}),O.forEach(ee=>{sa(o,ee,[]).push(K)}),K}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Rv(e.duration,e.delay)}}class HR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Rv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>yR(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function _S(n){return n&&1===n.nodeType}function NP(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function FP(n,e,t,r,o){const l=[];t.forEach(b=>l.push(NP(b)));const h=[];r.forEach((b,C)=>{const M={};b.forEach(O=>{const j=M[O]=e.computeStyle(C,O,o);(!j||0==j.length)&&(C[Ya]=OF,h.push(C))}),n.set(C,M)});let m=0;return t.forEach(b=>NP(b,l[m++])),h}function LP(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const o=new Set(e),l=new Map;function h(m){if(!m)return 1;let b=l.get(m);if(b)return b;const C=m.parentNode;return b=t.has(C)?C:o.has(C)?1:h(C),l.set(m,b),b}return e.forEach(m=>{const b=h(m);1!==b&&t.get(b).push(m)}),t}const yS="$$classes";function Qa(n,e){if(n.classList)n.classList.add(e);else{let t=n[yS];t||(t=n[yS]={}),t[e]=!0}}function kv(n,e){if(n.classList)n.classList.remove(e);else{let t=n[yS];t&&delete t[e]}}function VF(n,e,t){wp(t).onDone(()=>n.processLeaveNode(e))}function VP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof aP?VP(r.players,e):e.push(r)}}function UP(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(l=>o.add(l)):e.set(n,r),t.delete(n),!0}class vS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new PF(e,t,r),this._timelineEngine=new SF(e,t,r),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(e,t,r,o,l){const h=e+"-"+o;let m=this._triggerCache[h];if(!m){const b=[],C=PR(this._driver,l,b);if(b.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);m=function(n,e,t){return new TF(n,e,t)}(o,C,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(t,o,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[l,h]=uP(r);this._timelineEngine.command(l,t,h,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,l){if("@"==r.charAt(0)){const[h,m]=uP(r);return this._timelineEngine.listen(h,t,m,l)}return this._transitionEngine.listen(e,t,r,o,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function BP(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=zR(e[0]),e.length>1&&(r=zR(e[e.length-1]))):e&&(t=zR(e)),t||r?new jF(n,t,r):null}let jF=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Nu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nu(this._element,this._initialStyles),this._endStyles&&(Nu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Nm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nm(this._element,this._endStyles),this._endStyles=null),Nu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zR(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];$F(o)&&(e=e||{},e[o]=n[o])}return e}function $F(n){return"display"===n||"position"===n}const jP="animation",$P="animationend";class qF{constructor(e,t,r,o,l,h,m){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=l,this._fillMode=h,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,e){const t=ZR(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),bS(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),qP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){HP(this._element,this._name,"paused")}resume(){HP(this._element,this._name,"running")}setPosition(e){const t=zP(this._element,this._name);this._position=e*this._duration,bS(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),qP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=ZR(n,"").split(","),o=qR(r,e);o>=0&&(r.splice(o,1),bS(n,"",r.join(",")))}(this._element,this._name))}}function HP(n,e,t){bS(n,"PlayState",t,zP(n,e))}function zP(n,e){const t=ZR(n,"");return t.indexOf(",")>0?qR(t.split(","),e):qR([t],e)}function qR(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function qP(n,e,t){t?n.removeEventListener($P,e):n.addEventListener($P,e)}function bS(n,e,t,r){const o=jP+e;if(null!=r){const l=n.style[o];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[o]=t}function ZR(n,e){return n.style[jP+e]||""}class ZP{constructor(e,t,r,o,l,h,m,b){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=l,this._finalStyles=m,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=o+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new qF(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:kR(this.element,r))})}this.currentSnapshot=e}}class QF extends Rv{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=pP(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class WP{constructor(){this._count=0}validateStyleProperty(e){return CR(e)}matchesElement(e,t){return TR(e,t)}containsElement(e,t){return IR(e,t)}query(e,t,r){return DR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(m=>pP(m));let o=`@keyframes ${t} {\n`,l="";r.forEach(m=>{l=" ";const b=parseFloat(m.offset);o+=`${l}${100*b}% {\n`,l+=" ",Object.keys(m).forEach(C=>{const M=m[C];switch(C){case"offset":return;case"easing":return void(M&&(o+=`${l}animation-timing-function: ${M};\n`));default:return void(o+=`${l}${C}: ${M};\n`)}}),o+=`${l}}\n`}),o+="}\n";const h=document.createElement("style");return h.textContent=o,h}animate(e,t,r,o,l,h=[],m){const b=h.filter(Re=>Re instanceof ZP),C={};wP(r,o)&&b.forEach(Re=>{let it=Re.currentSnapshot;Object.keys(it).forEach(st=>C[st]=it[st])});const M=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=CP(e,t,C));if(0==r)return new QF(e,M);const O="gen_css_kf_"+this._count++,j=this.buildKeyframeElement(e,O,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(j);const ee=BP(e,t),ye=new ZP(e,t,O,r,o,l,M,ee);return ye.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(j)),ye}}class YP{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:kR(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class nL{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(QP().toString()),this._cssKeyframesDriver=new WP}validateStyleProperty(e){return CR(e)}matchesElement(e,t){return TR(e,t)}containsElement(e,t){return IR(e,t)}query(e,t,r){return DR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,l,h=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,l,h);const M={duration:r,delay:o,fill:0==o?"both":"forwards"};l&&(M.easing=l);const O={},j=h.filter(ee=>ee instanceof YP);wP(r,o)&&j.forEach(ee=>{let ye=ee.currentSnapshot;Object.keys(ye).forEach(Re=>O[Re]=ye[Re])});const K=BP(e,t=CP(e,t=t.map(ee=>Cp(ee,!1)),O));return new YP(e,t,M,K)}}function QP(){return cP()&&Element.prototype.animate||{}}let iL=(()=>{class n extends tP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?rP(t):t;return JP(this._renderer,null,r,"register",[o]),new sL(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class sL extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new oL(this._id,e,t||{},this._renderer)}}class oL{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return JP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function JP(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const XP="@.disabled";let aL=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let M=this._rendererCache.get(l);return M||(M=new e1("",l,this.engine),this._rendererCache.set(l,M)),M}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const b=M=>{Array.isArray(M)?M.forEach(b):this.engine.registerTrigger(h,m,t,M.name,M)};return r.data.animation.forEach(b),new cL(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,m]=l;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(vS),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class e1{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==XP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class cL extends e1{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==XP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let dL=(()=>{class n extends vS{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(SR),d.LFG(UR))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const wS=new d.OlP("AnimationModuleType"),t1=[{provide:tP,useClass:iL},{provide:UR,useFactory:function(){return new yF}},{provide:vS,useClass:dL},{provide:d.FYo,useFactory:function(n,e,t){return new aL(n,e,t)},deps:[Xi,vS,d.R0b]}],n1=[{provide:SR,useFactory:function(){return"function"==typeof QP()?new nL:new WP}},{provide:wS,useValue:"BrowserAnimations"},...t1],r1=[{provide:SR,useClass:gP},{provide:wS,useValue:"NoopAnimations"},...t1];let gL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?r1:n1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:n1,imports:[ko]}),n})();const i1=new d.GfV("12.2.12"),wL=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Lm,Tp=(()=>{class n{constructor(t,r,o){this._hasDoneGlobalChecks=!1,this._document=o,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,d.X6Q)()||Mm())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&i1.full!==eP.full&&console.warn("The Angular Material version ("+i1.full+") does not match the Angular CDK version ("+eP.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xk),d.LFG(wL,8),d.LFG(se))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[w0],w0]}),n})();try{Lm="undefined"!=typeof Intl}catch(n){Lm=!1}function YL(n,e){}class TS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const QL={dialogContainer:qN("dialogContainer",[iP("void, exit",Mv({opacity:0,transform:"scale(0.7)"})),iP("enter",Mv({transform:"none"})),sP("* => enter",nP("150ms cubic-bezier(0, 0, 0.2, 1)",Mv({transform:"none",opacity:1}))),sP("* => void, * => exit",nP("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Mv({opacity:0})))])};let JL=(()=>{class n extends uR{constructor(t,r,o,l,h,m){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=o,this._config=h,this._focusMonitor=m,this._animationStateChanged=new d.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(b)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=Ep(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Ep())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Ep();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(jk),d.Y36(d.sBO),d.Y36(se,8),d.Y36(TS),d.Y36(Yk))},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,r){if(1&t&&d.Gf(nS,7),2&t){let o;d.iGM(o=d.CRH())&&(r._portalOutlet=o.first)}},features:[d.qOj]}),n})(),XL=(()=>{class n extends JL{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&d.WFA("@dialogContainer.start",function(l){return r._onAnimationStart(l)})("@dialogContainer.done",function(l){return r._onAnimationDone(l)}),2&t&&(d.Ikx("id",r._id),d.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),d.d8E("@dialogContainer",r._state))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&d.YNc(0,YL,0,0,"ng-template",0)},directives:[nS],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[QL.dialogContainer]}}),n})(),e2=0;class WR{constructor(e,t,r="mat-dialog-"+e2++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Vt.xQ,this._afterClosed=new Vt.xQ,this._beforeClosed=new Vt.xQ,this._state=0,t._id=r,t._animationStateChanged.pipe(qr(o=>"opened"===o.state),Uo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(qr(o=>"closed"===o.state),Uo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(qr(o=>27===o.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(o))).subscribe(o=>{o.preventDefault(),KR(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():KR(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(qr(t=>"closing"===t.state),Uo(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function KR(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const h1=new d.OlP("MatDialogData"),t2=new d.OlP("mat-dialog-default-options"),f1=new d.OlP("mat-dialog-scroll-strategy"),r2={provide:f1,deps:[Av],useFactory:function(n){return()=>n.scrollStrategies.block()}};let s2=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M){this._overlay=t,this._injector=r,this._defaultOptions=o,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=b,this._dialogContainerType=C,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Vt.xQ,this._afterOpenedAtThisLevel=new Vt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Fi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bo(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){(r=function(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new TS)).id&&this.getDialogById(r.id);const o=this._createOverlay(r),l=this._attachDialogContainer(o,r),h=this._attachDialogContent(t,l,o,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new fR({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const l=d.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:TS,useValue:r}]}),h=new lR(this._dialogContainerType,r.viewContainerRef,l,r.componentFactoryResolver);return t.attach(h).instance}_attachDialogContent(t,r,o,l){const h=new this._dialogRefConstructor(o,r,l.id);if(t instanceof d.Rgc)r.attachTemplatePortal(new tS(t,null,{$implicit:l.data,dialogRef:h}));else{const m=this._createInjector(l,h,r),b=r.attachComponentPortal(new lR(t,l.viewContainerRef,m));h.componentInstance=b.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(t,r,o){const l=t&&t.viewContainerRef&&t.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!l||!l.get(Rm,null,d.XFs.Optional))&&h.push({provide:Rm,useValue:{value:t.direction,change:(0,Ke.of)()}}),d.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let o=r.length-1;o>-1;o--){let l=r[o];l!==t&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Av),d.Y36(d.zs3),d.Y36(void 0),d.Y36(void 0),d.Y36(T0),d.Y36(void 0),d.Y36(d.DyG),d.Y36(d.DyG),d.Y36(d.OlP))},n.\u0275dir=d.lG2({type:n}),n})(),IS=(()=>{class n extends s2{constructor(t,r,o,l,h,m,b){super(t,r,l,m,b,h,WR,XL,h1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Av),d.LFG(d.zs3),d.LFG(It,8),d.LFG(t2,8),d.LFG(f1),d.LFG(n,12),d.LFG(T0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),c2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[IS,r2],imports:[[gN,Ck,Tp],Tp]}),n})(),l2=(()=>{class n{constructor(t){this.data=t}ngOnInit(){console.log(this.data),this.title=this.data.header}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(h1))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-modal-corso"]],decls:3,vars:1,consts:[[2,"width","100%","height","700px"]],template:function(t,r){1&t&&(d.TgZ(0,"section"),d.TgZ(1,"div",0),d._uU(2),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.hij(" ",r.title," "))},styles:[""]}),n})();function u2(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"a",13),d.NdJ("click",function(){return d.CHM(t),d.oxw().openModal("MUAYTHAISPORTIVA")}),d.TgZ(1,"td",11),d._uU(2," MUAY THAI SPORTIVA "),d.qZA(),d.qZA()}}const A0=function(){return["/corsi"]},d2=function(){return{titolo:"MUAYTHAISPORTIVA"}};function h2(n,e){1&n&&(d.TgZ(0,"a",10),d.TgZ(1,"td",11),d._uU(2," MUAY THAI SPORTIVA "),d.qZA(),d.qZA()),2&n&&d.Q6J("routerLink",d.DdM(2,A0))("queryParams",d.DdM(3,d2))}const f2=function(){return{titolo:"-MUAY BORAN"}},p2=function(){return{titolo:"MUAYTHAIBAMBINI"}},g2=function(){return{titolo:"PERSONALTRAINING"}},m2=function(){return{titolo:"MUAYLERTRIT"}};let _2=(()=>{class n{constructor(t){this.matDialog=t,this.boxe=Gt.BOXE_VIDEO,this.isMobile=!1,this.isResponsive=!1}ngOnInit(){this.isMobile=window.matchMedia("only screen and (max-device-width: 992px)").matches,this.isResponsive=this.getBrowserWidth()<660}getBrowserWidth(){return window.innerWidth}onResize(){this.isResponsive=this.getBrowserWidth()<660}getBrowser(){return!this.isMobile}getMobile(){return this.isMobile}openModal(t){new TS,this.matDialog.open(l2,{disableClose:!1,id:"modal-component",height:"95%",width:"100%",data:{header:t,body:"body",footer:"footer",image:""}})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(IS))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-corsi"]],hostBindings:function(t,r){1&t&&d.NdJ("resize",function(l){return r.onResize(l)},!1,d.Jf7)},decls:32,vars:19,consts:[["id","corsi","role","main",1,"corsi"],[1,"video-opacity"],["autoplay","","muted","","loop","","playsinline","","id","myVideo","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"video-corsi"],["type","video/mp4",3,"src"],[1,"corsi-text-container"],[1,"corsi-title"],[1,"corsi-subtitle"],[1,"corsi-table"],["class","corso-link","mat-raised-button","","id","logout-button",3,"click",4,"ngIf"],["class","corso-link",3,"routerLink","queryParams",4,"ngIf"],[1,"corso-link",3,"routerLink","queryParams"],[1,"corso-td"],[1,"corso-td",2,"padding-top","8vw"],["mat-raised-button","","id","logout-button",1,"corso-link",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0),d._UZ(1,"div",1),d.TgZ(2,"video",2),d._UZ(3,"source",3),d._uU(4," Your browser does not support HTML5 video. "),d.qZA(),d.TgZ(5,"div",4),d.TgZ(6,"h1",5),d._uU(7,"I NOSTRI CORSI"),d.qZA(),d.TgZ(8,"p",6),d._uU(9,"I corsi che proponiamo presso la nostra palestra ti permetteranno di raggiungere un benessere fisico e mentale. Grazie ai nostri allenamenti potrai migliorare la forza fisica, l'equilibrio, la coordinazione e l'armonia nei movimenti. Potrai, inoltre, ottenere una muscolatura pi\xf9 tonica ed elastica."),d.qZA(),d.TgZ(10,"table",7),d.TgZ(11,"tr"),d.YNc(12,u2,3,0,"a",8),d.YNc(13,h2,3,4,"a",9),d._UZ(14,"td"),d.TgZ(15,"a",10),d.TgZ(16,"td",11),d._uU(17," MUAY BORAN "),d.qZA(),d.qZA(),d._UZ(18,"td"),d.TgZ(19,"a",10),d.TgZ(20,"td",11),d._uU(21," MUAY THAI BAMBINI "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"tr"),d._UZ(23,"td"),d.TgZ(24,"a",10),d.TgZ(25,"td",12),d._uU(26," PERSONAL TRAINING "),d.qZA(),d.qZA(),d._UZ(27,"td"),d.TgZ(28,"a",10),d.TgZ(29,"td",12),d._uU(30," MUAY LERT RIT "),d.qZA(),d.qZA(),d._UZ(31,"td"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(3),d.s9C("src",r.boxe,d.LSH),d.xp6(9),d.Q6J("ngIf",r.getBrowser()),d.xp6(1),d.Q6J("ngIf",r.getMobile()),d.xp6(2),d.Q6J("routerLink",d.DdM(11,A0))("queryParams",d.DdM(12,f2)),d.xp6(4),d.Q6J("routerLink",d.DdM(13,A0))("queryParams",d.DdM(14,p2)),d.xp6(5),d.Q6J("routerLink",d.DdM(15,A0))("queryParams",d.DdM(16,g2)),d.xp6(4),d.Q6J("routerLink",d.DdM(17,A0))("queryParams",d.DdM(18,m2)))},directives:[ni,pf],styles:[".corsi[_ngcontent-%COMP%]{position:relative;background-color:#000;top:300px;left:0;right:0}.video-corsi[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;bottom:0;left:0;right:0;z-index:1}.video-opacity[_ngcontent-%COMP%]{z-index:2;background-color:#000;opacity:.6;position:absolute;top:0;bottom:-110px;left:0;right:0;height:57vw}.corsi-text-container[_ngcontent-%COMP%]{width:100%;z-index:2}.corsi-title[_ngcontent-%COMP%]{margin:auto;width:100%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:center;font-size:7vw;letter-spacing:.25em;padding-top:3vw}.corsi-subtitle[_ngcontent-%COMP%]{margin:auto;width:60%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:center;font-size:1vw;letter-spacing:.25em;padding-top:10px}.corsi-table[_ngcontent-%COMP%]{margin:auto;width:80%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:left;font-size:2.5vw;letter-spacing:.25em;padding-top:10vw}.corsi-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:20%}.corso-link[_ngcontent-%COMP%]{color:var(--gold);text-transform:none;text-decoration:none}.corso-link[_ngcontent-%COMP%]:visited{text-transform:none;text-decoration:none}.corso-link[_ngcontent-%COMP%]:hover{cursor:pointer}.corso-td[_ngcontent-%COMP%]{background-image:linear-gradient(var(--gold),var(--gold));background-size:0% 1px;background-repeat:no-repeat;transition:background-size .5s;background-position:0 calc(100% - 0px)}.corso-td[_ngcontent-%COMP%]:hover{background-size:100% 1px}@media screen and (max-device-width: 992px){.corsi[_ngcontent-%COMP%]{top:300px}.video-opacity[_ngcontent-%COMP%]{bottom:150px}}"]}),n})(),y2=(()=>{class n{constructor(){this.box1="assets/img/home.png",this.box2="assets/img/home.png",this.box3="assets/img/home.png",this.box4="assets/img/home.png",this.box5="assets/img/home.png",this.box6="assets/img/home.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-bo"]],decls:3,vars:0,consts:[["id","bo","role","main",1,"bo"],[1,"bo-lezioni"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d._uU(2," INIZIA LE TUE LEZIONI DA OGGI "),d.qZA(),d.qZA())},styles:[".bo[_ngcontent-%COMP%]{position:relative;background-color:#000;top:450px;left:0;right:0;height:300px}.bo-table[_ngcontent-%COMP%]{margin:auto;width:92%}.bo-td[_ngcontent-%COMP%]{width:33%;height:240px;cursor:pointer}.bo-td[_ngcontent-%COMP%]:hover{transform:scale(.97)}.bo-div[_ngcontent-%COMP%]{background-color:#96969599;width:100%;height:100%;display:table;cursor:pointer}.bo-p[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;text-align:center;font-size:35px;color:#000}.bo-div[_ngcontent-%COMP%]:hover{visibility:hidden}.bo-lezioni[_ngcontent-%COMP%]{padding-top:160px;letter-spacing:.4em;line-height:normal;text-align:center;font-size:40px;color:#fff}"]}),n})();const _l=function(n){return{"background-image":n}};let v2=(()=>{class n{constructor(){this.gallery1=Gt.GALLERY1,this.gallery2=Gt.GALLERY2,this.gallery3=Gt.GALLERY3,this.gallery4=Gt.GALLERY4,this.gallery5=Gt.GALLERY5,this.gallery6=Gt.GALLERY6,this.gallery7=Gt.GALLERY7,this.gallery8=Gt.GALLERY8,this.gallery9=Gt.GALLERY9,this.gallery10=Gt.GALLERY10,this.gallery11=Gt.GALLERY11}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-galleria"]],decls:24,vars:33,consts:[["id","galleria","role","main",1,"galleria"],[1,"galleria-div"],["cellspacing","0","cellpadding","0",1,"galleria-table"],[1,"galleria-td"],[1,"galleria-element",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","cover",3,"ngStyle"],[1,"galleria-td-container"],[1,"galleria-td-element",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","cover",3,"ngStyle"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d.TgZ(2,"table",2),d.TgZ(3,"tr"),d.TgZ(4,"td",3),d._UZ(5,"div",4),d.qZA(),d.TgZ(6,"td",3),d.TgZ(7,"div",5),d._UZ(8,"div",6),d._UZ(9,"div",6),d.qZA(),d.TgZ(10,"div",5),d._UZ(11,"div",6),d._UZ(12,"div",6),d.qZA(),d.qZA(),d.TgZ(13,"td",3),d._UZ(14,"div",4),d.qZA(),d.TgZ(15,"td",3),d.TgZ(16,"div",5),d._UZ(17,"div",6),d._UZ(18,"div",6),d.qZA(),d.TgZ(19,"div",5),d._UZ(20,"div",6),d._UZ(21,"div",6),d.qZA(),d.qZA(),d.TgZ(22,"td",3),d._UZ(23,"div",4),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(5),d.Q6J("ngStyle",d.VKq(11,_l,"url("+r.gallery1+")")),d.xp6(3),d.Q6J("ngStyle",d.VKq(13,_l,"url("+r.gallery2+")")),d.xp6(1),d.Q6J("ngStyle",d.VKq(15,_l,"url("+r.gallery3+")")),d.xp6(2),d.Q6J("ngStyle",d.VKq(17,_l,"url("+r.gallery4+")")),d.xp6(1),d.Q6J("ngStyle",d.VKq(19,_l,"url("+r.gallery5+")")),d.xp6(2),d.Q6J("ngStyle",d.VKq(21,_l,"url("+r.gallery6+")")),d.xp6(3),d.Q6J("ngStyle",d.VKq(23,_l,"url("+r.gallery7+")")),d.xp6(1),d.Q6J("ngStyle",d.VKq(25,_l,"url("+r.gallery8+")")),d.xp6(2),d.Q6J("ngStyle",d.VKq(27,_l,"url("+r.gallery9+")")),d.xp6(1),d.Q6J("ngStyle",d.VKq(29,_l,"url("+r.gallery10+")")),d.xp6(2),d.Q6J("ngStyle",d.VKq(31,_l,"url("+r.gallery11+")")))},directives:[gn],styles:[".galleria[_ngcontent-%COMP%]{position:relative;background-color:#000;top:500px;left:0;right:0;height:700px}.galleria-table[_ngcontent-%COMP%]{width:max-content}.galleria-td[_ngcontent-%COMP%]{width:650px;height:500px;overflow-x:scroll}.galleria-element[_ngcontent-%COMP%]{width:650px;height:500px;cursor:pointer}.galleria-element[_ngcontent-%COMP%]:hover{opacity:.5}.galleria-div[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.galleria-td-element[_ngcontent-%COMP%]{width:323px;height:248px;cursor:pointer}.galleria-td-element[_ngcontent-%COMP%]:hover{opacity:.5}.galleria-td-container[_ngcontent-%COMP%]{display:flex}"]}),n})();const b2=function(n){return{"background-image":n}};let E2=(()=>{class n{constructor(){this.guantoni=Gt.GUANTONI_IMG}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-location"]],decls:17,vars:3,consts:[["id","location","role","main",1,"location"],[1,"location-fixed",3,"ngStyle"],[1,"location-title"],[1,"location-subtitle"],[1,"location-text"],[1,"location-text",2,"padding-bottom","60px"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div"),d.TgZ(2,"div",1),d.TgZ(3,"h1",2),d._uU(4,"DOVE TROVARCI"),d.qZA(),d.TgZ(5,"p",3),d._uU(6,"INDIRIZZO"),d.qZA(),d.TgZ(7,"p",4),d._uU(8,"Centro Sportivo Selva, Contrada Vallone della Selva, Cupello, 66051 Cupello CH San Salvo, 66050 "),d._UZ(9,"br"),d._uU(10," (zona kartodromo)"),d.qZA(),d.TgZ(11,"p",3),d._uU(12,"ORARI"),d.qZA(),d.TgZ(13,"p",4),d._uU(14,"LUNED\xcc- SABATO"),d.qZA(),d.TgZ(15,"p",5),d._uU(16,"6:30AM - 7:00PM"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.Q6J("ngStyle",d.VKq(1,b2,"url("+r.guantoni+")")))},directives:[gn],styles:[".location[_ngcontent-%COMP%]{position:relative;top:350px;left:0;right:0;height:700px}.location-fixed[_ngcontent-%COMP%]{min-height:700px;background-size:cover;background-attachment:fixed;background-repeat:no-repeat;background-position:center center}.location-title[_ngcontent-%COMP%]{line-height:1.2em;text-align:center;font-size:88px;letter-spacing:.25em;color:#fff;padding-top:70px;text-shadow:2px 2px grey}.location-subtitle[_ngcontent-%COMP%]{line-height:normal;text-align:center;font-size:32px;letter-spacing:.4em;color:#fff;padding-top:30px;text-shadow:2px 2px grey}.location-text[_ngcontent-%COMP%]{font-size:26px;line-height:1.5em;text-align:center;letter-spacing:normal;color:#fff;padding-top:10px;text-shadow:2px 2px grey}"]}),n})();const w2=function(n){return{"background-image":n}},C2=[{path:"",component:(()=>{class n{constructor(){this.logo=Gt.LOGO_IMG,this.home=Gt.HOME_IMG,this.guantoni=Gt.GUANTONI_IMG,this.facebookLogo=Gt.FB_LOGO,this.igLogo=Gt.IG_LOGO,this.about=Gt.ABOUT_IMG,this.boxe=Gt.BOXE_VIDEO,this.team=Gt.TEAM_IMG,this.title=Gt.TITLE,this.lastScrollTop=0,this.sizeNum=1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:18,vars:3,consts:[["id","home","role","main",1,"content",3,"ngStyle"],[1,"center"],[1,"home-title"],[1,"home-subtitle"],[1,"home-button-div"],["onclick","window.location.href='#about'",1,"home-button"]],template:function(t,r){1&t&&(d._UZ(0,"app-toolbar"),d.TgZ(1,"section",0),d.TgZ(2,"div",1),d.TgZ(3,"h1",2),d._uU(4,"MUAY THAI 360"),d.qZA(),d.TgZ(5,"p",3),d._uU(6,"Fight your limits"),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"button",5),d.TgZ(9,"b"),d._uU(10,"Scopri di pi\xf9"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(11,"app-about"),d._UZ(12,"app-team"),d._UZ(13,"app-corsi"),d._UZ(14,"app-bo"),d._UZ(15,"app-galleria"),d._UZ(16,"app-location"),d._UZ(17,"app-footer")),2&t&&(d.xp6(1),d.Q6J("ngStyle",d.VKq(1,w2,"url("+r.home+")")))},directives:[Iv,gn,rR,JD,_2,y2,v2,E2,Dv],styles:['.spacer[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]{position:relative;top:200px;left:0;right:0;background-position:center center;background-repeat:no-repeat;background-attachment:inherit;background-size:cover;height:500px;opacity:.87}.center[_ngcontent-%COMP%]{margin:auto;width:100%;padding:180px 0 0}.home-title[_ngcontent-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;text-align:center;font-size:50px;letter-spacing:15px;color:#fff}.home-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:25px;line-height:normal;letter-spacing:.42em;color:#fff}.home-button-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto}.home-button[_ngcontent-%COMP%]{background-color:#000c;border:none;text-align:center;font-size:20px;color:#fff;height:45px;width:160px;cursor:pointer;margin:auto;width:100%}.home-button[_ngcontent-%COMP%]:hover{background-color:var(--gold-opacity);border:none;text-align:center;font-size:20px;color:#000;height:45px;width:160px;cursor:pointer;margin:auto;width:100%}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:1;font-size:17px;padding:5px;position:absolute}@media screen and (max-device-width: 992px){.center[_ngcontent-%COMP%]{padding:480px 0 0}.content[_ngcontent-%COMP%]{height:1675px;top:250px}}']}),n})()},{path:"events",component:_p},{path:"articoli",component:QD},{path:"corsi",component:v0}];let T2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[rb.forRoot(C2)],rb]}),n})(),I2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[x_],styles:[':root{--gold: rgb(242, 199, 130);--gold-opacity: rgb(242, 199, 130, .8)}@font-face{font-family:"DINLig";src:url(DINNeuzeitGroteskStdBdCond.6baec9697c755a121a39.otf) format("opentype")}@font-face{font-family:"DIN";src:url(DINNeuzeitGroteskStdBdCond.6baec9697c755a121a39.otf) format("opentype")}  body{background-color:#000;overflow-x:hidden}[_nghost-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#000}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}']}),n})();const g1_firebaseConfig={apiKey:"AIzaSyDIfM5NFchUe69d3s4InyVMfPvnlAr6tCA",authDomain:"muaythai360-321e1.firebaseapp.com",projectId:"muaythai360-321e1",storageBucket:"muaythai360-321e1.appspot.com",messagingSenderId:"874368303618",appId:"1:874368303618:web:2375857a941d50164b5d1b",measurementId:"G-VSZKM2F51S"};let D2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[I2]}),n.\u0275inj=d.cJS({providers:[zD,GD],imports:[[ko,T2,gL,ot.hO.initializeApp(g1_firebaseConfig),JM,c2]]}),n})();(0,d.G48)(),Fl().bootstrapModule(D2).catch(n=>console.error(n))},3394:(Xe,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>ve});var d=V(3854),re=V(3910),L=V(8026),he=V(5422);class oe{constructor(Y,_e){this._delegate=Y,this.firebase=_e,(0,L._addComponent)(Y,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=Y.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this._delegate.automaticDataCollectionEnabled=Y}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Y=>{this._delegate.checkDestroyed(),Y()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Y,_e=L._DEFAULT_ENTRY_NAME){var Te;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(Y);return!Pe.isInitialized()&&"EXPLICIT"===(null===(Te=Pe.getComponent())||void 0===Te?void 0:Te.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:_e})}_removeServiceInstance(Y,_e=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Y).clearInstance(_e)}_addComponent(Y){(0,L._addComponent)(this._delegate,Y)}_addOrOverwriteComponent(Y){(0,L._addOrOverwriteComponent)(this._delegate,Y)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function X(){const pe=function(pe){const Y={},_e={__esModule:!0,initializeApp:function(vt,In={}){const wt=L.initializeApp(vt,In);if((0,d.r3)(Y,wt.name))return Y[wt.name];const Dt=new pe(wt,_e);return Y[wt.name]=Dt,Dt},app:Pe,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(vt){const In=vt.name,wt=In.replace("-compat","");if(L._registerComponent(vt)&&"PUBLIC"===vt.type){const Dt=(pt=Pe())=>{if("function"!=typeof pt[wt])throw se.create("invalid-app-argument",{appName:In});return pt[wt]()};void 0!==vt.serviceProps&&(0,d.ZB)(Dt,vt.serviceProps),_e[wt]=Dt,pe.prototype[wt]=function(...pt){return this._getService.bind(this,In).apply(this,vt.multipleInstances?pt:[])}}return"PUBLIC"===vt.type?_e[wt]:null},removeApp:function(vt){delete Y[vt]},useAsService:function(vt,In){return"serverAuth"===In?null:In},modularAPIs:L}};function Pe(vt){if(!(0,d.r3)(Y,vt=vt||L._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:vt});return Y[vt]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(Y).map(vt=>Y[vt])}}),Pe.App=pe,_e}(oe);return pe.INTERNAL=Object.assign(Object.assign({},pe.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(_e){(0,d.ZB)(pe,_e)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),pe}(),U=new he.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pe=self.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ve=F;(0,L.registerVersion)("@firebase/app-compat","0.1.14",undefined)},8026:(Xe,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>Ja,_DEFAULT_ENTRY_NAME:()=>vo,_addComponent:()=>ys,_addOrOverwriteComponent:()=>$s,_apps:()=>Bn,_clearComponents:()=>Xn,_components:()=>js,_getProvider:()=>vn,_registerComponent:()=>vs,_removeServiceInstance:()=>Wt,deleteApp:()=>dr,getApp:()=>Ar,getApps:()=>De,initializeApp:()=>Ur,onLog:()=>Ut,registerVersion:()=>Ri,setLogLevel:()=>ti});var d=V(8239),re=V(3910),L=V(5422),he=V(3854);class oe{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(qt=>{if(function(rt){const Se=rt.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(qt)){const un=qt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(qt=>qt).join(" ")}}const se="@firebase/app",X=new L.Yd("@firebase/app"),vo="[DEFAULT]",yl={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bn=new Map,js=new Map;function ys(rt,Se){try{rt.container.addComponent(Se)}catch(qt){X.debug(`Component ${Se.name} failed to register with FirebaseApp ${rt.name}`,qt)}}function $s(rt,Se){rt.container.addOrOverwriteComponent(Se)}function vs(rt){const Se=rt.name;if(js.has(Se))return X.debug(`There were multiple attempts to register component ${Se}.`),!1;js.set(Se,rt);for(const qt of Bn.values())ys(qt,rt);return!0}function vn(rt,Se){return rt.container.getProvider(Se)}function Wt(rt,Se,qt=vo){vn(rt,Se).clearInstance(qt)}function Xn(){js.clear()}const zt=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class xt{constructor(Se,qt,un){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},qt),this._name=qt.name,this._automaticDataCollectionEnabled=qt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const Ja="9.6.3";function Ur(rt,Se={}){"object"!=typeof Se&&(Se={name:Se});const qt=Object.assign({name:vo,automaticDataCollectionEnabled:!1},Se),un=qt.name;if("string"!=typeof un||!un)throw zt.create("bad-app-name",{appName:String(un)});const Dn=Bn.get(un);if(Dn){if((0,he.vZ)(rt,Dn.options)&&(0,he.vZ)(qt,Dn.config))return Dn;throw zt.create("duplicate-app",{appName:un})}const jt=new re.H0(un);for(const We of js.values())jt.addComponent(We);const Qe=new xt(rt,qt,jt);return Bn.set(un,Qe),Qe}function Ar(rt=vo){const Se=Bn.get(rt);if(!Se)throw zt.create("no-app",{appName:rt});return Se}function De(){return Array.from(Bn.values())}function dr(rt){return jn.apply(this,arguments)}function jn(){return(jn=(0,d.Z)(function*(rt){const Se=rt.name;Bn.has(Se)&&(Bn.delete(Se),yield Promise.all(rt.container.getProviders().map(qt=>qt.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function Ri(rt,Se,qt){var un;let Dn=null!==(un=yl[rt])&&void 0!==un?un:rt;qt&&(Dn+=`-${qt}`);const jt=Dn.match(/\s|\//),Qe=Se.match(/\s|\//);if(jt||Qe){const We=[`Unable to register library "${Dn}" with version "${Se}":`];return jt&&We.push(`library name "${Dn}" contains illegal characters (whitespace or "/")`),jt&&Qe&&We.push("and"),Qe&&We.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void X.warn(We.join(" "))}vs(new re.wA(`${Dn}-version`,()=>({library:Dn,version:Se}),"VERSION"))}function Ut(rt,Se){if(null!==rt&&"function"!=typeof rt)throw zt.create("invalid-log-argument");(0,L.Am)(rt,Se)}function ti(rt){(0,L.Ub)(rt)}vs(new re.wA("platform-logger",Se=>new oe(Se),"PRIVATE")),Ri(se,"0.7.13",""),Ri(se,"0.7.13","esm2017"),Ri("fire-js","")},3910:(Xe,Ee,V)=>{"use strict";V.d(Ee,{wA:()=>L,H0:()=>ae});var d=V(8239),re=V(3854);class L{constructor(F,U,te){this.name=F,this.instanceFactory=U,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const he="[DEFAULT]";class oe{constructor(F,U){this.name=F,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const U=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(U)){const te=new re.BH;if(this.instancesDeferred.set(U,te),this.isInitialized(U)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:U});Q&&te.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(U).promise}getImmediate(F){var U;const te=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),Q=null!==(U=null==F?void 0:F.optional)&&void 0!==U&&U;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(ie){if(Q)return null;throw ie}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:he})}catch(U){}for(const[U,te]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(U);try{const ie=this.getOrInitializeService({instanceIdentifier:Q});te.resolve(ie)}catch(ie){}}}}clearInstance(F=he){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,d.Z)(function*(){const U=Array.from(F.instances.values());yield Promise.all([...U.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...U.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=he){return this.instances.has(F)}getOptions(F=he){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:U={}}=F,te=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:te,options:U});for(const[ie,ve]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(ie)&&ve.resolve(Q);return Q}onInit(F,U){var te;const Q=this.normalizeInstanceIdentifier(U),ie=null!==(te=this.onInitCallbacks.get(Q))&&void 0!==te?te:new Set;ie.add(F),this.onInitCallbacks.set(Q,ie);const ve=this.instances.get(Q);return ve&&F(ve,Q),()=>{ie.delete(F)}}invokeOnInitCallbacks(F,U){const te=this.onInitCallbacks.get(U);if(te)for(const Q of te)try{Q(F,U)}catch(ie){}}getOrInitializeService({instanceIdentifier:F,options:U={}}){let te=this.instances.get(F);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(X=F,X===he?void 0:X),options:U}),this.instances.set(F,te),this.instancesOptions.set(F,U),this.invokeOnInitCallbacks(te,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,te)}catch(Q){}var X;return te||null}normalizeInstanceIdentifier(F=he){return this.component?this.component.multipleInstances?F:he:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const U=this.getProvider(F.name);if(U.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);U.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const U=new oe(F,this);return this.providers.set(F,U),U}getProviders(){return Array.from(this.providers.values())}}},5422:(Xe,Ee,V)=>{"use strict";V.d(Ee,{in:()=>re,Yd:()=>se,Ub:()=>ae,Am:()=>X});const d=[];var re=(()=>{return(F=re||(re={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",re;var F})();const L={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},he=re.INFO,oe={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},le=(F,U,...te)=>{if(U<F.logLevel)return;const Q=(new Date).toISOString(),ie=oe[U];if(!ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[ie](`[${Q}]  ${F.name}:`,...te)};class se{constructor(U){this.name=U,this._logLevel=he,this._logHandler=le,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in re))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?L[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...U),this._logHandler(this,re.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...U),this._logHandler(this,re.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,re.INFO,...U),this._logHandler(this,re.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,re.WARN,...U),this._logHandler(this,re.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...U),this._logHandler(this,re.ERROR,...U)}}function ae(F){d.forEach(U=>{U.setLogLevel(F)})}function X(F,U){for(const te of d){let Q=null;U&&U.level&&(Q=L[U.level]),te.userLogHandler=null===F?null:(ie,ve,...pe)=>{const Y=pe.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(Te){return null}}).filter(_e=>_e).join(" ");ve>=(null!=Q?Q:ie.logLevel)&&F({level:re[ve].toLowerCase(),message:Y,args:pe,type:ie.name})}}}},8239:(Xe,Ee,V)=>{"use strict";function d(L,he,oe,le,se,ae,X){try{var F=L[ae](X),U=F.value}catch(te){return void oe(te)}F.done?he(U):Promise.resolve(U).then(le,se)}function re(L){return function(){var he=this,oe=arguments;return new Promise(function(le,se){var ae=L.apply(he,oe);function X(U){d(ae,le,se,X,F,"next",U)}function F(U){d(ae,le,se,X,F,"throw",U)}X(void 0)})}}V.d(Ee,{Z:()=>re})}},Xe=>{Xe(Xe.s=7127)}]);
(self.webpackChunkmuaythai360=self.webpackChunkmuaythai360||[]).push([[179],{8255:Je=>{function we(L){return Promise.resolve().then(()=>{var p=new Error("Cannot find module '"+L+"'");throw p.code="MODULE_NOT_FOUND",p})}we.keys=()=>[],we.resolve=we,we.id=8255,Je.exports=we},3018:(Je,we,L)=>{"use strict";L.d(we,{deG:()=>Rc,tb:()=>DC,AFp:()=>TC,ip1:()=>mw,CZH:()=>rp,hGG:()=>cR,z2F:()=>cm,sBO:()=>TA,Sil:()=>zo,_Vd:()=>$u,EJc:()=>_w,SBq:()=>Ho,qLn:()=>Iu,vpe:()=>xn,gxx:()=>xu,tBr:()=>Mc,XFs:()=>De,OlP:()=>en,zs3:()=>hn,ZZ4:()=>u_,aQg:()=>Kf,soG:()=>am,YKP:()=>CT,v3s:()=>Oi,h0i:()=>fl,PXZ:()=>qx,R0b:()=>As,FiY:()=>Ki,Lbi:()=>Px,g9A:()=>CC,Qsj:()=>r_,FYo:()=>hl,JOm:()=>D,Tiy:()=>d0,q3G:()=>dn,tp0:()=>va,EAV:()=>Qx,Rgc:()=>Hu,dDg:()=>B_,DyG:()=>Pc,q4F:()=>i_,GfV:()=>h0,s_b:()=>h_,ifc:()=>bt,eFA:()=>Rr,G48:()=>qP,X6Q:()=>OC,_c5:()=>iR,VLi:()=>$x,c2e:()=>L_,zSh:()=>yf,wAp:()=>$e,vHH:()=>fe,EiD:()=>Bp,mCW:()=>Jl,qzn:()=>pi,JVY:()=>Op,pB0:()=>qm,eBb:()=>dv,L6k:()=>Hm,LAX:()=>Lc,cg1:()=>$E,Tjo:()=>nR,kL8:()=>qf,yhl:()=>Fc,dqk:()=>H,sIi:()=>Sf,CqO:()=>Tg,QGY:()=>Rf,F4k:()=>Vy,RDi:()=>ds,AaK:()=>Y,z3N:()=>Es,TTD:()=>sc,xp6:()=>uS,uIk:()=>Oy,Suo:()=>fC,Xpm:()=>mo,lG2:()=>uh,Yz7:()=>St,cJS:()=>Nr,oAB:()=>Jo,Yjl:()=>Os,Y36:()=>vd,_UZ:()=>tl,qZA:()=>Ye,TgZ:()=>Uy,Ikx:()=>Gy,LFG:()=>Mn,$8M:()=>Lr,NdJ:()=>By,CRH:()=>pC,oxw:()=>Sn,Q6J:()=>Ed,s9C:()=>DE,VKq:()=>zd,iGM:()=>dC,Jf7:()=>nf,oJD:()=>Jm,LSH:()=>Qi,kYT:()=>_o,YNc:()=>fI,_uU:()=>nr,Oqu:()=>Vf});var p=L(9765),ee=L(5319),k=L(7574),le=L(6682),ne=L(2441);var ce=L(1307);function te(){return new p.xQ}function U(r){for(let i in r)if(r[i]===U)return i;throw Error("Could not find renamed property on target object.")}function Y(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Y).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function oe(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const be=U({__forward_ref__:U});function he(r){return r.__forward_ref__=he,r.toString=function(){return Y(this())},r}function W(r){return function(r){return"function"==typeof r&&r.hasOwnProperty(be)&&r.__forward_ref__===he}(r)?r():r}class fe extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function ke(r){return"string"==typeof r?r:null==r?"":String(r)}function Nt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ke(r)}function Tt(r,i){const o=i?` in ${i}`:"";throw new fe("201",`No provider for ${Nt(r)} found${o}`)}function pn(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function St(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Nr(r){return{providers:r.providers||[],imports:r.imports||[]}}function wr(r){return Ce(r,Lt)||Ce(r,po)}function Ce(r,i){return r.hasOwnProperty(i)?r[i]:null}function Ei(r){return r&&(r.hasOwnProperty(zr)||r.hasOwnProperty(nt))?r[zr]:null}const Lt=U({\u0275prov:U}),zr=U({\u0275inj:U}),po=U({ngInjectableDef:U}),nt=U({ngInjectorDef:U});var De=(()=>((De=De||{})[De.Default=0]="Default",De[De.Host=1]="Host",De[De.Self=2]="Self",De[De.SkipSelf=4]="SkipSelf",De[De.Optional=8]="Optional",De))();let $t;function bn(r){const i=$t;return $t=r,i}function Ut(r,i,o){const u=wr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&De.Optional?null:void 0!==i?i:void Tt(Y(r),"Injector")}function Ge(r){return{toString:r}.toString()}var Mr=(()=>((Mr=Mr||{})[Mr.OnPush=0]="OnPush",Mr[Mr.Default=1]="Default",Mr))(),bt=(()=>((bt=bt||{})[bt.Emulated=0]="Emulated",bt[bt.None=2]="None",bt[bt.ShadowDom=3]="ShadowDom",bt))();const br="undefined"!=typeof globalThis&&globalThis,rc="undefined"!=typeof window&&window,Z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H=br||"undefined"!=typeof global&&global||rc||Z,Ve={},Ue=[],Kt=U({\u0275cmp:U}),$n=U({\u0275dir:U}),gn=U({\u0275pipe:U}),Or=U({\u0275mod:U}),kt=U({\u0275loc:U}),ln=U({\u0275fac:U}),ki=U({__NG_ELEMENT_ID__:U});let Al=0;function mo(r){return Ge(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Mr.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ue,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||bt.Emulated,id:"c",styles:r.styles||Ue,_:null,setInput:null,schemas:r.schemas||null,tView:null},l=r.directives,d=r.features,m=r.pipes;return u.id+=Al++,u.inputs=Xo(r.inputs,o),u.outputs=Xo(r.outputs),d&&d.forEach(v=>v(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(yo):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(Rl):null,u})}function yo(r){return Hn(r)||function(r){return r[$n]||null}(r)}function Rl(r){return function(r){return r[gn]||null}(r)}const ai={};function Jo(r){return Ge(()=>{const i={type:r.type,bootstrap:r.bootstrap||Ue,declarations:r.declarations||Ue,imports:r.imports||Ue,exports:r.exports||Ue,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ai[r.id]=r.type),i})}function _o(r,i){return Ge(()=>{const o=ar(r,!0);o.declarations=i.declarations||Ue,o.imports=i.imports||Ue,o.exports=i.exports||Ue})}function Xo(r,i){if(null==r)return Ve;const o={};for(const u in r)if(r.hasOwnProperty(u)){let l=r[u],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),o[l]=u,i&&(i[l]=d)}return o}const uh=mo;function Os(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Hn(r){return r[Kt]||null}function ar(r,i){const o=r[Or]||null;if(!o&&!0===i)throw new Error(`Type ${Y(r)} does not have '\u0275mod' property.`);return o}function Vi(r){return Array.isArray(r)&&"object"==typeof r[1]}function Tn(r){return Array.isArray(r)&&!0===r[1]}function Ls(r){return 0!=(8&r.flags)}function qa(r){return 2==(2&r.flags)}function ra(r){return 1==(1&r.flags)}function ci(r){return null!==r.template}function Pl(r){return 0!=(512&r[2])}function Cn(r,i){return r.hasOwnProperty(ln)?r[ln]:null}class Bi{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function sc(){return Ga}function Ga(r){return r.type.prototype.ngOnChanges&&(r.setInput=pp),vh}function vh(){const r=Wa(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===Ve)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function pp(r,i,o,u){const l=Wa(r)||function(r,i){return r[kl]=i}(r,{previous:Ve,current:null}),d=l.current||(l.current={}),m=l.previous,v=this.declaredInputs[o],b=m[v];d[v]=new Bi(b&&b.currentValue,i,m===Ve),r[u]=i}sc.ngInherit=!0;const kl="__ngSimpleChanges__";function Wa(r){return r[kl]||null}let Ka;function ds(r){Ka=r}function Gr(){return void 0!==Ka?Ka:"undefined"!=typeof document?document:void 0}function Xt(r){return!!r.listen}const Ya={createRenderer:(r,i)=>Gr()};function At(r){for(;Array.isArray(r);)r=r[0];return r}function kr(r,i){return At(i[r.index])}function $i(r,i){return r.data[i]}function ur(r,i){const o=i[r];return Vi(o)?o:o[0]}function uc(r){return 4==(4&r[2])}function ua(r){return 128==(128&r[2])}function hs(r,i){return null==i?null:r[i]}function Ja(r){r[18]=0}function cc(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const at={lFrame:_c(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function lc(){return at.bindingsEnabled}function Ie(){return at.lFrame.lView}function Ct(){return at.lFrame.tView}function Dn(){let r=hc();for(;null!==r&&64===r.type;)r=r.parent;return r}function hc(){return at.lFrame.currentTNode}function li(r,i){const o=at.lFrame;o.currentTNode=r,o.isParent=i}function Xa(){return at.lFrame.isParent}function Hi(){return at.isInCheckNoChangesMode}function qi(r){at.isInCheckNoChangesMode=r}function $s(){return at.lFrame.bindingIndex++}function gc(r,i){const o=at.lFrame;o.bindingIndex=o.bindingRootIndex=r,mc(i)}function mc(r){at.lFrame.currentDirectiveIndex=r}function Ch(){return at.lFrame.currentQueryIndex}function yc(r){at.lFrame.currentQueryIndex=r}function mp(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Dh(r,i,o){if(o&De.SkipSelf){let l=i,d=r;for(;!(l=l.parent,null!==l||o&De.Host||(l=mp(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;i=l,r=d}const u=at.lFrame=Sh();return u.currentTNode=i,u.lView=r,!0}function gs(r){const i=Sh(),o=r[1];at.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Sh(){const r=at.lFrame,i=null===r?null:r.child;return null===i?_c(r):i}function _c(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function eu(){const r=at.lFrame;return at.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Am=eu;function vc(){const r=eu();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Fr(){return at.lFrame.selectedIndex}function Wr(r){at.lFrame.selectedIndex=r}function yn(){const r=at.lFrame;return $i(r.tView,r.selectedIndex)}function Ec(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:A}=d;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),v&&((r.contentHooks||(r.contentHooks=[])).push(o,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,v)),b&&(r.viewHooks||(r.viewHooks=[])).push(-o,b),T&&((r.viewHooks||(r.viewHooks=[])).push(o,T),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,T)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(o,A)}}function ru(r,i,o){Do(r,i,3,o)}function iu(r,i,o,u){(3&r[2])===o&&Do(r,i,o,u)}function wc(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Do(r,i,o,u){const d=null!=u?u:-1,m=i.length-1;let v=0;for(let b=void 0!==u?65535&r[18]:0;b<m;b++)if("number"==typeof i[b+1]){if(v=i[b],null!=u&&v>=u)break}else i[b]<0&&(r[18]+=65536),(v<d||-1==d)&&(bc(r,o,i,b),r[18]=(4294901760&r[18])+b+2),b++}function bc(r,i,o,u){const l=o[u]<0,d=o[u+1],v=r[l?-o[u]:o[u]];if(l){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(v)}finally{}}}else try{d.call(v)}finally{}}class So{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function su(r,i,o){const u=Xt(r);let l=0;for(;l<o.length;){const d=o[l];if("number"==typeof d){if(0!==d)break;l++;const m=o[l++],v=o[l++],b=o[l++];u?r.setAttribute(i,v,b,m):i.setAttributeNS(m,v,b)}else{const m=d,v=o[++l];Tc(m)?u&&r.setProperty(i,m,v):u?r.setAttribute(i,m,v):i.setAttribute(m,v),l++}}return l}function Ic(r){return 3===r||4===r||6===r}function Tc(r){return 64===r.charCodeAt(0)}function Ii(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||Cc(r,o,l,null,-1===o||2===o?i[++u]:null)}}return r}function Cc(r,i,o,u,l){let d=0,m=r.length;if(-1===i)m=-1;else for(;d<r.length;){const v=r[d++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=d-1;break}}}for(;d<r.length;){const v=r[d];if("number"==typeof v)break;if(v===o){if(null===u)return void(null!==l&&(r[d+1]=l));if(u===r[d+1])return void(r[d+2]=l)}d++,null!==u&&d++,null!==l&&d++}-1!==m&&(r.splice(m,0,i),d=m+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==l&&r.splice(d++,0,l)}function Dc(r){return-1!==r}function ou(r){return 32767&r}function au(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let Sc=!0;function xo(r){const i=Sc;return Sc=r,i}let Xe=0;function Ro(r,i){const o=qs(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,Tr(u.data,r),Tr(i,null),Tr(u.blueprint,null));const l=Ac(r,i),d=r.injectorIndex;if(Dc(l)){const m=ou(l),v=au(l,i),b=v[1].data;for(let T=0;T<8;T++)i[d+T]=v[m+T]|b[m+T]}return i[d+8]=l,d}function Tr(r,i){r.push(0,0,0,0,0,0,0,0,i)}function qs(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Ac(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){const d=l[1],m=d.type;if(u=2===m?d.declTNode:1===m?l[6]:null,null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function an(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(ki)&&(u=o[ki]),null==u&&(u=o[ki]=Xe++);const l=255&u;i.data[r+(l>>5)]|=1<<l}(r,i,o)}function bp(r,i,o){if(o&De.Optional)return r;Tt(i,"NodeInjector")}function fa(r,i,o,u){if(o&De.Optional&&void 0===u&&(u=null),0==(o&(De.Self|De.Host))){const l=r[9],d=bn(void 0);try{return l?l.get(i,u,o&De.Optional):Ut(i,u,o&De.Optional)}finally{bn(d)}}return bp(u,i,o)}function Ti(r,i,o,u=De.Default,l){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(ki)?r[ki]:void 0;return"number"==typeof i?i>=0?255&i:Vl:i}(o);if("function"==typeof d){if(!Dh(i,r,u))return u&De.Host?bp(l,o,u):fa(i,o,u,l);try{const m=d(u);if(null!=m||u&De.Optional)return m;Tt(o)}finally{Am()}}else if("number"==typeof d){let m=null,v=qs(r,i),b=-1,T=u&De.Host?i[16][6]:null;for((-1===v||u&De.SkipSelf)&&(b=-1===v?Ac(r,i):i[v+8],-1!==b&&Zs(u,!1)?(m=i[1],v=ou(b),i=au(b,i)):v=-1);-1!==v;){const A=i[1];if(Ip(d,v,A.data)){const M=xc(v,i,o,m,u,T);if(M!==Pn)return M}b=i[v+8],-1!==b&&Zs(u,i[1].data[v+8]===T)&&Ip(d,v,i)?(m=A,v=ou(b),i=au(b,i)):v=-1}}}return fa(i,o,u,l)}const Pn={};function Vl(){return new ys(Dn(),Ie())}function xc(r,i,o,u,l,d){const m=i[1],v=m.data[r+8],A=pa(v,m,o,null==u?qa(v)&&Sc:u!=m&&0!=(3&v.type),l&De.Host&&d===v);return null!==A?Po(i,m,A,v):Pn}function pa(r,i,o,u,l){const d=r.providerIndexes,m=i.data,v=1048575&d,b=r.directiveStart,A=d>>20,O=l?v+A:r.directiveEnd;for(let B=u?v:v+A;B<O;B++){const z=m[B];if(B<b&&o===z||B>=b&&z.type===o)return B}if(l){const B=m[b];if(B&&ci(B)&&B.type===o)return b}return null}function Po(r,i,o,u){let l=r[o];const d=i.data;if(function(r){return r instanceof So}(l)){const m=l;m.resolving&&function(r,i){throw new fe("200",`Circular dependency in DI detected for ${r}`)}(Nt(d[o]));const v=xo(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?bn(m.injectImpl):null;Dh(r,u,De.Default);try{l=r[o]=m.factory(void 0,d,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:d}=i.type.prototype;if(u){const m=Ga(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,l),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==b&&bn(b),xo(v),m.resolving=!1,Am()}}return l}function Ip(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Zs(r,i){return!(r&De.Self||r&De.Host&&i)}class ys{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Ti(this._tNode,this._lView,i,u,o)}}function Lr(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const d=o[l];if(Ic(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(d===i)return o[l+1];l+=2}}}return null}(Dn(),r)}const zs="__parameters__";function ma(r,i,o){return Ge(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...d){if(this instanceof l)return u.apply(this,d),this;const m=new l(...d);return v.annotation=m,v;function v(b,T,A){const M=b.hasOwnProperty(zs)?b[zs]:Object.defineProperty(b,zs,{value:[]})[zs];for(;M.length<=A;)M.push(null);return(M[A]=M[A]||[]).push(m),b}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}class en{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=St({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Rc=new en("AnalyzeForEntryComponents"),Pc=Function;function hi(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),hi(u,i)):i!==r&&i.push(u)}return i}function fi(r,i){r.forEach(o=>Array.isArray(o)?fi(o,i):i(o))}function Gi(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function No(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}const Ks={},Mo="__NG_DI_FLAG__",Wi="ngTempTokenPath",Oo=/\n/gm,Zl="__source",hu=U({provide:String,useValue:U});let fu;function Nc(r){const i=fu;return fu=r,i}function Ap(r,i=De.Default){if(void 0===fu)throw new Error("inject() must be called from an injection context");return null===fu?Ut(r,void 0,i):fu.get(r,i&De.Optional?null:void 0,i)}function Mn(r,i=De.Default){return($t||Ap)(W(r),i)}function ko(r){const i=[];for(let o=0;o<r.length;o++){const u=W(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let l,d=De.Default;for(let m=0;m<u.length;m++){const v=u[m],b=rb(v);"number"==typeof b?-1===b?l=v.token:d|=b:l=v}i.push(Mn(l,d))}else i.push(Mn(u))}return i}function pu(r,i){return r[Mo]=i,r.prototype[Mo]=i,r}function rb(r){return r[Mo]}function hr(r,i,o,u){const l=r[Wi];throw i[Zl]&&l.unshift(i[Zl]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let l=Y(i);if(Array.isArray(i))l=i.map(Y).join(" -> ");else if("object"==typeof i){let d=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];d.push(m+":"+("string"==typeof v?JSON.stringify(v):Y(v)))}l=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${r.replace(Oo,"\n  ")}`}("\n"+r.message,l,o,u),r.ngTokenPath=l,r[Wi]=null,r}const Mc=pu(ma("Inject",r=>({token:r})),-1),Ki=pu(ma("Optional"),8),va=pu(ma("SkipSelf"),4);let Fo,Bh;function Ia(r){var i;return(null===(i=function(){if(void 0===Fo&&(Fo=null,H.trustedTypes))try{Fo=H.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Fo}())||void 0===i?void 0:i.createHTML(r))||r}function Bm(r){var i;return(null===(i=function(){if(void 0===Bh&&(Bh=null,H.trustedTypes))try{Bh=H.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Bh}())||void 0===i?void 0:i.createHTML(r))||r}class mu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class cv extends mu{getTypeName(){return"HTML"}}class lv extends mu{getTypeName(){return"Style"}}class Np extends mu{getTypeName(){return"Script"}}class $m extends mu{getTypeName(){return"URL"}}class Mp extends mu{getTypeName(){return"ResourceURL"}}function Es(r){return r instanceof mu?r.changingThisBreaksApplicationSecurity:r}function pi(r,i){const o=Fc(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function Fc(r){return r instanceof mu&&r.getTypeName()||null}function Op(r){return new cv(r)}function Hm(r){return new lv(r)}function dv(r){return new Np(r)}function Lc(r){return new $m(r)}function qm(r){return new Mp(r)}class $h{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Ia(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Hh{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ia(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Ia(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let l=o.length-1;0<l;l--){const m=o.item(l).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Fp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ql=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jl(r){return(r=String(r)).match(Fp)||r.match(Ql)?r:"unsafe:"+r}function Yi(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function Xl(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const zm=Yi("area,br,col,hr,img,wbr"),Gm=Yi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qh=Yi("rp,rt"),Vc=Xl(zm,Xl(Gm,Yi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xl(qh,Yi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xl(qh,Gm)),Lp=Yi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yu=Yi("srcset"),Zh=Xl(Lp,yu,Yi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Km=Yi("script,style,template");class zh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Vc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Km.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const d=u.item(l),m=d.name,v=m.toLowerCase();if(!Zh.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let b=d.value;Lp[v]&&(b=Jl(b)),yu[v]&&(r=b,b=(r=String(r)).split(",").map(i=>Jl(i.trim())).join(", ")),this.buf.push(" ",m,'="',Ym(b),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Vc.hasOwnProperty(o)&&!zm.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Ym(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Up=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vp=/([^\#-~ |!])/g;function Ym(r){return r.replace(/&/g,"&amp;").replace(Up,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Vp,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ed;function Bp(r,i){let o=null;try{ed=ed||function(r){const i=new Hh(r);return function(){try{return!!(new window.DOMParser).parseFromString(Ia(""),"text/html")}catch(r){return!1}}()?new $h(i):i}(r);let u=i?String(i):"";o=ed.getInertBodyElement(u);let l=5,d=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=d,d=o.innerHTML,o=ed.getInertBodyElement(u)}while(u!==d);return Ia((new zh).sanitizeChildren(jp(o)||o))}finally{if(o){const u=jp(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function jp(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var dn=(()=>((dn=dn||{})[dn.NONE=0]="NONE",dn[dn.HTML=1]="HTML",dn[dn.STYLE=2]="STYLE",dn[dn.SCRIPT=3]="SCRIPT",dn[dn.URL=4]="URL",dn[dn.RESOURCE_URL=5]="RESOURCE_URL",dn))();function Jm(r){const i=Bc();return i?Bm(i.sanitize(dn.HTML,r)||""):pi(r,"HTML")?Bm(Es(r)):Bp(Gr(),ke(r))}function Qi(r){const i=Bc();return i?i.sanitize(dn.URL,r)||"":pi(r,"URL")?Es(r):Jl(ke(r))}function Bc(){const r=Ie();return r&&r[12]}const vu="__ngContext__";function un(r,i){r[vu]=i}function Yh(r){const i=function(r){return r[vu]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function nd(r){return r.ngOriginalError}function Js(r,...i){r.error(...i)}class Iu{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),l=(r=i)&&r.ngErrorLogger||Js;var r;l(this._console,"ERROR",i),o&&l(this._console,"ORIGINAL ERROR",o),u&&l(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(nd(i)):null}_findOriginalError(i){let o=i&&nd(i);for(;o&&nd(o);)o=nd(o);return o||null}}const uy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function nf(r){return r.ownerDocument.defaultView}function Xs(r){return r instanceof Function?r():r}var D=(()=>((D=D||{})[D.Important=1]="Important",D[D.DashCase=2]="DashCase",D))();function $(r,i){return undefined(r,i)}function Se(r){const i=r[3];return Tn(i)?i[3]:i}function xt(r){return Vo(r[13])}function Zn(r){return Vo(r[4])}function Vo(r){for(;null!==r&&!Tn(r);)r=r[4];return r}function Ta(r,i,o,u,l){if(null!=u){let d,m=!1;Tn(u)?d=u:Vi(u)&&(m=!0,u=u[0]);const v=At(u);0===r&&null!==o?null==l?dy(i,o,v):Da(i,o,v,l||null,!0):1===r&&null!==o?Da(i,o,v,l||null,!0):2===r?function(r,i,o){const u=Jp(r,i);u&&function(r,i,o,u){Xt(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,v,m):3===r&&i.destroyNode(v),null!=d&&function(r,i,o,u,l){const d=o[7];d!==At(o)&&Ta(i,r,u,d,l);for(let v=10;v<o.length;v++){const b=o[v];eg(b[1],b,r,i,u,d)}}(i,r,d,o,l)}}function sf(r,i,o){return Xt(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function ab(r,i){const o=r[9],u=o.indexOf(i),l=i[3];1024&i[2]&&(i[2]&=-1025,cc(l,-1)),o.splice(u,1)}function Iv(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const l=u[17];null!==l&&l!==r&&ab(l,u),i>0&&(r[o-1][4]=u[4]);const d=No(r,10+i);!function(r,i){eg(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function ub(r,i){if(!(256&i[2])){const o=i[11];Xt(o)&&o.destroyNode&&eg(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return ly(r[1],r);for(;i;){let o=null;if(Vi(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Vi(i)&&ly(i[1],i),i=i[3];null===i&&(i=r),Vi(i)&&ly(i[1],i),o=i&&i[4]}i=o}}(i)}}function ly(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof So)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const v=l[d[m]],b=d[m+1];try{b.call(v)}finally{}}else try{d.call(l)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let l=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],v="function"==typeof m?m(i):At(i[m]),b=u[l=o[d+2]],T=o[d+3];"boolean"==typeof T?v.removeEventListener(o[d],b,T):T>=0?u[l=T]():u[l=-T].unsubscribe(),d+=2}else{const m=u[l=o[d+1]];o[d].call(m)}if(null!==u){for(let d=l+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&Xt(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Tn(i[3])){o!==i[3]&&ab(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function Si(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const l=r.data[u.directiveStart].encapsulation;if(l===bt.None||l===bt.Emulated)return null}return kr(u,o)}(r,i.parent,o)}function Da(r,i,o,u,l){Xt(r)?r.insertBefore(i,o,u,l):i.insertBefore(o,u,l)}function dy(r,i,o){Xt(r)?r.appendChild(i,o):i.appendChild(o)}function Qp(r,i,o,u,l){null!==u?Da(r,i,o,u,l):dy(r,i,o)}function Jp(r,i){return Xt(r)?r.parentNode(i):i.parentNode}let Tv=function(r,i,o){return 40&r.type?kr(r,o):null};function Xp(r,i,o,u){const l=Si(r,u,i),d=i[11],v=function(r,i,o){return Tv(r,i,o)}(u.parent||i[6],u,i);if(null!=l)if(Array.isArray(o))for(let b=0;b<o.length;b++)Qp(d,l,o[b],v,!1);else Qp(d,l,o,v,!1)}function af(r,i){if(null!==i){const o=i.type;if(3&o)return kr(i,r);if(4&o)return Tu(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return af(r,u);{const l=r[i.index];return Tn(l)?Tu(-1,l):At(l)}}if(32&o)return $(i,r)()||At(r[i.index]);{const u=JD(r,i);return null!==u?Array.isArray(u)?u[0]:af(Se(r[16]),u):af(r,i.next)}}return null}function JD(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Tu(r,i){const o=10+r+1;if(o<i.length){const u=i[o],l=u[1].firstChild;if(null!==l)return af(u,l)}return i[7]}function Av(r,i,o,u,l,d,m){for(;null!=o;){const v=u[o.index],b=o.type;if(m&&0===i&&(v&&un(At(v),u),o.flags|=4),64!=(64&o.flags))if(8&b)Av(r,i,o.child,u,l,d,!1),Ta(i,r,l,v,d);else if(32&b){const T=$(o,u);let A;for(;A=T();)Ta(i,r,l,A,d);Ta(i,r,l,v,d)}else 16&b?xv(r,i,u,o,l,d):Ta(i,r,l,v,d);o=m?o.projectionNext:o.next}}function eg(r,i,o,u,l,d){Av(o,u,r.firstChild,i,l,d,!1)}function xv(r,i,o,u,l,d){const m=o[16],b=m[6].projection[u.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)Ta(i,r,l,b[T],d);else Av(r,i,b,m[3],l,d,!0)}function db(r,i,o){Xt(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function fy(r,i,o){Xt(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function hb(r,i,o){let u=r.length;for(;;){const l=r.indexOf(i,o);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const d=i.length;if(l+d===u||r.charCodeAt(l+d)<=32)return l}o=l+1}}const fb="ng-template";function Rv(r,i,o){let u=0;for(;u<r.length;){let l=r[u++];if(o&&"class"===l){if(l=r[u],-1!==hb(l.toLowerCase(),i,0))return!0}else if(1===l){for(;u<r.length&&"string"==typeof(l=r[u++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function pb(r){return 4===r.type&&r.value!==fb}function nS(r,i,o){return i===(4!==r.type||o?r.value:fb)}function gb(r,i,o){let u=4;const l=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(Ic(r[i]))return i;return r.length}(l);let m=!1;for(let v=0;v<i.length;v++){const b=i[v];if("number"!=typeof b){if(!m)if(4&u){if(u=2|1&u,""!==b&&!nS(r,b,o)||""===b&&1===i.length){if(Bo(u))return!1;m=!0}}else{const T=8&u?b:i[++v];if(8&u&&null!==r.attrs){if(!Rv(r.attrs,T,o)){if(Bo(u))return!1;m=!0}continue}const M=XR(8&u?"class":b,l,pb(r),o);if(-1===M){if(Bo(u))return!1;m=!0;continue}if(""!==T){let O;O=M>d?"":l[M+1].toLowerCase();const B=8&u?O:null;if(B&&-1!==hb(B,T,0)||2&u&&T!==O){if(Bo(u))return!1;m=!0}}}}else{if(!m&&!Bo(u)&&!Bo(b))return!1;if(m&&Bo(b))continue;m=!1,u=b|1&u}}return Bo(u)||m}function Bo(r){return 0==(1&r)}function XR(r,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let d=!1;for(;l<i.length;){const m=i[l];if(m===r)return l;if(3===m||6===m)d=!0;else{if(1===m||2===m){let v=i[++l];for(;"string"==typeof v;)v=i[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=d?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function mb(r,i,o=!1){for(let u=0;u<i.length;u++)if(gb(r,i[u],o))return!0;return!1}function yb(r,i){return r?":not("+i.trim()+")":i}function sS(r){let i=r[0],o=1,u=2,l="",d=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const v=r[++o];l+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?l+="."+m:4&u&&(l+=" "+m);else""!==l&&!Bo(m)&&(i+=yb(d,l),l=""),u=m,d=d||!Bo(u);o++}return""!==l&&(i+=yb(d,l)),i}const st={};function uS(r){_b(Ct(),Ie(),Fr()+r,Hi())}function _b(r,i,o,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&ru(i,d,o)}else{const d=r.preOrderHooks;null!==d&&iu(i,d,0,o)}Wr(o)}function _y(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],d=o[u+1];if(-1!==d){const m=r.data[d];yc(l),m.contentQueries(2,i[d],d)}}}function ig(r,i,o,u,l,d,m,v,b,T){const A=i.blueprint.slice();return A[0]=l,A[2]=140|u,Ja(A),A[3]=A[15]=r,A[8]=o,A[10]=m||r&&r[10],A[11]=v||r&&r[11],A[12]=b||r&&r[12]||null,A[9]=T||r&&r[9]||null,A[6]=d,A[16]=2==i.type?r[16]:A,A}function zc(r,i,o,u,l){let d=r.data[i];if(null===d)d=function(r,i,o,u,l){const d=hc(),m=Xa(),b=r.data[i]=function(r,i,o,u,l,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,i,u,l);return null===r.firstChild&&(r.firstChild=b),null!==d&&(m?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b)),b}(r,i,o,u,l),at.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=l;const m=function(){const r=at.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return li(d,!0),d}function lf(r,i,o,u){if(0===o)return-1;const l=i.length;for(let d=0;d<o;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return l}function sg(r,i,o){gs(i);try{const u=r.viewQuery;null!==u&&Sy(1,u,o);const l=r.template;null!==l&&xb(r,i,l,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&_y(r,i),r.staticViewQueries&&Sy(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,i){for(let o=0;o<i.length;o++)IS(r,i[o])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,vc()}}function er(r,i,o,u){const l=i[2];if(256==(256&l))return;gs(i);const d=Hi();try{Ja(i),function(r){at.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&xb(r,i,o,2,u);const m=3==(3&l);if(!d)if(m){const T=r.preOrderCheckHooks;null!==T&&ru(i,T,null)}else{const T=r.preOrderHooks;null!==T&&iu(i,T,0,null),wc(i,0)}if(function(r){for(let i=xt(r);null!==i;i=Zn(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const l=o[u],d=l[3];0==(1024&l[2])&&cc(d,1),l[2]|=1024}}}(i),function(r){for(let i=xt(r);null!==i;i=Zn(i))for(let o=10;o<i.length;o++){const u=i[o],l=u[1];ua(u)&&er(l,u,l.template,u[8])}}(i),null!==r.contentQueries&&_y(r,i),!d)if(m){const T=r.contentCheckHooks;null!==T&&ru(i,T)}else{const T=r.contentHooks;null!==T&&iu(i,T,1),wc(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Wr(~l);else{const d=l,m=o[++u],v=o[++u];gc(m,d),v(2,i[d])}}}finally{Wr(-1)}}(r,i);const v=r.components;null!==v&&function(r,i){for(let o=0;o<i.length;o++)Hb(r,i[o])}(i,v);const b=r.viewQuery;if(null!==b&&Sy(2,b,u),!d)if(m){const T=r.viewCheckHooks;null!==T&&ru(i,T)}else{const T=r.viewHooks;null!==T&&iu(i,T,2),wc(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,cc(i[3],-1))}finally{vc()}}function og(r,i,o,u){const l=i[10],d=!Hi(),m=uc(i);try{d&&!m&&l.begin&&l.begin(),m&&sg(r,i,u),er(r,i,o,u)}finally{d&&!m&&l.end&&l.end()}}function xb(r,i,o,u,l){const d=Fr(),m=2&u;try{Wr(-1),m&&i.length>20&&_b(r,i,20,Hi()),o(u,l)}finally{Wr(d)}}function Vv(r,i,o){!lc()||(function(r,i,o,u){const l=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||Ro(o,i),un(u,i);const m=o.initialInputs;for(let v=l;v<d;v++){const b=r.data[v],T=ci(b);T&&bS(i,o,b);const A=Po(i,r,v,o);un(A,i),null!==m&&Zv(0,v-l,A,b,0,m),T&&(ur(o.index,i)[8]=A)}}(r,i,o,kr(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,l=o.directiveEnd,m=o.index,v=at.lFrame.currentDirectiveIndex;try{Wr(m);for(let b=u;b<l;b++){const T=r.data[b],A=i[b];mc(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Vb(T,A)}}finally{Wr(-1),mc(v)}}(r,i,o))}function Bv(r,i,o=kr){const u=i.localNames;if(null!==u){let l=i.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],v=-1===m?o(i,r):r[m];r[l++]=v}}}function ag(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=od(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function od(r,i,o,u,l,d,m,v,b,T){const A=20+u,M=A+l,O=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:st);return o}(A,M),B="function"==typeof T?T():T;return O[1]={type:r,blueprint:O,template:o,queries:null,viewQuery:v,declTNode:i,data:O.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:B,incompleteFirstPass:!1}}function $v(r,i,o,u){const l=gf(i);null===o?l.push(u):(l.push(o),r.firstCreatePass&&dg(r).push(u,l.length-1))}function Nb(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const l=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,l):o[u]=[i,l]}return o}function Ai(r,i,o,u,l,d,m,v){const b=kr(i,o);let A,T=i.inputs;!v&&null!=T&&(A=T[u])?(Wv(r,o,A,u,l),qa(i)&&function(r,i){const o=ur(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),l=null!=m?m(l,i.value||"",u):l,Xt(d)?d.setProperty(b,u,l):Tc(u)||(b.setProperty?b.setProperty(u,l):b[u]=l))}function hf(r,i,o,u){let l=!1;if(lc()){const d=function(r,i,o){const u=r.directiveRegistry;let l=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];mb(o,m.selectors,!1)&&(l||(l=[]),an(Ro(o,i),r,m.type),ci(m)?(Ty(r,o),l.unshift(m)):l.push(m))}return l}(r,i,o),m=null===u?null:{"":-1};if(null!==d){l=!0,Cy(o,r.data.length,d.length);for(let A=0;A<d.length;A++){const M=d[A];M.providersResolver&&M.providersResolver(M)}let v=!1,b=!1,T=lf(r,i,d.length,null);for(let A=0;A<d.length;A++){const M=d[A];o.mergedAttrs=Ii(o.mergedAttrs,M.hostAttrs),qv(r,o,i,T,M),wS(T,M,m),null!==M.contentQueries&&(o.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(o.flags|=128);const O=M.type.prototype;!v&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),v=!0),!b&&(O.ngOnChanges||O.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),b=!0),T++}!function(r,i){const u=i.directiveEnd,l=r.data,d=i.attrs,m=[];let v=null,b=null;for(let T=i.directiveStart;T<u;T++){const A=l[T],M=A.inputs,O=null===d||pb(i)?null:Bb(M,d);m.push(O),v=Nb(M,T,v),b=Nb(A.outputs,T,b)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=v,i.outputs=b}(r,o)}m&&function(r,i,o){if(i){const u=r.localNames=[];for(let l=0;l<i.length;l+=2){const d=o[i[l+1]];if(null==d)throw new fe("301",`Export of name '${i[l+1]}' not found!`);u.push(i[l],d)}}}(o,u,m)}return o.mergedAttrs=Ii(o.mergedAttrs,o.attrs),l}function Iy(r,i,o,u,l,d){const m=d.hostBindings;if(m){let v=r.hostBindingOpCodes;null===v&&(v=r.hostBindingOpCodes=[]);const b=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=b&&v.push(b),v.push(u,l,m)}}function Vb(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Ty(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function wS(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;ci(i)&&(o[""]=r)}}function Cy(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function qv(r,i,o,u,l){r.data[u]=l;const d=l.factory||(l.factory=Cn(l.type)),m=new So(d,ci(l),null);r.blueprint[u]=m,o[u]=m,Iy(r,i,0,u,lf(r,o,l.hostVars,st),l)}function bS(r,i,o){const u=kr(i,r),l=ag(o),d=r[10],m=Su(r,ig(r,l,null,o.onPush?64:16,u,i,d,d.createRenderer(u,o),null,null));r[i.index]=m}function bs(r,i,o,u,l,d){const m=kr(r,i);!function(r,i,o,u,l,d,m){if(null==d)Xt(r)?r.removeAttribute(i,l,o):i.removeAttribute(l);else{const v=null==m?ke(d):m(d,u||"",l);Xt(r)?r.setAttribute(i,l,v,o):o?i.setAttributeNS(o,l,v):i.setAttribute(l,v)}}(i[11],m,d,r.value,o,u,l)}function Zv(r,i,o,u,l,d){const m=d[i];if(null!==m){const v=u.setInput;for(let b=0;b<m.length;){const T=m[b++],A=m[b++],M=m[b++];null!==v?u.setInput(o,M,T,A):o[A]=M}}}function Bb(r,i){let o=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;r.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,r[l],i[u+1])),u+=2}else u+=2;else u+=4}return o}function ff(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function Hb(r,i){const o=ur(i,r);if(ua(o)){const u=o[1];80&o[2]?er(u,o,u.template,o[8]):o[5]>0&&pf(o)}}function pf(r){for(let u=xt(r);null!==u;u=Zn(u))for(let l=10;l<u.length;l++){const d=u[l];if(1024&d[2]){const m=d[1];er(m,d,m.template,d[8])}else d[5]>0&&pf(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=ur(o[u],r);ua(l)&&l[5]>0&&pf(l)}}function IS(r,i){const o=ur(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),sg(u,o,o[8])}function Su(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function zv(r){for(;r;){r[2]|=64;const i=Se(r);if(Pl(r)&&!i)return r;r=i}return null}function Dy(r,i,o){const u=i[10];u.begin&&u.begin();try{er(r,i,r.template,o)}catch(l){throw Ay(i,l),l}finally{u.end&&u.end()}}function cg(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=Yh(o),l=u[1];og(l,u,l.template,o)}}(r[8])}function Sy(r,i,o){yc(0),i(r,o)}const Zb=(()=>Promise.resolve(null))();function gf(r){return r[7]||(r[7]=[])}function dg(r){return r.cleanup||(r.cleanup=[])}function Ay(r,i){const o=r[9],u=o?o.get(Iu,null):null;u&&u.handleError(i)}function Wv(r,i,o,u,l){for(let d=0;d<o.length;){const m=o[d++],v=o[d++],b=i[m],T=r.data[m];null!==T.setInput?T.setInput(b,l,u,v):b[v]=l}}function Aa(r,i,o){const u=function(r,i){return At(i[r])}(i,r);!function(r,i,o){Xt(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function Gc(r,i,o){let u=o?r.styles:null,l=o?r.classes:null,d=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?d=v:1==d?l=oe(l,v):2==d&&(u=oe(u,v+": "+i[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=l:r.classesWithoutHost=l}const xu=new en("INJECTOR",-1);class mf{get(i,o=Ks){if(o===Ks){const u=new Error(`NullInjectorError: No provider for ${Y(i)}!`);throw u.name="NullInjectorError",u}return o}}const yf=new en("Set Injector scope."),hg={},Qv={};let _f;function xy(){return void 0===_f&&(_f=new mf),_f}function Jv(r,i=null,o=null,u){return new Wb(r,o,i||xy(),u)}class Wb{constructor(i,o,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&fi(o,v=>this.processProvider(v,i,o)),fi([i],v=>this.processInjectorType(v,[],d)),this.records.set(xu,xa(void 0,this));const m=this.records.get(yf);this.scope=null!=m?m.value:null,this.source=l||("object"==typeof i?null:Y(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=Ks,u=De.Default){this.assertNotDestroyed();const l=Nc(this),d=bn(void 0);try{if(!(u&De.SkipSelf)){let v=this.records.get(i);if(void 0===v){const b=("function"==typeof(r=i)||"object"==typeof r&&r instanceof en)&&wr(i);v=b&&this.injectableDefInScope(b)?xa(Xv(i),hg):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(u&De.Self?xy():this.parent).get(i,o=u&De.Optional&&o===Ks?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Wi]=m[Wi]||[]).unshift(Y(i)),l)throw m;return hr(m,i,"R3InjectorError",this.source)}throw m}finally{bn(d),Nc(l)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,l)=>i.push(Y(l))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=W(i)))return!1;let l=Ei(i);const d=null==l&&i.ngModule||void 0,m=void 0===d?i:d,v=-1!==u.indexOf(m);if(void 0!==d&&(l=Ei(d)),null==l)return!1;if(null!=l.imports&&!v){let A;u.push(m);try{fi(l.imports,M=>{this.processInjectorType(M,o,u)&&(void 0===A&&(A=[]),A.push(M))})}finally{}if(void 0!==A)for(let M=0;M<A.length;M++){const{ngModule:O,providers:B}=A[M];fi(B,z=>this.processProvider(z,O,B||Ue))}}this.injectorDefTypes.add(m);const b=Cn(m)||(()=>new m);this.records.set(m,xa(b,hg));const T=l.providers;if(null!=T&&!v){const A=i;fi(T,M=>this.processProvider(M,A,T))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,u){let l=Kc(i=W(i))?i:W(i&&i.provide);const d=Wc(r=i)?xa(void 0,r.useValue):xa(function(r,i,o){let u;if(Kc(r)){const l=W(r);return Cn(l)||Xv(l)}if(Wc(r))u=()=>W(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...ko(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>Mn(W(r.useExisting));else{const l=W(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Cn(l)||Xv(l);u=()=>new l(...ko(r.deps))}return u}(r),hg);var r;if(Kc(i)||!0!==i.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=xa(void 0,hg,!0),m.factory=()=>ko(m.multi),this.records.set(l,m)),l=i,m.multi.push(i)}this.records.set(l,d)}hydrate(i,o){return o.value===hg&&(o.value=Qv,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=W(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Xv(r){const i=wr(r),o=null!==i?i.factory:Cn(r);if(null!==o)return o;if(r instanceof en)throw new Error(`Token ${Y(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${Y(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[Lt]||r[po]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function xa(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function Wc(r){return null!==r&&"object"==typeof r&&hu in r}function Kc(r){return"function"==typeof r}const Ra=function(r,i,o){return function(r,i=null,o=null,u){const l=Jv(r,i,o,u);return l._resolveInjectorDefTypes(),l}({name:o},i,r,o)};let hn=(()=>{class r{static create(o,u){return Array.isArray(o)?Ra(o,u,""):Ra(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=Ks,r.NULL=new mf,r.\u0275prov=St({token:r,providedIn:"any",factory:()=>Mn(xu)}),r.__NG_ELEMENT_ID__=-1,r})();function pr(r,i){Ec(Yh(r)[1],Dn())}let _g=null;function Df(){if(!_g){const r=H.Symbol;if(r&&r.iterator)_g=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(_g=u)}}}return _g}function Sf(r){return!!My(r)&&(Array.isArray(r)||!(r instanceof Map)&&Df()in r)}function My(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function gi(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Oy(r,i,o,u){const l=Ie();return gi(l,$s(),i)&&(Ct(),bs(yn(),l,r,i,o,u)),Oy}function el(r,i,o,u){return gi(r,$s(),o)?i+ke(o)+u:st}function fI(r,i,o,u,l,d,m,v){const b=Ie(),T=Ct(),A=r+20,M=T.firstCreatePass?function(r,i,o,u,l,d,m,v,b){const T=i.consts,A=zc(i,r,4,m||null,hs(T,v));hf(i,o,A,hs(T,b)),Ec(i,A);const M=A.tViews=od(2,A,u,l,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,T);return null!==i.queries&&(i.queries.template(i,A),M.queries=i.queries.embeddedTView(A)),A}(A,T,b,i,o,u,l,d,m):T.data[A];li(M,!1);const O=b[11].createComment("");Xp(T,b,O,M),un(O,b),Su(b,b[A]=ff(O,b,O,M)),ra(M)&&Vv(T,b,M),null!=m&&Bv(b,M,v)}function vd(r,i=De.Default){const o=Ie();return null===o?Mn(r,i):Ti(Dn(),o,W(r),i)}function Ed(r,i,o){const u=Ie();return gi(u,$s(),i)&&Ai(Ct(),yn(),u,r,i,u[11],o,!1),Ed}function Ou(r,i,o,u,l){const m=l?"class":"style";Wv(r,o,i.inputs[m],m,u)}function Uy(r,i,o,u){const l=Ie(),d=Ct(),m=20+r,v=l[11],b=l[m]=sf(v,i,at.lFrame.currentNamespace),T=d.firstCreatePass?function(r,i,o,u,l,d,m){const v=i.consts,T=zc(i,r,2,l,hs(v,d));return hf(i,o,T,hs(v,m)),null!==T.attrs&&Gc(T,T.attrs,!1),null!==T.mergedAttrs&&Gc(T,T.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,T),T}(m,d,l,0,i,o,u):d.data[m];li(T,!0);const A=T.mergedAttrs;null!==A&&su(v,b,A);const M=T.classes;null!==M&&fy(v,b,M);const O=T.styles;null!==O&&db(v,b,O),64!=(64&T.flags)&&Xp(d,l,b,T),0===at.lFrame.elementDepthCount&&un(b,l),at.lFrame.elementDepthCount++,ra(T)&&(Vv(d,l,T),function(r,i,o){if(Ls(i)){const l=i.directiveEnd;for(let d=i.directiveStart;d<l;d++){const m=r.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}(d,T,l)),null!==u&&Bv(l,T)}function Ye(){let r=Dn();Xa()?at.lFrame.isParent=!1:(r=r.parent,li(r,!1));const i=r;at.lFrame.elementDepthCount--;const o=Ct();o.firstCreatePass&&(Ec(o,r),Ls(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&Ou(o,i,Ie(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&Ou(o,i,Ie(),i.stylesWithoutHost,!1)}function tl(r,i,o,u){Uy(r,i,o,u),Ye()}function Rf(r){return!!r&&"function"==typeof r.then}function Vy(r){return!!r&&"function"==typeof r.subscribe}const Tg=Vy;function By(r,i,o,u){const l=Ie(),d=Ct(),m=Dn();return function(r,i,o,u,l,d,m,v){const b=ra(u),A=r.firstCreatePass&&dg(r),M=i[8],O=gf(i);let B=!0;if(3&u.type||v){const J=kr(u,i),Ne=v?v(J):J,_e=O.length,et=v?ot=>v(At(ot[u.index])):u.index;if(Xt(o)){let ot=null;if(!v&&b&&(ot=function(r,i,o,u){const l=r.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const m=l[d];if(m===o&&l[d+1]===u){const v=i[7],b=l[d+2];return v.length>b?v[b]:null}"string"==typeof m&&(d+=2)}return null}(r,i,l,u.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=d,ot.__ngLastListenerFn__=d,B=!1;else{d=$y(u,i,M,d,!1);const Ft=o.listen(Ne,l,d);O.push(d,Ft),A&&A.push(l,et,_e,_e+1)}}else d=$y(u,i,M,d,!0),Ne.addEventListener(l,d,m),O.push(d),A&&A.push(l,et,_e,m)}else d=$y(u,i,M,d,!1);const z=u.outputs;let ae;if(B&&null!==z&&(ae=z[l])){const J=ae.length;if(J)for(let Ne=0;Ne<J;Ne+=2){const sr=i[ae[Ne]][ae[Ne+1]].subscribe(d),ho=O.length;O.push(d,sr),A&&A.push(l,u.index,ho,-(ho+1))}}}(d,l,l[11],m,r,i,!!o,u),By}function ti(r,i,o,u){try{return!1!==o(u)}catch(l){return Ay(r,l),!1}}function $y(r,i,o,u,l){return function d(m){if(m===Function)return u;const v=2&r.flags?ur(r.index,i):i;0==(32&i[2])&&zv(v);let b=ti(i,0,u,m),T=d.__ngNextListenerFn__;for(;T;)b=ti(i,0,T,m)&&b,T=T.__ngNextListenerFn__;return l&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function Sn(r=1){return function(r){return(at.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,at.lFrame.contextLView))[8]}(r)}function DE(r,i,o){return Nf(r,"",i,"",o),DE}function Nf(r,i,o,u,l){const d=Ie(),m=el(d,i,o,u);return m!==st&&Ai(Ct(),yn(),d,r,m,d[11],l,!1),Nf}function nr(r,i=""){const o=Ie(),u=Ct(),l=r+20,d=u.firstCreatePass?zc(u,l,1,i,null):u.data[l],m=o[l]=function(r,i){return Xt(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Xp(u,o,m,d),li(d,!1)}function Vf(r){return Bf("",r,""),Vf}function Bf(r,i,o){const u=Ie(),l=el(u,r,i,o);return l!==st&&Aa(u,Fr(),l),Bf}function Gy(r,i,o){const u=Ie();return gi(u,$s(),i)&&Ai(Ct(),yn(),u,r,i,u[11],o,!0),Gy}const rl=void 0;var zI=["en",[["a","p"],["AM","PM"],rl],[["AM","PM"],rl,rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rl,"{1} 'at' {0}",rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Td={};function $E(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=HE(i);if(o)return o;const u=i.split("-")[0];if(o=HE(u),o)return o;if("en"===u)return zI;throw new Error(`Missing locale data for the locale "${r}".`)}function qf(r){return $E(r)[$e.PluralCase]}function HE(r){return r in Td||(Td[r]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[r]),Td[r]}var $e=(()=>(($e=$e||{})[$e.LocaleId=0]="LocaleId",$e[$e.DayPeriodsFormat=1]="DayPeriodsFormat",$e[$e.DayPeriodsStandalone=2]="DayPeriodsStandalone",$e[$e.DaysFormat=3]="DaysFormat",$e[$e.DaysStandalone=4]="DaysStandalone",$e[$e.MonthsFormat=5]="MonthsFormat",$e[$e.MonthsStandalone=6]="MonthsStandalone",$e[$e.Eras=7]="Eras",$e[$e.FirstDayOfWeek=8]="FirstDayOfWeek",$e[$e.WeekendRange=9]="WeekendRange",$e[$e.DateFormat=10]="DateFormat",$e[$e.TimeFormat=11]="TimeFormat",$e[$e.DateTimeFormat=12]="DateTimeFormat",$e[$e.NumberSymbols=13]="NumberSymbols",$e[$e.NumberFormats=14]="NumberFormats",$e[$e.CurrencyCode=15]="CurrencyCode",$e[$e.CurrencySymbol=16]="CurrencySymbol",$e[$e.CurrencyName=17]="CurrencyName",$e[$e.Currencies=18]="Currencies",$e[$e.Directionality=19]="Directionality",$e[$e.PluralCase=20]="PluralCase",$e[$e.ExtraData=21]="ExtraData",$e))();const Cs="en-US";let zE=Cs;function GE(r){pn(r,"Expected localeId to be defined"),"string"==typeof r&&(zE=r.toLowerCase().replace(/_/g,"-"))}class a0{}const gT="ngComponent";class gA{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${Y(r)}. Did you add it to @NgModule.entryComponents?`);return i[gT]=r,i}(i)}}let $u=(()=>{class r{}return r.NULL=new gA,r})();function t_(...r){}function Pd(r,i){return new Ho(kr(r,i))}const yA=function(){return Pd(Dn(),Ie())};let Ho=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=yA,r})();function n_(r){return r instanceof Ho?r.nativeElement:r}class hl{}let r_=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>yT(),r})();const yT=function(){const r=Ie(),o=ur(Dn().index,r);return function(r){return r[11]}(Vi(o)?o:r)};let d0=(()=>{class r{}return r.\u0275prov=St({token:r,providedIn:"root",factory:()=>null}),r})();class h0{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const i_=new h0("12.2.13");class s_{constructor(){}supports(i){return Sf(i)}create(i){return new EA(i)}}const _A=(r,i)=>i;class EA{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||_A}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<Md(u,l,d)?o:u,v=Md(m,l,d),b=m.currentIndex;if(m===u)l--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{d||(d=[]);const T=v-l,A=b-l;if(T!=A){for(let O=0;O<T;O++){const B=O<d.length?d[O]:d[O]=0,z=B+O;A<=z&&z<T&&(d[O]=B+1)}d[m.previousIndex]=A-T}}v!==b&&i(m,v,b)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Sf(i))throw new Error(`Error trying to diff '${Y(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,d,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)d=i[v],m=this._trackByFn(v,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,v)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,v),u=!0),o=o._next}else l=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Df()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,v=>{m=this._trackByFn(l,v),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,v,m,l)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,l)):i=this._addAfter(new vT(o,u),d,l),i}_verifyReinsertion(i,o,u,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,d=i._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Nd),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nd),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class vT{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wA{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Nd{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new wA,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Md(r,i,o){const u=r.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class o_{constructor(){}supports(i){return i instanceof Map||My(i)}create(){return new a_}}class a_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||My(i)))throw new Error(`Error trying to diff '${Y(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const d=l._prev,m=l._next;return d&&(d._next=m),m&&(m._prev=d),l._next=null,l._prev=null,l}const u=new ET(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class ET{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function f0(){return new u_([new s_])}let u_=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||f0()),deps:[[r,new va,new Ki]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=St({token:r,providedIn:"root",factory:f0}),r})();function wT(){return new Kf([new o_])}let Kf=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||wT()),deps:[[r,new va,new Ki]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=St({token:r,providedIn:"root",factory:wT}),r})();function c_(r,i,o,u,l=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(At(d)),Tn(d))for(let v=10;v<d.length;v++){const b=d[v],T=b[1].firstChild;null!==T&&c_(b[1],b,T,u)}const m=o.type;if(8&m)c_(r,i,o.child,u);else if(32&m){const v=$(o,i);let b;for(;b=v();)u.push(b)}else if(16&m){const v=JD(i,o);if(Array.isArray(v))u.push(...v);else{const b=Se(i[16]);c_(b[1],b,v,u,!0)}}o=l?o.projectionNext:o.next}return u}class Od{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return c_(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Tn(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(Iv(i,u),No(o,u))}this._attachedToViewContainer=!1}ub(this._lView[1],this._lView)}onDestroy(i){$v(this._lView[1],this._lView,null,i)}markForCheck(){zv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){qi(!0);try{Dy(r,i,o)}finally{qi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,eg(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class bA extends Od{constructor(i){super(i),this._view=i}detectChanges(){cg(this._view)}checkNoChanges(){!function(r){qi(!0);try{cg(r)}finally{qi(!1)}}(this._view)}get context(){return null}}const IA=function(r){return function(r,i,o){if(qa(r)&&!o){const u=ur(r.index,i);return new Od(u,u)}return 47&r.type?new Od(i[16],i):null}(Dn(),Ie(),16==(16&r))};let TA=(()=>{class r{}return r.__NG_ELEMENT_ID__=IA,r})();const SA=[new o_],m0=new u_([new s_]),bT=new Kf(SA),l_=function(){return Yf(Dn(),Ie())};let Hu=(()=>{class r{}return r.__NG_ELEMENT_ID__=l_,r})();const d_=Hu,y0=class extends d_{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=ig(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),sg(o,u,i),new Od(u)}};function Yf(r,i){return 4&r.type?new y0(i,r,Pd(r,i)):null}class fl{}class CT{}const xA=function(){return AT(Dn(),Ie())};let h_=(()=>{class r{}return r.__NG_ELEMENT_ID__=xA,r})();const f_=h_,Qf=class extends f_{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Pd(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ac(this._hostTNode,this._hostLView);if(Dc(i)){const o=au(i,this._hostLView),u=ou(i);return new ys(o[1].data[u+8],o)}return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=p_(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const l=i.createEmbeddedView(o||{});return this.insert(l,u),l}createComponent(i,o,u,l,d){const m=u||this.parentInjector;if(!d&&null==i.ngModule&&m){const b=m.get(fl,null);b&&(d=b)}const v=i.create(m,l,void 0,d);return this.insert(v.hostView,o),v}insert(i,o){const u=i._lView,l=u[1];if(Tn(u[3])){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const M=u[3],O=new Qf(M,M[6],M[3]);O.detach(O.indexOf(i))}}const d=this._adjustIndex(o),m=this._lContainer;!function(r,i,o,u){const l=10+u,d=o.length;u>0&&(o[l-1][4]=i),u<d-10?(i[4]=o[l],Gi(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=128}(l,u,m,d);const v=Tu(d,m),b=u[11],T=Jp(b,m[7]);return null!==T&&function(r,i,o,u,l,d){u[0]=l,u[6]=i,eg(r,u,o,1,l,d)}(l,m[6],b,u,T,v),i.attachToViewContainerRef(),Gi(g_(m),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=p_(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Iv(this._lContainer,o);u&&(No(g_(this._lContainer),o),ub(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=Iv(this._lContainer,o);return u&&null!=No(g_(this._lContainer),o)?new Od(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function p_(r){return r[8]}function g_(r){return r[8]||(r[8]=[])}function AT(r,i){let o;const u=i[r.index];if(Tn(u))o=u;else{let l;if(8&r.type)l=At(u);else{const d=i[11];l=d.createComment("");const m=kr(r,i);Da(d,Jp(d,m),l,function(r,i){return Xt(r)?r.nextSibling(i):i.nextSibling}(d,m),!1)}i[r.index]=o=ff(u,i,l,r),Su(i,o)}return new Qf(o,r,i)}const ml={};class w_ extends $u{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Hn(i);return new JT(o,this.ngModule)}}function z0(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const WA=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>uy});class JT extends a0{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(sS).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return z0(this.componentDef.inputs)}get outputs(){return z0(this.componentDef.outputs)}create(i,o,u,l){const d=(l=l||this.ngModule)?function(r,i){return{get:(o,u,l)=>{const d=r.get(o,ml,l);return d!==ml||u===ml?d:i.get(o,u,l)}}}(i,l.injector):i,m=d.get(hl,Ya),v=d.get(d0,null),b=m.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=u?function(r,i,o){if(Xt(r))return r.selectRootElement(i,o===bt.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(b,u,this.componentDef.encapsulation):sf(m.createRenderer(null,this.componentDef),T,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(T)),M=this.componentDef.onPush?576:528,O=function(r,i){return{components:[],scheduler:r||uy,clean:Zb,playerHandler:i||null,flags:0}}(),B=od(0,null,null,1,0,null,null,null,null,null),z=ig(null,B,O,M,null,null,m,b,v,d);let ae,J;gs(z);try{const Ne=function(r,i,o,u,l,d){const m=o[1];o[20]=r;const b=zc(m,20,2,"#host",null),T=b.mergedAttrs=i.hostAttrs;null!==T&&(Gc(b,T,!0),null!==r&&(su(l,r,T),null!==b.classes&&fy(l,r,b.classes),null!==b.styles&&db(l,r,b.styles)));const A=u.createRenderer(r,i),M=ig(o,ag(i),null,i.onPush?64:16,o[20],b,u,A,d||null,null);return m.firstCreatePass&&(an(Ro(b,o),m,i.type),Ty(m,b),Cy(b,o.length,1)),Su(o,M),o[20]=M}(A,this.componentDef,z,m,b);if(A)if(u)su(b,A,["ng-version",i_.full]);else{const{attrs:_e,classes:et}=function(r){const i=[],o=[];let u=1,l=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===l?""!==d&&i.push(d,r[++u]):8===l&&o.push(d);else{if(!Bo(l))break;l=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);_e&&su(b,A,_e),et&&et.length>0&&fy(b,A,et.join(" "))}if(J=$i(B,20),void 0!==o){const _e=J.projection=[];for(let et=0;et<this.ngContentSelectors.length;et++){const ot=o[et];_e.push(null!=ot?Array.from(ot):null)}}ae=function(r,i,o,u,l){const d=o[1],m=function(r,i,o){const u=Dn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),qv(r,u,i,lf(r,i,1,null),o));const l=Po(i,r,u.directiveStart,u);un(l,i);const d=kr(u,i);return d&&un(d,i),l}(d,o,i);if(u.components.push(m),r[8]=m,l&&l.forEach(b=>b(m,i)),i.contentQueries){const b=Dn();i.contentQueries(1,m,b.directiveStart)}const v=Dn();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Wr(v.index),Iy(o[1],v,0,v.directiveStart,v.directiveEnd,i),Vb(i,m)),m}(Ne,this.componentDef,z,O,[pr]),sg(B,z,null)}finally{vc()}return new G0(this.componentType,ae,Pd(J,z),z,J)}}class G0 extends class{}{constructor(i,o,u,l,d){super(),this.location=u,this._rootLView=l,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new bA(l),this.componentType=i}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const yl=new Map;class K0 extends fl{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new w_(this);const u=ar(i),l=i[kt]||null;l&&GE(l),this._bootstrapComponents=Xs(u.bootstrap),this._r3Injector=Jv(i,o,[{provide:fl,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],Y(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=hn.THROW_IF_NOT_FOUND,u=De.Default){return i===hn||i===fl||i===xu?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class C_ extends CT{constructor(i){super(),this.moduleType=i,null!==ar(i)&&function(r){const i=new Set;!function o(u){const l=ar(u,!0),d=l.id;null!==d&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${Y(i)} vs ${Y(i.name)}`)}(d,yl.get(d),u),yl.set(d,u));const m=Xs(l.imports);for(const v of m)i.has(v)||(i.add(v),o(v))}(r)}(i)}create(i){return new K0(this.moduleType,i)}}function zd(r,i,o,u){return function(r,i,o,u,l,d){const m=i+o;return gi(r,m,l)?function(r,i,o){return r[i]=o}(r,m+1,d?u.call(d,l):u(l)):function(r,i){const o=r[i];return o===st?void 0:o}(r,m+1)}(Ie(),function(){const r=at.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}(),r,i,o,u)}function fn(r){return i=>{setTimeout(r,void 0,i)}}const xn=class extends p.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var l,d,m;let v=i,b=o||(()=>null),T=u;if(i&&"object"==typeof i){const M=i;v=null===(l=M.next)||void 0===l?void 0:l.bind(M),b=null===(d=M.error)||void 0===d?void 0:d.bind(M),T=null===(m=M.complete)||void 0===m?void 0:m.bind(M)}this.__isAsync&&(b=fn(b),v&&(v=fn(v)),T&&(T=fn(T)));const A=super.subscribe({next:v,error:b,complete:T});return i instanceof ee.w&&i.add(A),A}};function Ua(){return this._results[Df()]()}class Xg{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Df(),u=Xg.prototype;u[o]||(u[o]=Ua)}get changes(){return this._changes||(this._changes=new xn)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=hi(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let l=r[u],d=i[u];if(o&&(l=o(l),d=o(d)),d!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class A_{constructor(i){this.queryList=i,this.matches=null}clone(){return new A_(this.queryList)}setDirty(){this.queryList.setDirty()}}class ew{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);l.push(this.queries[m.indexInDeclarationView].clone())}return new ew(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==mC(i,o).matches&&this.queries[o].setDirty()}}class x_{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class tw{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,l);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new tw(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class nw{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new nw(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const d=u[l];this.matchTNodeWithReadOption(i,o,jn(o,d)),this.matchTNodeWithReadOption(i,o,pa(o,i,d,!1,!1))}else u===Hu?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,pa(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Ho||l===h_||l===Hu&&4&o.type)this.addMatch(o.index,-2);else{const d=pa(o,i,l,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function jn(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function DP(r,i,o,u){return-1===o?function(r,i){return 11&r.type?Pd(r,i):4&r.type?Yf(r,i):null}(i,r):-2===o?function(r,i,o){return o===Ho?Pd(i,r):o===Hu?Yf(i,r):o===h_?AT(i,r):void 0}(r,i,u):Po(r,r[1],o,i)}function rw(r,i,o,u){const l=i[19].queries[u];if(null===l.matches){const d=r.data,m=o.matches,v=[];for(let b=0;b<m.length;b+=2){const T=m[b];v.push(T<0?null:DP(i,d[T],m[b+1],o.metadata.read))}l.matches=v}return l.matches}function iw(r,i,o,u){const l=r.queries.getByIndex(o),d=l.matches;if(null!==d){const m=rw(r,i,l,o);for(let v=0;v<d.length;v+=2){const b=d[v];if(b>0)u.push(m[v/2]);else{const T=d[v+1],A=i[-b];for(let M=10;M<A.length;M++){const O=A[M];O[17]===O[3]&&iw(O[1],O,T,u)}if(null!==A[9]){const M=A[9];for(let O=0;O<M.length;O++){const B=M[O];iw(B[1],B,T,u)}}}}}return u}function dC(r){const i=Ie(),o=Ct(),u=Ch();yc(u+1);const l=mC(o,u);if(r.dirty&&uc(i)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const d=l.crossesNgTemplate?iw(o,i,u,[]):rw(o,i,l,u);r.reset(d,n_),r.notifyOnChanges()}return!0}return!1}function fC(r,i,o,u){const l=Ct();if(l.firstCreatePass){const d=Dn();(function(r,i,o){null===r.queries&&(r.queries=new tw),r.queries.track(new nw(i,o))})(l,new x_(i,o,u),d.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(l,r),2==(2&o)&&(l.staticContentQueries=!0)}!function(r,i,o){const u=new Xg(4==(4&o));$v(r,i,u,u.destroy),null===i[19]&&(i[19]=new ew),i[19].queries.push(new A_(u))}(l,Ie(),o)}function pC(){return r=Ie(),i=Ch(),r[19].queries[i].queryList;var r,i}function mC(r,i){return r.queries.getByIndex(i)}const mw=new en("Application Initializer");let rp=(()=>{class r{constructor(o){this.appInits=o,this.resolve=t_,this.reject=t_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(Rf(d))o.push(d);else if(Tg(d)){const m=new Promise((v,b)=>{d.subscribe({complete:v,error:b})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Mn(mw,8))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();const TC=new en("AppId"),Rx={provide:TC,useFactory:function(){return`${yw()}${yw()}${yw()}`},deps:[]};function yw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const CC=new en("Platform Initializer"),Px=new en("Platform ID"),DC=new en("appBootstrapListener");let L_=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();const am=new en("LocaleId"),_w=new en("DefaultCurrencyCode");class Ox{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const Xu=function(r){return new C_(r)},co=Xu,AC=function(r){return Promise.resolve(Xu(r))},ip=function(r){const i=Xu(r),u=Xs(ar(r).declarations).reduce((l,d)=>{const m=Hn(d);return m&&l.push(new JT(m)),l},[]);return new Ox(i,u)},Mi=ip,sp=function(r){return Promise.resolve(ip(r))};let zo=(()=>{class r{constructor(){this.compileModuleSync=co,this.compileModuleAsync=AC,this.compileModuleAndAllComponentsSync=Mi,this.compileModuleAndAllComponentsAsync=sp}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();const Ux=(()=>Promise.resolve(0))();function Ew(r){"undefined"==typeof Zone?Ux.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class As{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xn(!1),this.onMicrotaskEmpty=new xn(!1),this.onStable=new xn(!1),this.onError=new xn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let r=H.requestAnimationFrame,i=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(H,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,bw(r),r.isCheckStableRunning=!0,ww(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),bw(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,d,m,v)=>{try{return Iw(r),o.invokeTask(l,d,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),RC(r)}},onInvoke:(o,u,l,d,m,v,b)=>{try{return Iw(r),o.invoke(l,d,m,v,b)}finally{r.shouldCoalesceRunChangeDetection&&i(),RC(r)}},onHasTask:(o,u,l,d)=>{o.hasTask(l,d),u===l&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,bw(r),ww(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,l,d)=>(o.handleError(l,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!As.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(As.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+l,i,um,t_,t_);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const um={};function ww(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function bw(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Iw(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function RC(r){r._nesting--,ww(r)}class PC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xn,this.onMicrotaskEmpty=new xn,this.onStable=new xn,this.onError=new xn}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}let B_=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{As.assertNotInAngularZone(),Ew(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ew(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,l){return[]}}return r.\u0275fac=function(o){return new(o||r)(Mn(As))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})(),Tw=(()=>{class r{constructor(){this._applications=new Map,NC.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return NC.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();class j_{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function $x(r){NC=r}let NC=new j_,MC=!0,$_=!1;function OC(){return $_=!0,MC}function qP(){if($_)throw new Error("Cannot enable prod mode after platform setup.");MC=!1}let Go;const Cw=new en("AllowMultipleToken");class qx{constructor(i,o){this.name=i,this.token=o}}function Rr(r,i,o=[]){const u=`Platform: ${i}`,l=new en(u);return(d=[])=>{let m=H_();if(!m||m.injector.get(Cw,!1))if(r)r(o.concat(d).concat({provide:l,useValue:!0}));else{const v=o.concat(d).concat({provide:l,useValue:!0},{provide:yf,useValue:"platform"});!function(r){if(Go&&!Go.destroyed&&!Go.injector.get(Cw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Go=r.get(kC);const i=r.get(CC,null);i&&i.forEach(o=>o())}(hn.create({providers:v,name:u}))}return function(r){const i=H_();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(l)}}function H_(){return Go&&!Go.destroyed?Go:null}let kC=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const v=function(r,i){let o;return o="noop"===r?new PC:("zone.js"===r?void 0:r)||new As({enableLongStackTrace:OC(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:As,useValue:v}];return v.run(()=>{const T=hn.create({providers:b,parent:this.injector,name:o.moduleType.name}),A=o.create(T),M=A.injector.get(Iu,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const O=v.onError.subscribe({next:B=>{M.handleError(B)}});A.onDestroy(()=>{Aw(this._modules,A),O.unsubscribe()})}),function(r,i,o){try{const u=o();return Rf(u)?u.catch(l=>{throw i.runOutsideAngular(()=>r.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(M,v,()=>{const O=A.injector.get(rp);return O.runInitializers(),O.donePromise.then(()=>(GE(A.injector.get(am,Cs)||Cs),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const l=Sw({},u);return function(r,i,o){const u=new C_(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(o){const u=o.injector.get(cm);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Y(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Mn(hn))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();function Sw(r,i){return Array.isArray(i)?i.reduce(Sw,r):Object.assign(Object.assign({},r),i)}let cm=(()=>{class r{constructor(o,u,l,d,m){this._zone=o,this._injector=u,this._exceptionHandler=l,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new k.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{As.assertNotInAngularZone(),Ew(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{As.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),M.unsubscribe()}});this.isStable=(0,le.T)(v,b.pipe(r=>(0,ce.x)()(function(r,i){return function(u){let l;l="function"==typeof r?r:function(){return r};const d=Object.create(u,ne.N);return d.source=u,d.subjectFactory=l,d}}(te)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=o instanceof a0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(l.componentType);const d=function(r){return r.isBoundToModule}(l)?void 0:this._injector.get(fl),v=l.create(hn.NULL,[],u||l.selector,d),b=v.location.nativeElement,T=v.injector.get(B_,null),A=T&&v.injector.get(Tw);return T&&A&&A.registerApplication(b,T),v.onDestroy(()=>{this.detachView(v.hostView),Aw(this.components,v),A&&A.unregisterApplication(b)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Aw(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(DC,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Mn(As),Mn(hn),Mn(Iu),Mn($u),Mn(rp))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();function Aw(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class Oi{}class Pw{}const Yx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Qx=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||Yx}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,l]=o.split("#");return void 0===l&&(l="default"),L(8255)(u).then(d=>d[l]).then(d=>LC(d,u,l)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,l]=o.split("#"),d="NgFactory";return void 0===l&&(l="default",d=""),L(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[l+d]).then(m=>LC(m,u,l))}}return r.\u0275fac=function(o){return new(o||r)(Mn(zo),Mn(Pw,8))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();function LC(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const nR=function(r){return null},iR=Rr(null,"core",[{provide:Px,useValue:"unknown"},{provide:kC,deps:[hn]},{provide:Tw,deps:[]},{provide:L_,deps:[]}]),aR=[{provide:cm,useClass:cm,deps:[As,hn,Iu,$u,rp]},{provide:WA,deps:[As],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:rp,useClass:rp,deps:[[new Ki,mw]]},{provide:zo,useClass:zo,deps:[]},Rx,{provide:u_,useFactory:function(){return m0},deps:[]},{provide:Kf,useFactory:function(){return bT},deps:[]},{provide:am,useFactory:function(r){return GE(r=r||"undefined"!=typeof $localize&&$localize.locale||Cs),r},deps:[[new Mc(am),new Ki,new va]]},{provide:_w,useValue:"USD"}];let cR=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Mn(cm))},r.\u0275mod=Jo({type:r}),r.\u0275inj=Nr({providers:aR}),r})()},8939:(Je,we,L)=>{"use strict";L.d(we,{hO:()=>Y,xv:()=>te,Dh:()=>ce,GT:()=>ie,cc:()=>oe,on:()=>F,pX:()=>ne});var p=L(3018),ee=L(7841),k=L(9259);Je=L.hmd(Je);const le=["ngOnDestroy"],ne=(ye,ge,fe,xe={})=>new Proxy(ye,{get:(qe,ke)=>fe.runOutsideAngular(()=>{var Nt;if(ye[ke])return(null===(Nt=null==xe?void 0:xe.spy)||void 0===Nt?void 0:Nt.get)&&xe.spy.get(ke,ye[ke]),ye[ke];if(le.indexOf(ke)>-1)return()=>{};const _t=ge.toPromise().then(wn=>{const wt=wn&&wn[ke];return"function"==typeof wt?wt.bind(wn):wt&&wt.then?wt.then(Tt=>fe.run(()=>Tt)):fe.run(()=>wt)});return new Proxy(()=>{},{get:(wn,wt)=>_t[wt],apply:(wn,wt,Tt)=>_t.then(ft=>{var lt;const Ot=ft&&ft(...Tt);return(null===(lt=null==xe?void 0:xe.spy)||void 0===lt?void 0:lt.apply)&&xe.spy.apply(ke,Tt,Ot),Ot})})})}),ie=(ye,ge)=>{ge.forEach(fe=>{Object.getOwnPropertyNames(fe.prototype||fe).forEach(xe=>{Object.defineProperty(ye.prototype,xe,Object.getOwnPropertyDescriptor(fe.prototype||fe,xe))})})};class pe{constructor(ge){return ge}}const ce=new p.OlP("angularfire2.app.options"),te=new p.OlP("angularfire2.app.name");function F(ye,ge,fe){const qe="object"==typeof fe&&fe||{};qe.name=qe.name||"string"==typeof fe&&fe||"[DEFAULT]";const Nt=ee.Z.apps.filter(_t=>_t&&_t.name===qe.name)[0]||ge.runOutsideAngular(()=>ee.Z.initializeApp(ye,qe));try{JSON.stringify(ye)!==JSON.stringify(Nt.options)&&U("error",`${Nt.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(_t){}return new pe(Nt)}const U=(ye,...ge)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[ye](...ge)},Q={provide:pe,useFactory:F,deps:[ce,p.R0b,[new p.FiY,te]]};let Y=(()=>{class ye{constructor(fe){ee.Z.registerVersion("angularfire",k.q4.full,"core"),ee.Z.registerVersion("angularfire",k.q4.full,"app-compat"),ee.Z.registerVersion("angular",p.q4F.full,fe.toString())}static initializeApp(fe,xe){return{ngModule:ye,providers:[{provide:ce,useValue:fe},{provide:te,useValue:xe}]}}}return ye.\u0275fac=function(fe){return new(fe||ye)(p.LFG(p.Lbi))},ye.\u0275mod=p.oAB({type:ye}),ye.\u0275inj=p.cJS({providers:[Q]}),ye})();function oe(ye,ge,fe,xe,qe){const[,ke,Nt]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===ye)||[];if(ke)return function(ye,ge){try{return ye.toString()===ge.toString()}catch(fe){return ye===ge}}(qe,Nt)||(W("error",`${ge} was already initialized on the ${fe} Firebase App with different settings.${he?" You may need to reload as Firebase is not HMR aware.":""}`),W("warn",{is:qe,was:Nt})),ke;{const _t=xe();return globalThis.\u0275AngularfireInstanceCache.push([ye,_t,qe]),_t}}const he=!!Je.hot,W=(ye,...ge)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[ye](...ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9259:(Je,we,L)=>{"use strict";L.d(we,{q4:()=>Mh,iC:()=>dr,HU:()=>fi,vb:()=>lu,JM:()=>Pc});var p=L(3018),ee=L(2329),k=L(8239),le=L(8026),ne=L(3854),ie=L(3910),pe=L(5422),ce=L(6676);const te="@firebase/installations",F="0.5.5",Q=`w:${F}`,Y="FIS_v2",ge=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fe(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function xe({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function qe(I){return{token:I.token,requestStatus:2,expiresIn:ft(I.expiresIn),creationTime:Date.now()}}function ke(I,S){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,k.Z)(function*(I,S){const V=(yield S.json()).error;return ge.create("request-failed",{requestName:I,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function _t({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function wn(I,{refreshToken:S}){const P=_t(I);return P.append("Authorization",function(I){return`${Y} ${I}`}(S)),P}function wt(I){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,k.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function ft(I){return Number(I.replace("s","000"))}function Ot(I,S){return We.apply(this,arguments)}function We(){return(We=(0,k.Z)(function*(I,{fid:S}){const P=xe(I),ue={method:"POST",headers:_t(I),body:JSON.stringify({fid:S,authVersion:Y,appId:I.appId,sdkVersion:Q})},Te=yield wt(()=>fetch(P,ue));if(Te.ok){const Be=yield Te.json();return{fid:Be.fid||S,registrationStatus:2,refreshToken:Be.refreshToken,authToken:qe(Be.authToken)}}throw yield ke("Create Installation",Te)})).apply(this,arguments)}function oi(I){return new Promise(S=>{setTimeout(S,I)})}const fo=/^[cdef][\w-]{21}$/;function kn(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const P=function(I){return function(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return fo.test(P)?P:""}catch(I){return""}}function as(I){return`${I.appName}!${I.appId}`}const Ns=new Map;function us(I,S){const P=as(I);Gn(P,S),function(I,S){const P=(!jt&&"BroadcastChannel"in self&&(jt=new BroadcastChannel("[Firebase] FID Change"),jt.onmessage=I=>{Gn(I.data.key,I.data.fid)}),jt);P&&P.postMessage({key:I,fid:S}),0===Ns.size&&jt&&(jt.close(),jt=null)}(P,S)}function Gn(I,S){const P=Ns.get(I);if(P)for(const V of P)V(S)}let jt=null;const Ce="firebase-installations-store";let or=null;function Fn(){return or||(or=(0,ce.openDb)("firebase-installations-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(Ce)}})),or}function Ei(I,S){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,k.Z)(function*(I,S){const P=as(I),K=(yield Fn()).transaction(Ce,"readwrite"),ue=K.objectStore(Ce),Te=yield ue.get(P);return yield ue.put(S,P),yield K.complete,(!Te||Te.fid!==S.fid)&&us(I,S.fid),S})).apply(this,arguments)}function zr(I){return po.apply(this,arguments)}function po(){return(po=(0,k.Z)(function*(I){const S=as(I),V=(yield Fn()).transaction(Ce,"readwrite");yield V.objectStore(Ce).delete(S),yield V.complete})).apply(this,arguments)}function nt(I,S){return De.apply(this,arguments)}function De(){return(De=(0,k.Z)(function*(I,S){const P=as(I),K=(yield Fn()).transaction(Ce,"readwrite"),ue=K.objectStore(Ce),Te=yield ue.get(P),Be=S(Te);return void 0===Be?yield ue.delete(P):yield ue.put(Be,P),yield K.complete,Be&&(!Te||Te.fid!==Be.fid)&&us(I,Be.fid),Be})).apply(this,arguments)}function $t(I){return sn.apply(this,arguments)}function sn(){return(sn=(0,k.Z)(function*(I){let S;const P=yield nt(I,V=>{const K=bn(V),ue=Ut(I,K);return S=ue.registrationPromise,ue.installationEntry});return""===P.fid?{installationEntry:yield S}:{installationEntry:P,registrationPromise:S}})).apply(this,arguments)}function bn(I){return bt(I||{fid:kn(),registrationStatus:0})}function Ut(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ge.create("app-offline"))};const P={fid:S.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:P,registrationPromise:function(I,S){return Ge.apply(this,arguments)}(I,P)}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Mr(I)}:{installationEntry:S}}function Ge(){return(Ge=(0,k.Z)(function*(I,S){try{return Ei(I,yield Ot(I,S))}catch(P){throw fe(P)&&409===P.customData.serverCode?yield zr(I):yield Ei(I,{fid:S.fid,registrationStatus:0}),P}})).apply(this,arguments)}function Mr(I){return go.apply(this,arguments)}function go(){return(go=(0,k.Z)(function*(I){let S=yield Wt(I);for(;1===S.registrationStatus;)yield oi(100),S=yield Wt(I);if(0===S.registrationStatus){const{installationEntry:P,registrationPromise:V}=yield $t(I);return V||P}return S})).apply(this,arguments)}function Wt(I){return nt(I,S=>{if(!S)throw ge.create("installation-not-found");return bt(S)})}function bt(I){return function(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function rc(I,S){return Z.apply(this,arguments)}function Z(){return(Z=(0,k.Z)(function*({appConfig:I,platformLoggerProvider:S},P){const V=q(I,P),K=wn(I,P),ue=S.getImmediate({optional:!0});ue&&K.append("x-firebase-client",ue.getPlatformInfoString());const Be={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Q}})},je=yield wt(()=>fetch(V,Be));if(je.ok)return qe(yield je.json());throw yield ke("Generate Auth Token",je)})).apply(this,arguments)}function q(I,{fid:S}){return`${xe(I)}/${S}/authTokens:generate`}function H(I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,k.Z)(function*(I,S=!1){let P;const V=yield nt(I.appConfig,ue=>{if(!gn(ue))throw ge.create("not-registered");const Te=ue.authToken;if(!S&&Or(Te))return ue;if(1===Te.requestStatus)return P=se(I,S),ue;{if(!navigator.onLine)throw ge.create("app-offline");const Be=ln(ue);return P=Kt(I,Be),Be}});return P?yield P:V.authToken})).apply(this,arguments)}function se(I,S){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,k.Z)(function*(I,S){let P=yield Ue(I.appConfig);for(;1===P.authToken.requestStatus;)yield oi(100),P=yield Ue(I.appConfig);const V=P.authToken;return 0===V.requestStatus?H(I,S):V})).apply(this,arguments)}function Ue(I){return nt(I,S=>{if(!gn(S))throw ge.create("not-registered");return function(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Kt(I,S){return $n.apply(this,arguments)}function $n(){return($n=(0,k.Z)(function*(I,S){try{const P=yield rc(I,S),V=Object.assign(Object.assign({},S),{authToken:P});return yield Ei(I.appConfig,V),P}catch(P){if(!fe(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Ei(I.appConfig,V)}else yield zr(I.appConfig);throw P}})).apply(this,arguments)}function gn(I){return void 0!==I&&2===I.registrationStatus}function Or(I){return 2===I.requestStatus&&!function(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+36e5}(I)}function ln(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}function mo(){return(mo=(0,k.Z)(function*(I){const S=I,{installationEntry:P,registrationPromise:V}=yield $t(S.appConfig);return V?V.catch(console.error):H(S).catch(console.error),P.fid})).apply(this,arguments)}function yo(){return(yo=(0,k.Z)(function*(I,S=!1){const P=I;return yield Rl(P.appConfig),(yield H(P,S)).token})).apply(this,arguments)}function Rl(I){return ai.apply(this,arguments)}function ai(){return(ai=(0,k.Z)(function*(I){const{registrationPromise:S}=yield $t(I);S&&(yield S)})).apply(this,arguments)}function ar(I){return ge.create("missing-app-config-values",{valueName:I})}const ch="installations";(0,le._registerComponent)(new ie.wA(ch,I=>{const S=I.getProvider("app").getImmediate();return{app:S,appConfig:function(I){if(!I||!I.options)throw ar("App Configuration");if(!I.name)throw ar("App Name");const S=["projectId","apiKey","appId"];for(const P of S)if(!I.options[P])throw ar(P);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S),platformLoggerProvider:(0,le._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new ie.wA("installations-internal",I=>{const S=I.getProvider("app").getImmediate(),P=(0,le._getProvider)(S,ch).getImmediate();return{getId:()=>function(I){return mo.apply(this,arguments)}(P),getToken:K=>function(I){return yo.apply(this,arguments)}(P,K)}},"PRIVATE")),(0,le.registerVersion)(te,F),(0,le.registerVersion)(te,F,"esm2017");const In="@firebase/remote-config",Ln=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hp{constructor(S,P,V,K){this.client=S,this.storage=P,this.storageCache=V,this.logger=K}isCachedDataFresh(S,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-P,K=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${K}.`),K}fetch(S){var P=this;return(0,k.Z)(function*(){const[V,K]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(K&&P.isCachedDataFresh(S.cacheMaxAgeMillis,V))return K;S.eTag=K&&K.eTag;const ue=yield P.client.fetch(S),Te=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Te.push(P.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Te),ue})()}}function Vi(I=navigator){return I.languages&&I.languages[0]||I.language}class Tn{constructor(S,P,V,K,ue,Te){this.firebaseInstallations=S,this.sdkVersion=P,this.namespace=V,this.projectId=K,this.apiKey=ue,this.appId=Te}fetch(S){var P=this;return(0,k.Z)(function*(){const[V,K]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},je={sdk_version:P.sdkVersion,app_instance_id:V,app_instance_id_token:K,app_id:P.appId,language_code:Vi()},Vt={method:"POST",headers:Be,body:JSON.stringify(je)},Zt=fetch(Te,Vt),Qn=new Promise((vs,Oo)=>{S.signal.addEventListener(()=>{const vt=new Error("The operation was aborted.");vt.name="AbortError",Oo(vt)})});let Jn;try{yield Promise.race([Zt,Qn]),Jn=yield Zt}catch(vs){let Oo="fetch-client-network";throw"AbortError"===vs.name&&(Oo="fetch-timeout"),Ln.create(Oo,{originalErrorMessage:vs.message})}let Xn=Jn.status;const Ks=Jn.headers.get("ETag")||void 0;let Mo,Wi;if(200===Jn.status){let vs;try{vs=yield Jn.json()}catch(Oo){throw Ln.create("fetch-client-parse",{originalErrorMessage:Oo.message})}Mo=vs.entries,Wi=vs.state}if("INSTANCE_STATE_UNSPECIFIED"===Wi?Xn=500:"NO_CHANGE"===Wi?Xn=304:("NO_TEMPLATE"===Wi||"EMPTY_CONFIG"===Wi)&&(Mo={}),304!==Xn&&200!==Xn)throw Ln.create("fetch-status",{httpStatus:Xn});return{status:Xn,eTag:Ks,config:Mo}})()}}class ra{constructor(S,P){this.client=S,this.storage=P}fetch(S){var P=this;return(0,k.Z)(function*(){const V=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:P,backoffCount:V}){var K=this;return(0,k.Z)(function*(){yield function(I,S){return new Promise((P,V)=>{const K=Math.max(S-Date.now(),0),ue=setTimeout(P,K);I.addEventListener(()=>{clearTimeout(ue),V(Ln.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,P);try{const ue=yield K.client.fetch(S);return yield K.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ue))throw ue;const Te={throttleEndTimeMillis:Date.now()+(0,ne.$s)(V),backoffCount:V+1};return yield K.storage.setThrottleMetadata(Te),K.attemptFetch(S,Te)}})()}}class Tm{constructor(S,P,V,K,ue){this.app=S,this._client=P,this._storageCache=V,this._storage=K,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ia(I,S){const P=I.target.error||void 0;return Ln.create(S,{originalErrorMessage:P&&P.message})}const wo="app_namespace_store";class Cm{constructor(S,P,V,K=function(){return new Promise((I,S)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=V=>{S(ia(V,"storage-open"))},P.onsuccess=V=>{I(V.target.result)},P.onupgradeneeded=V=>{const K=V.target.result;switch(V.oldVersion){case 0:K.createObjectStore(wo,{keyPath:"compositeKey"})}}}catch(P){S(Ln.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=S,this.appName=P,this.namespace=V,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var P=this;return(0,k.Z)(function*(){const V=yield P.openDbPromise;return new Promise((K,ue)=>{const Be=V.transaction([wo],"readonly").objectStore(wo),je=P.createCompositeKey(S);try{const Vt=Be.get(je);Vt.onerror=Zt=>{ue(ia(Zt,"storage-get"))},Vt.onsuccess=Zt=>{const Qn=Zt.target.result;K(Qn?Qn.value:void 0)}}catch(Vt){ue(Ln.create("storage-get",{originalErrorMessage:Vt&&Vt.message}))}})})()}set(S,P){var V=this;return(0,k.Z)(function*(){const K=yield V.openDbPromise;return new Promise((ue,Te)=>{const je=K.transaction([wo],"readwrite").objectStore(wo),Vt=V.createCompositeKey(S);try{const Zt=je.put({compositeKey:Vt,value:P});Zt.onerror=Qn=>{Te(ia(Qn,"storage-set"))},Zt.onsuccess=()=>{ue()}}catch(Zt){Te(Ln.create("storage-set",{originalErrorMessage:Zt&&Zt.message}))}})})()}delete(S){var P=this;return(0,k.Z)(function*(){const V=yield P.openDbPromise;return new Promise((K,ue)=>{const Be=V.transaction([wo],"readwrite").objectStore(wo),je=P.createCompositeKey(S);try{const Vt=Be.delete(je);Vt.onerror=Zt=>{ue(ia(Zt,"storage-delete"))},Vt.onsuccess=()=>{K()}}catch(Vt){ue(Ln.create("storage-delete",{originalErrorMessage:Vt&&Vt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class ph{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const P=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),K=S.storage.getActiveConfig(),ue=yield P;ue&&(S.lastFetchStatus=ue);const Te=yield V;Te&&(S.lastSuccessfulFetchTimestampMillis=Te);const Be=yield K;Be&&(S.activeConfig=Be)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Ml(){return mh.apply(this,arguments)}function mh(){return(mh=(0,k.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new ie.wA("remote-config",function(S,{instanceIdentifier:P}){const V=S.getProvider("app").getImmediate(),K=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,ne.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:ue,apiKey:Te,appId:Be}=V.options;if(!ue)throw Ln.create("registration-project-id");if(!Te)throw Ln.create("registration-api-key");if(!Be)throw Ln.create("registration-app-id");const je=new Cm(Be,V.name,P=P||"firebase"),Vt=new ph(je),Zt=new pe.Yd(In);Zt.logLevel=pe.in.ERROR;const Qn=new Tn(K,le.SDK_VERSION,P,ue,Te,Be),Jn=new ra(Qn,je),Xn=new hp(Jn,je,Vt,Zt),Ks=new Tm(V,Xn,Vt,je,Zt);return function(I){const S=(0,ne.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ks),Ks},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(In,"0.3.4"),(0,le.registerVersion)(In,"0.3.4","esm2017");const yh="/firebase-messaging-sw.js",Sm="/firebase-cloud-messaging-push-scope",Za="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",za="google.c.a.c_id",sa="google.c.a.c_l",Us="google.c.a.ts",Ol="google.c.a.e";var Cn=(()=>{return(I=Cn||(Cn={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Cn;var I})();function Bi(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sc(I){const P=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(P),K=new Uint8Array(V.length);for(let ue=0;ue<V.length;++ue)K[ue]=V.charCodeAt(ue);return K}const Ga="fcm_token_details_db",pp="fcm_token_object_Store";function kl(I){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,k.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Ga))return null;let S=null;return(yield(0,ce.openDb)(Ga,5,function(){var V=(0,k.Z)(function*(K){var ue;if(K.oldVersion<2||!K.objectStoreNames.contains(pp))return;const Te=K.transaction.objectStore(pp),Be=yield Te.index("fcmSenderId").get(I);if(yield Te.clear(),Be)if(2===K.oldVersion){const je=Be;if(!je.auth||!je.p256dh||!je.endpoint)return;S={token:je.fcmToken,createTime:null!==(ue=je.createTime)&&void 0!==ue?ue:Date.now(),subscriptionOptions:{auth:je.auth,p256dh:je.p256dh,endpoint:je.endpoint,swScope:je.swScope,vapidKey:"string"==typeof je.vapidKey?je.vapidKey:Bi(je.vapidKey)}}}else if(3===K.oldVersion){const je=Be;S={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:Bi(je.auth),p256dh:Bi(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:Bi(je.vapidKey)}}}else if(4===K.oldVersion){const je=Be;S={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:Bi(je.auth),p256dh:Bi(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:Bi(je.vapidKey)}}}});return function(K){return V.apply(this,arguments)}}())).close(),yield(0,ce.deleteDb)(Ga),yield(0,ce.deleteDb)("fcm_vapid_details_db"),yield(0,ce.deleteDb)("undefined"),gp(S)?S:null})).apply(this,arguments)}function gp(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Kn="firebase-messaging-store";let oc=null;function Vs(){return oc||(oc=(0,ce.openDb)("firebase-messaging-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(Kn)}})),oc}function Ka(I){return ds.apply(this,arguments)}function ds(){return(ds=(0,k.Z)(function*(I){const S=Ya(I),V=yield(yield Vs()).transaction(Kn).objectStore(Kn).get(S);if(V)return V;{const K=yield kl(I.appConfig.senderId);if(K)return yield Gr(I,K),K}})).apply(this,arguments)}function Gr(I,S){return ji.apply(this,arguments)}function ji(){return(ji=(0,k.Z)(function*(I,S){const P=Ya(I),K=(yield Vs()).transaction(Kn,"readwrite");return yield K.objectStore(Kn).put(S,P),yield K.complete,S})).apply(this,arguments)}function Xt(I){return ac.apply(this,arguments)}function ac(){return(ac=(0,k.Z)(function*(I){const S=Ya(I),V=(yield Vs()).transaction(Kn,"readwrite");yield V.objectStore(Kn).delete(S),yield V.complete})).apply(this,arguments)}function Ya({appConfig:I}){return I.appId}const At=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function aa(I,S){return wh.apply(this,arguments)}function wh(){return(wh=(0,k.Z)(function*(I,S){const P=yield ur(I),V=ua(S),K={method:"POST",headers:P,body:JSON.stringify(V)};let ue;try{ue=yield(yield fetch(qn(I.appConfig),K)).json()}catch(Te){throw At.create("token-subscribe-failed",{errorInfo:Te})}if(ue.error)throw At.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw At.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function Io(I,S){return kr.apply(this,arguments)}function kr(){return(kr=(0,k.Z)(function*(I,S){const P=yield ur(I),V=ua(S.subscriptionOptions),K={method:"PATCH",headers:P,body:JSON.stringify(V)};let ue;try{ue=yield(yield fetch(`${qn(I.appConfig)}/${S.token}`,K)).json()}catch(Te){throw At.create("token-update-failed",{errorInfo:Te})}if(ue.error)throw At.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw At.create("token-update-no-token");return ue.token})).apply(this,arguments)}function bh(I,S){return $i.apply(this,arguments)}function $i(){return($i=(0,k.Z)(function*(I,S){const V={method:"DELETE",headers:yield ur(I)};try{const ue=yield(yield fetch(`${qn(I.appConfig)}/${S}`,V)).json();if(ue.error)throw At.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(K){throw At.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function qn({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function ur(I){return uc.apply(this,arguments)}function uc(){return(uc=(0,k.Z)(function*({appConfig:I,installations:S}){const P=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function ua({p256dh:I,auth:S,endpoint:P,vapidKey:V}){const K={web:{endpoint:P,auth:S,p256dh:I}};return V!==Za&&(K.web.applicationPubKey=V),K}const Qa=6048e5;function hs(I){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,k.Z)(function*(I){const S=yield lc(I.swRegistration,I.vapidKey),P={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:Bi(S.getKey("auth")),p256dh:Bi(S.getKey("p256dh"))},V=yield Ka(I.firebaseDependencies);if(V){if(Fl(V.subscriptionOptions,P))return Date.now()>=V.createTime+Qa?Ih(I,{token:V.token,createTime:Date.now(),subscriptionOptions:P}):V.token;try{yield bh(I.firebaseDependencies,V.token)}catch(K){console.warn(K)}return Bs(I.firebaseDependencies,P)}return Bs(I.firebaseDependencies,P)})).apply(this,arguments)}function cc(I){return at.apply(this,arguments)}function at(){return(at=(0,k.Z)(function*(I){const S=yield Ka(I.firebaseDependencies);S&&(yield bh(I.firebaseDependencies,S.token),yield Xt(I.firebaseDependencies));const P=yield I.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Ih(I,S){return fs.apply(this,arguments)}function fs(){return(fs=(0,k.Z)(function*(I,S){try{const P=yield Io(I.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:P,createTime:Date.now()});return yield Gr(I.firebaseDependencies,V),P}catch(P){throw yield cc(I),P}})).apply(this,arguments)}function Bs(I,S){return To.apply(this,arguments)}function To(){return(To=(0,k.Z)(function*(I,S){const V={token:yield aa(I,S),createTime:Date.now(),subscriptionOptions:S};return yield Gr(I,V),V.token})).apply(this,arguments)}function lc(I,S){return ps.apply(this,arguments)}function ps(){return(ps=(0,k.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sc(S)})})).apply(this,arguments)}function Fl(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}function Ie(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function(I,S){if(!S.notification)return;I.notification={};const P=S.notification.title;P&&(I.notification.title=P);const V=S.notification.body;V&&(I.notification.body=V);const K=S.notification.image;K&&(I.notification.image=K)}(S,I),function(I,S){!S.data||(I.data=S.data)}(S,I),function(I,S){if(!S.fcmOptions)return;I.fcmOptions={};const P=S.fcmOptions.link;P&&(I.fcmOptions.link=P);const V=S.fcmOptions.analytics_label;V&&(I.fcmOptions.analyticsLabel=V)}(S,I),S}function hc(I){return"object"==typeof I&&!!I&&za in I}function Co(I,S){const P=[];for(let V=0;V<I.length;V++)P.push(I.charAt(V)),V<S.length&&P.push(S.charAt(V));return P.join("")}function Xa(I){return At.create("missing-app-config-values",{valueName:I})}Co("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Co("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class js{constructor(S,P,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function(I){if(!I||!I.options)throw Xa("App Configuration Object");if(!I.name)throw Xa("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:P}=I;for(const V of S)if(!P[V])throw Xa(V);return{appName:I.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:K,installations:P,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Th(I){return fc.apply(this,arguments)}function fc(){return(fc=(0,k.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(yh,{scope:Sm}),I.swRegistration.update().catch(()=>{})}catch(S){throw At.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Hi(I,S){return qi.apply(this,arguments)}function qi(){return(qi=(0,k.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield Th(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function Yn(I,S){return di.apply(this,arguments)}function di(){return(di=(0,k.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=Za)})).apply(this,arguments)}function $s(){return($s=(0,k.Z)(function*(I,S){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield Yn(I,null==S?void 0:S.vapidKey),yield Hi(I,null==S?void 0:S.serviceWorkerRegistration),hs(I)})).apply(this,arguments)}function bi(I,S,P){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,k.Z)(function*(I,S,P){const V=pc(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:P[za],message_name:P[sa],message_time:P[Us],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pc(I){switch(I){case Cn.NOTIFICATION_CLICKED:return"notification_open";case Cn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function la(){return(la=(0,k.Z)(function*(I,S){const P=S.data;if(!P.isFirebaseMessaging)return;I.onMessageHandler&&P.messageType===Cn.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Ie(P)):I.onMessageHandler.next(Ie(P)));const V=P.data;hc(V)&&"1"===V[Ol]&&(yield bi(I,P.messageType,V))})).apply(this,arguments)}const mc="@firebase/messaging";function Dh(){return gs.apply(this,arguments)}function gs(){return(gs=(0,k.Z)(function*(){return"undefined"!=typeof window&&(0,ne.hl)()&&(yield(0,ne.eu)())&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new ie.wA("messaging",I=>{const S=new js(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function(I,S){return la.apply(this,arguments)}(S,P)),S},"PUBLIC")),(0,le._registerComponent)(new ie.wA("messaging-internal",I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:V=>function(I,S){return $s.apply(this,arguments)}(S,V)}},"PRIVATE")),(0,le.registerVersion)(mc,"0.9.6"),(0,le.registerVersion)(mc,"0.9.6","esm2017");const Wr="analytics",yn="firebase_id",nu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xh="https://www.googletagmanager.com/gtag/js",Un=new pe.Yd("@firebase/analytics");function Rh(I){return Promise.all(I.map(S=>S.catch(P=>P)))}function Ec(I,S){const P=document.createElement("script");P.src=`${xh}?l=${I}&id=${S}`,P.async=!0,document.head.appendChild(P)}function iu(I,S,P,V,K,ue){return wc.apply(this,arguments)}function wc(){return(wc=(0,k.Z)(function*(I,S,P,V,K,ue){const Te=V[K];try{if(Te)yield S[Te];else{const je=(yield Rh(P)).find(Vt=>Vt.measurementId===K);je&&(yield S[je.appId])}}catch(Be){Un.error(Be)}I("config",K,ue)})).apply(this,arguments)}function Do(I,S,P,V,K){return bc.apply(this,arguments)}function bc(){return(bc=(0,k.Z)(function*(I,S,P,V,K){try{let ue=[];if(K&&K.send_to){let Te=K.send_to;Array.isArray(Te)||(Te=[Te]);const Be=yield Rh(P);for(const je of Te){const Vt=Be.find(Qn=>Qn.measurementId===je),Zt=Vt&&S[Vt.appId];if(!Zt){ue=[];break}ue.push(Zt)}}0===ue.length&&(ue=Object.values(S)),yield Promise.all(ue),I("event",V,K||{})}catch(ue){Un.error(ue)}})).apply(this,arguments)}function xm(){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(xh))return S;return null}const cr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Pm=new class{constructor(S={},P=1e3){this.throttleMetadata=S,this.intervalMillis=P}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,P){this.throttleMetadata[S]=P}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function ov(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function su(I){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,k.Z)(function*(I){var S;const{appId:P,apiKey:V}=I,K={method:"GET",headers:ov(V)},ue=nu.replace("{app-id}",P),Te=yield fetch(ue,K);if(200!==Te.status&&304!==Te.status){let Be="";try{const je=yield Te.json();(null===(S=je.error)||void 0===S?void 0:S.message)&&(Be=je.error.message)}catch(je){}throw cr.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:Be})}return Te.json()})).apply(this,arguments)}function Tc(I){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,k.Z)(function*(I,S=Pm,P){const{appId:V,apiKey:K,measurementId:ue}=I.options;if(!V)throw cr.create("no-app-id");if(!K){if(ue)return{measurementId:ue,appId:V};throw cr.create("no-api-key")}const Te=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new au;return setTimeout((0,k.Z)(function*(){Be.abort()}),void 0!==P?P:6e4),Cc({appId:V,apiKey:K,measurementId:ue},Te,Be,S)})).apply(this,arguments)}function Cc(I,S,P){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,k.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:P},V,K=Pm){const{appId:ue,measurementId:Te}=I;try{yield ou(V,S)}catch(Be){if(Te)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ue,measurementId:Te};throw Be}try{const Be=yield su(I);return K.deleteThrottleMetadata(ue),Be}catch(Be){if(!wp(Be)){if(K.deleteThrottleMetadata(ue),Te)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ue,measurementId:Te};throw Be}const je=503===Number(Be.customData.httpStatus)?(0,ne.$s)(P,K.intervalMillis,30):(0,ne.$s)(P,K.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+je,backoffCount:P+1};return K.setThrottleMetadata(ue,Vt),Un.debug(`Calling attemptFetch again in ${je} millis`),Cc(I,Vt,V,K)}})).apply(this,arguments)}function ou(I,S){return new Promise((P,V)=>{const K=Math.max(S-Date.now(),0),ue=setTimeout(P,K);I.addEventListener(()=>{clearTimeout(ue),V(cr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function wp(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}class au{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Sc(){return xo.apply(this,arguments)}function xo(){return(xo=(0,k.Z)(function*(){if(!(0,ne.hl)())return Un.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return Un.warn(cr.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function ha(){return(ha=(0,k.Z)(function*(I,S,P,V,K,ue,Te){var Be;const je=Tc(I);je.then(Xn=>{P[Xn.measurementId]=Xn.appId,I.options.measurementId&&Xn.measurementId!==I.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xn=>Un.error(Xn)),S.push(je);const Vt=Sc().then(Xn=>{if(Xn)return V.getId()}),[Zt,Qn]=yield Promise.all([je,Vt]);xm()||Ec(ue,Zt.measurementId),K("js",new Date);const Jn=null!==(Be=null==Te?void 0:Te.config)&&void 0!==Be?Be:{};return Jn.origin="firebase",Jn.update=!0,null!=Qn&&(Jn[yn]=Qn),K("config",Zt.measurementId,Jn),Zt.measurementId})).apply(this,arguments)}class _n{constructor(S){this.app=S}_delete(){return delete Xe[this.app.options.appId],Promise.resolve()}}let Xe={},ms=[];const Ro={};let Ac,an,Tr="dataLayer",Ul=!1;function Ti(I,S,P){!function(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((V,K)=>`(${K+1}) ${V}`).join(" "),P=cr.create("invalid-analytics-context",{errorInfo:S});Un.warn(P.message)}}();const V=I.options.appId;if(!V)throw cr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw cr.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xe[V])throw cr.create("already-exists",{id:V});if(!Ul){!function(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(Tr);const{wrappedGtag:ue,gtagCore:Te}=function(I,S,P,V,K){let ue=function(...Te){window[V].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ue=window[K]),window[K]=function(I,S,P,V){function ue(){return(ue=(0,k.Z)(function*(Te,Be,je){try{"event"===Te?yield Do(I,S,P,Be,je):"config"===Te?yield iu(I,S,P,V,Be,je):I("set",Be)}catch(Vt){Un.error(Vt)}})).apply(this,arguments)}return function(Te,Be,je){return ue.apply(this,arguments)}}(ue,I,S,P),{gtagCore:ue,wrappedGtag:window[K]}}(Xe,ms,Ro,Tr,"gtag");an=ue,Ac=Te,Ul=!0}return Xe[V]=function(I,S,P,V,K,ue,Te){return ha.apply(this,arguments)}(I,ms,Ro,S,Ac,Tr,P),new _n(I)}function Vl(){return(Vl=(0,k.Z)(function*(I,S,P,V,K){if(K&&K.global)I("event",P,V);else{const ue=yield S;I("event",P,Object.assign(Object.assign({},V),{send_to:ue}))}})).apply(this,arguments)}function Zi(){return zs.apply(this,arguments)}function zs(){return(zs=(0,k.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}const Tp="@firebase/analytics";(0,le._registerComponent)(new ie.wA(Wr,(S,{options:P})=>Ti(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,le._registerComponent)(new ie.wA("analytics-internal",function(S){try{const P=S.getProvider(Wr).getImmediate();return{logEvent:(V,K,ue)=>function(I,S,P,V){I=(0,ne.m9)(I),function(I,S,P,V,K){return Vl.apply(this,arguments)}(an,Xe[I.app.options.appId],S,P,V).catch(K=>Un.error(K))}(P,V,K,ue)}}catch(P){throw cr.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,le.registerVersion)(Tp,"0.7.5"),(0,le.registerVersion)(Tp,"0.7.5","esm2017");var Mm=L(7771),en=L(3637),Rc=L(3342),ya=L(3101),Om=L(309);const Mh=new p.GfV("7.2.0"),$l="__angularfire_symbol__analyticsIsSupported",Gs="__angularfire_symbol__remoteConfigIsSupported",cu="__angularfire_symbol__messagingIsSupported";function Pc(I,S,P){if(S){if(1===S.length)return S[0];const ue=S.filter(Te=>Te.app===P);if(1===ue.length)return ue[0]}return P.container.getProvider(I).getImmediate({optional:!0})}globalThis[$l]||(globalThis[$l]=Zi().then(I=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=I)),globalThis[cu]||(globalThis[cu]=Dh().then(I=>globalThis.__angularfire_symbol__messagingIsSupportedValue=I)),globalThis[Gs]||(globalThis[Gs]=Ml().then(I=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=I));const lu=(I,S)=>{const P=S?[S]:(0,ee.C6)(),V=[];return P.forEach(K=>{K.container.getProvider(I).instances.forEach(Te=>{V.includes(Te)||V.push(Te)})}),V};function du(){}class kh{constructor(S,P=Mm.N){this.zone=S,this.delegate=P}now(){return this.delegate.now()}schedule(S,P,V){const K=this.zone;return this.delegate.schedule(function(Te){K.runGuarded(()=>{S.apply(this,[Te])})},P,V)}}class hi{constructor(S){this.zone=S,this.task=null}call(S,P){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",du,{},du,du)),P.pipe((0,Rc.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fi=(()=>{class I{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new kh(Zone.current)),this.insideAngular=P.run(()=>new kh(Zone.current,en.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(P){return new(P||I)(p.LFG(p.R0b))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Gi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function dr(I){return Gi(),function(I){return function(P){return(P=P.lift(new hi(I.ngZone))).pipe((0,ya.R)(I.outsideAngular),(0,Om.QV)(I.insideAngular))}}(Gi())(I)}},3854:(Je,we,L)=>{"use strict";L.d(we,{BH:()=>Y,LL:()=>We,ZR:()=>Ot,zI:()=>Tt,US:()=>ie,tV:()=>te,$s:()=>Wt,r3:()=>pn,Sg:()=>oe,ne:()=>or,vZ:()=>jt,ZB:()=>U,pd:()=>wr,m9:()=>rc,z$:()=>be,jU:()=>ye,ru:()=>ge,d:()=>xe,xb:()=>Gn,w1:()=>qe,hl:()=>wn,uI:()=>he,UG:()=>W,b$:()=>fe,G6:()=>_t,Mn:()=>ke,xO:()=>$a,zd:()=>Nr,eu:()=>wt});const le=function(Z){const q=[];let H=0;for(let Ee=0;Ee<Z.length;Ee++){let se=Z.charCodeAt(Ee);se<128?q[H++]=se:se<2048?(q[H++]=se>>6|192,q[H++]=63&se|128):55296==(64512&se)&&Ee+1<Z.length&&56320==(64512&Z.charCodeAt(Ee+1))?(se=65536+((1023&se)<<10)+(1023&Z.charCodeAt(++Ee)),q[H++]=se>>18|240,q[H++]=se>>12&63|128,q[H++]=se>>6&63|128,q[H++]=63&se|128):(q[H++]=se>>12|224,q[H++]=se>>6&63|128,q[H++]=63&se|128)}return q},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let se=0;se<Z.length;se+=3){const Ve=Z[se],Ue=se+1<Z.length,Kt=Ue?Z[se+1]:0,$n=se+2<Z.length,gn=$n?Z[se+2]:0;let ln=(15&Kt)<<2|gn>>6,ki=63&gn;$n||(ki=64,Ue||(ln=64)),Ee.push(H[Ve>>2],H[(3&Ve)<<4|Kt>>4],H[ln],H[ki])}return Ee.join("")},encodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(Z):this.encodeByteArray(le(Z),q)},decodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(Z):function(Z){const q=[];let H=0,Ee=0;for(;H<Z.length;){const se=Z[H++];if(se<128)q[Ee++]=String.fromCharCode(se);else if(se>191&&se<224){const Ve=Z[H++];q[Ee++]=String.fromCharCode((31&se)<<6|63&Ve)}else if(se>239&&se<365){const $n=((7&se)<<18|(63&Z[H++])<<12|(63&Z[H++])<<6|63&Z[H++])-65536;q[Ee++]=String.fromCharCode(55296+($n>>10)),q[Ee++]=String.fromCharCode(56320+(1023&$n))}else{const Ve=Z[H++],Ue=Z[H++];q[Ee++]=String.fromCharCode((15&se)<<12|(63&Ve)<<6|63&Ue)}}return q.join("")}(this.decodeStringToByteArray(Z,q))},decodeStringToByteArray(Z,q){this.init_();const H=q?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let se=0;se<Z.length;){const Ve=H[Z.charAt(se++)],Kt=se<Z.length?H[Z.charAt(se)]:0;++se;const gn=se<Z.length?H[Z.charAt(se)]:64;++se;const kt=se<Z.length?H[Z.charAt(se)]:64;if(++se,null==Ve||null==Kt||null==gn||null==kt)throw Error();Ee.push(Ve<<2|Kt>>4),64!==gn&&(Ee.push(Kt<<4&240|gn>>2),64!==kt&&Ee.push(gn<<6&192|kt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},ce=function(Z){return function(Z){const q=le(Z);return ie.encodeByteArray(q,!0)}(Z).replace(/\./g,"")},te=function(Z){try{return ie.decodeString(Z,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function U(Z,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return q}for(const H in q)!q.hasOwnProperty(H)||!Q(H)||(Z[H]=U(Z[H],q[H]));return Z}function Q(Z){return"__proto__"!==Z}class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,H)=>{this.resolve=q,this.reject=H})}wrapCallback(q){return(H,Ee)=>{H?this.reject(H):this.resolve(Ee),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(H):q(H,Ee))}}}function oe(Z,q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=q||"demo-project",se=Z.iat||0,Ve=Z.sub||Z.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:se,exp:se+3600,auth_time:se,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Ue)),""].join(".")}function be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function W(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function ye(){return"object"==typeof self&&self.self===self}function ge(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xe(){return be().indexOf("Electron/")>=0}function qe(){const Z=be();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function ke(){return be().indexOf("MSAppHost/")>=0}function _t(){return!W()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wn(){return"object"==typeof indexedDB}function wt(){return new Promise((Z,q)=>{try{let H=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ee);se.onsuccess=()=>{se.result.close(),H||self.indexedDB.deleteDatabase(Ee),Z(!0)},se.onupgradeneeded=()=>{H=!1},se.onerror=()=>{var Ve;q((null===(Ve=se.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(H){q(H)}})}function Tt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ot extends Error{constructor(q,H,Ee){super(H),this.code=q,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(q,H,Ee){this.service=q,this.serviceName=H,this.errors=Ee}create(q,...H){const Ee=H[0]||{},se=`${this.service}/${q}`,Ve=this.errors[q],Ue=Ve?function(Z,q){return Z.replace(Rs,(H,Ee)=>{const se=q[Ee];return null!=se?String(se):`<${Ee}?>`})}(Ve,Ee):"Error";return new Ot(se,`${this.serviceName}: ${Ue} (${se}).`,Ee)}}const Rs=/\{\$([^}]+)}/g;function pn(Z,q){return Object.prototype.hasOwnProperty.call(Z,q)}function Gn(Z){for(const q in Z)if(Object.prototype.hasOwnProperty.call(Z,q))return!1;return!0}function jt(Z,q){if(Z===q)return!0;const H=Object.keys(Z),Ee=Object.keys(q);for(const se of H){if(!Ee.includes(se))return!1;const Ve=Z[se],Ue=q[se];if(St(Ve)&&St(Ue)){if(!jt(Ve,Ue))return!1}else if(Ve!==Ue)return!1}for(const se of Ee)if(!H.includes(se))return!1;return!0}function St(Z){return null!==Z&&"object"==typeof Z}function $a(Z){const q=[];for(const[H,Ee]of Object.entries(Z))Array.isArray(Ee)?Ee.forEach(se=>{q.push(encodeURIComponent(H)+"="+encodeURIComponent(se))}):q.push(encodeURIComponent(H)+"="+encodeURIComponent(Ee));return q.length?"&"+q.join("&"):""}function Nr(Z){const q={};return Z.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[se,Ve]=Ee.split("=");q[decodeURIComponent(se)]=decodeURIComponent(Ve)}}),q}function wr(Z){const q=Z.indexOf("?");if(!q)return"";const H=Z.indexOf("#",q);return Z.substring(q,H>0?H:void 0)}function or(Z,q){const H=new Fn(Z,q);return H.subscribe.bind(H)}class Fn{constructor(q,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{q(this)}).catch(Ee=>{this.error(Ee)})}next(q){this.forEachObserver(H=>{H.next(q)})}error(q){this.forEachObserver(H=>{H.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,H,Ee){let se;if(void 0===q&&void 0===H&&void 0===Ee)throw new Error("Missing Observer.");se=function(Z,q){if("object"!=typeof Z||null===Z)return!1;for(const H of["next","error","complete"])if(H in Z&&"function"==typeof Z[H])return!0;return!1}(q)?q:{next:q,error:H,complete:Ee},void 0===se.next&&(se.next=zr),void 0===se.error&&(se.error=zr),void 0===se.complete&&(se.complete=zr);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(Ue){}}),this.observers.push(se),Ve}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,q)}sendOne(q,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{H(this.observers[q])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zr(){}function Wt(Z,q=1e3,H=2){const Ee=q*Math.pow(H,Z),se=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+se)}function rc(Z){return Z&&Z._delegate?Z._delegate:Z}},2329:(Je,we,L)=>{"use strict";L.d(we,{Mq:()=>p.getApp,C6:()=>p.getApps});var p=L(8026);(0,p.registerVersion)("firebase","9.6.3","app")},7841:(Je,we,L)=>{"use strict";L.d(we,{Z:()=>p.Z});var p=L(3394);p.Z.registerVersion("firebase","9.6.3","app-compat")},8402:(Je,we,L)=>{"use strict";L.r(we);var p=L(8239),ee=L(3394),k=L(3854),le=L(8026);function ce(_,f){var g={};for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&f.indexOf(E)<0&&(g[E]=_[E]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(E=Object.getOwnPropertySymbols(_);D<E.length;D++)f.indexOf(E[D])<0&&Object.prototype.propertyIsEnumerable.call(_,E[D])&&(g[E[D]]=_[E[D]])}return g}var Ot=L(5422),We=L(3910);const Ns=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},us=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pn=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gn=new Ot.Yd("@firebase/auth");function Ms(_,...f){Gn.logLevel<=Ot.in.ERROR&&Gn.error(`Auth (${le.SDK_VERSION}): ${_}`,...f)}function jt(_,...f){throw wr(_,...f)}function St(_,...f){return wr(_,...f)}function $a(_,f,g){const E=Object.assign(Object.assign({},us()),{[f]:g});return new k.LL("auth","Firebase",E).create(f,{appName:_.name})}function Nr(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&jt(_,"argument-error"),$a(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wr(_,...f){if("string"!=typeof _){const g=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(g,...E)}return pn.create(_,...f)}function Ce(_,f,...g){if(!_)throw wr(f,...g)}function or(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ms(f),new Error(f)}function Fn(_,f){_||or(f)}const Ei=new Map;function Lt(_){Fn(_ instanceof Function,"Expected a class definition");let f=Ei.get(_);return f?(Fn(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Ei.set(_,f),f)}function nt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function De(){return"http:"===$t()||"https:"===$t()}function $t(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ut{constructor(f,g){this.shortDelay=f,this.longDelay=g,Fn(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(De()||(0,k.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ke(_,f){Fn(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Ge{static initialize(f,g,E){this.fetchImpl=f,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},go=new Ut(3e4,6e4);function Wt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function bt(_,f,g,E){return br.apply(this,arguments)}function br(){return(br=(0,p.Z)(function*(_,f,g,E,D={}){return rc(_,D,(0,p.Z)(function*(){let x={},$={};E&&("GET"===f?$=E:x={body:JSON.stringify(E)});const re=(0,k.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),Me=yield _._getAdditionalHeaders();return Me["Content-Type"]="application/json",_.languageCode&&(Me["X-Firebase-Locale"]=_.languageCode),Ge.fetch()(Ee(_,_.config.apiHost,g,re),Object.assign({method:f,headers:Me,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function rc(_,f,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,p.Z)(function*(_,f,g){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},Mr),f);try{const D=new se(_),x=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const $=yield x.json();if("needConfirmation"in $)throw Ve(_,"account-exists-with-different-credential",$);if(x.ok&&!("errorMessage"in $))return $;{const re=x.ok?$.errorMessage:$.error.message,[Me,Se]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Me)throw Ve(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===Me)throw Ve(_,"email-already-in-use",$);const Ze=E[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if(Se)throw $a(_,Ze,Se);jt(_,Ze)}}catch(D){if(D instanceof k.ZR)throw D;jt(_,"network-request-failed")}})).apply(this,arguments)}function q(_,f,g,E){return H.apply(this,arguments)}function H(){return(H=(0,p.Z)(function*(_,f,g,E,D={}){const x=yield bt(_,f,g,E,D);return"mfaPendingCredential"in x&&jt(_,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Ee(_,f,g,E){const D=`${f}${g}?${E}`;return _.config.emulator?Ke(_.config,D):`${_.config.apiScheme}://${D}`}class se{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(St(this.auth,"timeout")),go.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ve(_,f,g){const E={appName:_.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const D=St(_,f,E);return D.customData._tokenResponse=g,D}function Kt(){return(Kt=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function $n(_,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Or(_,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ln(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function mo(){return(mo=(0,p.Z)(function*(_,f=!1){const g=(0,k.m9)(_),E=yield g.getIdToken(f),D=yo(E);Ce(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const x="object"==typeof D.firebase?D.firebase:void 0,$=null==x?void 0:x.sign_in_provider;return{claims:D,token:E,authTime:ln(xl(D.auth_time)),issuedAtTime:ln(xl(D.iat)),expirationTime:ln(xl(D.exp)),signInProvider:$||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function xl(_){return 1e3*Number(_)}function yo(_){const[f,g,E]=_.split(".");if(void 0===f||void 0===g||void 0===E)return Ms("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,k.tV)(g);return D?JSON.parse(D):(Ms("Failed to decode base64 JWT payload"),null)}catch(D){return Ms("Caught error parsing JWT payload as JSON",D),null}}function ai(_,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,p.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(E){throw E instanceof k.ZR&&_o(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function _o({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Xo{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),E)}iteration(){var f=this;return(0,p.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class uh{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ln(this.lastLoginAt),this.creationTime=ln(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Os(_){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(_){var f;const g=_.auth,E=yield _.getIdToken(),D=yield ai(_,Or(g,{idToken:E}));Ce(null==D?void 0:D.users.length,g,"internal-error");const x=D.users[0];_._notifyReloadListener(x);const $=(null===(f=x.providerUserInfo)||void 0===f?void 0:f.length)?ch(x.providerUserInfo):[],re=ar(_.providerData,$),Ze=!!_.isAnonymous&&!(_.email&&x.passwordHash||(null==re?void 0:re.length)),ze={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:re,metadata:new uh(x.createdAt,x.lastLoginAt),isAnonymous:Ze};Object.assign(_,ze)})).apply(this,arguments)}function cs(){return(cs=(0,p.Z)(function*(_){const f=(0,k.m9)(_);yield Os(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ar(_,f){return[..._.filter(E=>!f.some(D=>D.providerId===E.providerId)),...f]}function ch(_){return _.map(f=>{var{providerId:g}=f,E=ce(f,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Fe(){return(Fe=(0,p.Z)(function*(_,f){const g=yield rc(_,{},(0,p.Z)(function*(){const E=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:x}=_.config,$=Ee(_,D,"/v1/token",`key=${x}`),re=yield _._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()($,{method:"POST",headers:re,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ce(f.idToken,"internal-error"),Ce(void 0!==f.idToken,"internal-error"),Ce(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(_){const f=yo(_);return Ce(f,"internal-error"),Ce(void 0!==f.exp,"internal-error"),Ce(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var E=this;return(0,p.Z)(function*(){return Ce(!E.accessToken||E.refreshToken,f,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var E=this;return(0,p.Z)(function*(){const{accessToken:D,refreshToken:x,expiresIn:$}=yield function(_,f){return Fe.apply(this,arguments)}(f,g);E.updateTokensAndExpiration(D,x,Number($))})()}updateTokensAndExpiration(f,g,E){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,g){const{refreshToken:E,accessToken:D,expirationTime:x}=g,$=new dt;return E&&(Ce("string"==typeof E,"internal-error",{appName:f}),$.refreshToken=E),D&&(Ce("string"==typeof D,"internal-error",{appName:f}),$.accessToken=D),x&&(Ce("number"==typeof x,"internal-error",{appName:f}),$.expirationTime=x),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new dt,this.toJSON())}_performRefresh(){return or("not implemented")}}function Ht(_,f){Ce("string"==typeof _||void 0===_,"internal-error",{appName:f})}class In{constructor(f){var{uid:g,auth:E,stsTokenManager:D}=f,x=ce(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Xo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.metadata=new uh(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,p.Z)(function*(){const E=yield ai(g,g.stsTokenManager.getToken(g.auth,f));return Ce(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(f){return function(_){return mo.apply(this,arguments)}(this,f)}reload(){return function(_){return cs.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ce(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new In(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var E=this;return(0,p.Z)(function*(){let D=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),D=!0),g&&(yield Os(E)),yield E.auth._persistUserIfCurrent(E),D&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,p.Z)(function*(){const g=yield f.getIdToken();return yield ai(f,function(_,f){return Kt.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var E,D,x,$,re,Me,Se,Ze;const ze=null!==(E=g.displayName)&&void 0!==E?E:void 0,xt=null!==(D=g.email)&&void 0!==D?D:void 0,Zn=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,Vo=null!==($=g.photoURL)&&void 0!==$?$:void 0,Wp=null!==(re=g.tenantId)&&void 0!==re?re:void 0,Ta=null!==(Me=g._redirectEventId)&&void 0!==Me?Me:void 0,rf=null!==(Se=g.createdAt)&&void 0!==Se?Se:void 0,rd=null!==(Ze=g.lastLoginAt)&&void 0!==Ze?Ze:void 0,{uid:Kp,emailVerified:sf,isAnonymous:cy,providerData:id,stsTokenManager:Yp}=g;Ce(Kp&&Yp,f,"internal-error");const wv=dt.fromJSON(this.name,Yp);Ce("string"==typeof Kp,f,"internal-error"),Ht(ze,f.name),Ht(xt,f.name),Ce("boolean"==typeof sf,f,"internal-error"),Ce("boolean"==typeof cy,f,"internal-error"),Ht(Zn,f.name),Ht(Vo,f.name),Ht(Wp,f.name),Ht(Ta,f.name),Ht(rf,f.name),Ht(rd,f.name);const Ca=new In({uid:Kp,auth:f,email:xt,emailVerified:sf,displayName:ze,isAnonymous:cy,photoURL:Vo,phoneNumber:Zn,tenantId:Wp,stsTokenManager:wv,createdAt:rf,lastLoginAt:rd});return id&&Array.isArray(id)&&(Ca.providerData=id.map(bv=>Object.assign({},bv))),Ta&&(Ca._redirectEventId=Ta),Ca}static _fromIdTokenResponse(f,g,E=!1){return(0,p.Z)(function*(){const D=new dt;D.updateFromServerResponse(g);const x=new In({uid:g.localId,auth:f,stsTokenManager:D,isAnonymous:E});return yield Os(x),x})()}}const on=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,E){var D=this;return(0,p.Z)(function*(){D.storage[g]=E})()}_get(g){var E=this;return(0,p.Z)(function*(){const D=E.storage[g];return void 0===D?null:D})()}_remove(g){var E=this;return(0,p.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return _.type="NONE",_})();function Wn(_,f,g){return`firebase:${_}:${f}:${g}`}class Qt{constructor(f,g,E){this.persistence=f,this.auth=g,this.userKey=E;const{config:D,name:x}=this.auth;this.fullUserKey=Wn(this.userKey,D.apiKey,x),this.fullPersistenceKey=Wn("persistence",D.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,p.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?In._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,p.Z)(function*(){if(g.persistence===f)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,E="authUser"){return(0,p.Z)(function*(){if(!g.length)return new Qt(Lt(on),f,E);const D=(yield Promise.all(g.map(function(){var Se=(0,p.Z)(function*(Ze){if(yield Ze._isAvailable())return Ze});return function(Ze){return Se.apply(this,arguments)}}()))).filter(Se=>Se);let x=D[0]||Lt(on);const $=Wn(E,f.config.apiKey,f.name);let re=null;for(const Se of g)try{const Ze=yield Se._get($);if(Ze){const ze=In._fromJSON(f,Ze);Se!==x&&(re=ze),x=Se;break}}catch(Ze){}const Me=D.filter(Se=>Se._shouldAllowMigration);return x._shouldAllowMigration&&Me.length?(x=Me[0],re&&(yield x._set($,re.toJSON())),yield Promise.all(g.map(function(){var Se=(0,p.Z)(function*(Ze){if(Ze!==x)try{yield Ze._remove($)}catch(ze){}});return function(Ze){return Se.apply(this,arguments)}}())),new Qt(x,f,E)):new Qt(x,f,E)})()}}function Ln(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Fs(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ea(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Fi(f))return"Blackberry";if(Ir(f))return"Webos";if(pt(f))return"Safari";if((f.includes("chrome/")||Ha(f))&&!f.includes("edge/"))return"Chrome";if(Eo(f))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ea(_=(0,k.z$)()){return/firefox\//i.test(_)}function pt(_=(0,k.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ha(_=(0,k.z$)()){return/crios\//i.test(_)}function Fs(_=(0,k.z$)()){return/iemobile/i.test(_)}function Eo(_=(0,k.z$)()){return/android/i.test(_)}function Fi(_=(0,k.z$)()){return/blackberry/i.test(_)}function Ir(_=(0,k.z$)()){return/webos/i.test(_)}function Li(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function ta(_=(0,k.z$)()){return Li(_)||Eo(_)||Ir(_)||Fi(_)||/windows phone/i.test(_)||Fs(_)}function ic(_,f=[]){let g;switch(_){case"Browser":g=Ln((0,k.z$)());break;case"Worker":g=`${Ln((0,k.z$)())}-${_}`;break;default:g=_}const E=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${E}`}class dh{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ls(this),this.idTokenSubscription=new ls(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var E=this;return g&&(this._popupRedirectResolver=Lt(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var D,x;if(!E._deleted&&(E.persistenceManager=yield Qt.create(E,f),!E._deleted)){if(null===(D=E._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch($){}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(x=E.currentUser)||void 0===x?void 0:x.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,p.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,p.Z)(function*(){var E;let D=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,$=null==D?void 0:D._redirectEventId,re=yield g.tryRedirectSignIn(f);(!x||x===$)&&(null==re?void 0:re.user)&&(D=re.user)}return D?D._redirectEventId?(Ce(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===D._redirectEventId?g.directlySetCurrentUser(D):g.reloadAndSetCurrentUserOrClear(D)):g.reloadAndSetCurrentUserOrClear(D):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,p.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(D){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,p.Z)(function*(){try{yield Os(f)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,p.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,p.Z)(function*(){const E=f?(0,k.m9)(f):null;return E&&Ce(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,p.Z)(function*(){if(!g._deleted)return f&&Ce(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,p.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,p.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(Lt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,E){return this.registerStateListener(this.authStateSubscription,f,g,E)}onIdTokenChanged(f,g,E){return this.registerStateListener(this.idTokenSubscription,f,g,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var E=this;return(0,p.Z)(function*(){const D=yield E.getOrInitRedirectPersistenceManager(g);return null===f?D.removeCurrentUser():D.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const E=f&&Lt(f)||g._popupRedirectResolver;Ce(E,g,"argument-error"),g.redirectPersistenceManager=yield Qt.create(g,[Lt(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,p.Z)(function*(){var E,D;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===f?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,p.Z)(function*(){if(f===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,E,D){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce($,this,"internal-error"),$.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,E,D):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ic(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,p.Z)(function*(){const g={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(g["X-Firebase-gmpid"]=f.app.options.appId),g})()}}function Rn(_){return(0,k.m9)(_)}class ls{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mn(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Vi(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Ls{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return or("not implemented")}_getIdTokenResponse(f){return or("not implemented")}_linkToIdToken(f,g){return or("not implemented")}_getReauthenticationResolver(f){return or("not implemented")}}function qa(_,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:resetPassword",Wt(_,f))})).apply(this,arguments)}function ci(_,f){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Tm(_,f){return ia.apply(this,arguments)}function ia(){return(ia=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:update",Wt(_,f))})).apply(this,arguments)}function hh(){return(hh=(0,p.Z)(function*(_,f){return q(_,"POST","/v1/accounts:signInWithPassword",Wt(_,f))})).apply(this,arguments)}function Nl(_,f){return fh.apply(this,arguments)}function fh(){return(fh=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:sendOobCode",Wt(_,f))})).apply(this,arguments)}function Cm(_,f){return ph.apply(this,arguments)}function ph(){return(ph=(0,p.Z)(function*(_,f){return Nl(_,f)})).apply(this,arguments)}function Dm(_,f){return fp.apply(this,arguments)}function fp(){return(fp=(0,p.Z)(function*(_,f){return Nl(_,f)})).apply(this,arguments)}function gh(_,f){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,p.Z)(function*(_,f){return Nl(_,f)})).apply(this,arguments)}function mh(_,f){return yh.apply(this,arguments)}function yh(){return(yh=(0,p.Z)(function*(_,f){return Nl(_,f)})).apply(this,arguments)}function Za(){return(Za=(0,p.Z)(function*(_,f){return q(_,"POST","/v1/accounts:signInWithEmailLink",Wt(_,f))})).apply(this,arguments)}function za(){return(za=(0,p.Z)(function*(_,f){return q(_,"POST","/v1/accounts:signInWithEmailLink",Wt(_,f))})).apply(this,arguments)}class sa extends Ls{constructor(f,g,E,D=null){super("password",E),this._email=f,this._password=g,this._tenantId=D}static _fromEmailAndPassword(f,g){return new sa(f,g,"password")}static _fromEmailAndCode(f,g,E=null){return new sa(f,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,p.Z)(function*(){switch(g.signInMethod){case"password":return function(_,f){return hh.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(_,f){return Za.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:jt(f,"internal-error")}})()}_linkToIdToken(f,g){var E=this;return(0,p.Z)(function*(){switch(E.signInMethod){case"password":return ci(f,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(_,f){return za.apply(this,arguments)}(f,{idToken:g,email:E._email,oobCode:E._password});default:jt(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Us(_,f){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,p.Z)(function*(_,f){return q(_,"POST","/v1/accounts:signInWithIdp",Wt(_,f))})).apply(this,arguments)}class Cn extends Ls{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Cn(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):jt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:D}=g,x=ce(g,["providerId","signInMethod"]);if(!E||!D)return null;const $=new Cn(E,D);return $.idToken=x.idToken||void 0,$.accessToken=x.accessToken||void 0,$.secret=x.secret,$.nonce=x.nonce,$.pendingToken=x.pendingToken||null,$}_getIdTokenResponse(f){return Us(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,Us(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Us(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function Bi(_,f){return sc.apply(this,arguments)}function sc(){return(sc=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:sendVerificationCode",Wt(_,f))})).apply(this,arguments)}function vh(){return(vh=(0,p.Z)(function*(_,f){return q(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,f))})).apply(this,arguments)}function kl(){return(kl=(0,p.Z)(function*(_,f){const g=yield q(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,f));if(g.temporaryProof)throw Ve(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Wa={USER_NOT_FOUND:"user-not-found"};function oa(){return(oa=(0,p.Z)(function*(_,f){return q(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Wa)})).apply(this,arguments)}class bo extends Ls{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new bo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new bo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(_,f){return vh.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(_,f){return kl.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(_,f){return oa.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:E,verificationCode:D}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:E,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:x}=f;return E||g||D||x?new bo({verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:x}):null}}class Vs{constructor(f){var g,E,D,x,$,re;const Me=(0,k.zd)((0,k.pd)(f)),Se=null!==(g=Me.apiKey)&&void 0!==g?g:null,Ze=null!==(E=Me.oobCode)&&void 0!==E?E:null,ze=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Me.mode)&&void 0!==D?D:null);Ce(Se&&Ze&&ze,"argument-error"),this.apiKey=Se,this.operation=ze,this.code=Ze,this.continueUrl=null!==(x=Me.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==($=Me.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(re=Me.tenantId)&&void 0!==re?re:null}static parseLink(f){const g=function(_){const f=(0,k.zd)((0,k.pd)(_)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,E=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(E?(0,k.zd)((0,k.pd)(E)).link:null)||E||g||f||_}(f);try{return new Vs(g)}catch(E){return null}}}let ds=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,E){return sa._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const D=Vs.parseLink(E);return Ce(D,"argument-error"),sa._fromEmailAndCode(g,D.code,D.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Gr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ji extends Gr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Xt extends ji{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Ce("providerId"in g&&"signInMethod"in g,"argument-error"),Cn._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ce(f.idToken||f.accessToken,"argument-error"),Cn._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Xt.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Xt.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:D,pendingToken:x,nonce:$,providerId:re}=f;if(!E&&!D&&!g&&!x||!re)return null;try{return new Xt(re)._credential({idToken:g,accessToken:E,nonce:$,pendingToken:x})}catch(Me){return null}}}let ac=(()=>{class _ extends ji{constructor(){super("facebook.com")}static credential(g){return Cn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ya=(()=>{class _ extends ji{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Cn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:D}=g;if(!E&&!D)return null;try{return _.credential(E,D)}catch(x){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Eh=(()=>{class _ extends ji{constructor(){super("github.com")}static credential(g){return Cn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class aa extends Ls{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Us(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,Us(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Us(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:D,pendingToken:x}=g;return E&&D&&x&&E===D?new aa(E,x):null}static _create(f,g){return new aa(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Io extends Gr{constructor(f){Ce(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Io.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Io.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=aa.fromJSON(f);return Ce(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:E}=f;if(!g||!E)return null;try{return aa._create(E,g)}catch(D){return null}}}let kr=(()=>{class _ extends ji{constructor(){super("twitter.com")}static credential(g,E){return Cn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:D}=g;if(!E||!D)return null;try{return _.credential(E,D)}catch(x){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function bh(_,f){return $i.apply(this,arguments)}function $i(){return($i=(0,p.Z)(function*(_,f){return q(_,"POST","/v1/accounts:signUp",Wt(_,f))})).apply(this,arguments)}class qn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,E,D=!1){return(0,p.Z)(function*(){const x=yield In._fromIdTokenResponse(f,E,D),$=ur(E);return new qn({user:x,providerId:$,_tokenResponse:E,operationType:g})})()}static _forOperation(f,g,E){return(0,p.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const D=ur(E);return new qn({user:f,providerId:D,_tokenResponse:E,operationType:g})})()}}function ur(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ua(){return(ua=(0,p.Z)(function*(_){var f;const g=Rn(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new qn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield bh(g,{returnSecureToken:!0}),D=yield qn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class Qa extends k.ZR{constructor(f,g,E,D){var x;super(g.code,g.message),this.operationType=E,this.user=D,Object.setPrototypeOf(this,Qa.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,g,E,D){return new Qa(f,g,E,D)}}function hs(_,f,g,E){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Qa._fromErrorAndOperation(_,x,f,E):x})}function Ja(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function at(){return(at=(0,p.Z)(function*(_,f){const g=(0,k.m9)(_);yield Bs(!0,g,f);const{providerUserInfo:E}=yield $n(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),D=Ja(E||[]);return g.providerData=g.providerData.filter(x=>D.has(x.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ih(_,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,p.Z)(function*(_,f,g=!1){const E=yield ai(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return qn._forOperation(_,"link",E)})).apply(this,arguments)}function Bs(_,f,g){return To.apply(this,arguments)}function To(){return(To=(0,p.Z)(function*(_,f,g){yield Os(f);const D=!1===_?"provider-already-linked":"no-such-provider";Ce(Ja(f.providerData).has(g)===_,f.auth,D)})).apply(this,arguments)}function lc(_,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,p.Z)(function*(_,f,g=!1){const{auth:E}=_,D="reauthenticate";try{const x=yield ai(_,hs(E,D,f,_),g);Ce(x.idToken,E,"internal-error");const $=yo(x.idToken);Ce($,E,"internal-error");const{sub:re}=$;return Ce(_.uid===re,E,"user-mismatch"),qn._forOperation(_,D,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&jt(E,"user-mismatch"),x}})).apply(this,arguments)}function Fl(_,f){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,p.Z)(function*(_,f,g=!1){const E="signIn",D=yield hs(_,E,f),x=yield qn._fromIdTokenResponse(_,E,D);return g||(yield _._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Ct(_,f){return dc.apply(this,arguments)}function dc(){return(dc=(0,p.Z)(function*(_,f){return Fl(Rn(_),f)})).apply(this,arguments)}function Dn(_,f){return hc.apply(this,arguments)}function hc(){return(hc=(0,p.Z)(function*(_,f){const g=(0,k.m9)(_);return yield Bs(!1,g,f.providerId),Ih(g,f)})).apply(this,arguments)}function Co(_,f){return li.apply(this,arguments)}function li(){return(li=(0,p.Z)(function*(_,f){return lc((0,k.m9)(_),f)})).apply(this,arguments)}function Xa(_,f){return js.apply(this,arguments)}function js(){return(js=(0,p.Z)(function*(_,f){return q(_,"POST","/v1/accounts:signInWithCustomToken",Wt(_,f))})).apply(this,arguments)}function fc(){return(fc=(0,p.Z)(function*(_,f){const g=Rn(_),E=yield Xa(g,{token:f,returnSecureToken:!0}),D=yield qn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class Hi{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?qi._fromServerResponse(f,g):jt(f,"internal-error")}}class qi extends Hi{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new qi(g)}}function Yn(_,f,g){var E;Ce((null===(E=g.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),Ce(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ce(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Ce(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ca(){return(ca=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_),D={requestType:"PASSWORD_RESET",email:f};g&&Yn(E,D,g),yield Dm(E,D)})).apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(_,f,g){yield qa((0,k.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function pc(){return(pc=(0,p.Z)(function*(_,f){yield Tm((0,k.m9)(_),{oobCode:f})})).apply(this,arguments)}function gc(_,f){return la.apply(this,arguments)}function la(){return(la=(0,p.Z)(function*(_,f){const g=(0,k.m9)(_),E=yield qa(g,{oobCode:f}),D=E.requestType;switch(Ce(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(E.mfaInfo,g,"internal-error");default:Ce(E.email,g,"internal-error")}let x=null;return E.mfaInfo&&(x=Hi._fromServerResponse(Rn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:x},operation:D}})).apply(this,arguments)}function da(){return(da=(0,p.Z)(function*(_,f){const{data:g}=yield gc((0,k.m9)(_),f);return g.email})).apply(this,arguments)}function yc(){return(yc=(0,p.Z)(function*(_,f,g){const E=Rn(_),D=yield bh(E,{returnSecureToken:!0,email:f,password:g}),x=yield qn._fromIdTokenResponse(E,"signIn",D);return yield E._updateCurrentUser(x.user),x})).apply(this,arguments)}function gs(){return(gs=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_),D={requestType:"EMAIL_SIGNIN",email:f};Ce(g.handleCodeInApp,E,"argument-error"),g&&Yn(E,D,g),yield gh(E,D)})).apply(this,arguments)}function eu(){return(eu=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_),D=ds.credentialWithLink(f,g||nt());return Ce(D._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ct(E,D)})).apply(this,arguments)}function Am(_,f){return vc.apply(this,arguments)}function vc(){return(vc=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:createAuthUri",Wt(_,f))})).apply(this,arguments)}function yp(){return(yp=(0,p.Z)(function*(_,f){const E={identifier:f,continueUri:De()?nt():"http://localhost"},{signinMethods:D}=yield Am((0,k.m9)(_),E);return D||[]})).apply(this,arguments)}function Wr(){return(Wr=(0,p.Z)(function*(_,f){const g=(0,k.m9)(_),D={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Yn(g.auth,D,f);const{email:x}=yield Cm(g.auth,D);x!==_.email&&(yield _.reload())})).apply(this,arguments)}function tu(){return(tu=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Yn(E.auth,x,g);const{email:$}=yield mh(E.auth,x);$!==_.email&&(yield _.reload())})).apply(this,arguments)}function _p(_,f){return nu.apply(this,arguments)}function nu(){return(nu=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Un(){return(Un=(0,p.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const E=(0,k.m9)(_),x={idToken:yield E.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},$=yield ai(E,_p(E.auth,x));E.displayName=$.displayName||null,E.photoURL=$.photoUrl||null;const re=E.providerData.find(({providerId:Me})=>"password"===Me);re&&(re.displayName=E.displayName,re.photoURL=E.photoURL),yield E._updateTokensIfNecessary($)})).apply(this,arguments)}function ru(_,f,g){return iu.apply(this,arguments)}function iu(){return(iu=(0,p.Z)(function*(_,f,g){const{auth:E}=_,x={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const $=yield ai(_,ci(E,x));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Do{constructor(f,g,E={}){this.isNewUser=f,this.providerId=g,this.profile=E}}class bc extends Do{constructor(f,g,E,D){super(f,g,E),this.username=D}}class Hs extends Do{constructor(f,g){super(f,"facebook.com",g)}}class So extends bc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class xm extends Do{constructor(f,g){super(f,"google.com",g)}}class vp extends bc{constructor(f,g,E){super(f,"twitter.com",g,E)}}function cr(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(_){var f,g;if(!_)return null;const{providerId:E}=_,D=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},x=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const $=null===(g=null===(f=yo(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new Do(x,"anonymous"!==$&&"custom"!==$?$:null)}if(!E)return null;switch(E){case"facebook.com":return new Hs(x,D);case"github.com":return new So(x,D);case"google.com":return new xm(x,D);case"twitter.com":return new vp(x,D,_.screenName||null);case"custom":case"anonymous":return new Do(x,null);default:return new Do(x,E,D)}}(g)}class Ii{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Ii("enroll",f)}static _fromMfaPendingCredential(f){return new Ii("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,E;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ii._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return Ii._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Cc{constructor(f,g,E){this.session=f,this.hints=g,this.signInResolver=E}static _fromError(f,g){const E=Rn(f),D=g.customData._serverResponse,x=(D.mfaInfo||[]).map(re=>Hi._fromServerResponse(E,re));Ce(D.mfaPendingCredential,E,"internal-error");const $=Ii._fromMfaPendingCredential(D.mfaPendingCredential);return new Cc($,x,function(){var re=(0,p.Z)(function*(Me){const Se=yield Me._process(E,$);delete D.mfaInfo,delete D.mfaPendingCredential;const Ze=Object.assign(Object.assign({},D),{idToken:Se.idToken,refreshToken:Se.refreshToken});switch(g.operationType){case"signIn":const ze=yield qn._fromIdTokenResponse(E,g.operationType,Ze);return yield E._updateCurrentUser(ze.user),ze;case"reauthenticate":return Ce(g.user,E,"internal-error"),qn._forOperation(g.user,g.operationType,Ze);default:jt(E,"internal-error")}});return function(Me){return re.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,p.Z)(function*(){return g.signInResolver(f)})()}}function ou(_,f){return bt(_,"POST","/v2/accounts/mfaEnrollment:start",Wt(_,f))}class Sc{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>Hi._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new Sc(f)}getSession(){var f=this;return(0,p.Z)(function*(){return Ii._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var E=this;return(0,p.Z)(function*(){const D=f,x=yield E.getSession(),$=yield ai(E.user,D._process(E.user.auth,x,g));return yield E.user._updateTokensIfNecessary($),E.user.reload()})()}unenroll(f){var g=this;return(0,p.Z)(function*(){const E="string"==typeof f?f:f.uid,D=yield g.user.getIdToken(),x=yield ai(g.user,function(_,f){return bt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(_,f))}(g.user.auth,{idToken:D,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==E),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const xo=new WeakMap,ha="__sak";class _n{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ha,"1"),this.storage.removeItem(ha),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const qs=(()=>{class _ extends _n{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,k.z$)();return pt(_)||Li(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ta(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const D=this.storage.getItem(E),x=this.localCache[E];D!==x&&g(E,x,D)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((re,Me,Se)=>{this.notifyListeners(re,Se)});const D=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(D);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!E)return}const x=()=>{const re=this.storage.getItem(D);!E&&this.localCache[D]===re||this.notifyListeners(D,re)},$=this.storage.getItem(D);(0,k.w1)()&&10===document.documentMode&&$!==g.newValue&&g.newValue!==g.oldValue?setTimeout(x,10):x()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const x of Array.from(D))x(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var D=()=>super._set,x=this;return(0,p.Z)(function*(){yield D().call(x,g,E),x.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,D=this;return(0,p.Z)(function*(){const x=yield E().call(D,g);return D.localCache[g]=JSON.stringify(x),x})()}_remove(g){var E=()=>super._remove,D=this;return(0,p.Z)(function*(){yield E().call(D,g),delete D.localCache[g]})()}}return _.type="LOCAL",_})(),an=(()=>{class _ extends _n{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return _.type="SESSION",_})();let bp=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(x=>x.isListeningto(g));if(E)return E;const D=new _(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,p.Z)(function*(){const D=g,{eventId:x,eventType:$,data:re}=D.data,Me=E.handlersMap[$];if(!(null==Me?void 0:Me.size))return;D.ports[0].postMessage({status:"ack",eventId:x,eventType:$});const Se=Array.from(Me).map(function(){var ze=(0,p.Z)(function*(xt){return xt(D.origin,re)});return function(xt){return ze.apply(this,arguments)}}()),Ze=yield function(_){return Promise.all(_.map(function(){var f=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return f.apply(this,arguments)}}()))}(Se);D.ports[0].postMessage({status:"done",eventId:x,eventType:$,response:Ze})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function fa(_="",f=10){let g="";for(let E=0;E<f;E++)g+=Math.floor(10*Math.random());return _+g}class Ti{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,E=50){var D=this;return(0,p.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let $,re;return new Promise((Me,Se)=>{const Ze=fa("",20);x.port1.start();const ze=setTimeout(()=>{Se(new Error("unsupported_event"))},E);re={messageChannel:x,onMessage(xt){const Zn=xt;if(Zn.data.eventId===Ze)switch(Zn.data.status){case"ack":clearTimeout(ze),$=setTimeout(()=>{Se(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Me(Zn.data.response);break;default:clearTimeout(ze),clearTimeout($),Se(new Error("invalid_response"))}}},D.handlers.add(re),x.port1.addEventListener("message",re.onMessage),D.target.postMessage({eventType:f,eventId:Ze,data:g},[x.port2])}).finally(()=>{re&&D.removeMessageHandler(re)})})()}}function Pn(){return window}function xc(){return void 0!==Pn().WorkerGlobalScope&&"function"==typeof Pn().importScripts}function Po(){return(Po=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Zs="firebaseLocalStorageDb",ga="firebaseLocalStorage",uu="fbase_key";class Lr{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Zi(_,f){return _.transaction([ga],f?"readwrite":"readonly").objectStore(ga)}function ht(){const _=indexedDB.open(Zs,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(ga,{keyPath:uu})}catch(D){g(D)}}),_.addEventListener("success",(0,p.Z)(function*(){const E=_.result;E.objectStoreNames.contains(ga)?f(E):(E.close(),yield function(){const _=indexedDB.deleteDatabase(Zs);return new Lr(_).toPromise()}(),f(yield ht()))}))})}function zi(_,f,g){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,p.Z)(function*(_,f,g){const E=Zi(_,!0).put({[uu]:f,value:g});return new Lr(E).toPromise()})).apply(this,arguments)}function Ph(){return(Ph=(0,p.Z)(function*(_,f){const g=Zi(_,!1).get(f),E=yield new Lr(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Tp(_,f){const g=Zi(_,!0).delete(f);return new Lr(g).toPromise()}const en=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield ht()),g.db})()}_withRetries(g){var E=this;return(0,p.Z)(function*(){let D=0;for(;;)try{const x=yield E._openDb();return yield g(x)}catch(x){if(D++>3)throw x;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return xc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=bp._getInstance(xc()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,p.Z)(function*(D,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(D,x){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,p.Z)(function*(D,x){return["keyChanged"]});return function(D,x){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var E,D;if(g.activeServiceWorker=yield function(){return Po.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ti(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(E=x[0])||void 0===E?void 0:E.fulfilled)&&(null===(D=x[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,p.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ht();return yield zi(g,ha,"1"),yield Tp(g,ha),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,p.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var D=this;return(0,p.Z)(function*(){return D._withPendingWrite((0,p.Z)(function*(){return yield D._withRetries(x=>zi(x,g,E)),D.localCache[g]=E,D.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,p.Z)(function*(){const D=yield E._withRetries(x=>function(_,f){return Ph.apply(this,arguments)}(x,g));return E.localCache[g]=D,D})()}_remove(g){var E=this;return(0,p.Z)(function*(){return E._withPendingWrite((0,p.Z)(function*(){return yield E._withRetries(D=>Tp(D,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const E=yield g._withRetries($=>{const re=Zi($,!1).getAll();return new Lr(re).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const D=[],x=new Set;for(const{fbase_key:$,value:re}of E)x.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(re)&&(g.notifyListeners($,re),D.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!x.has($)&&(g.notifyListeners($,null),D.push($));return D})()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const x of Array.from(D))x(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Rc(_,f){return bt(_,"POST","/v2/accounts/mfaSignIn:start",Wt(_,f))}function Mh(){return(Mh=(0,p.Z)(function*(_){return(yield bt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $l(_){return new Promise((f,g)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=f,E.onerror=D=>{const x=St("internal-error");x.customData=D,g(x)},E.type="text/javascript",E.charset="UTF-8",function(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(E)})}function Oh(_){return`__${_}${Math.floor(1e6*Math.random())}`}const cu=1e12;class lr{constructor(f){this.auth=f,this.counter=cu,this._widgets=new Map}render(f,g){const E=this.counter;return this._widgets.set(E,new Ws(f,this.auth.name,g||{})),this.counter++,E}reset(f){var g;const E=f||cu;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(f){var g;return(null===(g=this._widgets.get(f||cu))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,p.Z)(function*(){var E;return null===(E=g._widgets.get(f||cu))||void 0===E||E.execute(),""})()}}class Ws{constructor(f,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof f?document.getElementById(f):f;Ce(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nn=Oh("rcb"),Pc=new Ut(3e4,6e4);class du{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Pn().grecaptcha}load(f,g=""){return Ce((_=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Pn().grecaptcha):new Promise((E,D)=>{const x=Pn().setTimeout(()=>{D(St(f,"network-request-failed"))},Pc.get());Pn()[Nn]=()=>{Pn().clearTimeout(x),delete Pn()[Nn];const re=Pn().grecaptcha;if(!re)return void D(St(f,"internal-error"));const Me=re.render;re.render=(Se,Ze)=>{const ze=Me(Se,Ze);return this.counter++,ze},this.hostLanguage=g,E(re)},$l(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Nn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),D(St(f,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Pn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hi{load(f){return(0,p.Z)(function*(){return new lr(f)})()}clearedOneInstance(){}}const fi="recaptcha",Gi={theme:"light",type:"image"};class No{constructor(f,g=Object.assign({},Gi),E){this.parameters=g,this.type=fi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(E),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof f?document.getElementById(f):f;Ce(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hi:new du,this.validateStartingState()}verify(){var f=this;return(0,p.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(g)||new Promise(x=>{const $=re=>{!re||(f.tokenChangeListeners.delete($),x(re))};f.tokenChangeListeners.add($),f.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof f)f(g);else if("string"==typeof f){const E=Pn()[f];"function"==typeof E&&E(g)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,p.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,p.Z)(function*(){Ce(De()&&!xc(),f.auth,"internal-error"),yield function(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(_){return Mh.apply(this,arguments)}(f.auth);Ce(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hl{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=bo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function dr(){return(dr=(0,p.Z)(function*(_,f,g){const E=Rn(_),D=yield S(E,f,(0,k.m9)(g));return new Hl(D,x=>Ct(E,x))})).apply(this,arguments)}function ql(){return(ql=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_);yield Bs(!1,E,"phone");const D=yield S(E.auth,f,(0,k.m9)(g));return new Hl(D,x=>Dn(E,x))})).apply(this,arguments)}function I(){return(I=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_),D=yield S(E.auth,f,(0,k.m9)(g));return new Hl(D,x=>Co(E,x))})).apply(this,arguments)}function S(_,f,g){return P.apply(this,arguments)}function P(){return(P=(0,p.Z)(function*(_,f,g){var E;const D=yield g.verify();try{let x;if(Ce("string"==typeof D,_,"argument-error"),Ce(g.type===fi,_,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const $=x.session;if("phoneNumber"in x)return Ce("enroll"===$.type,_,"internal-error"),(yield ou(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Ce("signin"===$.type,_,"internal-error");const re=(null===(E=x.multiFactorHint)||void 0===E?void 0:E.uid)||x.multiFactorUid;return Ce(re,_,"missing-multi-factor-info"),(yield Rc(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield Bi(_,{phoneNumber:x.phoneNumber,recaptchaToken:D});return $}}finally{g._reset()}})).apply(this,arguments)}function K(){return(K=(0,p.Z)(function*(_,f){yield Ih((0,k.m9)(_),f)})).apply(this,arguments)}let ue=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Rn(g)}verifyPhoneNumber(g,E){return S(this.auth,g,(0,k.m9)(E))}static credential(g,E){return bo._fromVerification(g,E)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:D}=g;return E&&D?bo._fromTokenResponse(E,D):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Te(_,f){return f?Lt(f):(Ce(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Be extends Ls{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Us(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Us(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Us(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function je(_){return Fl(_.auth,new Be(_),_.bypassAuthState)}function Vt(_){const{auth:f,user:g}=_;return Ce(g,f,"internal-error"),lc(g,new Be(_),_.bypassAuthState)}function Zt(_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,p.Z)(function*(_){const{auth:f,user:g}=_;return Ce(g,f,"internal-error"),Ih(g,new Be(_),_.bypassAuthState)})).apply(this,arguments)}class Jn{constructor(f,g,E,D,x=!1){this.auth=f,this.resolver=E,this.user=D,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,p.Z)(function*(E,D){f.pendingPromise={resolve:E,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(E,D){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,p.Z)(function*(){const{urlResponse:E,sessionId:D,postBody:x,tenantId:$,error:re,type:Me}=f;if(re)return void g.reject(re);const Se={auth:g.auth,requestUri:E,sessionId:D,tenantId:$||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Me)(Se))}catch(Ze){g.reject(Ze)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return je;case"linkViaPopup":case"linkViaRedirect":return Zt;case"reauthViaPopup":case"reauthViaRedirect":return Vt;default:jt(this.auth,"internal-error")}}resolve(f){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xn=new Ut(2e3,1e4);function Mo(){return(Mo=(0,p.Z)(function*(_,f,g){const E=Rn(_);Nr(_,f,Gr);const D=Te(E,g);return new Zl(E,"signInViaPopup",f,D).executeNotNull()})).apply(this,arguments)}function vs(){return(vs=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_);Nr(E.auth,f,Gr);const D=Te(E.auth,g);return new Zl(E.auth,"reauthViaPopup",f,D,E).executeNotNull()})).apply(this,arguments)}function vt(){return(vt=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_);Nr(E.auth,f,Gr);const D=Te(E.auth,g);return new Zl(E.auth,"linkViaPopup",f,D,E).executeNotNull()})).apply(this,arguments)}let Zl=(()=>{class _ extends Jn{constructor(g,E,D,x,$){super(g,E,x,$),this.provider=D,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const E=yield g.execute();return Ce(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,p.Z)(function*(){Fn(1===g.filter.length,"Popup operations only handle one event");const E=fa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(St(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(St(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,D;this.pollId=(null===(D=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(St(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Xn.get())};g()}}return _.currentPopupAction=null,_})();const hu=new Map;class fu extends Jn{constructor(f,g,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,p.Z)(function*(){let E=hu.get(g.auth._key());if(!E){try{const x=(yield function(_,f){return Ap.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;E=()=>Promise.resolve(x)}catch(D){E=()=>Promise.reject(D)}hu.set(g.auth._key(),E)}return g.bypassAuthState||hu.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,E=this;return(0,p.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(E,f);if("unknown"!==f.type){if(f.eventId){const D=yield E.auth._redirectUserForId(f.eventId);if(D)return E.user=D,g().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Ap(){return(Ap=(0,p.Z)(function*(_,f){const g=pu(f),E=ko(_);if(!(yield E._isAvailable()))return!1;const D="true"===(yield E._get(g));return yield E._remove(g),D})).apply(this,arguments)}function Mn(_,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(_,f){return ko(_)._set(pu(f),"true")})).apply(this,arguments)}function ko(_){return Lt(_._redirectPersistence)}function pu(_){return Wn("pendingRedirect",_.config.apiKey,_.name)}function Di(){return(Di=(0,p.Z)(function*(_,f,g){const E=Rn(_);Nr(_,f,Gr);const D=Te(E,g);return yield Mn(D,E),D._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Ki(){return(Ki=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_);Nr(E.auth,f,Gr);const D=Te(E.auth,g);yield Mn(D,E.auth);const x=yield wa(E);return D._openRedirect(E.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Fh(){return(Fh=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_);Nr(E.auth,f,Gr);const D=Te(E.auth,g);yield Bs(!1,E,f.providerId),yield Mn(D,E.auth);const x=yield wa(E);return D._openRedirect(E.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Oc(){return(Oc=(0,p.Z)(function*(_,f){return yield Rn(_)._initializationPromise,Ea(_,f,!1)})).apply(this,arguments)}function Ea(_,f){return gu.apply(this,arguments)}function gu(){return(gu=(0,p.Z)(function*(_,f,g=!1){const E=Rn(_),D=Te(E,f),$=yield new fu(E,D,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield E._persistUserIfCurrent($.user),yield E._setRedirectUser(null,f)),$})).apply(this,arguments)}function wa(_){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,p.Z)(function*(_){const f=fa(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class kc{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(g=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uv(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var E;if(f.error&&!uv(f)){const D=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(St(this.auth,D))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const E=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ba(f))}saveEventToCache(f){this.cachedEventUids.add(ba(f)),this.lastProcessedEventTime=Date.now()}}function ba(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function uv({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function xp(_){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,p.Z)(function*(_,f={}){return bt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Uh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wl=/^https?/;function Fo(){return(Fo=(0,p.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield xp(_);for(const g of f)try{if(Rp(g))return}catch(E){}jt(_,"unauthorized-domain")})).apply(this,arguments)}function Rp(_){const f=nt(),{protocol:g,hostname:E}=new URL(f);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===E?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===E}if(!Wl.test(g))return!1;if(Uh.test(_))return E===_;const D=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(E)}const Ia=new Ut(3e4,6e4);function Kl(){const _=Pn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Vh=null;function Bh(_){return Vh=Vh||function(_){return new Promise((f,g)=>{var E,D,x;function $(){Kl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Kl(),g(St(_,"network-request-failed"))},timeout:Ia.get()})}if(null===(D=null===(E=Pn().gapi)||void 0===E?void 0:E.iframes)||void 0===D?void 0:D.Iframe)f(gapi.iframes.getContext());else{if(!(null===(x=Pn().gapi)||void 0===x?void 0:x.load)){const re=Oh("iframefcb");return Pn()[re]=()=>{gapi.load?$():g(St(_,"network-request-failed"))},$l(`https://apis.google.com/js/api.js?onload=${re}`).catch(Me=>g(Me))}$()}}).catch(f=>{throw Vh=null,f})}(_),Vh}const Pp=new Ut(5e3,15e3),jm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cv(_){const f=_.config;Ce(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?Ke(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:_.name,v:le.SDK_VERSION},D=mu.get(_.config.apiHost);D&&(E.eid=D);const x=_._getFrameworks();return x.length&&(E.fw=x.join(",")),`${g}?${(0,k.xO)(E).slice(1)}`}function Np(){return(Np=(0,p.Z)(function*(_){const f=yield Bh(_),g=Pn().gapi;return Ce(g,_,"internal-error"),f.open({where:document.body,url:cv(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jm,dontclear:!0},E=>new Promise(function(){var D=(0,p.Z)(function*(x,$){yield E.restyle({setHideOnLeave:!1});const re=St(_,"network-request-failed"),Me=Pn().setTimeout(()=>{$(re)},Pp.get());function Se(){Pn().clearTimeout(Me),x(E)}E.ping(Se).then(Se,()=>{$(re)})});return function(x,$){return D.apply(this,arguments)}}()))})).apply(this,arguments)}const $m={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Op{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function jh(_,f,g,E,D,x){Ce(_.config.authDomain,_,"auth-domain-config-required"),Ce(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:E,v:le.SDK_VERSION,eventId:D};if(f instanceof Gr){f.setDefaultLanguage(_.languageCode),$.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||($.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Me,Se]of Object.entries(x||{}))$[Me]=Se}if(f instanceof ji){const Me=f.getScopes().filter(Se=>""!==Se);Me.length>0&&($.scopes=Me.join(","))}_.tenantId&&($.tid=_.tenantId);const re=$;for(const Me of Object.keys(re))void 0===re[Me]&&delete re[Me];return`${function({config:_}){return _.emulator?Ke(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(re).slice(1)}`}const Hh="webStorageSupport";class Ql extends class{constructor(f){this.factorId=f}_process(f,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,E);case"signin":return this._finalizeSignIn(f,g.credential);default:return or("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ql(f)}_finalizeEnroll(f,g,E){return function(_,f){return bt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(_,f))}(f,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(_,f){return bt(_,"POST","/v2/accounts/mfaSignIn:finalize",Wt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jl=(()=>{class _{constructor(){}static assertion(g){return Ql._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _,Uc="@firebase/auth";class Xl{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(E=>{var D;f((null===(D=E)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qs(){return window}function Vc(){return(Vc=(0,p.Z)(function*(_,f,g){var E;const{BuildInfo:D}=Qs();Fn(f.sessionId,"AuthEvent did not contain a session ID");const x=yield zh(f.sessionId),$={};return Li()?$.ibi=D.packageName:Eo()?$.apn=D.packageName:jt(_,"operation-not-supported-in-this-environment"),D.displayName&&($.appDisplayName=D.displayName),$.sessionId=x,jh(_,g,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,$)})).apply(this,arguments)}function yu(){return(yu=(0,p.Z)(function*(_){const{BuildInfo:f}=Qs(),g={};Li()?g.iosBundleId=f.packageName:Eo()?g.androidPackageName=f.packageName:jt(_,"operation-not-supported-in-this-environment"),yield xp(_,g)})).apply(this,arguments)}function Zh(){return(Zh=(0,p.Z)(function*(_,f,g){const{cordova:E}=Qs();let D=()=>{};try{yield new Promise((x,$)=>{let re=null;function Me(){var ze;x();const xt=null===(ze=E.plugins.browsertab)||void 0===ze?void 0:ze.close;"function"==typeof xt&&xt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Se(){re||(re=window.setTimeout(()=>{$(St(_,"redirect-cancelled-by-user"))},2e3))}function Ze(){"visible"===(null==document?void 0:document.visibilityState)&&Se()}f.addPassiveListener(Me),document.addEventListener("resume",Se,!1),Eo()&&document.addEventListener("visibilitychange",Ze,!1),D=()=>{f.removePassiveListener(Me),document.removeEventListener("resume",Se,!1),document.removeEventListener("visibilitychange",Ze,!1),re&&window.clearTimeout(re)}})}finally{D()}})).apply(this,arguments)}function zh(_){return Up.apply(this,arguments)}function Up(){return(Up=(0,p.Z)(function*(_){const f=Vp(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Vp(_){if(Fn(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let E=0;E<_.length;E++)g[E]=_.charCodeAt(E);return g}_="Browser",(0,le._registerComponent)(new We.wA("auth",(f,{options:g})=>{const E=f.getProvider("app").getImmediate(),{apiKey:D,authDomain:x}=E.options;return($=>{Ce(D&&!D.includes(":"),"invalid-api-key",{appName:$.name}),Ce(!(null==x?void 0:x.includes(":")),"argument-error",{appName:$.name});const re={apiKey:D,authDomain:x,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ic(_)},Me=new dh($,re);return function(_,f){const g=(null==f?void 0:f.persistence)||[],E=(Array.isArray(g)?g:[g]).map(Lt);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(Me,g),Me})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,E)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new We.wA("auth-internal",f=>{const g=Rn(f.getProvider("auth").getImmediate());return new Xl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Uc,"0.19.5",void 0),(0,le.registerVersion)(Uc,"0.19.5","esm2017");class ed extends kc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,p.Z)(function*(){yield f.initPromise})()}}function Qm(_){return dn.apply(this,arguments)}function dn(){return(dn=(0,p.Z)(function*(_){const f=yield Qi()._get(Gh(_));return f&&(yield Qi()._remove(Gh(_))),f})).apply(this,arguments)}function $p(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*f.length);_.push(f.charAt(E))}return _.join("")}function Qi(){return Lt(qs)}function Gh(_){return Wn("authEvent",_.config.apiKey,_.name)}function Wh(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,k.zd)(g.join("?"))}function td(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:St("no-auth-event")}}function vu(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Eu(_=(0,k.z$)()){return!("file:"!==vu()&&"ionic:"!==vu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function ty(){try{const _=self.localStorage,f=fa();if(_)return _.setItem(f,"1"),_.removeItem(f),!function(_=(0,k.z$)()){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,k.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,k.hl)()}catch(_){return Xh()&&(0,k.hl)()}return!1}function Xh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function qp(){return("http:"===vu()||"https:"===vu()||(0,k.ru)()||Eu())&&!((0,k.b$)()||(0,k.UG)())&&ty()&&!Xh()}function jc(){return Eu()&&"undefined"!=typeof document}function ef(){return(ef=(0,p.Z)(function*(){return!!jc()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Dr={LOCAL:"local",NONE:"none",SESSION:"session"},wu=Ce,bu="persistence";function zp(_){return ry.apply(this,arguments)}function ry(){return(ry=(0,p.Z)(function*(_){yield _._initializationPromise;const f=nd(),g=Wn(bu,_.config.apiKey,_.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(g,_._getPersistence())})).apply(this,arguments)}function nd(){return"undefined"!=typeof window?window:null}const mv=Ce;class Js{constructor(){this.browserResolver=Lt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=an,this._completeRedirectFn=Ea}_openPopup(f,g,E,D){var x=this;return(0,p.Z)(function*(){var $;Fn(null===($=x.eventManagers[f._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const re=jh(f,g,E,nt(),D);return function(_,f,g,E=500,D=600){const x=Math.max((window.screen.availHeight-D)/2,0).toString(),$=Math.max((window.screen.availWidth-E)/2,0).toString();let re="";const Me=Object.assign(Object.assign({},$m),{width:E.toString(),height:D.toString(),top:x,left:$}),Se=(0,k.z$)().toLowerCase();g&&(re=Ha(Se)?"_blank":g),ea(Se)&&(f=f||"http://localhost",Me.scrollbars="yes");const Ze=Object.entries(Me).reduce((xt,[Zn,Vo])=>`${xt}${Zn}=${Vo},`,"");if(function(_=(0,k.z$)()){var f;return Li(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Se)&&"_self"!==re)return function(_,f){const g=document.createElement("a");g.href=_,g.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(f||"",re),new Op(null);const ze=window.open(f||"",re,Ze);Ce(ze,_,"popup-blocked");try{ze.focus()}catch(xt){}return new Op(ze)}(f,re,fa())})()}_openRedirect(f,g,E,D){var x=this;return(0,p.Z)(function*(){return yield x._originValidation(f),_=jh(f,g,E,nt(),D),Pn().location.href=_,new Promise(()=>{});var _})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:D,promise:x}=this.eventManagers[g];return D?Promise.resolve(D):(Fn(x,"If manager is not set, promise should be"),x)}const E=this.initAndGetManager(f);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(f){var g=this;return(0,p.Z)(function*(){const E=yield function(_){return Np.apply(this,arguments)}(f),D=new kc(f);return E.register("authEvent",x=>(Ce(null==x?void 0:x.authEvent,f,"invalid-auth-event"),{status:D.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:D},g.iframes[f._key()]=E,D})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Hh,{type:Hh},D=>{var x;const $=null===(x=null==D?void 0:D[0])||void 0===x?void 0:x[Hh];void 0!==$&&g(!!$),jt(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return Fo.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ta()||pt()||Li()}}),this.cordovaResolver=Lt(class{constructor(){this._redirectPersistence=an,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ea}_initialize(f){var g=this;return(0,p.Z)(function*(){const E=f._key();let D=g.eventManagers.get(E);return D||(D=new ed(f),g.eventManagers.set(E,D),g.attachCallbackListeners(f,D)),D})()}_openPopup(f){jt(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,E,D){var x=this;return(0,p.Z)(function*(){!function(_){var f,g,E,D,x,$,re,Me,Se,Ze;const ze=Qs();Ce("function"==typeof(null===(f=null==ze?void 0:ze.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(void 0!==(null===(g=null==ze?void 0:ze.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(x=null===(D=null===(E=null==ze?void 0:ze.cordova)||void 0===E?void 0:E.plugins)||void 0===D?void 0:D.browsertab)||void 0===x?void 0:x.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Me=null===(re=null===($=null==ze?void 0:ze.cordova)||void 0===$?void 0:$.plugins)||void 0===re?void 0:re.browsertab)||void 0===Me?void 0:Me.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Ze=null===(Se=null==ze?void 0:ze.cordova)||void 0===Se?void 0:Se.InAppBrowser)||void 0===Ze?void 0:Ze.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const $=yield x._initialize(f);yield $.initialized(),$.resetRedirect(),hu.clear(),yield x._originValidation(f);const re=function(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:$p(),postBody:null,tenantId:_.tenantId,error:St(_,"no-auth-event")}}(f,E,D);yield function(_,f){return Qi()._set(Gh(_),f)}(f,re);const Me=yield function(_,f,g){return Vc.apply(this,arguments)}(f,re,g),Se=yield function(_){const{cordova:f}=Qs();return new Promise(g=>{f.plugins.browsertab.isAvailable(E=>{let D=null;E?f.plugins.browsertab.openUrl(_):D=f.InAppBrowser.open(_,function(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(D)})})}(Me);return function(_,f,g){return Zh.apply(this,arguments)}(f,$,Se)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return yu.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:E,handleOpenURL:D,BuildInfo:x}=Qs(),$=setTimeout((0,p.Z)(function*(){yield Qm(f),g.onEvent(td())}),500),re=function(){var Ze=(0,p.Z)(function*(ze){clearTimeout($);const xt=yield Qm(f);let Zn=null;xt&&(null==ze?void 0:ze.url)&&(Zn=function(_,f){var g,E;const D=function(_){const f=Wh(_),g=f.link?decodeURIComponent(f.link):void 0,E=Wh(g).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Wh(D).link||D||E||g||_}(f);if(D.includes("/__/auth/callback")){const x=Wh(D),$=x.firebaseError?function(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(x.firebaseError)):null,re=null===(E=null===(g=null==$?void 0:$.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Me=re?St(re):null;return Me?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:D,postBody:null}}return null}(xt,ze.url)),g.onEvent(Zn||td())});return function(xt){return Ze.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,re);const Me=D,Se=`${x.packageName.toLowerCase()}://`;Qs().handleOpenURL=function(){var Ze=(0,p.Z)(function*(ze){if(ze.toLowerCase().startsWith(Se)&&re({url:ze}),"function"==typeof Me)try{Me(ze)}catch(xt){console.error(xt)}});return function(ze){return Ze.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=an,this._completeRedirectFn=Ea}_initialize(f){var g=this;return(0,p.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,E,D){var x=this;return(0,p.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,E,D)})()}_openRedirect(f,g,E,D){var x=this;return(0,p.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,E,D)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return jc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,p.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return ef.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Iu(_){return _.unwrap()}function tf(_){return oy(_)}function oy(_){const{_tokenResponse:f}=_ instanceof k.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ue.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=Ya;break;case"facebook.com":E=ac;break;case"github.com":E=Eh;break;case"twitter.com":E=kr;break;default:const{oauthIdToken:D,oauthAccessToken:x,oauthTokenSecret:$,pendingToken:re,nonce:Me}=f;return x||$||D||re?re?g.startsWith("saml.")?aa._create(g,re):Cn._fromParams({providerId:g,signInMethod:g,pendingToken:re,idToken:D,accessToken:x}):new Xt(g).credential({idToken:D,accessToken:x,rawNonce:Me}):null}return _ instanceof k.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function Sr(_,f){return f.catch(g=>{throw g instanceof k.ZR&&function(_,f){var g;const E=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new ay(_,function(_,f){var g;const E=(0,k.m9)(_),D=f;return Ce(f.customData.operationType,E,"argument-error"),Ce(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Cc._fromError(E,D)}(_,f));else if(E){const D=oy(f),x=f;D&&(x.credential=D,x.tenantId=E.tenantId||void 0,x.email=E.email||void 0,x.phoneNumber=E.phoneNumber||void 0)}}(_,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:tf(g),additionalUserInfo:cr(g),user:Lo.getOrCreate(D)}})}function $c(_,f){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:E=>Sr(_,g.confirm(E))}})).apply(this,arguments)}class ay{constructor(f,g){this.resolver=g,this.auth=function(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Sr(Iu(this.auth),this.resolver.resolveSignIn(f))}}class Lo{constructor(f){this._delegate=f,this.multiFactor=function(_){const f=(0,k.m9)(_);return xo.has(f)||xo.set(f,Sc._fromUser(f)),xo.get(f)}(f)}static getOrCreate(f){return Lo.USER_MAP.has(f)||Lo.USER_MAP.set(f,new Lo(f)),Lo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,p.Z)(function*(){return Sr(g.auth,Dn(g._delegate,f))})()}linkWithPhoneNumber(f,g){var E=this;return(0,p.Z)(function*(){return $c(E.auth,function(_,f,g){return ql.apply(this,arguments)}(E._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,p.Z)(function*(){return Sr(g.auth,function(_,f,g){return vt.apply(this,arguments)}(g._delegate,f,Js))})()}linkWithRedirect(f){var g=this;return(0,p.Z)(function*(){return yield zp(Rn(g.auth)),function(_,f,g){return function(_,f,g){return Fh.apply(this,arguments)}(_,f,g)}(g._delegate,f,Js)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,p.Z)(function*(){return Sr(g.auth,Co(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return $c(this.auth,function(_,f,g){return I.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Sr(this.auth,function(_,f,g){return vs.apply(this,arguments)}(this._delegate,f,Js))}reauthenticateWithRedirect(f){var g=this;return(0,p.Z)(function*(){return yield zp(Rn(g.auth)),function(_,f,g){return function(_,f,g){return Ki.apply(this,arguments)}(_,f,g)}(g._delegate,f,Js)})()}sendEmailVerification(f){return function(_,f){return Wr.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,p.Z)(function*(){return yield function(_,f){return at.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(_,f){return ru((0,k.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function(_,f){return ru((0,k.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(_,f){return K.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(_,f){return Un.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(_,f,g){return tu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Lo.USER_MAP=new WeakMap;const Uo=Ce;let Gp=(()=>{class _{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;Uo(D,"invalid-api-key",{appName:g.name}),Uo(D,"invalid-api-key",{appName:g.name});const x="undefined"!=typeof window?Js:void 0;this._delegate=E.initialize({options:{persistence:uy(D,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Ns),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Lo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(_,f,g){const E=Rn(_);Ce(E._canInitEmulator,E,"emulator-config-failed"),Ce(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const D=!!(null==g?void 0:g.disableWarnings),x=mn(f),{host:$,port:re}=function(_){const f=mn(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(E);if(D){const x=D[1];return{host:x,port:Vi(E.substr(x.length+1))}}{const[x,$]=E.split(":");return{host:x,port:Vi($)}}}(f);E.config.emulator={url:`${x}//${$}${null===re?"":`:${re}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:$,port:re,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,E)}applyActionCode(g){return function(_,f){return pc.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return gc(this._delegate,g)}confirmPasswordReset(g,E){return function(_,f,g){return bi.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var D=this;return(0,p.Z)(function*(){return Sr(D._delegate,function(_,f,g){return yc.apply(this,arguments)}(D._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(_,f){return yp.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(_,f){const g=Vs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,p.Z)(function*(){Uo(qp(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(_,f){return Oc.apply(this,arguments)}(g._delegate,Js);return E?Sr(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(_,f){Rn(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,E,D){const{next:x,error:$,complete:re}=_v(g,E,D);return this._delegate.onAuthStateChanged(x,$,re)}onIdTokenChanged(g,E,D){const{next:x,error:$,complete:re}=_v(g,E,D);return this._delegate.onIdTokenChanged(x,$,re)}sendSignInLinkToEmail(g,E){return function(_,f,g){return gs.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(_,f,g){return ca.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,p.Z)(function*(){let D;switch(function(_,f){wu(Object.values(Dr).includes(f),_,"invalid-persistence-type"),(0,k.b$)()?wu(f!==Dr.SESSION,_,"unsupported-persistence-type"):(0,k.UG)()?wu(f===Dr.NONE,_,"unsupported-persistence-type"):Xh()?wu(f===Dr.NONE||f===Dr.LOCAL&&(0,k.hl)(),_,"unsupported-persistence-type"):wu(f===Dr.NONE||ty(),_,"unsupported-persistence-type")}(E._delegate,g),g){case Dr.SESSION:D=an;break;case Dr.LOCAL:D=(yield Lt(en)._isAvailable())?en:qs;break;case Dr.NONE:D=on;break;default:return jt("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Sr(this._delegate,function(_){return ua.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Sr(this._delegate,Ct(this._delegate,g))}signInWithCustomToken(g){return Sr(this._delegate,function(_,f){return fc.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return Sr(this._delegate,function(_,f,g){return Ct((0,k.m9)(_),ds.credential(f,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return Sr(this._delegate,function(_,f,g){return eu.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return $c(this._delegate,function(_,f,g){return dr.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,p.Z)(function*(){return Uo(qp(),E._delegate,"operation-not-supported-in-this-environment"),Sr(E._delegate,function(_,f,g){return Mo.apply(this,arguments)}(E._delegate,g,Js))})()}signInWithRedirect(g){var E=this;return(0,p.Z)(function*(){return Uo(qp(),E._delegate,"operation-not-supported-in-this-environment"),yield zp(E._delegate),function(_,f,g){return function(_,f,g){return Di.apply(this,arguments)}(_,f,g)}(E._delegate,g,Js)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(_,f){return da.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Dr,_})();function _v(_,f,g){let E=_;"function"!=typeof _&&({next:E,error:f,complete:g}=_);const D=E;return{next:$=>D($&&Lo.getOrCreate($)),error:f,complete:g}}function uy(_,f){const g=function(_,f){const g=nd();if(!(null==g?void 0:g.sessionStorage))return[];const E=Wn(bu,_,f);switch(g.sessionStorage.getItem(E)){case Dr.NONE:return[on];case Dr.LOCAL:return[en,an];case Dr.SESSION:return[an];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(en)&&g.push(en),"undefined"!=typeof window)for(const E of[qs,an])g.includes(E)||g.push(E);return g.includes(on)||g.push(on),g}class nf{constructor(){this.providerId="phone",this._delegate=new ue(Iu(ee.Z.auth()))}static credential(f,g){return ue.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}nf.PHONE_SIGN_IN_METHOD=ue.PHONE_SIGN_IN_METHOD,nf.PROVIDER_ID=ue.PROVIDER_ID;const vv=Ce;class Ev{constructor(f,g,E=ee.Z.app()){var D;vv(null===(D=E.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new No(f,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new We.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new Gp(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ds,FacebookAuthProvider:ac,GithubAuthProvider:Eh,GoogleAuthProvider:Ya,OAuthProvider:Xt,SAMLAuthProvider:Io,PhoneAuthProvider:nf,PhoneMultiFactorGenerator:Jl,RecaptchaVerifier:Ev,TwitterAuthProvider:kr,Auth:Gp,AuthCredential:Ls,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.5")}(ee.Z)},6676:function(Je,we){!function(L){"use strict";function p(W){return Array.prototype.slice.call(W)}function ee(W){return new Promise(function(ye,ge){W.onsuccess=function(){ye(W.result)},W.onerror=function(){ge(W.error)}})}function k(W,ye,ge){var fe,xe=new Promise(function(qe,ke){ee(fe=W[ye].apply(W,ge)).then(qe,ke)});return xe.request=fe,xe}function le(W,ye,ge){var fe=k(W,ye,ge);return fe.then(function(xe){if(xe)return new F(xe,fe.request)})}function ne(W,ye,ge){ge.forEach(function(fe){Object.defineProperty(W.prototype,fe,{get:function(){return this[ye][fe]},set:function(xe){this[ye][fe]=xe}})})}function ie(W,ye,ge,fe){fe.forEach(function(xe){xe in ge.prototype&&(W.prototype[xe]=function(){return k(this[ye],xe,arguments)})})}function pe(W,ye,ge,fe){fe.forEach(function(xe){xe in ge.prototype&&(W.prototype[xe]=function(){return this[ye][xe].apply(this[ye],arguments)})})}function ce(W,ye,ge,fe){fe.forEach(function(xe){xe in ge.prototype&&(W.prototype[xe]=function(){return le(this[ye],xe,arguments)})})}function te(W){this._index=W}function F(W,ye){this._cursor=W,this._request=ye}function U(W){this._store=W}function Q(W){this._tx=W,this.complete=new Promise(function(ye,ge){W.oncomplete=function(){ye()},W.onerror=function(){ge(W.error)},W.onabort=function(){ge(W.error)}})}function Y(W,ye,ge){this._db=W,this.oldVersion=ye,this.transaction=new Q(ge)}function oe(W){this._db=W}ne(te,"_index",["name","keyPath","multiEntry","unique"]),ie(te,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ce(te,"_index",IDBIndex,["openCursor","openKeyCursor"]),ne(F,"_cursor",["direction","key","primaryKey","value"]),ie(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(W){W in IDBCursor.prototype&&(F.prototype[W]=function(){var ye=this,ge=arguments;return Promise.resolve().then(function(){return ye._cursor[W].apply(ye._cursor,ge),ee(ye._request).then(function(fe){if(fe)return new F(fe,ye._request)})})})}),U.prototype.createIndex=function(){return new te(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new te(this._store.index.apply(this._store,arguments))},ne(U,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ce(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),pe(U,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},ne(Q,"_tx",["objectStoreNames","mode"]),pe(Q,"_tx",IDBTransaction,["abort"]),Y.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},ne(Y,"_db",["name","version","objectStoreNames"]),pe(Y,"_db",IDBDatabase,["deleteObjectStore","close"]),oe.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},ne(oe,"_db",["name","version","objectStoreNames"]),pe(oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(W){[U,te].forEach(function(ye){W in ye.prototype&&(ye.prototype[W.replace("open","iterate")]=function(){var ge=p(arguments),fe=ge[ge.length-1],xe=this._store||this._index,qe=xe[W].apply(xe,ge.slice(0,-1));qe.onsuccess=function(){fe(qe.result)}})})}),[te,U].forEach(function(W){W.prototype.getAll||(W.prototype.getAll=function(ye,ge){var fe=this,xe=[];return new Promise(function(qe){fe.iterateCursor(ye,function(ke){ke?(xe.push(ke.value),void 0===ge||xe.length!=ge?ke.continue():qe(xe)):qe(xe)})})})}),L.openDb=function(W,ye,ge){var fe=k(indexedDB,"open",[W,ye]),xe=fe.request;return xe&&(xe.onupgradeneeded=function(qe){ge&&ge(new Y(xe.result,qe.oldVersion,xe.transaction))}),fe.then(function(qe){return new oe(qe)})},L.deleteDb=function(W){return k(indexedDB,"deleteDatabase",[W])},Object.defineProperty(L,"__esModule",{value:!0})}(we)},7574:(Je,we,L)=>{"use strict";L.d(we,{y:()=>U});var p=L(7393),k=L(9181),le=L(6490),ie=L(6554),pe=L(4487);var F=L(2494);let U=(()=>{class Y{constructor(be){this._isScalar=!1,be&&(this._subscribe=be)}lift(be){const he=new Y;return he.source=this,he.operator=be,he}subscribe(be,he,W){const{operator:ye}=this,ge=function(Y,oe,be){if(Y){if(Y instanceof p.L)return Y;if(Y[k.b])return Y[k.b]()}return Y||oe||be?new p.L(Y,oe,be):new p.L(le.c)}(be,he,W);if(ge.add(ye?ye.call(ge,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!ge.syncErrorThrowable?this._subscribe(ge):this._trySubscribe(ge)),F.v.useDeprecatedSynchronousErrorHandling&&ge.syncErrorThrowable&&(ge.syncErrorThrowable=!1,ge.syncErrorThrown))throw ge.syncErrorValue;return ge}_trySubscribe(be){try{return this._subscribe(be)}catch(he){F.v.useDeprecatedSynchronousErrorHandling&&(be.syncErrorThrown=!0,be.syncErrorValue=he),function(Y){for(;Y;){const{closed:oe,destination:be,isStopped:he}=Y;if(oe||he)return!1;Y=be&&be instanceof p.L?be:null}return!0}(be)?be.error(he):console.warn(he)}}forEach(be,he){return new(he=Q(he))((W,ye)=>{let ge;ge=this.subscribe(fe=>{try{be(fe)}catch(xe){ye(xe),ge&&ge.unsubscribe()}},ye,W)})}_subscribe(be){const{source:he}=this;return he&&he.subscribe(be)}[ie.L](){return this}pipe(...be){return 0===be.length?this:function(Y){return 0===Y.length?pe.y:1===Y.length?Y[0]:function(be){return Y.reduce((he,W)=>W(he),be)}}(be)(this)}toPromise(be){return new(be=Q(be))((he,W)=>{let ye;this.subscribe(ge=>ye=ge,ge=>W(ge),()=>he(ye))})}}return Y.create=oe=>new Y(oe),Y})();function Q(Y){if(Y||(Y=F.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6490:(Je,we,L)=>{"use strict";L.d(we,{c:()=>k});var p=L(2494),ee=L(4449);const k={closed:!0,next(le){},error(le){if(p.v.useDeprecatedSynchronousErrorHandling)throw le;(0,ee.z)(le)},complete(){}}},9765:(Je,we,L)=>{"use strict";L.d(we,{Yc:()=>pe,xQ:()=>ce});var p=L(7574),ee=L(7393),k=L(5319),le=L(7971),ne=L(8858),ie=L(9181);class pe extends ee.L{constructor(U){super(U),this.destination=U}}let ce=(()=>{class F extends p.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new pe(this)}lift(Q){const Y=new te(this,this);return Y.operator=Q,Y}next(Q){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:Y}=this,oe=Y.length,be=Y.slice();for(let he=0;he<oe;he++)be[he].next(Q)}}error(Q){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=Q,this.isStopped=!0;const{observers:Y}=this,oe=Y.length,be=Y.slice();for(let he=0;he<oe;he++)be[he].error(Q);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:Q}=this,Y=Q.length,oe=Q.slice();for(let be=0;be<Y;be++)oe[be].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Q){if(this.closed)throw new le.N;return super._trySubscribe(Q)}_subscribe(Q){if(this.closed)throw new le.N;return this.hasError?(Q.error(this.thrownError),k.w.EMPTY):this.isStopped?(Q.complete(),k.w.EMPTY):(this.observers.push(Q),new ne.W(this,Q))}asObservable(){const Q=new p.y;return Q.source=this,Q}}return F.create=(U,Q)=>new te(U,Q),F})();class te extends ce{constructor(U,Q){super(),this.destination=U,this.source=Q}next(U){const{destination:Q}=this;Q&&Q.next&&Q.next(U)}error(U){const{destination:Q}=this;Q&&Q.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:Q}=this;return Q?this.source.subscribe(U):k.w.EMPTY}}},8858:(Je,we,L)=>{"use strict";L.d(we,{W:()=>ee});var p=L(5319);class ee extends p.w{constructor(le,ne){super(),this.subject=le,this.subscriber=ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,ne=le.observers;if(this.subject=null,!ne||0===ne.length||le.isStopped||le.closed)return;const ie=ne.indexOf(this.subscriber);-1!==ie&&ne.splice(ie,1)}}},7393:(Je,we,L)=>{"use strict";L.d(we,{L:()=>pe});var p=L(9105),ee=L(6490),k=L(5319),le=L(9181),ne=L(2494),ie=L(4449);class pe extends k.w{constructor(F,U,Q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!F){this.destination=ee.c;break}if("object"==typeof F){F instanceof pe?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new ce(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new ce(this,F,U,Q)}}[le.b](){return this}static create(F,U,Q){const Y=new pe(F,U,Q);return Y.syncErrorThrowable=!1,Y}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class ce extends pe{constructor(F,U,Q,Y){super(),this._parentSubscriber=F;let oe,be=this;(0,p.m)(U)?oe=U:U&&(oe=U.next,Q=U.error,Y=U.complete,U!==ee.c&&(be=Object.create(U),(0,p.m)(be.unsubscribe)&&this.add(be.unsubscribe.bind(be)),be.unsubscribe=this.unsubscribe.bind(this))),this._context=be,this._next=oe,this._error=Q,this._complete=Y}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;ne.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:Q}=ne.v;if(this._error)Q&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(U.syncErrorThrowable)Q?(U.syncErrorValue=F,U.syncErrorThrown=!0):(0,ie.z)(F),this.unsubscribe();else{if(this.unsubscribe(),Q)throw F;(0,ie.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const U=()=>this._complete.call(this._context);ne.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,U){try{F.call(this._context,U)}catch(Q){if(this.unsubscribe(),ne.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,ie.z)(Q)}}__tryOrSetError(F,U,Q){if(!ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,Q)}catch(Y){return ne.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=Y,F.syncErrorThrown=!0,!0):((0,ie.z)(Y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Je,we,L)=>{"use strict";L.d(we,{w:()=>ie});var p=L(9796),ee=L(1555),k=L(9105);const ne=(()=>{function ce(te){return Error.call(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((F,U)=>`${U+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te,this}return ce.prototype=Object.create(Error.prototype),ce})();class ie{constructor(te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,te&&(this._ctorUnsubscribe=!0,this._unsubscribe=te)}unsubscribe(){let te;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:U,_unsubscribe:Q,_subscriptions:Y}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof ie)F.remove(this);else if(null!==F)for(let oe=0;oe<F.length;++oe)F[oe].remove(this);if((0,k.m)(Q)){U&&(this._unsubscribe=void 0);try{Q.call(this)}catch(oe){te=oe instanceof ne?pe(oe.errors):[oe]}}if((0,p.k)(Y)){let oe=-1,be=Y.length;for(;++oe<be;){const he=Y[oe];if((0,ee.K)(he))try{he.unsubscribe()}catch(W){te=te||[],W instanceof ne?te=te.concat(pe(W.errors)):te.push(W)}}}if(te)throw new ne(te)}add(te){let F=te;if(!te)return ie.EMPTY;switch(typeof te){case"function":F=new ie(te);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof ie)){const Y=F;F=new ie,F._subscriptions=[Y]}break;default:throw new Error("unrecognized teardown "+te+" added to Subscription.")}let{_parentOrParents:U}=F;if(null===U)F._parentOrParents=this;else if(U instanceof ie){if(U===this)return F;F._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return F;U.push(this)}const Q=this._subscriptions;return null===Q?this._subscriptions=[F]:Q.push(F),F}remove(te){const F=this._subscriptions;if(F){const U=F.indexOf(te);-1!==U&&F.splice(U,1)}}}var ce;function pe(ce){return ce.reduce((te,F)=>te.concat(F instanceof ne?F.errors:F),[])}ie.EMPTY=((ce=new ie).closed=!0,ce)},2494:(Je,we,L)=>{"use strict";L.d(we,{v:()=>ee});let p=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(k){if(k){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");p=k},get useDeprecatedSynchronousErrorHandling(){return p}}},5345:(Je,we,L)=>{"use strict";L.d(we,{IY:()=>le,Ds:()=>ie,ft:()=>ce});var p=L(7393),ee=L(7574),k=L(7444);class le extends p.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends p.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function ce(te,F){if(F.closed)return;if(te instanceof ee.y)return te.subscribe(F);let U;try{U=(0,k.s)(te)(F)}catch(Q){F.error(Q)}return U}},2441:(Je,we,L)=>{"use strict";L.d(we,{c:()=>ne,N:()=>ie});var p=L(9765),ee=L(7574),k=L(5319),le=L(1307);class ne extends ee.y{constructor(U,Q){super(),this.source=U,this.subjectFactory=Q,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new k.w,U.add(this.source.subscribe(new pe(this.getSubject(),this))),U.closed&&(this._connection=null,U=k.w.EMPTY)),U}refCount(){return(0,le.x)()(this)}}const ie=(()=>{const F=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class pe extends p.Yc{constructor(U,Q){super(U),this.connectable=Q}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const Q=U._connection;U._refCount=0,U._subject=null,U._connection=null,Q&&Q.unsubscribe()}}}},9193:(Je,we,L)=>{"use strict";L.d(we,{E:()=>ee,c:()=>k});var p=L(7574);const ee=new p.y(ne=>ne.complete());function k(ne){return ne?function(ne){return new p.y(ie=>ne.schedule(()=>ie.complete()))}(ne):ee}},4402:(Je,we,L)=>{"use strict";L.d(we,{D:()=>be});var p=L(7574),ee=L(7444),k=L(5319),le=L(6554),pe=L(4087),ce=L(377),U=L(4072),Q=L(9489);function be(he,W){return W?function(he,W){if(null!=he){if(function(he){return he&&"function"==typeof he[le.L]}(he))return function(he,W){return new p.y(ye=>{const ge=new k.w;return ge.add(W.schedule(()=>{const fe=he[le.L]();ge.add(fe.subscribe({next(xe){ge.add(W.schedule(()=>ye.next(xe)))},error(xe){ge.add(W.schedule(()=>ye.error(xe)))},complete(){ge.add(W.schedule(()=>ye.complete()))}}))})),ge})}(he,W);if((0,U.t)(he))return function(he,W){return new p.y(ye=>{const ge=new k.w;return ge.add(W.schedule(()=>he.then(fe=>{ge.add(W.schedule(()=>{ye.next(fe),ge.add(W.schedule(()=>ye.complete()))}))},fe=>{ge.add(W.schedule(()=>ye.error(fe)))}))),ge})}(he,W);if((0,Q.z)(he))return(0,pe.r)(he,W);if(function(he){return he&&"function"==typeof he[ce.hZ]}(he)||"string"==typeof he)return function(he,W){if(!he)throw new Error("Iterable cannot be null");return new p.y(ye=>{const ge=new k.w;let fe;return ge.add(()=>{fe&&"function"==typeof fe.return&&fe.return()}),ge.add(W.schedule(()=>{fe=he[ce.hZ](),ge.add(W.schedule(function(){if(ye.closed)return;let xe,qe;try{const ke=fe.next();xe=ke.value,qe=ke.done}catch(ke){return void ye.error(ke)}qe?ye.complete():(ye.next(xe),this.schedule())}))})),ge})}(he,W)}throw new TypeError((null!==he&&typeof he||he)+" is not observable")}(he,W):he instanceof p.y?he:new p.y((0,ee.s)(he))}},6693:(Je,we,L)=>{"use strict";L.d(we,{n:()=>le});var p=L(7574),ee=L(5015),k=L(4087);function le(ne,ie){return ie?(0,k.r)(ne,ie):new p.y((0,ee.V)(ne))}},6682:(Je,we,L)=>{"use strict";L.d(we,{T:()=>ne});var p=L(7574),ee=L(4869),k=L(3282),le=L(6693);function ne(...ie){let pe=Number.POSITIVE_INFINITY,ce=null,te=ie[ie.length-1];return(0,ee.K)(te)?(ce=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(pe=ie.pop())):"number"==typeof te&&(pe=ie.pop()),null===ce&&1===ie.length&&ie[0]instanceof p.y?ie[0]:(0,k.J)(pe)((0,le.n)(ie,ce))}},5917:(Je,we,L)=>{"use strict";L.d(we,{of:()=>le});var p=L(4869),ee=L(6693),k=L(4087);function le(...ne){let ie=ne[ne.length-1];return(0,p.K)(ie)?(ne.pop(),(0,k.r)(ne,ie)):(0,ee.n)(ne)}},8002:(Je,we,L)=>{"use strict";L.d(we,{U:()=>ee});var p=L(7393);function ee(ne,ie){return function(ce){if("function"!=typeof ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ce.lift(new k(ne,ie))}}class k{constructor(ie,pe){this.project=ie,this.thisArg=pe}call(ie,pe){return pe.subscribe(new le(ie,this.project,this.thisArg))}}class le extends p.L{constructor(ie,pe,ce){super(ie),this.project=pe,this.count=0,this.thisArg=ce||this}_next(ie){let pe;try{pe=this.project.call(this.thisArg,ie,this.count++)}catch(ce){return void this.destination.error(ce)}this.destination.next(pe)}}},3282:(Je,we,L)=>{"use strict";L.d(we,{J:()=>k});var p=L(9773),ee=L(4487);function k(le=Number.POSITIVE_INFINITY){return(0,p.zg)(ee.y,le)}},9773:(Je,we,L)=>{"use strict";L.d(we,{zg:()=>le});var p=L(8002),ee=L(4402),k=L(5345);function le(ce,te,F=Number.POSITIVE_INFINITY){return"function"==typeof te?U=>U.pipe(le((Q,Y)=>(0,ee.D)(ce(Q,Y)).pipe((0,p.U)((oe,be)=>te(Q,oe,Y,be))),F)):("number"==typeof te&&(F=te),U=>U.lift(new ne(ce,F)))}class ne{constructor(te,F=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=F}call(te,F){return F.subscribe(new ie(te,this.project,this.concurrent))}}class ie extends k.Ds{constructor(te,F,U=Number.POSITIVE_INFINITY){super(te),this.project=F,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let F;const U=this.index++;try{F=this.project(te,U)}catch(Q){return void this.destination.error(Q)}this.active++,this._innerSub(F)}_innerSub(te){const F=new k.IY(this),U=this.destination;U.add(F);const Q=(0,k.ft)(te,F);Q!==F&&U.add(Q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Je,we,L)=>{"use strict";L.d(we,{ht:()=>U,QV:()=>te});var p=L(7393),ee=L(9193),k=L(5917),le=L(7574);class ce{constructor(oe,be,he){this.kind=oe,this.value=be,this.error=he,this.hasValue="N"===oe}observe(oe){switch(this.kind){case"N":return oe.next&&oe.next(this.value);case"E":return oe.error&&oe.error(this.error);case"C":return oe.complete&&oe.complete()}}do(oe,be,he){switch(this.kind){case"N":return oe&&oe(this.value);case"E":return be&&be(this.error);case"C":return he&&he()}}accept(oe,be,he){return oe&&"function"==typeof oe.next?this.observe(oe):this.do(oe,be,he)}toObservable(){switch(this.kind){case"N":return(0,k.of)(this.value);case"E":return Y=this.error,new le.y(be=>be.error(Y));case"C":return(0,ee.c)()}var Y;throw new Error("unexpected notification kind value")}static createNext(oe){return void 0!==oe?new ce("N",oe):ce.undefinedValueNotification}static createError(oe){return new ce("E",void 0,oe)}static createComplete(){return ce.completeNotification}}function te(Y,oe=0){return function(he){return he.lift(new F(Y,oe))}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0);class F{constructor(oe,be=0){this.scheduler=oe,this.delay=be}call(oe,be){return be.subscribe(new U(oe,this.scheduler,this.delay))}}class U extends p.L{constructor(oe,be,he=0){super(oe),this.scheduler=be,this.delay=he}static dispatch(oe){const{notification:be,destination:he}=oe;be.observe(he),this.unsubscribe()}scheduleMessage(oe){this.destination.add(this.scheduler.schedule(U.dispatch,this.delay,new Q(oe,this.destination)))}_next(oe){this.scheduleMessage(ce.createNext(oe))}_error(oe){this.scheduleMessage(ce.createError(oe)),this.unsubscribe()}_complete(){this.scheduleMessage(ce.createComplete()),this.unsubscribe()}}class Q{constructor(oe,be){this.notification=oe,this.destination=be}}},1307:(Je,we,L)=>{"use strict";L.d(we,{x:()=>ee});var p=L(7393);function ee(){return function(ie){return ie.lift(new k(ie))}}class k{constructor(ie){this.connectable=ie}call(ie,pe){const{connectable:ce}=this;ce._refCount++;const te=new le(ie,ce),F=pe.subscribe(te);return te.closed||(te.connection=ce.connect()),F}}class le extends p.L{constructor(ie,pe){super(ie),this.connectable=pe}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const pe=ie._refCount;if(pe<=0)return void(this.connection=null);if(ie._refCount=pe-1,pe>1)return void(this.connection=null);const{connection:ce}=this,te=ie._connection;this.connection=null,te&&(!ce||te===ce)&&te.unsubscribe()}}},3101:(Je,we,L)=>{"use strict";L.d(we,{R:()=>W});var p=L(7574);let ee=1;const k=Promise.resolve(),le={};function ne(ge){return ge in le&&(delete le[ge],!0)}const ie={setImmediate(ge){const fe=ee++;return le[fe]=!0,k.then(()=>ne(fe)&&ge()),fe},clearImmediate(ge){ne(ge)}};var ce=L(6465),F=L(6102);const Y=new class extends F.v{flush(fe){this.active=!0,this.scheduled=void 0;const{actions:xe}=this;let qe,ke=-1,Nt=xe.length;fe=fe||xe.shift();do{if(qe=fe.execute(fe.state,fe.delay))break}while(++ke<Nt&&(fe=xe.shift()));if(this.active=!1,qe){for(;++ke<Nt&&(fe=xe.shift());)fe.unsubscribe();throw qe}}}(class extends ce.o{constructor(fe,xe){super(fe,xe),this.scheduler=fe,this.work=xe}requestAsyncId(fe,xe,qe=0){return null!==qe&&qe>0?super.requestAsyncId(fe,xe,qe):(fe.actions.push(this),fe.scheduled||(fe.scheduled=ie.setImmediate(fe.flush.bind(fe,null))))}recycleAsyncId(fe,xe,qe=0){if(null!==qe&&qe>0||null===qe&&this.delay>0)return super.recycleAsyncId(fe,xe,qe);0===fe.actions.length&&(ie.clearImmediate(xe),fe.scheduled=void 0)}});var oe=L(9796);class he extends p.y{constructor(fe,xe=0,qe=Y){var ge;super(),this.source=fe,this.delayTime=xe,this.scheduler=qe,(!(!(0,oe.k)(ge=xe)&&ge-parseFloat(ge)+1>=0)||xe<0)&&(this.delayTime=0),(!qe||"function"!=typeof qe.schedule)&&(this.scheduler=Y)}static create(fe,xe=0,qe=Y){return new he(fe,xe,qe)}static dispatch(fe){const{source:xe,subscriber:qe}=fe;return this.add(xe.subscribe(qe))}_subscribe(fe){return this.scheduler.schedule(he.dispatch,this.delayTime,{source:this.source,subscriber:fe})}}function W(ge,fe=0){return function(qe){return qe.lift(new ye(ge,fe))}}class ye{constructor(fe,xe){this.scheduler=fe,this.delay=xe}call(fe,xe){return new he(xe,this.delay,this.scheduler).subscribe(fe)}}},3342:(Je,we,L)=>{"use strict";L.d(we,{b:()=>le});var p=L(7393);function ee(){}var k=L(9105);function le(pe,ce,te){return function(U){return U.lift(new ne(pe,ce,te))}}class ne{constructor(ce,te,F){this.nextOrObserver=ce,this.error=te,this.complete=F}call(ce,te){return te.subscribe(new ie(ce,this.nextOrObserver,this.error,this.complete))}}class ie extends p.L{constructor(ce,te,F,U){super(ce),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=F||ee,this._tapComplete=U||ee,(0,k.m)(te)?(this._context=this,this._tapNext=te):te&&(this._context=te,this._tapNext=te.next||ee,this._tapError=te.error||ee,this._tapComplete=te.complete||ee)}_next(ce){try{this._tapNext.call(this._context,ce)}catch(te){return void this.destination.error(te)}this.destination.next(ce)}_error(ce){try{this._tapError.call(this._context,ce)}catch(te){return void this.destination.error(te)}this.destination.error(ce)}_complete(){try{this._tapComplete.call(this._context)}catch(ce){return void this.destination.error(ce)}return this.destination.complete()}}},4087:(Je,we,L)=>{"use strict";L.d(we,{r:()=>k});var p=L(7574),ee=L(5319);function k(le,ne){return new p.y(ie=>{const pe=new ee.w;let ce=0;return pe.add(ne.schedule(function(){ce!==le.length?(ie.next(le[ce++]),ie.closed||pe.add(this.schedule())):ie.complete()})),pe})}},6465:(Je,we,L)=>{"use strict";L.d(we,{o:()=>k});var p=L(5319);class ee extends p.w{constructor(ne,ie){super()}schedule(ne,ie=0){return this}}class k extends ee{constructor(ne,ie){super(ne,ie),this.scheduler=ne,this.work=ie,this.pending=!1}schedule(ne,ie=0){if(this.closed)return this;this.state=ne;const pe=this.id,ce=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(ce,pe,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(ce,this.id,ie),this}requestAsyncId(ne,ie,pe=0){return setInterval(ne.flush.bind(ne,this),pe)}recycleAsyncId(ne,ie,pe=0){if(null!==pe&&this.delay===pe&&!1===this.pending)return ie;clearInterval(ie)}execute(ne,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ne,ie);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ie){let ce,pe=!1;try{this.work(ne)}catch(te){pe=!0,ce=!!te&&te||new Error(te)}if(pe)return this.unsubscribe(),ce}_unsubscribe(){const ne=this.id,ie=this.scheduler,pe=ie.actions,ce=pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ce&&pe.splice(ce,1),null!=ne&&(this.id=this.recycleAsyncId(ie,ne,null)),this.delay=null}}},6102:(Je,we,L)=>{"use strict";L.d(we,{v:()=>ee});let p=(()=>{class k{constructor(ne,ie=k.now){this.SchedulerAction=ne,this.now=ie}schedule(ne,ie=0,pe){return new this.SchedulerAction(this,ne).schedule(pe,ie)}}return k.now=()=>Date.now(),k})();class ee extends p{constructor(le,ne=p.now){super(le,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,ne=0,ie){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(le,ne,ie):super.schedule(le,ne,ie)}flush(le){const{actions:ne}=this;if(this.active)return void ne.push(le);let ie;this.active=!0;do{if(ie=le.execute(le.state,le.delay))break}while(le=ne.shift());if(this.active=!1,ie){for(;le=ne.shift();)le.unsubscribe();throw ie}}}},3637:(Je,we,L)=>{"use strict";L.d(we,{z:()=>k});var p=L(6465);const k=new(L(6102).v)(p.o)},7771:(Je,we,L)=>{"use strict";L.d(we,{c:()=>ie,N:()=>ne});var p=L(6465),k=L(6102);const ne=new class extends k.v{}(class extends p.o{constructor(ce,te){super(ce,te),this.scheduler=ce,this.work=te}schedule(ce,te=0){return te>0?super.schedule(ce,te):(this.delay=te,this.state=ce,this.scheduler.flush(this),this)}execute(ce,te){return te>0||this.closed?super.execute(ce,te):this._execute(ce,te)}requestAsyncId(ce,te,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(ce,te,F):ce.flush(this)}}),ie=ne},377:(Je,we,L)=>{"use strict";L.d(we,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Je,we,L)=>{"use strict";L.d(we,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Je,we,L)=>{"use strict";L.d(we,{b:()=>p});const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Je,we,L)=>{"use strict";L.d(we,{N:()=>ee});const ee=(()=>{function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return k.prototype=Object.create(Error.prototype),k})()},4449:(Je,we,L)=>{"use strict";function p(ee){setTimeout(()=>{throw ee},0)}L.d(we,{z:()=>p})},4487:(Je,we,L)=>{"use strict";function p(ee){return ee}L.d(we,{y:()=>p})},9796:(Je,we,L)=>{"use strict";L.d(we,{k:()=>p});const p=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(Je,we,L)=>{"use strict";L.d(we,{z:()=>p});const p=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(Je,we,L)=>{"use strict";function p(ee){return"function"==typeof ee}L.d(we,{m:()=>p})},1555:(Je,we,L)=>{"use strict";function p(ee){return null!==ee&&"object"==typeof ee}L.d(we,{K:()=>p})},4072:(Je,we,L)=>{"use strict";function p(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}L.d(we,{t:()=>p})},4869:(Je,we,L)=>{"use strict";function p(ee){return ee&&"function"==typeof ee.schedule}L.d(we,{K:()=>p})},7444:(Je,we,L)=>{"use strict";L.d(we,{s:()=>U});var p=L(5015),ee=L(4449),le=L(377),ie=L(6554),ce=L(9489),te=L(4072),F=L(1555);const U=Q=>{if(Q&&"function"==typeof Q[ie.L])return(Q=>Y=>{const oe=Q[ie.L]();if("function"!=typeof oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return oe.subscribe(Y)})(Q);if((0,ce.z)(Q))return(0,p.V)(Q);if((0,te.t)(Q))return(Q=>Y=>(Q.then(oe=>{Y.closed||(Y.next(oe),Y.complete())},oe=>Y.error(oe)).then(null,ee.z),Y))(Q);if(Q&&"function"==typeof Q[le.hZ])return(Q=>Y=>{const oe=Q[le.hZ]();for(;;){let be;try{be=oe.next()}catch(he){return Y.error(he),Y}if(be.done){Y.complete();break}if(Y.next(be.value),Y.closed)break}return"function"==typeof oe.return&&Y.add(()=>{oe.return&&oe.return()}),Y})(Q);{const oe=`You provided ${(0,F.K)(Q)?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(oe)}}},5015:(Je,we,L)=>{"use strict";L.d(we,{V:()=>p});const p=ee=>k=>{for(let le=0,ne=ee.length;le<ne&&!k.closed;le++)k.next(ee[le]);k.complete()}},561:(Je,we,L)=>{"use strict";var p=L(3018);let ee=null;function k(){return ee}const pe=new p.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,p.Yz7)({factory:te,token:n,providedIn:"platform"}),n})();function te(){return(0,p.LFG)(U)}const F=new p.OlP("Location Initialized");let U=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const s=k().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=k().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){Q()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){Q()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe))},n.\u0275prov=(0,p.Yz7)({factory:Y,token:n,providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Y(){return new U((0,p.LFG)(pe))}function oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function he(n){return n&&"?"!==n[0]?"?"+n:n}let W=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,p.Yz7)({factory:ye,token:n,providedIn:"root"}),n})();function ye(n){const e=(0,p.LFG)(pe).location;return new fe((0,p.LFG)(ce),e&&e.origin||"")}const ge=new p.OlP("appBaseHref");let fe=(()=>{class n extends W{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return oe(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+he(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,c){const h=this.prepareExternalUrl(a+he(c));this._platformLocation.pushState(t,s,h)}replaceState(t,s,a,c){const h=this.prepareExternalUrl(a+he(c));this._platformLocation.replaceState(t,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ce),p.LFG(ge,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n extends W{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=oe(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,c){let h=this.prepareExternalUrl(a+he(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,s,h)}replaceState(t,s,a,c){let h=this.prepareExternalUrl(a+he(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ce),p.LFG(ge,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t,s){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=be(_t(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+he(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,_t(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+he(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+he(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(W),p.LFG(ce))},n.normalizeQueryParams=he,n.joinWithSlash=oe,n.stripTrailingSlash=be,n.\u0275prov=(0,p.Yz7)({factory:ke,token:n,providedIn:"root"}),n})();function ke(){return new qe((0,p.LFG)(W),(0,p.LFG)(ce))}function _t(n){return n.replace(/\/index.html$/,"")}var Tt=(()=>((Tt=Tt||{})[Tt.Zero=0]="Zero",Tt[Tt.One=1]="One",Tt[Tt.Two=2]="Two",Tt[Tt.Few=3]="Few",Tt[Tt.Many=4]="Many",Tt[Tt.Other=5]="Other",Tt))();const wr=p.kL8;class Wn{}let Ln=(()=>{class n extends Wn{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(wr(s||this.locale)(t)){case Tt.Zero:return"zero";case Tt.One:return"one";case Tt.Two:return"two";case Tt.Few:return"few";case Tt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.soG))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Eo{constructor(e,t,s,a){this.$implicit=e,this.ngForOf=t,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class n{constructor(t,s,a){this._viewContainer=t,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((a,c,h)=>{if(null==a.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new Eo(null,this._ngForOf,-1,-1),null===h?void 0:h),w=new Ir(a,y);s.push(w)}else if(null==h)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const y=this._viewContainer.get(c);this._viewContainer.move(y,h);const w=new Ir(a,y);s.push(w)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,c=this._viewContainer.length;a<c;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=c,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Ir{constructor(e,t){this.record=e,this.view=t}}let Ui=(()=>{class n{constructor(t,s){this._viewContainer=t,this._context=new wi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wi{constructor(){this.$implicit=null,this.ngIf=null}}function Jt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}let mn=(()=>{class n{constructor(t,s,a){this._ngEl=t,this._differs=s,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,s){const[a,c]=t.split(".");null!=(s=null!=s&&c?`${s}${c}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,a,s):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(t){t.forEachRemovedItem(s=>this._setStyle(s.key,null)),t.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),t.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Us=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[{provide:Wn,useClass:Ln}]}),n})();function Ga(n){return"server"===n}let Wa=(()=>{class n{}return n.\u0275prov=(0,p.Yz7)({token:n,providedIn:"root",factory:()=>new gp((0,p.LFG)(pe),window)}),n})();class gp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const c=a.shadowRoot;if(c){const h=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(h)return h}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(s-c[0],a-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oa(this.window.history)||oa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function oa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ka extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ka,ee||(ee=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ds=ds||document.querySelector("base"),ds?ds.getAttribute("href"):null);return null==t?null:function(n){ji=ji||document.createElement("a"),ji.setAttribute("href",n);const e=ji.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ds=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,c]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let ji,ds=null;const ac=new p.OlP("TRANSITION_ID"),Eh=[{provide:p.ip1,useFactory:function(n,e,t){return()=>{t.get(p.CZH).donePromise.then(()=>{const s=k(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)s.remove(a[c])})}},deps:[ac,pe,p.zs3],multi:!0}];class At{static init(){(0,p.VLi)(new At)}addToWindow(e){p.dqk.getAngularTestability=(s,a=!0)=>{const c=e.findTestabilityInTree(s,a);if(null==c)throw new Error("Could not find testability for element.");return c},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(s=>{const a=p.dqk.getAllAngularTestabilities();let c=a.length,h=!1;const y=function(w){h=h||w,c--,0==c&&s(h)};a.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let aa=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const fs=new p.OlP("EventManagerPlugins");let Bs=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let c=0;c<a.length;c++){const h=a[c];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(fs),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class To{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=k().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let lc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),ps=(()=>{class n extends lc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,a.push(s.appendChild(h))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(Fl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fl))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Fl(n){k().remove(n)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ct=/%COMP%/g;function js(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?js(n,a,t):(a=a.replace(Ct,n),t.push(a))}return t}function Th(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hi=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new qi(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case p.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new $s(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case p.ifc.ShadowDom:return new bi(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=js(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Bs),p.LFG(ps),p.LFG(p.AFp))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class qi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ie[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const c=Ie[a];c?e.setAttributeNS(c,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=Ie[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(t,s,a&p.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&p.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Th(s)):this.eventManager.addEventListener(e,t,Th(s))}}class $s extends qi{constructor(e,t,s,a){super(e),this.component=s;const c=js(a+"-"+s.id,s.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Ct,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ct,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class bi extends qi{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=js(a.id,a.styles,[]);for(let h=0;h<c.length;h++){const y=document.createElement("style");y.textContent=c[h],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ll=(()=>{class n extends To{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const gs=["alt","control","meta","shift"],_c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wr=(()=>{class n extends To{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const c=n.parseEventName(s),h=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,c.domEventName,h))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(s.pop());let h="";if(gs.forEach(w=>{const C=s.indexOf(w);C>-1&&(s.splice(C,1),h+=w+".")}),h+=c,0!=s.length||0===c.length)return null;const y={};return y.domEventName=a,y.fullKey=h,y}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&eu.hasOwnProperty(e)&&(e=eu[e]))}return _c[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),gs.forEach(c=>{c!=a&&Fr[c](t)&&(s+=c+".")}),s+=a,s}static eventCallback(t,s,a){return c=>{n.getEventFullKey(c)===t&&a.runGuarded(()=>s(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const bc=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function(){Ka.makeCurrent(),At.init()},multi:!0},{provide:pe,useFactory:function(){return(0,p.RDi)(document),document},deps:[]}]),Hs=[[],{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function(){return new p.qLn},deps:[]},{provide:fs,useClass:Ll,multi:!0,deps:[pe,p.R0b,p.Lbi]},{provide:fs,useClass:Wr,multi:!0,deps:[pe]},[],{provide:Hi,useClass:Hi,deps:[Bs,ps,p.AFp]},{provide:p.FYo,useExisting:Hi},{provide:lc,useExisting:ps},{provide:ps,useClass:ps,deps:[pe]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:Bs,useClass:Bs,deps:[fs,p.R0b]},{provide:class{},useClass:aa,deps:[]},[]];let So=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.AFp,useValue:t.appId},{provide:ac,useExisting:p.AFp},Eh]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(n,12))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:Hs,imports:[Us,p.hGG]}),n})();"undefined"!=typeof window&&window;var _n=L(4402),Xe=L(5917),ms=L(9765),Ro=L(7971);class Tr extends ms.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ro.N;return this._value}next(e){super.next(this._value=e)}}var qs=L(4869),Ac=L(9796),an=L(7393);class Ul extends an.L{notifyNext(e,t,s,a,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class bp extends an.L{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var fa=L(7444),Ti=L(7574);function Pn(n,e,t,s,a=new bp(n,t,s)){if(!a.closed)return e instanceof Ti.y?e.subscribe(a):(0,fa.s)(e)(a)}var Vl=L(6693);const xc={};class Po{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Bl(e,this.resultSelector))}}class Bl extends Ul{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(xc),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(Pn(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const a=this.values,h=this.toRespond?a[s]===xc?--this.toRespond:this.toRespond:0;a[s]=t,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}const Zs=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var ys=L(3282);function uu(...n){return(0,ys.J)(1)((0,Xe.of)(...n))}var Lr=L(9193);function Zi(n){return new Ti.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,_n.D)(t):(0,Lr.c)()).subscribe(e)})}var zs=L(2441),ht=L(8002),zi=L(5345);function Vn(n,e){return"function"==typeof e?t=>t.pipe(Vn((s,a)=>(0,_n.D)(n(s,a)).pipe((0,ht.U)((c,h)=>e(s,c,a,h))))):t=>t.lift(new ma(n))}class ma{constructor(e){this.project=e}call(e,t){return t.subscribe(new Ph(e,this.project))}}class Ph extends zi.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new zi.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,zi.ft)(e,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const jl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Nh(n){return e=>0===n?(0,Lr.c)():e.lift(new Mm(n))}class Mm{constructor(e){if(this.total=e,this.total<0)throw new jl}call(e,t){return t.subscribe(new en(e,this.total))}}class en extends an.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function Rc(...n){const e=n[n.length-1];return(0,qs.K)(e)?(n.pop(),t=>uu(n,t,e)):t=>uu(n,t)}function ya(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new Om(n,e,t))}}class Om{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new Mh(e,this.accumulator,this.seed,this.hasSeed))}}class Mh extends an.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function _s(n,e){return function(s){return s.lift(new $l(n,e))}}class $l{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Oh(e,this.predicate,this.thisArg))}}class Oh extends an.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}function Gs(n){return function(t){const s=new Cp(n),a=t.lift(s);return s.caught=a}}class Cp{constructor(e){this.selector=e}call(e,t){return t.subscribe(new cu(e,this.selector,this.caught))}}class cu extends zi.Ds{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const s=new zi.IY(this);this.add(s);const a=(0,zi.ft)(t,s);a!==s&&this.add(a)}}}var lr=L(9773);function Ws(n,e){return(0,lr.zg)(n,e,1)}function Dp(n){return function(t){return 0===n?(0,Lr.c)():t.lift(new Nn(n))}}class Nn{constructor(e){if(this.total=e,this.total<0)throw new jl}call(e,t){return t.subscribe(new Pc(e,this.total))}}class Pc extends an.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<s;c++){const h=t++%s;e.next(a[h])}}e.complete()}}function lu(n=hi){return e=>e.lift(new du(n))}class du{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new kh(e,this.errorFactory))}}class kh extends an.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function hi(){return new Zs}function fi(n=null){return e=>e.lift(new Gi(n))}class Gi{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new No(e,this.defaultValue))}}class No extends an.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Cr=L(4487);function _a(n,e){const t=arguments.length>=2;return s=>s.pipe(n?_s((a,c)=>n(a,c,s)):Cr.y,Nh(1),t?fi(e):lu(()=>new Zs))}var dr=L(3342),km=L(1307),ql=L(5319);class I{constructor(e){this.callback=e}call(e,t){return t.subscribe(new S(e,this.callback))}}class S extends an.L{constructor(e,t){super(e),this.add(new ql.w(t))}}class P{constructor(e,t){this.id=e,this.url=t}}class V extends P{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class K extends P{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ue extends P{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Te extends P{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Be extends P{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends P{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt extends P{constructor(e,t,s,a,c){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zt extends P{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn extends P{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ks{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mo{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wi{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vt="primary";class Zl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zl(n){return new Zl(n)}const hu="ngNavigationCancelingError";function fu(n){const e=Error("NavigationCancelingError: "+n);return e[hu]=!0,e}function Ap(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let c=0;c<s.length;c++){const h=s[c],y=n[c];if(h.startsWith(":"))a[h.substring(1)]=y;else if(h!==y.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Ci(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let c=0;c<t.length;c++)if(a=t[c],!av(n[a],e[a]))return!1;return!0}function av(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,c)=>s[c]===a)}return n===e}function ko(n){return Array.prototype.concat.apply([],n)}function pu(n){return n.length>0?n[n.length-1]:null}function hr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Di(n){return(0,p.CqO)(n)?n:(0,p.QGY)(n)?(0,_n.D)(Promise.resolve(n)):(0,Xe.of)(n)}const Mc={exact:function Fh(n,e,t){if(!ba(n.segments,e.segments)||!gu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!Fh(n.children[s],e.children[s],t))return!1;return!0},subset:Oc},Ki={exact:function(n,e){return Ci(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>av(n[t],e[t]))},ignored:()=>!0};function Gl(n,e,t){return Mc[t.paths](n.root,e.root,t.matrixParams)&&Ki[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Oc(n,e,t){return Ea(n,e,e.segments,t)}function Ea(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!ba(a,t)||e.hasChildren()||!gu(a,t,s))}if(n.segments.length===t.length){if(!ba(n.segments,t)||!gu(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!Oc(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(ba(n.segments,a)&&gu(n.segments,a,s)&&n.children[vt])&&Ea(n.children[vt],e,c,s)}}function gu(n,e,t){return e.every((s,a)=>Ki[t](n[a].parameters,s.parameters))}class wa{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zl(this.queryParams)),this._queryParamMap}toString(){return Lm.serialize(this)}}class Rt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hr(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uh(this)}}class Ys{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zl(this.parameters)),this._parameterMap}toString(){return Vh(this)}}function ba(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class Lh{}class xp{parse(e){const t=new Np(e);return new wa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Wl(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${Fo(t)}=${Fo(a)}`).join("&"):`${Fo(t)}=${Fo(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Lm=new xp;function Uh(n){return n.segments.map(e=>Vh(e)).join("/")}function Wl(n,e){if(!n.hasChildren())return Uh(n);if(e){const t=n.children[vt]?Wl(n.children[vt],!1):"",s=[];return hr(n.children,(a,c)=>{c!==vt&&s.push(`${c}:${Wl(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return hr(n.children,(s,a)=>{a===vt&&(t=t.concat(e(s,a)))}),hr(n.children,(s,a)=>{a!==vt&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===vt?[Wl(n.children[vt],!1)]:[`${a}:${Wl(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[vt]?`${Uh(n)}/${t[0]}`:`${Uh(n)}/(${t.join("//")})`}}function Um(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fo(n){return Um(n).replace(/%3B/gi,";")}function Ia(n){return Um(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kl(n){return decodeURIComponent(n)}function Vm(n){return Kl(n.replace(/\+/g,"%20"))}function Vh(n){return`${Ia(n.path)}${function(n){return Object.keys(n).map(e=>`;${Ia(e)}=${Ia(n[e])}`).join("")}(n.parameters)}`}const Bm=/^[^\/()?;=#]+/;function Yl(n){const e=n.match(Bm);return e?e[0]:""}const jm=/^[^=?&#]+/,cv=/^[^?&#]+/;class Np{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[vt]=new Rt(e,t)),s}parseSegment(){const e=Yl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ys(Kl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Yl(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=Yl(this.remaining);a&&(s=a,this.capture(s))}e[Kl(t)]=Kl(s)}parseQueryParam(e){const t=function(n){const e=n.match(jm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(cv);return e?e[0]:""}(this.remaining);h&&(s=h,this.capture(s))}const a=Vm(t),c=Vm(s);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(c)}else e[a]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Yl(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;s.indexOf(":")>-1?(c=s.substr(0,s.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=vt);const h=this.parseChildren();t[c]=1===Object.keys(h).length?h[vt]:new Rt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class $m{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Mp(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=Mp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Es(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Es(e,this._root).map(t=>t.value)}}function Mp(n,e){if(n===e.value)return e;for(const t of e.children){const s=Mp(n,t);if(s)return s}return null}function Es(n,e){if(n===e.value)return[e];for(const t of e.children){const s=Es(n,t);if(s.length)return s.unshift(e),s}return[]}class pi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Op extends $m{constructor(e,t){super(e),this.snapshot=t,kp(this,e)}toString(){return this.snapshot.toString()}}function Hm(n,e){const t=function(n,e){const h=new $h([],{},{},"",{},vt,e,null,n.root,-1,{});return new Hh("",new pi(h,[]))}(n,e),s=new Tr([new Ys("",{})]),a=new Tr({}),c=new Tr({}),h=new Tr({}),y=new Tr(""),w=new Lc(s,a,h,y,c,vt,e,t.root);return w.snapshot=t.root,new Op(new pi(w,[]),t)}class Lc{constructor(e,t,s,a,c,h,y,w){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=h,this.component=y,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>zl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>zl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qm(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],c=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(c.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class $h{constructor(e,t,s,a,c,h,y,w,C,R,N){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=h,this.component=y,this.routeConfig=w,this._urlSegment=C,this._lastPathIndex=R,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hh extends $m{constructor(e,t){super(t),this.url=e,kp(this,t)}toString(){return Fp(this._root)}}function kp(n,e){e.value._routerState=n,e.children.forEach(t=>kp(n,t))}function Fp(n){const e=n.children.length>0?` { ${n.children.map(Fp).join(", ")} } `:"";return`${n.value}${e}`}function Zm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ci(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ci(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ci(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ci(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ql(n,e){return Ci(n.params,e.params)&&function(n,e){return ba(n,e)&&n.every((t,s)=>Ci(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Ql(n.parent,e.parent))}function Uc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Uc(n,s,a);return Uc(n,s)})}(n,e,t);return new pi(s,a)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const h=c.route;return Yi(e,h),h}}const s=function(n){return new Lc(new Tr(n.url),new Tr(n.params),new Tr(n.queryParams),new Tr(n.fragment),new Tr(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(c=>Uc(n,c));return new pi(s,a)}}function Yi(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Yi(n.children[t],e.children[t])}function qh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Qs(n){return"object"==typeof n&&null!=n&&n.outlets}function Wm(n,e,t,s,a){let c={};return s&&hr(s,(h,y)=>{c[y]=Array.isArray(h)?h.map(w=>`${w}`):`${h}`}),new wa(t.root===n?e:hv(t.root,n,e),c,a)}function hv(n,e,t){const s={};return hr(n.children,(a,c)=>{s[c]=a===e?t:hv(a,e,t)}),new Rt(n.segments,s)}class Vc{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&qh(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(Qs);if(a&&a!==pu(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yu{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function Km(n,e,t){if(n||(n=new Rt([],{})),0===n.segments.length&&n.hasChildren())return zh(n,e,t);const s=function(n,e,t){let s=0,a=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return c;const h=n.segments[a],y=t[s];if(Qs(y))break;const w=`${y}`,C=s<t.length-1?t[s+1]:null;if(a>0&&void 0===w)break;if(w&&C&&"object"==typeof C&&void 0===C.outlets){if(!Bp(w,C,h))return c;s+=2}else{if(!Bp(w,{},h))return c;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const c=new Rt(n.segments.slice(0,s.pathIndex),{});return c.children[vt]=new Rt(n.segments.slice(s.pathIndex),n.children),zh(c,0,a)}return s.match&&0===a.length?new Rt(n.segments,{}):s.match&&!n.hasChildren()?Vp(n,e,t):s.match?zh(n,0,a):Vp(n,e,t)}function zh(n,e,t){if(0===t.length)return new Rt(n.segments,{});{const s=function(n){return Qs(n[0])?n[0].outlets:{[vt]:n}}(t),a={};return hr(s,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[h]=Km(n.children[h],e,c))}),hr(n.children,(c,h)=>{void 0===s[h]&&(a[h]=c)}),new Rt(n.segments,a)}}function Vp(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const c=t[a];if(Qs(c)){const w=Ym(c.outlets);return new Rt(s,w)}if(0===a&&qh(t[0])){s.push(new Ys(n.segments[e].path,ed(t[0]))),a++;continue}const h=Qs(c)?c.outlets[vt]:`${c}`,y=a<t.length-1?t[a+1]:null;h&&y&&qh(y)?(s.push(new Ys(h,ed(y))),a+=2):(s.push(new Ys(h,{})),a++)}return new Rt(s,{})}function Ym(n){const e={};return hr(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=Vp(new Rt([],{}),0,t))}),e}function ed(n){const e={};return hr(n,(t,s)=>e[s]=`${t}`),e}function Bp(n,e,t){return n==t.path&&Ci(e,t.parameters)}class Qm{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),Zm(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=Fc(t);e.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,a[h],s),delete a[h]}),hr(a,(c,h)=>{this.deactivateRouteAndItsChildren(c,s)})}deactivateRoutes(e,t,s){const a=e.value,c=t?t.value:null;if(a===c)if(a.component){const h=s.getContext(a.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,s);else c&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),c=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,c=Fc(e);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=Fc(t);e.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],s),this.forwardEvent(new vs(c.value.snapshot))}),e.children.length&&this.forwardEvent(new Mo(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,c=t?t.value:null;if(Zm(a),a===c)if(a.component){const h=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const h=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(y.contexts),h.attachRef=y.componentRef,h.route=y.route.value,h.outlet&&h.outlet.attach(y.componentRef,y.route.value),dn(y.route)}else{const y=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),w=y?y.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=w,h.outlet&&h.outlet.activateWith(a,w),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,s)}}function dn(n){Zm(n.value),n.children.forEach(dn)}class $p{constructor(e,t){this.routes=e,this.module=t}}function Qi(n){return"function"==typeof n}function _u(n){return n instanceof wa}const Kh=Symbol("INITIAL_VALUE");function td(){return Vn(n=>function(...n){let e,t;return(0,qs.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Ac.k)(n[0])&&(n=n[0]),(0,Vl.n)(n,t).lift(new Po(e))}(n.map(e=>e.pipe(Nh(1),Rc(Kh)))).pipe(ya((e,t)=>{let s=!1;return t.reduce((a,c,h)=>a!==Kh?a:(c===Kh&&(s=!0),s||!1!==c&&h!==t.length-1&&!_u(c)?a:c),e)},Kh),_s(e=>e!==Kh),(0,ht.U)(e=>_u(e)?e:!0===e),Nh(1)))}let Bc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&p._UZ(0,"router-outlet")},directives:function(){return[hy]},encapsulation:2}),n})();function Ur(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];Hp(s,Xm(e,s))}}function Hp(n,e){n.children&&Ur(n.children,e)}function Xm(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function vu(n){const e=n.children&&n.children.map(vu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==vt&&(t.component=Bc),t}function un(n){return n.outlet||vt}function Eu(n,e){const t=n.filter(s=>un(s)===e);return t.push(...n.filter(s=>un(s)!==e)),t}const Yh={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Qh(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Yh):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||Ap)(t,n,e);if(!c)return Object.assign({},Yh);const h={};hr(c.posParams,(w,C)=>{h[C]=w.path});const y=c.consumed.length>0?Object.assign(Object.assign({},h),c.consumed[c.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:y,positionalParamSegments:null!==(s=c.posParams)&&void 0!==s?s:{}}}function Jh(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>jc(n,e,s)&&un(s)!==vt)}(n,t,s)){const h=new Rt(e,function(n,e,t,s){const a={};a[vt]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&un(c)!==vt){const h=new Rt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[un(c)]=h}return a}(n,e,s,new Rt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>jc(n,e,s))}(n,t,s)){const h=new Rt(n.segments,function(n,e,t,s,a,c){const h={};for(const y of s)if(jc(n,t,y)&&!a[un(y)]){const w=new Rt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===c?n.segments.length:e.length,h[un(y)]=w}return Object.assign(Object.assign({},a),h)}(n,e,t,s,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const c=new Rt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function jc(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ny(n,e,t,s){return!!(un(n)===s||s!==vt&&jc(e,t,n))&&("**"===n.path||Qh(e,n,t).matched)}function ef(n,e,t){return 0===e.length&&!n.children[t]}class Dr{constructor(e){this.segmentGroup=e||null}}class wu{constructor(e){this.urlTree=e}}function bu(n){return new Ti.y(e=>e.error(new Dr(n)))}function Zp(n){return new Ti.y(e=>e.error(new wu(n)))}function zp(n){return new Ti.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class nd{constructor(e,t,s,a,c){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(p.h0i)}apply(){const e=Jh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Rt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,vt).pipe((0,ht.U)(c=>this.createUrlTree(Js(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gs(c=>{if(c instanceof wu)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Dr?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,vt).pipe((0,ht.U)(a=>this.createUrlTree(Js(a),e.queryParams,e.fragment))).pipe(Gs(a=>{throw a instanceof Dr?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new Rt([],{[vt]:e}):e;return new wa(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,ht.U)(c=>new Rt([],c))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const c of Object.keys(s.children))"primary"===c?a.unshift(c):a.push(c);return(0,_n.D)(a).pipe(Ws(c=>{const h=s.children[c],y=Eu(t,c);return this.expandSegmentGroup(e,y,h,c).pipe((0,ht.U)(w=>({segment:w,outlet:c})))}),ya((c,h)=>(c[h.outlet]=h.segment,c),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?_s((a,c)=>n(a,c,s)):Cr.y,Dp(1),t?fi(e):lu(()=>new Zs))}())}expandSegment(e,t,s,a,c,h){return(0,_n.D)(s).pipe(Ws(y=>this.expandSegmentAgainstRoute(e,t,s,y,a,c,h).pipe(Gs(C=>{if(C instanceof Dr)return(0,Xe.of)(null);throw C}))),_a(y=>!!y),Gs((y,w)=>{if(y instanceof Zs||"EmptyError"===y.name){if(ef(t,a,c))return(0,Xe.of)(new Rt([],{}));throw new Dr(t)}throw y}))}expandSegmentAgainstRoute(e,t,s,a,c,h,y){return ny(a,t,c,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,c,h):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,c,h):bu(t):bu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,c,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const c=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Zp(c):this.lineralizeSegments(s,c).pipe((0,lr.zg)(h=>{const y=new Rt(h,{});return this.expandSegment(e,y,t,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,c,h){const{matched:y,consumedSegments:w,lastChild:C,positionalParamSegments:R}=Qh(t,a,c);if(!y)return bu(t);const N=this.applyRedirectCommands(w,a.redirectTo,R);return a.redirectTo.startsWith("/")?Zp(N):this.lineralizeSegments(a,N).pipe((0,lr.zg)(j=>this.expandSegment(e,t,s,j.concat(c.slice(C)),h,!1)))}matchSegmentAgainstRoute(e,t,s,a,c){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Xe.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,ht.U)(j=>(s._loadedConfig=j,new Rt(a,{})))):(0,Xe.of)(new Rt(a,{}));const{matched:h,consumedSegments:y,lastChild:w}=Qh(t,s,a);if(!h)return bu(t);const C=a.slice(w);return this.getChildConfig(e,s,a).pipe((0,lr.zg)(N=>{const j=N.module,G=N.routes,{segmentGroup:X,slicedSegments:ve}=Jh(t,y,C,G),Pe=new Rt(X.segments,X.children);if(0===ve.length&&Pe.hasChildren())return this.expandChildren(j,G,Pe).pipe((0,ht.U)(ut=>new Rt(y,ut)));if(0===G.length&&0===ve.length)return(0,Xe.of)(new Rt(y,{}));const rt=un(s)===c;return this.expandSegment(j,Pe,G,ve,rt?vt:c,!0).pipe((0,ht.U)(Mt=>new Rt(y.concat(Mt.segments),Mt.children)))}))}getChildConfig(e,t,s){return t.children?(0,Xe.of)(new $p(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Xe.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,lr.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,ht.U)(c=>(t._loadedConfig=c,c))):(n=t,new Ti.y(e=>e.error(fu(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Xe.of)(new $p([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,Xe.of)(!0);const c=a.map(h=>{const y=e.get(h);let w;if((n=y)&&Qi(n.canLoad))w=y.canLoad(t,s);else{if(!Qi(y))throw new Error("Invalid CanLoad guard");w=y(t,s)}var n;return Di(w)});return(0,Xe.of)(c).pipe(td(),(0,dr.b)(h=>{if(!_u(h))return;const y=fu(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw y.url=h,y}),(0,ht.U)(h=>!0===h))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,Xe.of)(s);if(a.numberOfChildren>1||!a.children[vt])return zp(e.redirectTo);a=a.children[vt]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const c=this.createSegmentGroup(e,t.root,s,a);return new wa(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return hr(e,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);s[c]=t[y]}else s[c]=a}),s}createSegmentGroup(e,t,s,a){const c=this.createSegments(e,t.segments,s,a);let h={};return hr(t.children,(y,w)=>{h[w]=this.createSegmentGroup(e,y,s,a)}),new Rt(c,h)}createSegments(e,t,s,a){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,a):this.findOrReturn(c,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function Js(n){const e={};for(const s of Object.keys(n.children)){const c=Js(n.children[s]);(c.segments.length>0||c.hasChildren())&&(e[s]=c)}return function(n){if(1===n.numberOfChildren&&n.children[vt]){const e=n.children[vt];return new Rt(n.segments.concat(e.segments),e.children)}return n}(new Rt(n.segments,e))}class sy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tf{constructor(e,t){this.component=e,this.route=t}}function yv(n,e,t){const s=n._root;return fr(s,e?e._root:null,t,[s.value])}function Sr(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function fr(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Fc(e);return n.children.forEach(h=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ba(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ba(n.url,e.url)||!Ci(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ql(n,e)||!Ci(n.queryParams,e.queryParams);case"paramsChange":default:return!Ql(n,e)}}(h,c,c.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new sy(s)):(c.data=h.data,c._resolvedData=h._resolvedData),fr(n,e,c.component?y?y.children:null:t,s,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new tf(y.outlet.component,h))}else h&&Uo(e,y,a),a.canActivateChecks.push(new sy(s)),fr(n,null,c.component?y?y.children:null:t,s,a)})(h,c[h.value.outlet],t,s.concat([h.value]),a),delete c[h.value.outlet]}),hr(c,(h,y)=>Uo(h,t.getContext(y),a)),a}function Uo(n,e,t){const s=Fc(n),a=n.value;hr(s,(c,h)=>{Uo(c,a.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new tf(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class _{}function f(n){return new Ti.y(e=>e.error(n))}class E{constructor(e,t,s,a,c,h){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const e=Jh(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,vt);if(null===t)return null;const s=new $h([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new pi(s,t),c=new Hh(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,s=qm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const c of Object.keys(t.children)){const h=t.children[c],y=Eu(e,c),w=this.processSegmentGroup(y,h,c);if(null===w)return null;s.push(...w)}const a=re(s);return a.sort((e,t)=>e.value.outlet===vt?-1:t.value.outlet===vt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,s,a){for(const c of e){const h=this.processSegmentAgainstRoute(c,t,s,a);if(null!==h)return h}return ef(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!ny(e,t,s,a))return null;let c,h=[],y=[];if("**"===e.path){const G=s.length>0?pu(s).parameters:{};c=new $h(s,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ze(e),un(e),e.component,e,Se(t),Ze(t)+s.length,xt(e))}else{const G=Qh(t,e,s);if(!G.matched)return null;h=G.consumedSegments,y=s.slice(G.lastChild),c=new $h(h,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ze(e),un(e),e.component,e,Se(t),Ze(t)+h.length,xt(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:R}=Jh(t,h,y,w.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);var n;if(0===R.length&&C.hasChildren()){const G=this.processChildren(w,C);return null===G?null:[new pi(c,G)]}if(0===w.length&&0===R.length)return[new pi(c,[])];const N=un(e)===a,j=this.processSegment(w,C,R,N?vt:a);return null===j?null:[new pi(c,j)]}}function $(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function re(n){const e=[],t=new Set;for(const s of n){if(!$(s)){e.push(s);continue}const a=e.find(c=>s.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=re(s.children);e.push(new pi(s.value,a))}return e.filter(s=>!t.has(s))}function Se(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ze(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function ze(n){return n.data||{}}function xt(n){return n.resolve||{}}function rd(n){return Vn(e=>{const t=n(e);return t?(0,_n.D)(t).pipe((0,ht.U)(()=>e)):(0,Xe.of)(e)})}class cy extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const id=new p.OlP("ROUTES");class Yp{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,ht.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=c.create(e);return new $p(ko(h.injector.get(id,void 0,p.XFs.Self|p.XFs.Optional)).map(vu),h)}),Gs(c=>{throw t._loader$=void 0,c}));return t._loader$=new zs.c(a,()=>new ms.xQ).pipe((0,km.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,_n.D)(this.loader.load(e)):Di(e()).pipe((0,lr.zg)(t=>t instanceof p.YKP?(0,Xe.of)(t):(0,_n.D)(this.compiler.compileModuleAsync(t))))}}class wv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ca,this.attachRef=null}}class Ca{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wv,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class ab{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Iv(n){throw n}function ub(n,e,t){return e.parse("/")}function ly(n,e){return(0,Xe.of)(null)}const KD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Si=(()=>{class n{constructor(t,s,a,c,h,y,w,C){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=c,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ms.xQ,this.errorHandler=Iv,this.malformedUriErrorHandler=ub,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ly,afterPreactivation:ly},this.urlHandlingStrategy=new ab,this.routeReuseStrategy=new cy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(p.h0i),this.console=h.get(p.c2e);const j=h.get(p.R0b);this.isNgZoneEnabled=j instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new wa(new Rt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yp(y,w,G=>this.triggerEvent(new Jn(G)),G=>this.triggerEvent(new Xn(G))),this.routerState=Hm(this.currentUrlTree,this.rootComponentType),this.transitions=new Tr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(_s(a=>0!==a.id),(0,ht.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Vn(a=>{let c=!1,h=!1;return(0,Xe.of)(a).pipe((0,dr.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vn(y=>{const w=this.browserUrlTree.toString(),C=!this.navigated||y.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Da(y.source)&&(this.browserUrlTree=y.extractedUrl),(0,Xe.of)(y).pipe(Vn(N=>{const j=this.transitions.getValue();return s.next(new V(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),j!==this.transitions.getValue()?Lr.E:Promise.resolve(N)}),function(n,e,t,s){return Vn(a=>function(n,e,t,s,a){return new nd(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,ht.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,dr.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function(n,e,t,s,a){return(0,lr.zg)(c=>function(n,e,t,s,a="emptyOnly",c="legacy"){try{const h=new E(n,e,t,s,a,c).recognize();return null===h?f(new _):(0,Xe.of)(h)}catch(h){return f(h)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),s,a).pipe((0,ht.U)(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,dr.b)(N=>{"eager"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(N.urlAfterRedirects,N),this.browserUrlTree=N.urlAfterRedirects);const j=new Be(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);s.next(j)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:G,source:X,restoredState:ve,extras:Pe}=y,rt=new V(j,this.serializeUrl(G),X,ve);s.next(rt);const it=Hm(G,this.rootComponentType).snapshot;return(0,Xe.of)(Object.assign(Object.assign({},y),{targetSnapshot:it,urlAfterRedirects:G,extras:Object.assign(Object.assign({},Pe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),Lr.E}),rd(y=>{const{targetSnapshot:w,id:C,extractedUrl:R,rawUrl:N,extras:{skipLocationChange:j,replaceUrl:G}}=y;return this.hooks.beforePreactivation(w,{navigationId:C,appliedUrlTree:R,rawUrlTree:N,skipLocationChange:!!j,replaceUrl:!!G})}),(0,dr.b)(y=>{const w=new je(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),(0,ht.U)(y=>Object.assign(Object.assign({},y),{guards:yv(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(n,e){return(0,lr.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:h}}=t;return 0===h.length&&0===c.length?(0,Xe.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,_n.D)(n).pipe((0,lr.zg)(a=>function(n,e,t,s,a){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Xe.of)(!0);const h=c.map(y=>{const w=Sr(y,e,a);let C;if(function(n){return n&&Qi(n.canDeactivate)}(w))C=Di(w.canDeactivate(n,e,t,s));else{if(!Qi(w))throw new Error("Invalid CanDeactivate guard");C=Di(w(n,e,t,s))}return C.pipe(_a())});return(0,Xe.of)(h).pipe(td())}(a.component,a.route,t,e,s)),_a(a=>!0!==a,!0))}(h,s,a,n).pipe((0,lr.zg)(y=>y&&function(n){return"boolean"==typeof n}(y)?function(n,e,t,s){return(0,_n.D)(e).pipe(Ws(a=>uu(function(n,e){return null!==n&&e&&e(new Ks(n)),(0,Xe.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new Wi(n)),(0,Xe.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Zi(()=>{const y=h.guards.map(w=>{const C=Sr(w,h.node,t);let R;if(function(n){return n&&Qi(n.canActivateChild)}(C))R=Di(C.canActivateChild(s,n));else{if(!Qi(C))throw new Error("Invalid CanActivateChild guard");R=Di(C(s,n))}return R.pipe(_a())});return(0,Xe.of)(y).pipe(td())}));return(0,Xe.of)(c).pipe(td())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Xe.of)(!0);const a=s.map(c=>Zi(()=>{const h=Sr(c,e,t);let y;if(function(n){return n&&Qi(n.canActivate)}(h))y=Di(h.canActivate(e,n));else{if(!Qi(h))throw new Error("Invalid CanActivate guard");y=Di(h(e,n))}return y.pipe(_a())}));return(0,Xe.of)(a).pipe(td())}(n,a.route,t))),_a(a=>!0!==a,!0))}(s,c,n,e):(0,Xe.of)(y)),(0,ht.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,dr.b)(y=>{if(_u(y.guardsResult)){const C=fu(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw C.url=y.guardsResult,C}const w=new Vt(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(w)}),_s(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),rd(y=>{if(y.guards.canActivateChecks.length)return(0,Xe.of)(y).pipe((0,dr.b)(w=>{const C=new Zt(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(C)}),Vn(w=>{let C=!1;return(0,Xe.of)(w).pipe(function(n,e){return(0,lr.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,Xe.of)(t);let c=0;return(0,_n.D)(a).pipe(Ws(h=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,Xe.of)({});const c={};return(0,_n.D)(a).pipe((0,lr.zg)(h=>function(n,e,t,s){const a=Sr(n,e,s);return Di(a.resolve?a.resolve(e,t):a(e,t))}(n[h],e,t,s).pipe((0,dr.b)(y=>{c[h]=y}))),Dp(1),(0,lr.zg)(()=>Object.keys(c).length===a.length?(0,Xe.of)(c):Lr.E))}(n._resolve,n,e,s).pipe((0,ht.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),qm(n,t).resolve),null)))}(h.route,s,n,e)),(0,dr.b)(()=>c++),Dp(1),(0,lr.zg)(h=>c===a.length?(0,Xe.of)(t):Lr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,dr.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,dr.b)(w=>{const C=new Qn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(C)}))}),rd(y=>{const{targetSnapshot:w,id:C,extractedUrl:R,rawUrl:N,extras:{skipLocationChange:j,replaceUrl:G}}=y;return this.hooks.afterPreactivation(w,{navigationId:C,appliedUrlTree:R,rawUrlTree:N,skipLocationChange:!!j,replaceUrl:!!G})}),(0,ht.U)(y=>{const w=function(n,e,t){const s=Uc(n,e._root,t?t._root:void 0);return new Op(s,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:w})}),(0,dr.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(s=>(new Qm(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,dr.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new I(n))}(()=>{var y;if(!c&&!h){const w=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,w)):this.cancelNavigationTransition(a,w)}(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===a.id&&(this.currentNavigation=null)}),Gs(y=>{if(h=!0,function(n){return n&&n[hu]}(y)){const w=_u(y.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const C=new ue(a.id,this.serializeUrl(a.extractedUrl),y.message);s.next(C),w?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),N={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Da(a.source)};this.scheduleNavigation(R,"imperative",null,N,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new Te(a.id,this.serializeUrl(a.extractedUrl),y);s.next(w);try{a.resolve(this.errorHandler(y))}catch(C){a.reject(C)}}return Lr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:c,urlTree:h}=s,y={replaceUrl:!0};if(c){const w=Object.assign({},c);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(y.state=w)}this.scheduleNavigation(h,a,c,y)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ur(t),this.config=t.map(vu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:c,fragment:h,queryParamsHandling:y,preserveFragment:w}=s,C=a||this.routerState.root,R=w?this.currentUrlTree.fragment:h;let N=null;switch(y){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=c||null}return null!==N&&(N=this.removeEmptyProps(N)),function(n,e,t,s,a){if(0===t.length)return Wm(e.root,e.root,e,s,a);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Vc(!0,0,n);let e=0,t=!1;const s=n.reduce((a,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const y={};return hr(c.outlets,(w,C)=>{y[C]="string"==typeof w?w.split("/"):w}),[...a,{outlets:y}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===h?(c.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?t=!0:".."===y?e++:""!=y&&a.push(y))}),a):[...a,c]},[]);return new Vc(t,e,s)}(t);if(c.toRoot())return Wm(e.root,new Rt([],{}),e,s,a);const h=function(n,e,t){if(n.isAbsolute)return new yu(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new yu(c,c===e.root,0)}const s=qh(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,c=t;for(;c>a;){if(c-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new yu(s,!1,a-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(c,e,n),y=h.processChildren?zh(h.segmentGroup,h.index,c.commands):Km(h.segmentGroup,h.index,c.commands);return Wm(h.segmentGroup,y,e,s,a)}(C,this.currentUrlTree,t,N,null!=R?R:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=_u(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},KD):!1===s?Object.assign({},YD):s,_u(t))return Gl(this.currentUrlTree,t,a);const c=this.parseUrl(t);return Gl(this.currentUrlTree,c,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const c=t[a];return null!=c&&(s[a]=c),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new K(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,c,h){var y,w;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),R=Da(s)&&C&&!Da(C.source),G=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===t.toString();if(R&&G)return Promise.resolve(!0);let X,ve,Pe;h?(X=h.resolve,ve=h.reject,Pe=h.promise):Pe=new Promise((Mt,ut)=>{X=Mt,ve=ut});const rt=++this.navigationId;let it;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),it=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):it=0,this.setTransition({id:rt,targetPageId:it,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:X,reject:ve,promise:Pe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pe.catch(Mt=>Promise.reject(Mt))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(t,s=!1){var a,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new ue(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.DyG),p.LFG(Lh),p.LFG(Ca),p.LFG(qe),p.LFG(p.zs3),p.LFG(p.v3s),p.LFG(p.Sil),p.LFG(void 0))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Da(n){return"imperative"!==n}let dy=(()=>{class n{constructor(t,s,a,c,h){this.router=t,this.route=s,this.commands=[],this.onChanges=new ms.xQ,null==a&&c.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:of(this.skipLocationChange),replaceUrl:of(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:of(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Si),p.Y36(Lc),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,s){1&t&&p.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[p.TTD]}),n})(),Qp=(()=>{class n{constructor(t,s,a){this.router=t,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new ms.xQ,this.subscription=t.events.subscribe(c=>{c instanceof K&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,s,a,c,h){if(0!==t||s||a||c||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:of(this.skipLocationChange),replaceUrl:of(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:of(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Si),p.Y36(Lc),p.Y36(W))},n.\u0275dir=p.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,s){1&t&&p.NdJ("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&(p.Ikx("href",s.href,p.LSH),p.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[p.TTD]}),n})();function of(n){return""===n||!!n}let Jp=(()=>{class n{constructor(t,s,a,c,h,y){this.router=t,this.element=s,this.renderer=a,this.cdr=c,this.link=h,this.linkWithHref=y,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(w=>{w instanceof K&&this.update()})}ngAfterContentInit(){(0,Xe.of)(this.links.changes,this.linksWithHrefs.changes,(0,Xe.of)(null)).pipe((0,ys.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const s=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,_n.D)(s).pipe((0,ys.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(t){const s=Array.isArray(t)?t:t.split(" ");this.classes=s.filter(a=>!!a)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(s=>{t?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}))})}isLinkActive(t){const s=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>t.isActive(a.urlTree,s)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Si),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(dy,8),p.Y36(Qp,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,s,a){if(1&t&&(p.Suo(a,dy,5),p.Suo(a,Qp,5)),2&t){let c;p.iGM(c=p.CRH())&&(s.links=c),p.iGM(c=p.CRH())&&(s.linksWithHrefs=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[p.TTD]}),n})(),hy=(()=>{class n{constructor(t,s,a,c,h){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.name=c||vt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,w=new lb(t,y,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ca),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},n.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class lb{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===Lc?this.route:e===Ca?this.childContexts:this.parent.get(e,t)}}class Tv{}class Dv{preload(e,t){return(0,Xe.of)(null)}}let Xp=(()=>{class n{constructor(t,s,a,c,h){this.router=t,this.injector=c,this.preloadingStrategy=h,this.loader=new Yp(s,a,C=>t.triggerEvent(new Jn(C)),C=>t.triggerEvent(new Xn(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(_s(t=>t instanceof K),Ws(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(p.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const c of s)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(t,c)):c.children&&a.push(this.processRoutes(t,c.children));return(0,_n.D)(a).pipe((0,ys.J)(),(0,ht.U)(c=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Xe.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,lr.zg)(c=>(s._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Si),p.LFG(p.v3s),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(Tv))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),af=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof V?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof K&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Oo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new Oo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Si),p.LFG(Wa),p.LFG(void 0))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Tu=new p.OlP("ROUTER_CONFIGURATION"),Sv=new p.OlP("ROUTER_FORROOT_GUARD"),eg=[qe,{provide:Lh,useClass:xp},{provide:Si,useFactory:function(n,e,t,s,a,c,h,y={},w,C){const R=new Si(null,n,e,t,s,a,c,ko(h));return w&&(R.urlHandlingStrategy=w),C&&(R.routeReuseStrategy=C),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(y,R),y.enableTracing&&R.events.subscribe(N=>{var j,G;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${N.constructor.name}`),console.log(N.toString()),console.log(N),null===(G=console.groupEnd)||void 0===G||G.call(console)}),R},deps:[Lh,Ca,qe,p.zs3,p.v3s,p.Sil,id,Tu,[class{},new p.FiY],[class{},new p.FiY]]},Ca,{provide:Lc,useFactory:function(n){return n.routerState.root},deps:[Si]},{provide:p.v3s,useClass:p.EAV},Xp,Dv,class{preload(e,t){return t().pipe(Gs(()=>(0,Xe.of)(null)))}},{provide:Tu,useValue:{enableTracing:!1}}];function XD(){return new p.PXZ("Router",Si)}let xv=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[eg,fy(t),{provide:Sv,useFactory:db,deps:[[Si,new p.FiY,new p.tp0]]},{provide:Tu,useValue:s||{}},{provide:W,useFactory:tS,deps:[ce,[new p.tBr(ge),new p.FiY],Tu]},{provide:af,useFactory:eS,deps:[Si,Wa,Tu]},{provide:Tv,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Dv},{provide:p.PXZ,multi:!0,useFactory:XD},[Rv,{provide:p.ip1,multi:!0,useFactory:pb,deps:[Rv]},{provide:gb,useFactory:nS,deps:[Rv]},{provide:p.tb,multi:!0,useExisting:gb}]]}}static forChild(t){return{ngModule:n,providers:[fy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Sv,8),p.LFG(Si,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function eS(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new af(n,e,t)}function tS(n,e,t={}){return t.useHash?new xe(n,e):new fe(n,e)}function db(n){return"guarded"}function fy(n){return[{provide:p.deG,multi:!0,useValue:n},{provide:id,multi:!0,useValue:n}]}let Rv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ms.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(y=>s=y),c=this.injector.get(Si),h=this.injector.get(Tu);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),s(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Xe.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),c.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(Tu),a=this.injector.get(Xp),c=this.injector.get(af),h=this.injector.get(Si),y=this.injector.get(p.z2F);t===y.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),c.init(),h.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.zs3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function pb(n){return n.appInitializer.bind(n)}function nS(n){return n.bootstrapListener.bind(n)}const gb=new p.OlP("Router Initializer");class mb{}var rS=L(3637),Kr=L(9259);function Pv(){return n=>n.lift(new iS)}class iS{call(e,t){return t.subscribe(new yb(e))}}class yb extends an.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class oS{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new aS(e,this.compare,this.keySelector))}}class aS extends an.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}var He,st=L(8939),_b=(L(8402),L(3394)),me=L(8239),Yr=L(8026),tg=L(3910),qc=L(5422),Pt=L(3854),Cu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jo={},ng=ng||{},It=Cu||self;function rg(){}function vb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ws(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var uf="closure_uid_"+(1e9*Math.random()>>>0),Nv=0;function eP(n,e,t){return n.call.apply(n.bind,arguments)}function cS(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Vr(n,e,t){return(Vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eP:cS).apply(null,arguments)}function Mv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function Qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,c){for(var h=Array(arguments.length-2),y=2;y<arguments.length;y++)h[y-2]=arguments[y];return e.prototype[a].apply(s,h)}}function sd(){this.s=this.s,this.o=this.o}var wb={};sd.prototype.s=!1,sd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,uf)&&n[uf]||(n[uf]=++Nv)}(this);delete wb[n]}},sd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},gy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let c=0;c<s;c++)c in a&&e.call(t,a[c],c,n)};function lS(n){return Array.prototype.concat.apply([],arguments)}function Ib(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function Ov(n){return/^[\s\xa0]*$/.test(n)}var Xi,dS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ji(n,e){return-1!=n.indexOf(e)}function Tb(n,e){return n<e?-1:n>e?1:0}e:{var hS=It.navigator;if(hS){var fS=hS.userAgent;if(fS){Xi=fS;break e}}Xi=""}function Cb(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function Du(n){const e={};for(const t in n)e[t]=n[t];return e}var my="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Db(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let c=0;c<my.length;c++)t=my[c],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function yy(n){return yy[" "](n),n}yy[" "]=rg;var cf,n,Sb=Ji(Xi,"Opera"),Zc=Ji(Xi,"Trident")||Ji(Xi,"MSIE"),Ab=Ji(Xi,"Edge"),Sa=Ab||Zc,Fv=Ji(Xi,"Gecko")&&!(Ji(Xi.toLowerCase(),"webkit")&&!Ji(Xi,"Edge"))&&!(Ji(Xi,"Trident")||Ji(Xi,"MSIE"))&&!Ji(Xi,"Edge"),pS=Ji(Xi.toLowerCase(),"webkit")&&!Ji(Xi,"Edge");function gS(){var n=It.document;return n?n.documentMode:void 0}e:{var Lv="",_y=(n=Xi,Fv?/rv:([^\);]+)(\)|;)/.exec(n):Ab?/Edge\/([\d\.]+)/.exec(n):Zc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):pS?/WebKit\/(\S+)/.exec(n):Sb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_y&&(Lv=_y?_y[1]:""),Zc){var Uv=gS();if(null!=Uv&&Uv>parseFloat(Lv)){cf=String(Uv);break e}}cf=Lv}var mS={};function ig(){return e=mS,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=dS(String(cf)).split("."),t=dS("9").split("."),s=Math.max(e.length,t.length);for(let h=0;0==n&&h<s;h++){var a=e[h]||"",c=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=Tb(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Tb(0==a[2].length,0==c[2].length)||Tb(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n}();var e}var lf=It.document&&Zc&&(gS()||parseInt(cf,10))||void 0,sg=function(){if(!It.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{It.addEventListener("test",rg,e),It.removeEventListener("test",rg,e)}catch(t){}return n}();function er(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function og(n,e){if(er.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Fv){e:{try{yy(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:xb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&og.Z.h.call(this)}}er.prototype.h=function(){this.defaultPrevented=!0},Qr(og,er);var xb={2:"touch",3:"pen",4:"mouse"};og.prototype.h=function(){og.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var df="closure_listenable_"+(1e6*Math.random()|0),Vv=0;function Bv(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++Vv,this.ca=this.fa=!1}function ag(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function od(n){this.src=n,this.g={},this.h=0}function jv(n,e){var t=e.type;if(t in n.g){var c,s=n.g[t],a=bb(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(ag(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ey(n,e,t,s){for(var a=0;a<n.length;++a){var c=n[a];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==s)return a}return-1}od.prototype.add=function(n,e,t,s,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=Ey(n,e,s,a);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new Bv(e,this.src,c,!!s,a)).fa=t,n.push(e)),e};var Rb="closure_lm_"+(1e6*Math.random()|0),wy={};function $v(n,e,t,s,a){if(s&&s.once)return Mb(n,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)$v(n,e[c],t,s,a);return null}return t=by(t),n&&n[df]?n.N(e,t,ws(s)?!!s.capture:!!s,a):Pb(n,e,t,!1,s,a)}function Pb(n,e,t,s,a,c){if(!e)throw Error("Invalid event type");var h=ws(a)?!!a.capture:!!a,y=Fb(n);if(y||(n[Rb]=y=new od(n)),(t=y.add(e,t,s,h,c)).proxy)return t;if(s=function(){var e=yS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)sg||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(kb(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function Mb(n,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Mb(n,e[c],t,s,a);return null}return t=by(t),n&&n[df]?n.O(e,t,ws(s)?!!s.capture:!!s,a):Pb(n,e,t,!0,s,a)}function Ob(n,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Ob(n,e[c],t,s,a);else s=ws(s)?!!s.capture:!!s,t=by(t),n&&n[df]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ey(c=n.g[e],t,s,a))&&(ag(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Fb(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ey(e,t,s,a)),(t=-1<n?e[n]:null)&&Ai(t))}function Ai(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[df])jv(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(kb(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Fb(e))?(jv(t,n),0==t.h&&(t.src=null,e[Rb]=null)):ag(n)}}}function kb(n){return n in wy?wy[n]:wy[n]="on"+n}function yS(n,e){if(n.ca)n=!0;else{e=new og(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&Ai(n),n=t.call(s,e)}return n}function Fb(n){return(n=n[Rb])instanceof od?n:null}var Lb="__closure_events_fn_"+(1e9*Math.random()>>>0);function by(n){return"function"==typeof n?n:(n[Lb]||(n[Lb]=function(e){return n.handleEvent(e)}),n[Lb])}function Jr(){sd.call(this),this.i=new od(this),this.P=this,this.I=null}function Xr(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new er(e,n);else if(e instanceof er)e.target=e.target||n;else{var a=e;Db(e=new er(s,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];a=hf(h,s,!0,e)&&a}if(a=hf(h=e.g=n,s,!0,e)&&a,a=hf(h,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=hf(h=e.g=t[c],s,!1,e)&&a}function hf(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.ca&&h.capture==t){var y=h.listener,w=h.ia||h.src;h.fa&&jv(n.i,h),a=!1!==y.call(w,s)&&a}}return a&&!s.defaultPrevented}Qr(Jr,sd),Jr.prototype[df]=!0,Jr.prototype.removeEventListener=function(n,e,t,s){Ob(this,n,e,t,s)},Jr.prototype.M=function(){if(Jr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)ag(t[s]);delete n.g[e],n.h--}}this.I=null},Jr.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},Jr.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var Iy=It.JSON.stringify;function _S(){var n=qv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Hv,Ub=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Vb,n=>n.reset());class Vb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ES(n){It.setTimeout(()=>{throw n},0)}function Ty(n,e){Hv||function(){var n=It.Promise.resolve(void 0);Hv=function(){n.then(bS)}}(),Cy||(Hv(),Cy=!0),qv.add(n,e)}var Cy=!1,qv=new class{constructor(){this.h=this.g=null}add(e,t){const s=Ub.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function bS(){for(var n;n=_S();){try{n.h.call(n.g)}catch(t){ES(t)}var e=Ub;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Cy=!1}function bs(n,e){Jr.call(this),this.h=n||1,this.g=e||It,this.j=Vr(this.kb,this),this.l=Date.now()}function ug(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Zv(n,e,t){if("function"==typeof n)t&&(n=Vr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vr(n.handleEvent,n)}return 2147483647<Number(e)?-1:It.setTimeout(n,e||0)}function Bb(n){n.g=Zv(()=>{n.g=null,n.i&&(n.i=!1,Bb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qr(bs,Jr),(He=bs.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xr(this,"tick"),this.da&&(ug(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){bs.Z.M.call(this),ug(this),delete this.g};class nP extends sd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Bb(this)}M(){super.M(),this.g&&(It.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ff(n){sd.call(this),this.h=n,this.g={}}Qr(ff,sd);var jb=[];function $b(n,e,t,s){Array.isArray(t)||(t&&(jb[0]=t.toString()),t=jb);for(var a=0;a<t.length;a++){var c=$v(e,t[a],s||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function Hb(n){Cb(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ai(e)},n),n.g={}}function pf(){this.g=!0}function Su(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<a.length;h++)a[h]=""}}}return Iy(t)}catch(y){return e}}(n,t)+(s?" "+s:"")})}ff.prototype.M=function(){ff.Z.M.call(this),Hb(this)},ff.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pf.prototype.Aa=function(){this.g=!1},pf.prototype.info=function(){};var Au={},Dy=null;function cg(){return Dy=Dy||new Jr}function qb(n){er.call(this,Au.Ma,n)}function lg(n){const e=cg();Xr(e,new qb(e,n))}function Sy(n,e){er.call(this,Au.STAT_EVENT,n),this.stat=e}function es(n){const e=cg();Xr(e,new Sy(e,n))}function Zb(n,e){er.call(this,Au.Na,n),this.size=e}function gf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return It.setTimeout(function(){n()},e)}Au.Ma="serverreachability",Qr(qb,er),Au.STAT_EVENT="statevent",Qr(Sy,er),Au.Na="timingevent",Qr(Zb,er);var dg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Gv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ay(){}function Aa(){}Ay.prototype.h=null;var zb,Gc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Kv(){er.call(this,"d")}function Yv(){er.call(this,"c")}function xu(){}function mf(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new ff(this),this.P=hg,this.W=new bs(n=Sa?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yf}function yf(){this.i=null,this.g="",this.h=!1}Qr(Kv,er),Qr(Yv,er),Qr(xu,Ay),xu.prototype.g=function(){return new XMLHttpRequest},xu.prototype.i=function(){return{}},zb=new xu;var hg=45e3,Qv={},_f={};function xy(n,e,t){n.K=1,n.v=wf(Ra(e)),n.s=t,n.U=!0,Gb(n,null)}function Gb(n,e){n.F=Date.now(),fg(n),n.A=Ra(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),oE(t.h,"t",s),n.C=0,t=n.l.H,n.h=new yf,n.g=pE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new nP(Vr(n.Ia,n,n.g),n.O)),$b(n.V,n.g,"readystatechange",n.gb),e=n.H?Du(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),lg(1),function(n,e,t,s,a,c){n.info(function(){if(n.g)if(c)for(var h="",y=c.split("&"),w=0;w<y.length;w++){var C=y[w].split("=");if(1<C.length){var R=C[0];C=C[1];var N=R.split("_");h=2<=N.length&&"type"==N[1]?h+(R+"=")+C+"&":h+(R+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Jv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Wb(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=Xv(n,t),a==_f){4==e&&(n.o=4,es(14),s=!1),Su(n.j,n.m,null,"[Incomplete Response]");break}if(a==Qv){n.o=4,es(15),Su(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}Su(n.j,n.m,a,null),eE(n,a)}Jv(n)&&a!=_f&&a!=Qv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,es(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),el(e),e.L=!0,es(11))):(Su(n.j,n.m,t,"[Invalid Chunked Response]"),Wc(n),xa(n))}function Xv(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?_f:(t=Number(e.substring(t,s)),isNaN(t)?Qv:(s+=1)+t>e.length?_f:(e=e.substr(s,t),n.C=s+t,e))}function fg(n){n.Y=Date.now()+n.P,Kb(n,n.P)}function Kb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gf(Vr(n.eb,n),e)}function pg(n){n.B&&(It.clearTimeout(n.B),n.B=null)}function xa(n){0==n.l.G||n.I||dd(n.l,n)}function Wc(n){pg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ug(n.W),Hb(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function eE(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||uE(t.i,n)))if(t.I=n.N,!n.J&&uE(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(C){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=gf(Vr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Nu(t),Ny(t)}Xc(t),es(18)}if(1>=aE(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else to(t,11)}else if((n.J||t.g==n)&&Nu(t),!Ov(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let C=a[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const R=C[3];null!=R&&(t.ma=R,t.h.info("VER="+t.ma));const N=C[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const j=C[5];null!=j&&"number"==typeof j&&0<j&&(t.K=s=1.5*j,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const G=n.g;if(G){const X=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var c=s.i;!c.g&&(Ji(X,"spdy")||Ji(X,"quic")||Ji(X,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(cE(c,c.h),c.h=null))}if(s.D){const ve=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(s.sa=ve,vn(s.F,s.D,ve))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((s=t).oa=pd(s,s.H?s.la:null,s.W),h.J){MS(s.i,h);var y=h,w=s.K;w&&y.setTimeout(w),y.B&&(pg(y),fg(y)),s.g=h}else Oy(s);0<t.l.length&&Yc(t)}else"stop"!=C[0]&&"close"!=C[0]||to(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?to(t,7):fE(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}lg(4)}catch(C){}}function Kc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vb(n)||"string"==typeof n)gy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(vb(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(vb(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],n)}}function vf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof vf)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function tE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];ad(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)ad(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function ad(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(He=mf.prototype).setTimeout=function(n){this.P=n},He.gb=function(n){n=n.target;const e=this.L;e&&3==Pu(n)?e.l():this.Ia(n)},He.Ia=function(n){try{if(n==this.g)e:{const R=Pu(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>R)&&(3!=R||Sa||this.g&&(this.h.h||this.g.ga()||_g(this.g)))){this.I||4!=R||7==e||lg(8==e||0>=N?3:2),pg(this);var t=this.g.ba();this.N=t;t:if(Jv(this)){var s=_g(this.g);n="";var a=s.length,c=4==Pu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wc(this),xa(this);var h="";break t}this.h.i=new It.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,c,h){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.X,R,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,w=this.g;if((y=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ov(y)){var C=y;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,es(12),Wc(this),xa(this);break e}Su(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,eE(this,t)}this.U?(Wb(this,R,h),Sa&&this.i&&3==R&&($b(this.V,this.W,"tick",this.fb),this.W.start())):(Su(this.j,this.m,h,null),eE(this,h)),4==R&&Wc(this),this.i&&!this.I&&(4==R?dd(this.l,this):(this.i=!1,fg(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,es(12)):(this.o=0,es(13)),Wc(this),xa(this)}}}catch(R){}},He.fb=function(){if(this.g){var n=Pu(this.g),e=this.g.ga();this.C<e.length&&(pg(this),Wb(this,n,e),this.i&&4!=n&&fg(this))}},He.cancel=function(){this.I=!0,Wc(this)},He.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(lg(3),es(17)),Wc(this),this.o=2,xa(this)):Kb(this,this.Y-n)},(He=vf.prototype).R=function(){tE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},He.T=function(){return tE(this),this.g.concat()},He.get=function(n,e){return ad(this.h,n)?this.h[n]:e},He.set=function(n,e){ad(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},He.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],c=this.get(a);n.call(e,c,a,this)}};var Yb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ud(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ud){this.g=void 0!==e?e:n.g,hn(this,n.j),this.s=n.s,Ef(this,n.i),nE(this,n.m),this.l=n.l,e=n.h;var t=new cd;t.i=e.i,e.g&&(t.g=new vf(e.g),t.h=e.h),Pa(this,t),this.o=n.o}else n&&(t=String(n).match(Yb))?(this.g=!!e,hn(this,t[1]||"",!0),this.s=gg(t[2]||""),Ef(this,t[3]||"",!0),nE(this,t[4]),this.l=gg(t[5]||"",!0),Pa(this,t[6]||"",!0),this.o=gg(t[7]||"")):(this.g=!!e,this.h=new cd(null,this.g))}function Ra(n){return new ud(n)}function hn(n,e,t){n.j=t?gg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ef(n,e,t){n.i=t?gg(e,!0):e}function nE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Pa(n,e,t){e instanceof cd?(n.h=e,function(n,e){e&&!n.j&&(Ru(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(iE(this,s),oE(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=bf(e,xS)),n.h=new cd(e,n.g))}function vn(n,e,t){n.h.set(e,t)}function wf(n){return vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function bf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Qb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Qb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ud.prototype.toString=function(){var n=[],e=this.j;e&&n.push(bf(e,rE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(bf(e,rE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(bf(t,"/"==t.charAt(0)?AS:Jb,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",bf(t,mg)),n.join("")};var rE=/[#\/\?@]/g,Jb=/[#\?:]/g,AS=/[#\?]/g,xS=/[#\?@]/g,mg=/#/g;function cd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ru(n){n.g||(n.g=new vf,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var c=n[t].substring(0,s);a=n[t].substring(s+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function iE(n,e){Ru(n),e=If(n,e),ad(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ad((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&tE(n)))}function sE(n,e){return Ru(n),e=If(n,e),ad(n.g.h,e)}function oE(n,e,t){iE(n,e),0<t.length&&(n.i=null,n.g.set(If(n,e),Ib(t)),n.h+=t.length)}function If(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Xb(n){this.l=n||eI,n=It.PerformanceNavigationTiming?0<(n=It.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(It.g&&It.g.Ea&&It.g.Ea()&&It.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=cd.prototype).add=function(n,e){Ru(this),this.i=null,n=If(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},He.forEach=function(n,e){Ru(this),this.g.forEach(function(t,s){gy(t,function(a){n.call(e,a,s,this)},this)},this)},He.T=function(){Ru(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],c=0;c<a.length;c++)t.push(e[s]);return t},He.R=function(n){Ru(this);var e=[];if("string"==typeof n)sE(this,n)&&(e=lS(e,this.g.get(If(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=lS(e,n[t])}return e},He.set=function(n,e){return Ru(this),this.i=null,sE(this,n=If(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},He.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var c=0;c<s.length;c++){var h=a;""!==s[c]&&(h+="="+encodeURIComponent(String(s[c]))),n.push(h)}}return this.i=n.join("&")};var eI=10;function NS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aE(n){return n.h?1:n.g?n.g.size:0}function uE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cE(n,e){n.g?n.g.add(e):n.h=e}function MS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function OS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ib(n.i)}function yg(){}function kS(){this.g=new yg}function tI(n,e,t){const s=t||"";try{Kc(n,function(a,c){let h=a;ws(a)&&(h=Iy(a)),e.push(s+c+"="+encodeURIComponent(h))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function lE(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(c){}}function xi(n){this.l=n.$b||null,this.j=n.ib||!1}function dE(n,e){Jr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=rI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xb.prototype.cancel=function(){if(this.i=OS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},yg.prototype.stringify=function(n){return It.JSON.stringify(n,void 0)},yg.prototype.parse=function(n){return It.JSON.parse(n,void 0)},Qr(xi,Ay),xi.prototype.g=function(){return new dE(this.l,this.j)},xi.prototype.i=function(n){return function(){return n}}({}),Qr(dE,Jr);var rI=0;function FS(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Tf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Cf(n)}function Cf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=dE.prototype).open=function(n,e){if(this.readyState!=rI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Cf(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||It).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tf(this)),this.readyState=rI},He.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Cf(this)),this.g&&(this.readyState=3,Cf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==It.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FS(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Tf(this):Cf(this),3==this.readyState&&FS(this)}},He.Ua=function(n){this.g&&(this.response=this.responseText=n,Tf(this))},He.Ta=function(n){this.g&&(this.response=n,Tf(this))},He.ha=function(){this.g&&Tf(this)},He.setRequestHeader=function(n,e){this.v.append(n,e)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var iI=It.JSON.parse;function pr(n){Jr.call(this),this.headers=new vf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LS,this.K=this.L=!1}Qr(pr,Jr);var LS="",sI=/^https?$/i,oI=["POST","PUT"];function hE(n){return"content-type"==n.toLowerCase()}function aI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,uI(n),Ry(n)}function uI(n){n.D||(n.D=!0,Xr(n,"complete"),Xr(n,"error"))}function cI(n){if(n.h&&void 0!==ng&&(!n.C[1]||4!=Pu(n)||2!=n.ba()))if(n.v&&4==Pu(n))Zv(n.Fa,0,n);else if(Xr(n,"readystatechange"),4==Pu(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===y){var a=String(n.H).match(Yb)[1]||null;if(!a&&It.self&&It.self.location){var c=It.self.location.protocol;a=c.substr(0,c.length-1)}s=!sI.test(a?a.toLowerCase():"")}t=s}if(t)Xr(n,"complete"),Xr(n,"success");else{n.m=6;try{var h=2<Pu(n)?n.g.statusText:""}catch(w){h=""}n.j=h+" ["+n.ba()+"]",uI(n)}}finally{Ry(n)}}}function Ry(n,e){if(n.g){lI(n);const t=n.g,s=n.C[0]?rg:null;n.g=null,n.C=null,e||Xr(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function lI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(It.clearTimeout(n.A),n.A=null)}function Pu(n){return n.g?n.g.readyState:0}function _g(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case LS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Py(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return Cb(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vn(n,e,t))}function Ri(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Sf(n){this.za=0,this.l=[],this.h=new pf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ri("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ri("baseRetryDelayMs",5e3,n),this.$a=Ri("retryDelaySeedMs",1e4,n),this.Ya=Ri("forwardChannelMaxRetries",2,n),this.ra=Ri("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Xb(n&&n.concurrentRequestLimit),this.Ca=new kS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function fE(n){if(My(n),3==n.G){var e=n.V++,t=Ra(n.F);vn(t,"SID",n.J),vn(t,"RID",e),vn(t,"TYPE","terminate"),Jc(n,t),(e=new mf(n,n.h,e,void 0)).K=2,e.v=wf(Ra(t)),t=!1,It.navigator&&It.navigator.sendBeacon&&(t=It.navigator.sendBeacon(e.v.toString(),"")),!t&&It.Image&&((new Image).src=e.v,t=!0),t||(e.g=pE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),fg(e)}fd(n)}function Ny(n){n.g&&(el(n),n.g.cancel(),n.g=null)}function My(n){Ny(n),n.u&&(It.clearTimeout(n.u),n.u=null),Nu(n),n.i.cancel(),n.m&&("number"==typeof n.m&&It.clearTimeout(n.m),n.m=null)}function eo(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Yc(n)}function Yc(n){NS(n.i)||n.m||(n.m=!0,Ty(n.Ha,n),n.C=0)}function Qc(n,e){var t;t=e?e.m:n.V++;const s=Ra(n.F);vn(s,"SID",n.J),vn(s,"RID",t),vn(s,"AID",n.U),Jc(n,s),n.o&&n.s&&Py(s,n.o,n.s),t=new mf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Is(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),cE(n.i,t),xy(t,s,e)}function Jc(n,e){n.j&&Kc({},function(t,s){vn(e,s,t)})}function Is(n,e,t){t=Math.min(n.l.length,t);var s=n.j?Vr(n.j.Oa,n.j,n):null;e:{var a=n.l;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=a[0].h,h.push("ofs="+c)):c=0:h.push("ofs="+c);let y=!0;for(let w=0;w<t;w++){let C=a[w].h;const R=a[w].g;if(C-=c,0>C)c=Math.max(0,a[w].h-100),y=!1;else try{tI(R,h,"req"+C+"_")}catch(N){s&&s(R)}}if(y){s=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function Oy(n){n.g||n.u||(n.Y=1,Ty(n.Ga,n),n.A=0)}function Xc(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=gf(Vr(n.Ga,n),hd(n,n.A)),n.A++,0))}function el(n){null!=n.B&&(It.clearTimeout(n.B),n.B=null)}function ld(n){n.g=new mf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ra(n.oa);vn(e,"RID","rpc"),vn(e,"SID",n.J),vn(e,"CI",n.N?"0":"1"),vn(e,"AID",n.U),Jc(n,e),vn(e,"TYPE","xmlhttp"),n.o&&n.s&&Py(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=wf(Ra(e)),t.s=null,t.U=!0,Gb(t,n)}function Nu(n){null!=n.v&&(It.clearTimeout(n.v),n.v=null)}function dd(n,e){var t=null;if(n.g==e){Nu(n),el(n),n.g=null;var s=2}else{if(!uE(n.i,e))return;t=e.D,MS(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Xr(s=cg(),new Zb(s,t,e,a)),Yc(n)}else Oy(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(aE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=gf(Vr(n.Ha,n,e),hd(n,n.C)),n.C++,0)))}(n,e)||2==s&&Xc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:to(n,5);break;case 4:to(n,10);break;case 3:to(n,6);break;default:to(n,2)}}function hd(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function to(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=Vr(n.jb,n);t||(t=new ud("//www.google.com/images/cleardot.gif"),It.location&&"http"==It.location.protocol||hn(t,"https"),wf(t)),function(n,e){const t=new pf;if(It.Image){const s=new Image;s.onload=Mv(lE,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Mv(lE,t,s,"TestLoadImage: error",!1,e),s.onabort=Mv(lE,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Mv(lE,t,s,"TestLoadImage: timeout",!1,e),It.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else es(2);n.G=0,n.j&&n.j.va(e),fd(n),My(n)}function fd(n){n.G=0,n.I=-1,n.j&&((0!=OS(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ib(n.l),n.l.length=0),n.j.ua())}function pd(n,e,t){let s=function(n){return n instanceof ud?Ra(n):new ud(n,void 0)}(t);if(""!=s.i)e&&Ef(s,e+"."+s.i),nE(s,s.m);else{const a=It.location;s=function(n,e,t,s){var a=new ud(null,void 0);return n&&hn(a,n),e&&Ef(a,e),t&&nE(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Cb(n.aa,function(a,c){vn(s,c,a)}),t=n.sa,(e=n.D)&&t&&vn(s,e,t),vn(s,"VER",n.ma),Jc(n,s),s}function pE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pr(t&&n.Ba&&!n.qa?new xi({ib:!0}):n.qa)).L=n.H,e}function gE(){}function vg(){if(Zc&&!(10<=Number(lf)))throw Error("Environmental error: no available transport.")}function ts(n,e){Jr.call(this),this.g=new Sf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ov(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ov(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new gd(this)}function mE(n){Kv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yE(){Yv.call(this),this.status=1}function gd(n){this.g=n}(He=pr.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zb.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:zb),this.g.onreadystatechange=Vr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void aI(this,c)}n=t||"";const a=new vf(this.headers);s&&Kc(s,function(c,h){a.set(h,c)}),s=function(n){e:{var e=hE;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=It.FormData&&n instanceof It.FormData,!(0<=bb(oI,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(c,h){this.g.setRequestHeader(h,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{lI(this),0<this.B&&((this.K=function(n){return Zc&&ig()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vr(this.pa,this)):this.A=Zv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){aI(this,c)}},He.pa=function(){void 0!==ng&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xr(this,"complete"),Xr(this,"abort"),Ry(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ry(this,!0)),pr.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?cI(this):this.cb())},He.cb=function(){cI(this)},He.ba=function(){try{return 2<Pu(this)?this.g.status:-1}catch(n){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},He.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),iI(e)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=Sf.prototype).ma=8,He.G=1,He.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},He.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new mf(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=Du(c),Db(c,this.P)):c=this.P),null===this.o&&(a.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Is(this,a,e),vn(t=Ra(this.F),"RID",n),vn(t,"CVER",22),this.D&&vn(t,"X-HTTP-Session-Id",this.D),Jc(this,t),this.o&&c&&Py(t,this.o,c),cE(this.i,a),this.Ra&&vn(t,"TYPE","init"),this.ja?(vn(t,"$req",e),vn(t,"SID","null"),a.$=!0,xy(a,t,null)):xy(a,t,e),this.G=2}}else 3==this.G&&(n?Qc(this,n):0==this.l.length||NS(this.i)||Qc(this))},He.Ga=function(){if(this.u=null,ld(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=gf(Vr(this.bb,this),n)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,es(10),Ny(this),ld(this))},He.ab=function(){null!=this.v&&(this.v=null,Ny(this),Xc(this),es(19))},He.jb=function(n){n?(this.h.info("Successfully pinged google.com"),es(2)):(this.h.info("Failed to ping google.com"),es(1))},(He=gE.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},vg.prototype.g=function(n,e){return new ts(n,e)},Qr(ts,Jr),ts.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Ty(Vr(n.hb,n,e))),es(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=pd(n,null,n.W),Yc(n)},ts.prototype.close=function(){fE(this.g)},ts.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,eo(this.g,e)}else this.v?((e={}).__data__=Iy(n),eo(this.g,e)):eo(this.g,n)},ts.prototype.M=function(){this.g.j=null,delete this.j,fE(this.g),delete this.g,ts.Z.M.call(this)},Qr(mE,Kv),Qr(yE,Yv),Qr(gd,gE),gd.prototype.xa=function(){Xr(this.g,"a")},gd.prototype.wa=function(n){Xr(this.g,new mE(n))},gd.prototype.va=function(n){Xr(this.g,new yE(n))},gd.prototype.ua=function(){Xr(this.g,"b")},vg.prototype.createWebChannel=vg.prototype.g,ts.prototype.send=ts.prototype.u,ts.prototype.open=ts.prototype.m,ts.prototype.close=ts.prototype.close,dg.NO_ERROR=0,dg.TIMEOUT=8,dg.HTTP_ERROR=6,Gv.COMPLETE="complete",Aa.EventType=Gc,Gc.OPEN="a",Gc.CLOSE="b",Gc.ERROR="c",Gc.MESSAGE="d",Jr.prototype.listen=Jr.prototype.N,pr.prototype.listenOnce=pr.prototype.O,pr.prototype.getLastError=pr.prototype.La,pr.prototype.getLastErrorCode=pr.prototype.Da,pr.prototype.getStatus=pr.prototype.ba,pr.prototype.getResponseJson=pr.prototype.Qa,pr.prototype.getResponseText=pr.prototype.ga,pr.prototype.send=pr.prototype.ea;var dI=jo.createWebChannelTransport=function(){return new vg},hI=jo.getStatEventTarget=function(){return cg()},_E=jo.ErrorCode=dg,fI=jo.EventType=Gv,VS=jo.Event=Au,pI=jo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gI=jo.FetchXmlHttpFactory=xi,ky=jo.WebChannel=Aa,sP=jo.XhrIo=pr;const mI="@firebase/firestore";class Br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");let Af="9.6.3";const Mu=new qc.Yd("@firebase/firestore");function vE(){return Mu.logLevel}function Oe(n,...e){if(Mu.logLevel<=qc.in.DEBUG){const t=e.map(yI);Mu.debug(`Firestore (${Af}): ${n}`,...t)}}function gr(n,...e){if(Mu.logLevel<=qc.in.ERROR){const t=e.map(yI);Mu.error(`Firestore (${Af}): ${n}`,...t)}}function xf(n,...e){if(Mu.logLevel<=qc.in.WARN){const t=e.map(yI);Mu.warn(`Firestore (${Af}): ${n}`,...t)}}function yI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${Af}) INTERNAL ASSERTION FAILED: `+n;throw gr(e),new Error(e)}function gt(n,e){n||tt()}function Le(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Pt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Br.UNAUTHENTICATED))}shutdown(){}}class oP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aP{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=C=>this.i!==a?(a=this.i,t(C)):Promise.resolve();let h=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new mr,e.enqueueRetryable(()=>c(this.currentUser))};const y=()=>{const C=h;e.enqueueRetryable((0,me.Z)(function*(){yield C.promise,yield c(s.currentUser)}))},w=C=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(C=>w(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?w(C):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new mr)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(gt("string"==typeof s.accessToken),new Fy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new Br(e)}}class uP{constructor(e,t,s){this.type="FirstParty",this.user=Br.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class HS{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new uP(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cP{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=a=>{e.enqueueRetryable(()=>{return null!=(c=a).error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`),t(c.token);var c})};const s=a=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?s(a):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt("string"==typeof t.token),new EE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class jr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.p(s),this.T=s=>t.writeSequenceNumber(s))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function qS(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}jr.I=-1;class wE{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=qS(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Bt(n,e){return n<e?-1:n>e?1:0}function md(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function Eg(n){return n+"\0"}class $r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new $r(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new $r(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function _I(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class wg{constructor(e,t,s){void 0===t?t=0:t>e.length&&tt(),void 0===s?s=e.length-t:s>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===wg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wg?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),h=t.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends wg{construct(e,t,s){return new tn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const EI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ei extends wg{construct(e,t,s){return new ei(e,t,s)}static isValidIdentifier(e){return EI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ei(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const y=e[a];if("\\"===y){if(a+1===e.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[a+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,a+=2}else"`"===y?(h=!h,a++):"."!==y||h?(s+=y,a++):(c(),a++)}if(c(),h)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ei(t)}static emptyPath(){return new ei([])}}class _d{constructor(e){this.fields=e,e.sort(ei.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return md(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new tr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const dP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(n){if(gt(!!n),"string"==typeof n){let e=0;const t=dP.exec(n);if(gt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yr(n.seconds),nanos:yr(n.nanos)}}function yr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bg(n){return"string"==typeof n?tr.fromBase64String(n):tr.fromUint8Array(n)}function vd(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bI(n){const e=n.mapValue.fields.__previous_value__;return vd(e)?bI(e):e}function Ed(n){const e=Na(n.mapValue.fields.__local_write_time__.timestampValue);return new $r(e.seconds,e.nanos)}function Ou(n){return null==n}function Ly(n){return 0===n&&1/n==-1/0}function Uy(n){return"number"==typeof n&&Number.isInteger(n)&&!Ly(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(tn.fromString(e))}static fromName(e){return new Ye(tn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new tn(e.slice()))}}function tl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vd(n)?4:10:tt()}function ku(n,e){if(n===e)return!0;const t=tl(n);if(t!==tl(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ed(n).isEqual(Ed(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Na(s.timestampValue),h=Na(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,bg(n.bytesValue).isEqual(bg(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return yr(s.geoPointValue.latitude)===yr(a.geoPointValue.latitude)&&yr(s.geoPointValue.longitude)===yr(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return yr(s.integerValue)===yr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=yr(s.doubleValue),h=yr(a.doubleValue);return c===h?Ly(c)===Ly(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return md(n.arrayValue.values||[],e.arrayValue.values||[],ku);case 10:return function(s,a){const c=s.mapValue.fields||{},h=a.mapValue.fields||{};if(_I(c)!==_I(h))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(void 0===h[y]||!ku(c[y],h[y])))return!1;return!0}(n,e);default:return tt()}var a}function Ig(n,e){return void 0!==(n.values||[]).find(t=>ku(t,e))}function wd(n,e){if(n===e)return 0;const t=tl(n),s=tl(e);if(t!==s)return Bt(t,s);switch(t){case 0:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=yr(a.integerValue||a.doubleValue),y=yr(c.integerValue||c.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1}(n,e);case 3:return bE(n.timestampValue,e.timestampValue);case 4:return bE(Ed(n),Ed(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(a,c){const h=bg(a),y=bg(c);return h.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),y=c.split("/");for(let w=0;w<h.length&&w<y.length;w++){const C=Bt(h[w],y[w]);if(0!==C)return C}return Bt(h.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=Bt(yr(a.latitude),yr(c.latitude));return 0!==h?h:Bt(yr(a.longitude),yr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const h=a.values||[],y=c.values||[];for(let w=0;w<h.length&&w<y.length;++w){const C=wd(h[w],y[w]);if(C)return C}return Bt(h.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){const h=a.fields||{},y=Object.keys(h),w=c.fields||{},C=Object.keys(w);y.sort(),C.sort();for(let R=0;R<y.length&&R<C.length;++R){const N=Bt(y[R],C[R]);if(0!==N)return N;const j=wd(h[y[R]],w[C[R]]);if(0!==j)return j}return Bt(y.length,C.length)}(n.mapValue,e.mapValue);default:throw tt()}}function bE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=Na(n),s=Na(e),a=Bt(t.seconds,s.seconds);return 0!==a?a:Bt(t.nanos,s.nanos)}function IE(n){return TE(n)}function TE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=Na(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bg(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",c=!0;for(const h of s.values||[])c?c=!1:a+=",",a+=TE(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",h=!0;for(const y of a)h?h=!1:c+=",",c+=`${y}:${TE(s.fields[y])}`;return c+"}"}(n.mapValue):tt();var e}function Rf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vy(n){return!!n&&"integerValue"in n}function Tg(n){return!!n&&"arrayValue"in n}function By(n){return!!n&&"nullValue"in n}function CE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jy(n){return!!n&&"mapValue"in n}function Pf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yd(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Pf(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!jy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pf(t)}setAll(e){let t=ei.emptyPath(),s={},a=[];e.forEach((h,y)=>{if(!t.isImmediateParentOf(y)){const w=this.getFieldsMap(t);this.applyChanges(w,s,a),s={},a=[],t=y.popLast()}h?s[y.lastSegment()]=Pf(h):a.push(y.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());jy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ku(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];jy(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){yd(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new ti(Pf(this.value))}}function $y(n){const e=[];return yd(n.fields,(t,s)=>{const a=new ei([t]);if(jy(s)){const c=$y(s.mapValue).fields;if(0===c.length)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)}),new _d(e)}class Sn{constructor(e,t,s,a,c){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Sn(e,0,Et.min(),ti.empty(),0)}static newFoundDocument(e,t,s){return new Sn(e,1,t,s,0)}static newNoDocument(e,t){return new Sn(e,2,t,ti.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,ti.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ZS{constructor(e,t=null,s=[],a=[],c=null,h=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=y,this.R=null}}function II(n,e=null,t=[],s=[],a=null,c=null,h=null){return new ZS(n,e,t,s,a,c,h)}function Cg(n){const e=Le(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+IE(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Ou(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Hy(e.startAt)),e.endAt&&(t+="|ub:",t+=Hy(e.endAt)),e.R=t}return e.R}function Nf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!xI(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!ku(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PI(n.startAt,e.startAt)&&PI(n.endAt,e.endAt)}function Dg(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class mi extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,s):new CI(e,t,s):"array-contains"===t?new AI(e,s):"in"===t?new hP(e,s):"not-in"===t?new zS(e,s):"array-contains-any"===t?new GS(e,s):new mi(e,t,s)}static P(e,t,s){return"in"===t?new DI(e,s):new SI(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(wd(t,this.value)):null!==t&&tl(this.value)===tl(t)&&this.v(wd(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class CI extends mi{constructor(e,t,s){super(e,t,s),this.key=Ye.fromName(s.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.v(t)}}class DI extends mi{constructor(e,t){super(e,"in",t),this.keys=SE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SI extends mi{constructor(e,t){super(e,"not-in",t),this.keys=SE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function SE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Ye.fromName(s.referenceValue))}class AI extends mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tg(t)&&Ig(t.arrayValue,this.value)}}class hP extends mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ig(this.value.arrayValue,t)}}class zS extends mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ig(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ig(this.value.arrayValue,t)}}class GS extends mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ig(this.value.arrayValue,s))}}class Mf{constructor(e,t){this.position=e,this.before=t}}function Hy(n){return`${n.before?"b":"a"}:${n.position.map(e=>IE(e)).join(",")}`}class On{constructor(e,t="asc"){this.field=e,this.dir=t}}function xI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function RI(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const c=e[a],h=n.position[a];if(s=c.field.isKeyField()?Ye.comparator(Ye.fromName(h.referenceValue),t.key):wd(h,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function PI(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ku(n.position[t],e.position[t]))return!1;return!0}class Ma{constructor(e,t=null,s=[],a=[],c=null,h="F",y=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=y,this.endAt=w,this.S=null,this.D=null}}function NI(n,e,t,s,a,c,h,y){return new Ma(n,e,t,s,a,c,h,y)}function bd(n){return new Ma(n)}function Sg(n){return!Ou(n.limit)&&"F"===n.limitType}function Fu(n){return!Ou(n.limit)&&"L"===n.limitType}function AE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function xE(n){for(const e of n.filters)if(e.V())return e.field;return null}function qy(n){return null!==n.collectionGroup}function Of(n){const e=Le(n);if(null===e.S){e.S=[];const t=xE(e),s=AE(e);if(null!==t&&null===s)t.isKeyField()||e.S.push(new On(t)),e.S.push(new On(ei.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.S.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new On(ei.keyField(),c))}}}return e.S}function Ts(n){const e=Le(n);if(!e.D)if("F"===e.limitType)e.D=II(e.path,e.collectionGroup,Of(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Of(e))t.push(new On(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Mf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Mf(e.startAt.position,!e.startAt.before):null;e.D=II(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.D}function WS(n,e,t){return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kf(n,e){return Nf(Ts(n),Ts(e))&&n.limitType===e.limitType}function RE(n){return`${Cg(Ts(n))}|lt:${n.limitType}`}function no(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${IE(s.value)}`;var s}).join(", ")}]`),Ou(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Hy(n.startAt)),n.endAt&&(e+=", endAt: "+Hy(n.endAt)),`Target(${e})`}(Ts(n))}; limitType=${n.limitType})`}function Ag(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Ye.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!RI(t.startAt,Of(t),s)||t.endAt&&RI(t.endAt,Of(t),s)));var t,s}function MI(n){return(e,t)=>{let s=!1;for(const a of Of(n)){const c=Oa(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function Oa(n,e,t){const s=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(a,c,h){const y=c.data.field(a),w=h.data.field(a);return null!==y&&null!==w?wd(y,w):tt()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return tt()}}function ro(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ly(e)?"-0":e}}function io(n){return{integerValue:""+n}}function PE(n,e){return Uy(e)?io(e):ro(n,e)}class xg{constructor(){this._=void 0}}function KS(n,e,t){return n instanceof Ff?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Lu?Lf(n,e):n instanceof Id?NE(n,e):function(s,a){const c=OI(s,a),h=ME(c)+ME(s.N);return Vy(c)&&Vy(s.N)?io(h):ro(s.k,h)}(n,e)}function YS(n,e,t){return n instanceof Lu?Lf(n,e):n instanceof Id?NE(n,e):t}function OI(n,e){return n instanceof Uf?Vy(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ff extends xg{}class Lu extends xg{constructor(e){super(),this.elements=e}}function Lf(n,e){const t=OE(e);for(const s of n.elements)t.some(a=>ku(a,s))||t.push(s);return{arrayValue:{values:t}}}class Id extends xg{constructor(e){super(),this.elements=e}}function NE(n,e){let t=OE(e);for(const s of n.elements)t=t.filter(a=>!ku(a,s));return{arrayValue:{values:t}}}class Uf extends xg{constructor(e,t){super(),this.k=e,this.N=t}}function ME(n){return yr(n.integerValue||n.doubleValue)}function OE(n){return Tg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class nl{constructor(e,t){this.field=e,this.transform=t}}class kI{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Bf{}function FI(n,e,t){n instanceof jf?function(s,a,c){const h=s.value.clone(),y=UI(s.fieldTransforms,a,c.transformResults);h.setAll(y),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Uu?function(s,a,c){if(!Vf(s.precondition,a))return void a.convertToUnknownDocument(c.version);const h=UI(s.fieldTransforms,a,c.transformResults),y=a.data;y.setAll(LE(s)),y.setAll(h),a.convertToFoundDocument(c.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zy(n,e,t){var a;n instanceof jf?function(s,a,c){if(!Vf(s.precondition,a))return;const h=s.value.clone(),y=VI(s.fieldTransforms,c,a);h.setAll(y),a.convertToFoundDocument(FE(a),h).setHasLocalMutations()}(n,e,t):n instanceof Uu?function(s,a,c){if(!Vf(s.precondition,a))return;const h=VI(s.fieldTransforms,c,a),y=a.data;y.setAll(LE(s)),y.setAll(h),a.convertToFoundDocument(FE(a),y).setHasLocalMutations()}(n,e,t):Vf(n.precondition,a=e)&&a.convertToNoDocument(Et.min())}function LI(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),c=OI(s.transform,a||null);null!=c&&(null==t&&(t=ti.empty()),t.set(s.field,c))}return t||null}function kE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&md(t,s,(a,c)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof Lu&&s instanceof Lu||t instanceof Id&&s instanceof Id?md(t.elements,s.elements,ku):t instanceof Uf&&s instanceof Uf?ku(t.N,s.N):t instanceof Ff&&s instanceof Ff);var t,s}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function FE(n){return n.isFoundDocument()?n.version:Et.min()}class jf extends Bf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class Uu extends Bf{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}}function LE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function UI(n,e,t){const s=new Map;gt(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],h=c.transform,y=e.data.field(c.field);s.set(c.field,YS(h,y,t[a]))}return s}function VI(n,e,t){const s=new Map;for(const a of n){const c=a.transform,h=t.data.field(a.field);s.set(a.field,KS(c,h,e))}return s}class Rg extends Bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class UE extends Bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class JS{constructor(e){this.count=e}}var _r,zt;function BI(n){switch(n){default:return tt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function jI(n){if(void 0===n)return gr("GRPC error has no .code"),de.UNKNOWN;switch(n){case _r.OK:return de.OK;case _r.CANCELLED:return de.CANCELLED;case _r.UNKNOWN:return de.UNKNOWN;case _r.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case _r.INTERNAL:return de.INTERNAL;case _r.UNAVAILABLE:return de.UNAVAILABLE;case _r.UNAUTHENTICATED:return de.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case _r.NOT_FOUND:return de.NOT_FOUND;case _r.ALREADY_EXISTS:return de.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return de.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case _r.ABORTED:return de.ABORTED;case _r.OUT_OF_RANGE:return de.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return de.UNIMPLEMENTED;case _r.DATA_LOSS:return de.DATA_LOSS;default:return tt()}}(zt=_r||(_r={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";class Ar{constructor(e,t){this.comparator=e,this.root=t||ni.EMPTY}insert(e,t){return new Ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new Ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zy(this.root,e,this.comparator,!1)}getReverseIterator(){return new zy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zy(this.root,e,this.comparator,!0)}}class zy{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=null!=s?s:ni.RED,this.left=null!=a?a:ni.EMPTY,this.right=null!=c?c:ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new ni(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ni.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1,ni.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,s,a){return this}insert(n,e,t){return new ni(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zn{constructor(e){this.comparator=e,this.data=new Ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $I(this.data.getIterator())}getIteratorFrom(e){return new $I(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zn(this.comparator);return t.data=e,t}}class $I{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const XS=new Ar(Ye.comparator);function so(){return XS}const eA=new Ar(Ye.comparator);function VE(){return eA}const HI=new Ar(Ye.comparator);function BE(){return HI}const qI=new zn(Ye.comparator);function rn(...n){let e=qI;for(const t of n)e=e.add(t);return e}const ZI=new zn(Bt);function Pg(){return ZI}class $f{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Hf.createSynthesizedTargetChangeForCurrentChange(e,t)),new $f(Et.min(),s,Pg(),so(),rn())}}class Hf{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Hf(tr.EMPTY_BYTE_STRING,t,rn(),rn(),rn())}}class Ng{constructor(e,t,s,a){this.$=e,this.removedTargetIds=t,this.key=s,this.O=a}}class Gy{constructor(e,t){this.targetId=e,this.M=t}}class jE{constructor(e,t,s=tr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class rl{constructor(){this.F=0,this.L=Td(),this.B=tr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=rn(),t=rn(),s=rn();return this.L.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:tt()}}),new Hf(this.B,this.U,e,t,s)}H(){this.q=!1,this.L=Td()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class tA{constructor(e){this.et=e,this.nt=new Map,this.st=so(),this.it=zI(),this.rt=new zn(Bt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const s=this.ht(t);switch(e.state){case 0:this.lt(t)&&s.W(e.resumeToken);break;case 1:s.Z(),s.K||s.H(),s.W(e.resumeToken);break;case 2:s.Z(),s.K||this.removeTarget(t);break;case 3:this.lt(t)&&(s.tt(),s.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),s.W(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((s,a)=>{this.lt(a)&&t(a)})}dt(e){const t=e.targetId,s=e.M.count,a=this.wt(t);if(a){const c=a.target;if(Dg(c))if(0===s){const h=new Ye(c.path);this.at(t,h,Sn.newNoDocument(h,Et.min()))}else gt(1===s);else this._t(t)!==s&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((c,h)=>{const y=this.wt(h);if(y){if(c.current&&Dg(y.target)){const w=new Ye(y.target.path);null!==this.st.get(w)||this.yt(h,w)||this.at(h,w,Sn.newNoDocument(w,e))}c.j&&(t.set(h,c.G()),c.H())}});let s=rn();this.it.forEach((c,h)=>{let y=!0;h.forEachWhile(w=>{const C=this.wt(w);return!C||2===C.purpose||(y=!1,!1)}),y&&(s=s.add(c))});const a=new $f(e,t,this.rt,this.st,s);return this.st=so(),this.it=zI(),this.rt=new zn(Bt),a}ct(e,t){if(!this.lt(e))return;const s=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,s),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,s){if(!this.lt(e))return;const a=this.ht(e);this.yt(e,t)?a.J(t,1):a.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),s&&(this.st=this.st.insert(t,s))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new rl,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new zn(Bt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new rl),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function zI(){return new Ar(Ye.comparator)}function Td(){return new Ar(Ye.comparator)}const fP={asc:"ASCENDING",desc:"DESCENDING"},$E={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pP{constructor(e,t){this.databaseId=e,this.C=t}}function qf(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HE(n,e){return n.C?e.toBase64():e.toUint8Array()}function gP(n,e){return qf(n,e.toTimestamp())}function $e(n){return gt(!!n),Et.fromTimestamp(function(e){const t=Na(e);return new $r(t.seconds,t.nanos)}(n))}function qE(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function GI(n){const e=tn.fromString(n);return gt(zf(e)),e}function Mg(n,e){return qE(n.databaseId,e.path)}function Cs(n,e){const t=GI(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(Bn(t))}function ZE(n,e){return qE(n.databaseId,e)}function Og(n){const e=GI(n);return 4===e.length?tn.emptyPath():Bn(e)}function il(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Bn(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nA(n,e,t){return{name:Mg(n,e),fields:t.value.mapValue.fields}}function zE(n,e,t){const s=Cs(n,e.name),a=$e(e.updateTime),c=new ti({mapValue:{fields:e.fields}}),h=Sn.newFoundDocument(s,a,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function kg(n,e){let t;if(e instanceof jf)t={update:nA(n,e.key,e.value)};else if(e instanceof Rg)t={delete:Mg(n,e.key)};else if(e instanceof Uu)t={update:nA(n,e.key,e.data),updateMask:Fg(e.fieldMask)};else{if(!(e instanceof UE))return tt();t={verify:Mg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const h=c.transform;if(h instanceof Ff)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Lu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Id)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uf)return{fieldPath:c.field.canonicalString(),increment:h.N};throw tt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:gP(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:tt()),t;var a}function WE(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?nr.updateTime($e(a.updateTime)):void 0!==a.exists?nr.exists(a.exists):nr.none():nr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,h){let y=null;"setToServerValue"in h?(gt("REQUEST_TIME"===h.setToServerValue),y=new Ff):"appendMissingElements"in h?y=new Lu(h.appendMissingElements.values||[]):"removeAllFromArray"in h?y=new Id(h.removeAllFromArray.values||[]):"increment"in h?y=new Uf(c,h.increment):tt();const w=ei.fromServerFormat(h.fieldPath);return new nl(w,y)}(n,a)):[];var a;if(e.update){const a=Cs(n,e.update.name),c=new ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new _d((e.updateMask.fieldPaths||[]).map(C=>ei.fromServerFormat(C)));return new Uu(a,c,h,t,s)}return new jf(a,c,t,s)}if(e.delete){const a=Cs(n,e.delete);return new Rg(a,t)}if(e.verify){const a=Cs(n,e.verify);return new UE(a,t)}return tt()}function KE(n,e){return{documents:[ZE(n,e.path)]}}function KI(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=ZE(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ZE(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(y){if(0===y.length)return;const w=y.map(C=>function(R){if("=="===R.op){if(CE(R.value))return{unaryFilter:{field:Cd(R.field),op:"IS_NAN"}};if(By(R.value))return{unaryFilter:{field:Cd(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(CE(R.value))return{unaryFilter:{field:Cd(R.field),op:"IS_NOT_NAN"}};if(By(R.value))return{unaryFilter:{field:Cd(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cd(R.field),op:Wy(R.op),value:R.value}}}(C));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(0!==y.length)return y.map(w=>{return{field:Cd((C=w).field),direction:sA(C.dir)};var C})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=(w=e.limit,n.C||Ou(w)?w:{value:w});var w;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=QI(e.startAt)),e.endAt&&(t.structuredQuery.endAt=QI(e.endAt)),t}function YI(n){let e=Og(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){gt(1===s);const R=t.from[0];R.allDescendants?a=R.collectionId:e=e.child(R.collectionId)}let c=[];t.where&&(c=Zf(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(R=>{return new On(Dd((N=R).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let y=null;t.limit&&(y=function(R){let N;return N="object"==typeof R?R.value:R,Ou(N)?null:N}(t.limit));let w=null;t.startAt&&(w=JI(t.startAt));let C=null;return t.endAt&&(C=JI(t.endAt)),NI(e,a,h,c,y,"F",w,C)}function Zf(n){return n?void 0!==n.unaryFilter?[oA(n)]:void 0!==n.fieldFilter?[XI(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Zf(e)).reduce((e,t)=>e.concat(t)):tt():[]}function QI(n){return{before:n.before,values:n.position}}function JI(n){return new Mf(n.values||[],!!n.before)}function sA(n){return fP[n]}function Wy(n){return $E[n]}function Cd(n){return{fieldPath:n.canonicalString()}}function Dd(n){return ei.fromServerFormat(n.fieldPath)}function XI(n){return mi.create(Dd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function oA(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Dd(n.unaryFilter.field);return mi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Dd(n.unaryFilter.field);return mi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Dd(n.unaryFilter.field);return mi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Dd(n.unaryFilter.field);return mi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function Fg(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zf(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function $o(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eT(e)),e=aA(n.get(t),e);return eT(e)}function aA(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const c=n.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function eT(n){return n+"\x01\x01"}function ka(n){const e=n.length;if(gt(e>=2),2===e)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&tt(),n.charAt(h+1)){case"\x01":const y=n.substring(c,h);let w;0===a.length?w=y:(a+=y,w=a,a=""),s.push(w);break;case"\x10":a+=n.substring(c,h),a+="\0";break;case"\x11":a+=n.substring(c,h+1);break;default:tt()}c=h+2}return new tn(s)}class tT{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class ns{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}ns.store="owner",ns.key="owner";class sl{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}sl.store="mutationQueues",sl.keyPath="userId";class En{constructor(e,t,s,a,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=c}}En.store="mutations",En.keyPath="batchId",En.userMutationsIndex="userMutationsIndex",En.userMutationsKeyPath=["userId","batchId"];class yi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,$o(t)]}static key(e,t,s){return[e,$o(t),s]}}yi.store="documentMutations",yi.PLACEHOLDER=new yi;class uA{constructor(e,t){this.path=e,this.readTime=t}}class mP{constructor(e,t){this.path=e,this.version=t}}class rr{constructor(e,t,s,a,c,h){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=h}}rr.store="remoteDocuments",rr.readTimeIndex="readTimeIndex",rr.readTimeIndexPath="readTime",rr.collectionReadTimeIndex="collectionReadTimeIndex",rr.collectionReadTimeIndexPath=["parentPath","readTime"];class Vu{constructor(e){this.byteSize=e}}Vu.store="remoteDocumentGlobal",Vu.key="remoteDocumentGlobalKey";class Ds{constructor(e,t,s,a,c,h,y){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=h,this.query=y}}Ds.store="targets",Ds.keyPath="targetId",Ds.queryTargetsIndexName="queryTargetsIndex",Ds.queryTargetsKeyPath=["canonicalId","targetId"];class Hr{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}Hr.store="targetDocuments",Hr.keyPath=["targetId","path"],Hr.documentTargetsIndex="documentTargetsIndex",Hr.documentTargetsKeyPath=["path","targetId"];class _i{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}_i.key="targetGlobalKey",_i.store="targetGlobal";class Sd{constructor(e,t){this.collectionId=e,this.parent=t}}Sd.store="collectionParents",Sd.keyPath=["collectionId","parent"];class Bu{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}Bu.store="clientMetadata",Bu.keyPath="clientId";class Ad{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}Ad.store="bundles",Ad.keyPath="bundleId";class Fa{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}Fa.store="namedQueries",Fa.keyPath="name";const cA=[sl.store,En.store,yi.store,rr.store,Ds.store,ns.store,_i.store,Hr.store,Bu.store,Vu.store,Sd.store,Ad.store,Fa.store],nT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,s)=>{t(e)})}static reject(e){return new Ae((t,s)=>{s(e)})}static waitFor(e){return new Ae((t,s)=>{let a=0,c=0,h=!1;e.forEach(y=>{++a,y.next(()=>{++c,h&&c===a&&t()},w=>s(w))}),h=!0,c===a&&t()})}static or(e){let t=Ae.resolve(!1);for(const s of e)t=t.next(a=>a?Ae.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}}class Ky{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new mr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Lg(e,t.error)):this.It.resolve()},this.transaction.onerror=s=>{const a=Yy(s.target.error);this.It.reject(new Lg(e,a))}}static open(e,t,s,a){try{return new Ky(t,e.transaction(a,s))}catch(c){throw new Lg(t,c)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new dA(t)}}class oo{constructor(e,t,s){this.name=e,this.version=t,this.Rt=s,12.2===oo.bt((0,Pt.z$)())&&gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),ol(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Pt.hl)())return!1;if(oo.vt())return!0;const e=(0,Pt.z$)(),t=oo.bt(e),s=0<t&&t<10,a=oo.Vt(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Ct(e){var t=this;return(0,me.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{s(h.target.result)},c.onblocked=()=>{a(new Lg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const y=h.target.error;a("VersionError"===y.name?new Re(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new Re(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new Lg(e,y))},c.onupgradeneeded=h=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=s=>t.kt(s)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,me.Z)(function*(){const h="readonly"===t;let y=0;for(;;){++y;try{c.db=yield c.Ct(e);const w=Ky.open(c.db,e,h?"readonly":"readwrite",s),C=a(w).catch(R=>(w.abort(R),Ae.reject(R))).toPromise();return C.catch(()=>{}),yield w.At,C}catch(w){const C="FirebaseError"!==w.name&&y<3;if(Oe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",C),c.close(),!C)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lA{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return ol(this.$t.delete())}}class Lg extends Re{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ao(n){return"IndexedDbTransactionError"===n.name}class dA{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ol(s)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),ol(this.store.add(e))}get(e){return ol(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),ol(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),ol(this.store.count())}Bt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Ut(s,(c,h)=>{a.push(h)}).next(()=>a)}qt(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Kt=!1;const a=this.cursor(s);return this.Ut(a,(c,h,y)=>y.delete())}jt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Ut(a,t)}Qt(e){const t=this.cursor({});return new Ae((s,a)=>{t.onerror=c=>{const h=Yy(c.target.error);a(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(y=>{y?h.continue():s()}):s()}})}Ut(e,t){const s=[];return new Ae((a,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const y=h.target.result;if(!y)return void a();const w=new lA(y),C=t(y.primaryKey,y.value,w);if(C instanceof Ae){const R=C.catch(N=>(w.done(),Ae.reject(N)));s.push(R)}w.isDone?a():null===w.Ft?y.continue():y.continue(w.Ft)}}).next(()=>Ae.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Kt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ol(n){return new Ae((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=Yy(s.target.error);t(a)}})}let iT=!1;function Yy(n){const e=oo.bt((0,Pt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iT||(iT=!0,setTimeout(()=>{throw s},0)),s}}return n}class sT extends rT{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Pi(n,e){const t=Le(n);return oo.Dt(t.Wt,e)}class YE{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&FI(c,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Zy(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Zy(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(Et.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&md(this.mutations,e.mutations,(t,s)=>kE(t,s))&&md(this.baseMutations,e.baseMutations,(t,s)=>kE(t,s))}}class Ug{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){gt(e.mutations.length===s.length);let a=BE();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,s[h].version);return new Ug(e,t,s,a)}}class al{constructor(e,t,s,a,c=Et.min(),h=Et.min(),y=tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=y}withSequenceNumber(e){return new al(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class QE{constructor(e){this.Gt=e}}function Qy(n,e){if(e.document)return zE(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Ye.fromSegments(e.noDocument.path),s=Gf(e.noDocument.readTime),a=Sn.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=Ye.fromSegments(e.unknownDocument.path),s=Gf(e.unknownDocument.version);return Sn.newUnknownDocument(t,s)}return tt()}function oT(n,e,t){const s=JE(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:Mg(y=n.Gt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:qf(y,w.version.toTimestamp())};return new rr(null,null,c,e.hasCommittedMutations,s,a)}var y,w;if(e.isNoDocument()){const c=e.key.path.toArray(),h=ul(e.version),y=e.hasCommittedMutations;return new rr(null,new uA(c,h),null,y,s,a)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),h=ul(e.version);return new rr(new mP(c,h),null,null,!0,s,a)}return tt()}function JE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function aT(n){const e=new $r(n[0],n[1]);return Et.fromTimestamp(e)}function ul(n){const e=n.toTimestamp();return new tT(e.seconds,e.nanoseconds)}function Gf(n){const e=new $r(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function xd(n,e){const t=(e.baseMutations||[]).map(c=>WE(n.Gt,c));for(let c=0;c<e.mutations.length-1;++c){const h=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(h.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const s=e.mutations.map(c=>WE(n.Gt,c)),a=$r.fromMillis(e.localWriteTimeMs);return new YE(e.batchId,a,t,s)}function Vg(n){const e=Gf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gf(n.lastLimboFreeSnapshotVersion):Et.min();let s;var a;return void 0!==n.query.documents?(gt(1===(a=n.query).documents.length),s=Ts(bd(Og(a.documents[0])))):s=Ts(YI(n.query)),new al(s,n.targetId,0,n.lastListenSequenceNumber,e,t,tr.fromBase64String(n.resumeToken))}function uT(n,e){const t=ul(e.snapshotVersion),s=ul(e.lastLimboFreeSnapshotVersion);let a;a=Dg(e.target)?KE(n.Gt,e.target):KI(n.Gt,e.target);const c=e.resumeToken.toBase64();return new Ds(e.targetId,Cg(e.target),t,c,e.sequenceNumber,s,a)}function XE(n){const e=YI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?WS(e,e.limit,"L"):e}class hA{getBundleMetadata(e,t){return cT(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Gf(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return cT(e).put({bundleId:(s=t).id,createTime:ul($e(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return lT(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:XE(a.bundledQuery),readTime:Gf(a.readTime)};var a})}saveNamedQuery(e,t){return lT(e).put({name:(s=t).name,readTime:ul($e(s.readTime)),bundledQuery:s.bundledQuery});var s}}function cT(n){return Pi(n,Ad.store)}function lT(n){return Pi(n,Fa.store)}class fA{constructor(){this.zt=new e0}addToCollectionParentIndex(e,t){return this.zt.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.zt.getEntries(t))}}class e0{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new zn(tn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new zn(tn.comparator)).toArray()}}class dT{constructor(){this.Ht=new e0}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const c={collectionId:s,parent:$o(a)};return t0(e).put(c)}return Ae.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Eg(t),""],!1,!0);return t0(e).Bt(a).next(c=>{for(const h of c){if(h.collectionId!==t)break;s.push(ka(h.parent))}return s})}}function t0(n){return Pi(n,Sd.store)}const hT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class rs{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new rs(e,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function n0(n,e,t){const s=n.store(En.store),a=n.store(yi.store),c=[],h=IDBKeyRange.only(t.batchId);let y=0;const w=s.jt({range:h},(R,N,j)=>(y++,j.delete()));c.push(w.next(()=>{gt(1===y)}));const C=[];for(const R of t.mutations){const N=yi.key(e,R.key.path,t.batchId);c.push(a.delete(N)),C.push(R.key)}return Ae.waitFor(c).next(()=>C)}function Jy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(41943040,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);class r0{constructor(e,t,s,a){this.userId=e,this.k=t,this.Jt=s,this.referenceDelegate=a,this.Yt={}}static Xt(e,t,s,a){gt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new r0(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return La(e).jt({index:En.userMutationsIndex,range:s},(a,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=cl(e),h=La(e);return h.add({}).next(y=>{gt("number"==typeof y);const w=new YE(y,t,s,a),C=function(j,G,X){const ve=X.baseMutations.map(rt=>kg(j.Gt,rt)),Pe=X.mutations.map(rt=>kg(j.Gt,rt));return new En(G,X.batchId,X.localWriteTime.toMillis(),ve,Pe)}(this.k,this.userId,w),R=[];let N=new zn((j,G)=>Bt(j.canonicalString(),G.canonicalString()));for(const j of a){const G=yi.key(this.userId,j.key.path,y);N=N.add(j.key.path.popLast()),R.push(h.put(C)),R.push(c.put(G,yi.PLACEHOLDER))}return N.forEach(j=>{R.push(this.Jt.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.Yt[y]=w.keys()}),Ae.waitFor(R).next(()=>w)})}lookupMutationBatch(e,t){return La(e).get(t).next(s=>s?(gt(s.userId===this.userId),xd(this.k,s)):null)}Zt(e,t){return this.Yt[t]?Ae.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Yt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return La(e).jt({index:En.userMutationsIndex,range:a},(h,y,w)=>{y.userId===this.userId&&(gt(y.batchId>=s),c=xd(this.k,y)),w.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return La(e).jt({index:En.userMutationsIndex,range:t,reverse:!0},(a,c,h)=>{s=c.batchId,h.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return La(e).Bt(En.userMutationsIndex,t).next(s=>s.map(a=>xd(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=yi.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return cl(e).jt({range:a},(h,y,w)=>{const[C,R,N]=h,j=ka(R);if(C===this.userId&&t.path.isEqual(j))return La(e).get(N).next(G=>{if(!G)throw tt();gt(G.userId===this.userId),c.push(xd(this.k,G))});w.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new zn(Bt);const a=[];return t.forEach(c=>{const h=yi.prefixForPath(this.userId,c.path),y=IDBKeyRange.lowerBound(h),w=cl(e).jt({range:y},(C,R,N)=>{const[j,G,X]=C,ve=ka(G);j===this.userId&&c.path.isEqual(ve)?s=s.add(X):N.done()});a.push(w)}),Ae.waitFor(a).next(()=>this.te(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=yi.prefixForPath(this.userId,s),h=IDBKeyRange.lowerBound(c);let y=new zn(Bt);return cl(e).jt({range:h},(w,C,R)=>{const[N,j,G]=w,X=ka(j);N===this.userId&&s.isPrefixOf(X)?X.length===a&&(y=y.add(G)):R.done()}).next(()=>this.te(e,y))}te(e,t){const s=[],a=[];return t.forEach(c=>{a.push(La(e).get(c).next(h=>{if(null===h)throw tt();gt(h.userId===this.userId),s.push(xd(this.k,h))}))}),Ae.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return n0(e.Wt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Ae.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ae.resolve();const s=IDBKeyRange.lowerBound(yi.prefixForUser(this.userId)),a=[];return cl(e).jt({range:s},(c,h,y)=>{if(c[0]===this.userId){const w=ka(c[1]);a.push(w)}else y.done()}).next(()=>{gt(0===a.length)})})}containsKey(e,t){return fT(e,this.userId,t)}ne(e){return s0(e).get(this.userId).next(t=>t||new sl(this.userId,-1,""))}}function fT(n,e,t){const s=yi.prefixForPath(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let h=!1;return cl(n).jt({range:c,Kt:!0},(y,w,C)=>{const[R,N,j]=y;R===e&&N===a&&(h=!0),C.done()}).next(()=>h)}function La(n){return Pi(n,En.store)}function cl(n){return Pi(n,yi.store)}function s0(n){return Pi(n,sl.store)}class ju{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ju(0)}static re(){return new ju(-1)}}class pA{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const s=new ju(t.highestTargetId);return t.highestTargetId=s.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Et.fromTimestamp(new $r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.oe(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.ce(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(s=>(s.targetCount+=1,this.ue(t,s),this.ce(e,s))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wf(e).delete(t.targetId)).next(()=>this.oe(e)).next(s=>(gt(s.targetCount>0),s.targetCount-=1,this.ce(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Wf(e).jt((h,y)=>{const w=Vg(y);w.sequenceNumber<=t&&null===s.get(w.targetId)&&(a++,c.push(this.removeTargetData(e,w)))}).next(()=>Ae.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Wf(e).jt((s,a)=>{const c=Vg(a);t(c)})}oe(e){return Xy(e).get(_i.key).next(t=>(gt(null!==t),t))}ce(e,t){return Xy(e).put(_i.key,t)}ae(e,t){return Wf(e).put(uT(this.k,t))}ue(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Cg(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Wf(e).jt({range:a,index:Ds.queryTargetsIndexName},(h,y,w)=>{const C=Vg(y);Nf(t,C.target)&&(c=C,w.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=ll(e);return t.forEach(h=>{const y=$o(h.path);a.push(c.put(new Hr(s,y))),a.push(this.referenceDelegate.addReference(e,s,h))}),Ae.waitFor(a)}removeMatchingKeys(e,t,s){const a=ll(e);return Ae.forEach(t,c=>{const h=$o(c.path);return Ae.waitFor([a.delete([s,h]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=ll(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=ll(e);let c=rn();return a.jt({range:s,Kt:!0},(h,y,w)=>{const C=ka(h[1]),R=new Ye(C);c=c.add(R)}).next(()=>c)}containsKey(e,t){const s=$o(t.path),a=IDBKeyRange.bound([s],[Eg(s)],!1,!0);let c=0;return ll(e).jt({index:Hr.documentTargetsIndex,Kt:!0,range:a},([h,y],w,C)=>{0!==h&&(c++,C.done())}).next(()=>c>0)}Et(e,t){return Wf(e).get(t).next(s=>s?Vg(s):null)}}function Wf(n){return Pi(n,Ds.store)}function Xy(n){return Pi(n,_i.store)}function ll(n){return Pi(n,Hr.store)}function Rd(n){return o0.apply(this,arguments)}function o0(){return(o0=(0,me.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==nT)throw n;Oe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function a0([n,e],[t,s]){const a=Bt(n,t);return 0===a?Bt(e,s):a}class pT{constructor(e){this.he=e,this.buffer=new zn(a0),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();a0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gT{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const s=this.we?3e5:6e4;Oe("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,me.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){ao(a)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Rd(a)}yield t.me(e)}))}}class yP{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ae.resolve(jr.I);const s=new pT(t);return this.ge.forEachTarget(e,a=>s.de(a.sequenceNumber)).next(()=>this.ge.pe(e,a=>s.de(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.ge.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(hT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hT):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let s,a,c,h,y,w,C;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),a=this.params.maximumSequenceNumbersToCollect):a=N,h=Date.now(),this.nthSequenceNumber(e,a))).next(N=>(s=N,y=Date.now(),this.removeTargets(e,s,t))).next(N=>(c=N,w=Date.now(),this.removeOrphanedDocuments(e,s))).next(N=>(C=Date.now(),vE()<=qc.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-R}ms\n\tDetermined least recently used ${a} in `+(y-h)+`ms\n\tRemoved ${c} targets in `+(w-y)+`ms\n\tRemoved ${N} documents in `+(C-w)+`ms\nTotal Duration: ${C-R}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:N})))}}class gA{constructor(e,t){this.db=e,this.garbageCollector=new yP(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Ee(e){let t=0;return this.pe(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(s,a)=>t(a))}addReference(e,t,s){return $u(e,s)}removeReference(e,t,s){return $u(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return $u(e,t)}Ae(e,t){return function(s,a){let c=!1;return s0(s).Qt(h=>fT(s,h,a).next(y=>(y&&(c=!0),Ae.resolve(!y)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Ie(e,(h,y)=>{if(y<=t){const w=this.Ae(e,h).next(C=>{if(!C)return c++,s.getEntry(e,h).next(()=>(s.removeEntry(h),ll(e).delete([0,$o(h.path)])))});a.push(w)}}).next(()=>Ae.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return $u(e,t)}Ie(e,t){const s=ll(e);let a,c=jr.I;return s.jt({index:Hr.documentTargetsIndex},([h,y],{path:w,sequenceNumber:C})=>{0===h?(c!==jr.I&&t(new Ye(ka(a)),c),c=C,a=w):c=jr.I}).next(()=>{c!==jr.I&&t(new Ye(ka(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $u(n,e){return ll(n).put((s=n.currentSequenceNumber,new Hr(0,$o(e.path),s)));var s}class Bg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){yd(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return vI(this.inner)}}class e_{constructor(){this.changes=new Bg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Et.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Sn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ae.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class t_{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,s){return dl(e).put(u0(t),s)}removeEntry(e,t){const s=dl(e),a=u0(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Re(e,s)))}getEntry(e,t){return dl(e).get(u0(t)).next(s=>this.be(t,s))}Pe(e,t){return dl(e).get(u0(t)).next(s=>({document:this.be(t,s),size:Jy(s)}))}getEntries(e,t){let s=so();return this.ve(e,t,(a,c)=>{const h=this.be(a,c);s=s.insert(a,h)}).next(()=>s)}Ve(e,t){let s=so(),a=new Ar(Ye.comparator);return this.ve(e,t,(c,h)=>{const y=this.be(c,h);s=s.insert(c,y),a=a.insert(c,Jy(h))}).next(()=>({documents:s,Se:a}))}ve(e,t,s){if(t.isEmpty())return Ae.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let h=c.getNext();return dl(e).jt({range:a},(y,w,C)=>{const R=Ye.fromSegments(y);for(;h&&Ye.comparator(h,R)<0;)s(h,null),h=c.getNext();h&&h.isEqual(R)&&(s(h,w),h=c.hasNext()?c.getNext():null),h?C.Lt(h.path.toArray()):C.done()}).next(()=>{for(;h;)s(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=so();const c=t.path.length+1,h={};if(s.isEqual(Et.min())){const y=t.path.toArray();h.range=IDBKeyRange.lowerBound(y)}else{const y=t.path.toArray(),w=JE(s);h.range=IDBKeyRange.lowerBound([y,w],!0),h.index=rr.collectionReadTimeIndex}return dl(e).jt(h,(y,w,C)=>{if(y.length!==c)return;const R=Qy(this.k,w);t.path.isPrefixOf(R.key.path)?Ag(t,R)&&(a=a.insert(R.key,R)):C.done()}).next(()=>a)}newChangeBuffer(e){return new mA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Pd(e).get(Vu.key).next(t=>(gt(!!t),t))}Re(e,t){return Pd(e).put(Vu.key,t)}be(e,t){if(t){const s=Qy(this.k,t);if(!s.isNoDocument()||!s.version.isEqual(Et.min()))return s}return Sn.newInvalidDocument(e)}}class mA extends e_{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Bg(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new zn((c,h)=>Bt(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const y=this.Ce.get(c);if(h.document.isValidDocument()){const w=oT(this.De.k,h.document,this.getReadTime(c));a=a.add(c.path.popLast()),s+=Jy(w)-y,t.push(this.De.addEntry(e,c,w))}else if(s-=y,this.trackRemovals){const w=oT(this.De.k,Sn.newNoDocument(c,Et.min()),this.getReadTime(c));t.push(this.De.addEntry(e,c,w))}else t.push(this.De.removeEntry(e,c))}),a.forEach(c=>{t.push(this.De.Jt.addToCollectionParentIndex(e,c))}),t.push(this.De.updateMetadata(e,s)),Ae.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(s=>(this.Ce.set(t,s.size),s.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:s,Se:a})=>(a.forEach((c,h)=>{this.Ce.set(c,h)}),s))}}function Pd(n){return Pi(n,Vu.store)}function dl(n){return Pi(n,rr.store)}function u0(n){return n.path.toArray()}class yA{constructor(e){this.k=e}Nt(e,t,s,a){gt(s<a&&s>=0&&a<=11);const c=new Ky("createOrUpgrade",t);var y;s<1&&a>=1&&(e.createObjectStore(ns.store),(y=e).createObjectStore(sl.store,{keyPath:sl.keyPath}),y.createObjectStore(En.store,{keyPath:En.keyPath,autoIncrement:!0}).createIndex(En.userMutationsIndex,En.userMutationsKeyPath,{unique:!0}),y.createObjectStore(yi.store),Ho(e),function(y){y.createObjectStore(rr.store)}(e));let h=Ae.resolve();return s<3&&a>=3&&(0!==s&&(function(y){y.deleteObjectStore(Hr.store),y.deleteObjectStore(Ds.store),y.deleteObjectStore(_i.store)}(e),Ho(e)),h=h.next(()=>function(y){const w=y.store(_i.store),C=new _i(0,0,Et.min().toTimestamp(),0);return w.put(_i.key,C)}(c))),s<4&&a>=4&&(0!==s&&(h=h.next(()=>function(y,w){return w.store(En.store).Bt().next(C=>{y.deleteObjectStore(En.store),y.createObjectStore(En.store,{keyPath:En.keyPath,autoIncrement:!0}).createIndex(En.userMutationsIndex,En.userMutationsKeyPath,{unique:!0});const R=w.store(En.store),N=C.map(j=>R.put(j));return Ae.waitFor(N)})}(e,c))),h=h.next(()=>{!function(y){y.createObjectStore(Bu.store,{keyPath:Bu.keyPath})}(e)})),s<5&&a>=5&&(h=h.next(()=>this.Ne(c))),s<6&&a>=6&&(h=h.next(()=>(function(y){y.createObjectStore(Vu.store)}(e),this.ke(c)))),s<7&&a>=7&&(h=h.next(()=>this.xe(c))),s<8&&a>=8&&(h=h.next(()=>this.$e(e,c))),s<9&&a>=9&&(h=h.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){const w=y.objectStore(rr.store);w.createIndex(rr.readTimeIndex,rr.readTimeIndexPath,{unique:!1}),w.createIndex(rr.collectionReadTimeIndex,rr.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(h=h.next(()=>this.Oe(c))),s<11&&a>=11&&(h=h.next(()=>{(function(y){y.createObjectStore(Ad.store,{keyPath:Ad.keyPath})})(e),function(y){y.createObjectStore(Fa.store,{keyPath:Fa.keyPath})}(e)})),h}ke(e){let t=0;return e.store(rr.store).jt((s,a)=>{t+=Jy(a)}).next(()=>{const s=new Vu(t);return e.store(Vu.store).put(Vu.key,s)})}Ne(e){const t=e.store(sl.store),s=e.store(En.store);return t.Bt().next(a=>Ae.forEach(a,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.Bt(En.userMutationsIndex,h).next(y=>Ae.forEach(y,w=>{gt(w.userId===c.userId);const C=xd(this.k,w);return n0(e,c.userId,C).next(()=>{})}))}))}xe(e){const t=e.store(Hr.store),s=e.store(rr.store);return e.store(_i.store).get(_i.key).next(a=>{const c=[];return s.jt((h,y)=>{const w=new tn(h),C=[0,$o(w)];c.push(t.get(C).next(R=>R?Ae.resolve():t.put(new Hr(0,$o(w),a.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(c))})}$e(e,t){e.createObjectStore(Sd.store,{keyPath:Sd.keyPath});const s=t.store(Sd.store),a=new e0,c=h=>{if(a.add(h)){const y=h.lastSegment(),w=h.popLast();return s.put({collectionId:y,parent:$o(w)})}};return t.store(rr.store).jt({Kt:!0},(h,y)=>{const w=new tn(h);return c(w.popLast())}).next(()=>t.store(yi.store).jt({Kt:!0},([h,y,w],C)=>{const R=ka(y);return c(R.popLast())}))}Oe(e){const t=e.store(Ds.store);return t.jt((s,a)=>{const c=Vg(a),h=uT(this.k,c);return t.put(h)})}}function Ho(n){n.createObjectStore(Hr.store,{keyPath:Hr.keyPath}).createIndex(Hr.documentTargetsIndex,Hr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ds.store,{keyPath:Ds.keyPath}).createIndex(Ds.queryTargetsIndexName,Ds.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(_i.store)}const n_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mT{constructor(e,t,s,a,c,h,y,w,C,R){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Me=c,this.window=h,this.document=y,this.Fe=C,this.Le=R,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=N=>Promise.resolve(),!mT.Pt())throw new Re(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gA(this,a),this.Ge=t+"main",this.k=new QE(w),this.ze=new oo(this.Ge,11,new yA(this.k)),this.He=new pA(this.referenceDelegate,this.k),this.Jt=new dT,this.Je=new t_(this.k,this.Jt),this.Ye=new hA,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===R&&gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,n_);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new jr(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var s=(0,me.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,me.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>r_(e).put(new Bu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(ao(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return hl(e).get(ns.key).next(t=>Ae.resolve(this.un(t)))}hn(e){return r_(e).delete(this.clientId)}ln(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Pi(s,Bu.store);return a.Bt().next(c=>{const h=e.dn(c,18e5),y=c.filter(w=>-1===h.indexOf(w));return Ae.forEach(y,w=>a.delete(w.clientId)).next(()=>y)})}).catch(()=>[]);if(e.Xe)for(const s of t)e.Xe.removeItem(e.wn(s.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Ae.resolve(!0):hl(e).get(ns.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,n_);return!1}}return!(!this.networkEnabled||!this.inForeground)||r_(e).Bt().next(s=>void 0===this.dn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,y=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[ns.store,Bu.store],t=>{const s=new sT(t,jr.I);return e.cn(s).next(()=>e.hn(s))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(s=>this.fn(s.updateTimeMs,t)&&!this._n(s.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>r_(e).Bt().next(t=>this.dn(t,18e5).map(s=>s.clientId)))}get started(){return this.Ue}getMutationQueue(e){return r0.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,s){let c;return Oe("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",cA,h=>(c=new sT(h,this.Be?this.Be.next():jr.I),"readwrite-primary"===t?this.rn(c).next(y=>!!y||this.on(c)).next(y=>{if(!y)throw gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Re(de.FAILED_PRECONDITION,nT);return s(c)}).next(y=>this.an(c).next(()=>y)):this.En(c).next(()=>s(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}En(e){return hl(e).get(ns.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(de.FAILED_PRECONDITION,n_)})}an(e){const t=new ns(this.clientId,this.allowTabSynchronization,Date.now());return hl(e).put(ns.key,t)}static Pt(){return oo.Pt()}cn(e){const t=hl(e);return t.get(ns.key).next(s=>this.un(s)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete(ns.key)):Ae.resolve())}fn(e,t){const s=Date.now();return!(e<s-t||e>s&&(gr(`Detected an update time that is in the future: ${e} > ${s}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Pt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const s=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return gr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){gr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hl(n){return Pi(n,ns.store)}function r_(n){return Pi(n,Bu.store)}function c0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _P{constructor(e,t){this.progress=e,this.In=t}}class yT{constructor(e,t,s){this.Je=e,this.An=t,this.Jt=s}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.bn(e,t,s))}bn(e,t,s){return this.Je.getEntry(e,t).next(a=>{for(const c of s)c.applyToLocalView(a);return a})}Pn(e,t){e.forEach((s,a)=>{for(const c of t)c.applyToLocalView(a)})}vn(e,t){return this.Je.getEntries(e,t).next(s=>this.Vn(e,s).next(()=>s))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.Pn(t,s))}getDocumentsMatchingQuery(e,t,s){return Ye.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(e,t.path):qy(t)?this.Dn(e,t,s):this.Cn(e,t,s);var a}Sn(e,t){return this.Rn(e,new Ye(t)).next(s=>{let a=VE();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Dn(e,t,s){const a=t.collectionGroup;let c=VE();return this.Jt.getCollectionParents(e,a).next(h=>Ae.forEach(h,y=>{const w=(C=t,R=y.child(a),new Ma(R,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,R;return this.Cn(e,w,s).next(C=>{C.forEach((R,N)=>{c=c.insert(R,N)})})}).next(()=>c))}Cn(e,t,s){let a,c;return this.Je.getDocumentsMatchingQuery(e,t,s).next(h=>(a=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(c=h,this.Nn(e,c,a).next(y=>{a=y;for(const w of c)for(const C of w.mutations){const R=C.key;let N=a.get(R);null==N&&(N=Sn.newInvalidDocument(R),a=a.insert(R,N)),Zy(C,N,w.localWriteTime),N.isFoundDocument()||(a=a.remove(R))}}))).next(()=>(a.forEach((h,y)=>{Ag(t,y)||(a=a.remove(h))}),a))}Nn(e,t,s){let a=rn();for(const h of t)for(const y of h.mutations)y instanceof Uu&&null===s.get(y.key)&&(a=a.add(y.key));let c=s;return this.Je.getEntries(e,a).next(h=>(h.forEach((y,w)=>{w.isFoundDocument()&&(c=c.insert(y,w))}),c))}}class l0{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.kn=s,this.xn=a}static $n(e,t){let s=rn(),a=rn();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new l0(e,t.fromCache,s,a)}}class _T{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||s.isEqual(Et.min())?this.Fn(e,t):this.Mn.vn(e,a).next(c=>{const h=this.Ln(t,c);return(Sg(t)||Fu(t))&&this.Bn(t.limitType,h,a,s)?this.Fn(e,t):(vE()<=qc.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),no(t)),this.Mn.getDocumentsMatchingQuery(e,t,s).next(y=>(h.forEach(w=>{y=y.insert(w.key,w)}),y)))});var c}Ln(e,t){let s=new zn(MI(e));return t.forEach((a,c)=>{Ag(e,c)&&(s=s.add(c))}),s}Bn(e,t,s,a){if(s.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Fn(e,t){return vE()<=qc.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",no(t)),this.Mn.getDocumentsMatchingQuery(e,t,Et.min())}}class d0{constructor(e,t,s,a){this.persistence=e,this.Un=t,this.k=a,this.qn=new Ar(Bt),this.Kn=new Bg(c=>Cg(c),Nf),this.jn=Et.min(),this.An=e.getMutationQueue(s),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new yT(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function h0(n,e,t,s){return new d0(n,e,t,s)}function i_(n,e){return s_.apply(this,arguments)}function s_(){return(s_=(0,me.Z)(function*(n,e){const t=Le(n);let s=t.An,a=t.Wn;const c=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let y;return t.An.getAllMutationBatches(h).next(w=>(y=w,s=t.persistence.getMutationQueue(e),a=new yT(t.Qn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(h))).next(w=>{const C=[],R=[];let N=rn();for(const j of y){C.push(j.batchId);for(const G of j.mutations)N=N.add(G.key)}for(const j of w){R.push(j.batchId);for(const G of j.mutations)N=N.add(G.key)}return a.vn(h,N).next(j=>({Gn:j,removedBatchIds:C,addedBatchIds:R}))})});return t.An=s,t.Wn=a,t.Un.On(t.Wn),c})).apply(this,arguments)}function _A(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,y,w,C){const R=w.batch,N=R.keys();let j=Ae.resolve();return N.forEach(G=>{j=j.next(()=>C.getEntry(y,G)).next(X=>{const ve=w.docVersions.get(G);gt(null!==ve),X.version.compareTo(ve)<0&&(R.applyToRemoteDocument(X,w),X.isValidDocument()&&C.addEntry(X,w.commitVersion))})}),j.next(()=>h.An.removeMutationBatch(y,R))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.An.performConsistencyCheck(s)).next(()=>t.Wn.vn(s,a))})}function vA(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function EA(n,e){const t=Le(n),s=e.snapshotVersion;let a=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});a=t.qn;const y=[];e.targetChanges.forEach((C,R)=>{const N=a.get(R);if(!N)return;y.push(t.He.removeMatchingKeys(c,C.removedDocuments,R).next(()=>t.He.addMatchingKeys(c,C.addedDocuments,R)));let j=N.withSequenceNumber(c.currentSequenceNumber);var G,X,ve;e.targetMismatches.has(R)?j=j.withResumeToken(tr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):C.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(C.resumeToken,s)),a=a.insert(R,j),X=j,ve=C,(0===(G=N).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&y.push(t.He.updateTargetData(c,j))});let w=so();if(e.documentUpdates.forEach((C,R)=>{e.resolvedLimboDocuments.has(C)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(c,C))}),y.push(vT(c,h,e.documentUpdates,s,void 0).next(C=>{w=C})),!s.isEqual(Et.min())){const C=t.He.getLastRemoteSnapshotVersion(c).next(R=>t.He.setTargetsMetadata(c,c.currentSequenceNumber,s));y.push(C)}return Ae.waitFor(y).next(()=>h.apply(c)).next(()=>t.Wn.Vn(c,w)).next(()=>w)}).then(c=>(t.qn=a,c))}function vT(n,e,t,s,a){let c=rn();return t.forEach(h=>c=c.add(h)),e.getEntries(n,c).next(h=>{let y=so();return t.forEach((w,C)=>{const R=h.get(w),N=(null==a?void 0:a.get(w))||s;C.isNoDocument()&&C.version.isEqual(Et.min())?(e.removeEntry(w,N),y=y.insert(w,C)):!R.isValidDocument()||C.version.compareTo(R.version)>0||0===C.version.compareTo(R.version)&&R.hasPendingWrites?(e.addEntry(C,N),y=y.insert(w,C)):Oe("LocalStore","Ignoring outdated watch update for ",w,". Current version:",R.version," Watch version:",C.version)}),y})}function wA(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(s,e)))}function Nd(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.He.getTargetData(s,e).next(c=>c?(a=c,Ae.resolve(a)):t.He.allocateTargetId(s).next(h=>(a=new al(e,h,0,s.currentSequenceNumber),t.He.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.qn.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qn=t.qn.insert(s.targetId,s),t.Kn.set(e,s.targetId)),s})}function Md(n,e,t){return o_.apply(this,arguments)}function o_(){return(o_=(0,me.Z)(function*(n,e,t){const s=Le(n),a=s.qn.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!ao(h))throw h;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.qn=s.qn.remove(e),s.Kn.delete(a.target)})).apply(this,arguments)}function a_(n,e,t){const s=Le(n);let a=Et.min(),c=rn();return s.persistence.runTransaction("Execute query","readonly",h=>function(y,w,C){const R=Le(y),N=R.Kn.get(C);return void 0!==N?Ae.resolve(R.qn.get(N)):R.He.getTargetData(w,C)}(s,h,Ts(e)).next(y=>{if(y)return a=y.lastLimboFreeSnapshotVersion,s.He.getMatchingKeysForTargetId(h,y.targetId).next(w=>{c=w})}).next(()=>s.Un.getDocumentsMatchingQuery(h,e,t?a:Et.min(),t?c:rn())).next(y=>({documents:y,zn:c})))}function ET(n,e){const t=Le(n),s=Le(t.He),a=t.qn.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.Et(c,e).next(h=>h?h.target:null))}function f0(n){const e=Le(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,c){const h=Le(s);let y=so(),w=JE(c);const C=dl(a),R=IDBKeyRange.lowerBound(w,!0);return C.jt({index:rr.readTimeIndex,range:R},(N,j)=>{const G=Qy(h.k,j);y=y.insert(G.key,G),w=j.readTime}).next(()=>({In:y,readTime:aT(w)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:s})=>(e.jn=s,t))}function p0(){return(p0=(0,me.Z)(function*(n){const e=Le(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=dl(s);let c=Et.min();return a.jt({index:rr.readTimeIndex,reverse:!0},(h,y,w)=>{y.readTime&&(c=aT(y.readTime)),w.done()}).next(()=>c)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function Kf(){return(Kf=(0,me.Z)(function*(n,e,t,s){const a=Le(n);let c=rn(),h=so(),y=BE();for(const R of t){const N=e.Hn(R.metadata.name);R.document&&(c=c.add(N)),h=h.insert(N,e.Jn(R)),y=y.insert(N,e.Yn(R.metadata.readTime))}const w=a.Qn.newChangeBuffer({trackRemovals:!0}),C=yield Nd(a,(R=s,Ts(bd(tn.fromString(`__bundle__/docs/${R}`)))));var R;return a.persistence.runTransaction("Apply bundle documents","readwrite",R=>vT(R,w,h,Et.min(),y).next(N=>(w.apply(R),N)).next(N=>a.He.removeMatchingKeysForTargetId(R,C.targetId).next(()=>a.He.addMatchingKeys(R,c,C.targetId)).next(()=>a.Wn.Vn(R,N)).next(()=>N)))})).apply(this,arguments)}function c_(n,e){return Od.apply(this,arguments)}function Od(){return(Od=(0,me.Z)(function*(n,e,t=rn()){const s=yield Nd(n,Ts(XE(e.bundledQuery))),a=Le(n);return a.persistence.runTransaction("Save named query","readwrite",c=>{const h=$e(e.readTime);if(s.snapshotVersion.compareTo(h)>=0)return a.Ye.saveNamedQuery(c,e);const y=s.withResumeToken(tr.EMPTY_BYTE_STRING,h);return a.qn=a.qn.insert(y.targetId,y),a.He.updateTargetData(c,y).next(()=>a.He.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.He.addMatchingKeys(c,t,s.targetId)).next(()=>a.Ye.saveNamedQuery(c,e))})})).apply(this,arguments)}class bA{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var s;return this.Xn.set(t.id,{id:(s=t).id,version:s.version,createTime:$e(s.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(s=t).name,query:XE(s.bundledQuery),readTime:$e(s.readTime)}),Ae.resolve();var s}}class g0{constructor(){this.ts=new zn(ri.es),this.ns=new zn(ri.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const s=new ri(e,t);this.ts=this.ts.add(s),this.ns=this.ns.add(s)}rs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.os(new ri(e,t))}cs(e,t){e.forEach(s=>this.removeReference(s,t))}us(e){const t=new Ye(new tn([])),s=new ri(t,e),a=new ri(t,e+1),c=[];return this.ns.forEachInRange([s,a],h=>{this.os(h),c.push(h.key)}),c}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Ye(new tn([])),s=new ri(t,e),a=new ri(t,e+1);let c=rn();return this.ns.forEachInRange([s,a],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new ri(e,0),s=this.ts.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class ri{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Ye.comparator(e.key,t.key)||Bt(e.fs,t.fs)}static ss(e,t){return Bt(e.fs,t.fs)||Ye.comparator(e.key,t.key)}}class IA{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new zn(ri.es)}checkEmpty(e){return Ae.resolve(0===this.An.length)}addMutationBatch(e,t,s,a){const c=this.ds;this.ds++;const h=new YE(c,t,s,a);this.An.push(h);for(const y of a)this.ws=this.ws.add(new ri(y.key,c)),this.Jt.addToCollectionParentIndex(e,y.key.path.popLast());return Ae.resolve(h)}lookupMutationBatch(e,t){return Ae.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.gs(t+1),c=a<0?0:a;return Ae.resolve(this.An.length>c?this.An[c]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Ae.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ri(t,0),a=new ri(t,Number.POSITIVE_INFINITY),c=[];return this.ws.forEachInRange([s,a],h=>{const y=this._s(h.fs);c.push(y)}),Ae.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new zn(Bt);return t.forEach(a=>{const c=new ri(a,0),h=new ri(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([c,h],y=>{s=s.add(y.fs)})}),Ae.resolve(this.ys(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Ye.isDocumentKey(c)||(c=c.child(""));const h=new ri(new Ye(c),0);let y=new zn(Bt);return this.ws.forEachWhile(w=>{const C=w.key.path;return!!s.isPrefixOf(C)&&(C.length===a&&(y=y.add(w.fs)),!0)},h),Ae.resolve(this.ys(y))}ys(e){const t=[];return e.forEach(s=>{const a=this._s(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){gt(0===this.ps(t.batchId,"removed")),this.An.shift();let s=this.ws;return Ae.forEach(t.mutations,a=>{const c=new ri(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ws=s})}ee(e){}containsKey(e,t){const s=new ri(t,0),a=this.ws.firstAfterOrEqual(s);return Ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ae.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class TA{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Ar(Ye.comparator),this.size=0}addEntry(e,t,s){const a=t.key,c=this.docs.get(a),h=c?c.size:0,y=this.Ts(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:y,readTime:s}),this.size+=y-h,this.Jt.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ae.resolve(s?s.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let s=so();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Sn.newInvalidDocument(a))}),Ae.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=so();const c=new Ye(t.path.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:y,value:{document:w,readTime:C}}=h.getNext();if(!t.path.isPrefixOf(y.path))break;C.compareTo(s)<=0||Ag(t,w)&&(a=a.insert(w.key,w.mutableCopy()))}return Ae.resolve(a)}Es(e,t){return Ae.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new CA(this)}getSize(e){return Ae.resolve(this.size)}}class CA extends e_{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.De.addEntry(e,a.document,this.getReadTime(s))):this.De.removeEntry(s)}),Ae.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class DA{constructor(e){this.persistence=e,this.Is=new Bg(t=>Cg(t),Nf),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.As=0,this.Rs=new g0,this.targetCount=0,this.bs=ju.ie()}forEachTarget(e,t){return this.Is.forEach((s,a)=>t(a)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.As&&(this.As=t),Ae.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new ju(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.ae(t),Ae.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Is.forEach((h,y)=>{y.sequenceNumber<=t&&null===s.get(y.targetId)&&(this.Is.delete(h),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),a++)}),Ae.waitFor(c).next(()=>a)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const s=this.Is.get(t)||null;return Ae.resolve(s)}addMatchingKeys(e,t,s){return this.Rs.rs(t,s),Ae.resolve()}removeMatchingKeys(e,t,s){this.Rs.cs(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),Ae.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Rs.ls(t);return Ae.resolve(s)}containsKey(e,t){return Ae.resolve(this.Rs.containsKey(t))}}class SA{constructor(e,t){this.Ps={},this.Be=new jr(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new DA(this),this.Jt=new fA,this.Je=new TA(this.Jt,s=>this.referenceDelegate.vs(s)),this.k=new QE(t),this.Ye=new bA(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new IA(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,s){Oe("MemoryPersistence","Starting transaction:",e);const a=new AA(this.Be.next());return this.referenceDelegate.Vs(),s(a).next(c=>this.referenceDelegate.Ss(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ds(e,t){return Ae.or(Object.values(this.Ps).map(s=>()=>s.containsKey(e,t)))}}class AA extends rT{constructor(e){super(),this.currentSequenceNumber=e}}class m0{constructor(e){this.persistence=e,this.Cs=new g0,this.Ns=null}static ks(e){return new m0(e)}get xs(){if(this.Ns)return this.Ns;throw tt()}addReference(e,t,s){return this.Cs.addReference(s,t),this.xs.delete(s.toString()),Ae.resolve()}removeReference(e,t,s){return this.Cs.removeReference(s,t),this.xs.add(s.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.xs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,s=>{const a=Ye.fromPath(s);return this.$s(e,a).next(c=>{c||t.removeEntry(a)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Ae.or([()=>Ae.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function bT(n,e){return`firestore_clients_${n}_${e}`}function IT(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function TT(n,e){return`firestore_targets_${n}_${e}`}class l_{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Os(e,t,s){const a=JSON.parse(s);let c,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(c=new Re(a.error.code,a.error.message))),h?new l_(e,t,a.state,c):(gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hu{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Os(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new Re(s.error.code,s.error.message))),c?new Hu(e,s.state,a):(gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class d_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=Pg();for(let h=0;a&&h<s.activeTargetIds.length;++h)a=Uy(s.activeTargetIds[h]),c=c.add(s.activeTargetIds[h]);return a?new d_(e,c):(gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class y0{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new y0(t.clientId,t.onlineState):(gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _0{constructor(){this.activeTargetIds=Pg()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yf{constructor(e,t,s,a,c){this.window=e,this.Me=t,this.persistenceKey=s,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Ar(Bt),this.started=!1,this.js=[];const h=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Qs=bT(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new _0),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.Tn();for(const a of t){if(a===e.Bs)continue;const c=e.getItem(bT(e.persistenceKey,a));if(c){const h=d_.Os(a,c);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const s=e.storage.getItem(e.Js);if(s){const a=e.Zs(s);a&&e.ti(a)}for(const a of e.js)e.qs(a);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,s){this.ni(e,t,s),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(TT(this.persistenceKey,e));if(s){const a=Hu.Os(e,s);a&&(t=a.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(TT(this.persistenceKey,e))}updateQueryState(e,t,s){this.ri(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.si(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Oe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Qs)return void gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==s.key)if(t.Gs.test(s.key)){if(null==s.newValue){const a=t.ai(s.key);return t.ui(a,null)}{const a=t.hi(s.key,s.newValue);if(a)return t.ui(a.clientId,a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.li(s.key,s.newValue);if(a)return t.fi(a)}}else if(t.Hs.test(s.key)){if(null!==s.newValue){const a=t.di(s.key,s.newValue);if(a)return t.wi(a)}}else if(s.key===t.Js){if(null!==s.newValue){const a=t.Zs(s.newValue);if(a)return t.ti(a)}}else if(s.key===t.Ws){const a=function(c){let h=jr.I;if(null!=c)try{const y=JSON.parse(c);gt("number"==typeof y),h=y}catch(y){gr("SharedClientState","Failed to read sequence number from WebStorage",y)}return h}(s.newValue);a!==jr.I&&t.sequenceNumberHandler(a)}else if(s.key===t.Ys)return t.syncEngine._i()}else t.js.push(s)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,s){const a=new l_(this.currentUser,e,t,s),c=IT(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Ms())}si(e){const t=IT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,s){const a=TT(this.persistenceKey,e),c=new Hu(e,t,s);this.setItem(a,c.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const s=this.ai(e);return d_.Os(s,t)}li(e,t){const s=this.zs.exec(e),a=Number(s[1]);return l_.Os(new Br(void 0!==s[2]?s[2]:null),a,t)}di(e,t){const s=this.Hs.exec(e),a=Number(s[1]);return Hu.Os(a,t)}Zs(e){return y0.Os(e)}fi(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const s=t?this.Ks.insert(e,t):this.Ks.remove(e),a=this.ei(this.Ks),c=this.ei(s),h=[],y=[];return c.forEach(w=>{a.has(w)||h.push(w)}),a.forEach(w=>{c.has(w)||y.push(w)}),this.syncEngine.yi(h,y).then(()=>{this.Ks=s})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Pg();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class fl{constructor(){this.pi=new _0,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,s){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new _0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class CT{Ei(e){}shutdown(){}}class DT{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class xA{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class h_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,s,a,c){const h=this.Ui(e,t);Oe("RestConnection","Sending: ",h,s);const y={};return this.qi(y,a,c),this.Ki(e,h,y,s).then(w=>(Oe("RestConnection","Received: ",w),w),w=>{throw xf("RestConnection",`${e} failed with error: `,w,"url: ",h,"request:",s),w})}ji(e,t,s,a,c){return this.Bi(e,t,s,a,c)}qi(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Af,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Ui(e,t){return`${this.Fi}/v1/${t}:${vP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,s,a){return new Promise((c,h)=>{const y=new sP;y.listenOnce(fI.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case _E.NO_ERROR:const C=y.getResponseJson();Oe("Connection","XHR received:",JSON.stringify(C)),c(C);break;case _E.TIMEOUT:Oe("Connection",'RPC "'+e+'" timed out'),h(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case _E.HTTP_ERROR:const R=y.getStatus();if(Oe("Connection",'RPC "'+e+'" failed with status:',R,"response text:",y.getResponseText()),R>0){const N=y.getResponseJson().error;if(N&&N.status&&N.message){const j=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(X)>=0?X:de.UNKNOWN}(N.status);h(new Re(j,N.message))}else h(new Re(de.UNKNOWN,"Server responded with status "+y.getStatus()))}else h(new Re(de.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Oe("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(a);y.send(t,"POST",w,s,15)})}Qi(e,t,s){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=dI(),h=hI(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new gI({})),this.qi(y.initMessageHeaders,t,s),(0,Pt.uI)()||(0,Pt.b$)()||(0,Pt.d)()||(0,Pt.w1)()||(0,Pt.Mn)()||(0,Pt.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const w=a.join("");Oe("Connection","Creating WebChannel: "+w,y);const C=c.createWebChannel(w,y);let R=!1,N=!1;const j=new xA({Vi:X=>{N?Oe("Connection","Not sending because WebChannel is closed:",X):(R||(Oe("Connection","Opening WebChannel transport."),C.open(),R=!0),Oe("Connection","WebChannel sending:",X),C.send(X))},Si:()=>C.close()}),G=(X,ve,Pe)=>{X.listen(ve,rt=>{try{Pe(rt)}catch(it){setTimeout(()=>{throw it},0)}})};return G(C,ky.EventType.OPEN,()=>{N||Oe("Connection","WebChannel transport opened.")}),G(C,ky.EventType.CLOSE,()=>{N||(N=!0,Oe("Connection","WebChannel transport closed"),j.Oi())}),G(C,ky.EventType.ERROR,X=>{N||(N=!0,xf("Connection","WebChannel transport errored:",X),j.Oi(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),G(C,ky.EventType.MESSAGE,X=>{var ve;if(!N){const Pe=X.data[0];gt(!!Pe);const rt=Pe,it=rt.error||(null===(ve=rt[0])||void 0===ve?void 0:ve.error);if(it){Oe("Connection","WebChannel received error:",it);const Mt=it.status;let ut=function(vr){const Zr=_r[vr];if(void 0!==Zr)return jI(Zr)}(Mt),cn=it.message;void 0===ut&&(ut=de.INTERNAL,cn="Unknown error status: "+Mt+" with message "+it.message),N=!0,j.Oi(new Re(ut,cn)),C.close()}else Oe("Connection","WebChannel received:",Pe),j.Mi(Pe)}}),G(h,VS.STAT_EVENT,X=>{X.stat===pI.PROXY?Oe("Connection","Detected buffering proxy"):X.stat===pI.NOPROXY&&Oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.$i()},0),j}}function ST(){return"undefined"!=typeof window?window:null}function f_(){return"undefined"!=typeof document?document:null}function Qf(n){return new pP(n,!0)}class p_{constructor(e,t,s=1e3,a=1.5,c=6e4){this.Me=e,this.timerId=t,this.Wi=s,this.Gi=a,this.zi=c,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),s=Math.max(0,Date.now()-this.Yi),a=Math.max(0,t-s);a>0&&Oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class g_{constructor(e,t,s,a,c,h,y,w){this.Me=e,this.nr=s,this.sr=a,this.ir=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=y,this.listener=w,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new p_(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,me.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,me.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var s=this;return(0,me.Z)(function*(){s.yr(),s.pr(),s.ur.cancel(),s.rr++,4!==e?s.ur.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),s.ur.Xi()):t&&t.code===de.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Tr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.rr===t&&this.Ir(s,a)},s=>{e(()=>{const a=new Re(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Ar(a)})})}Ir(e,t){const s=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{s(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{s(()=>this.Ar(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}dr(){var e=this;this.state=5,this.ur.Zi((0,me.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AT extends g_{constructor(e,t,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.k=c}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:tt(),a=e.targetChange.targetIds||[],c=function(w,C){return w.C?(gt(void 0===C||"string"==typeof C),tr.fromBase64String(C||"")):(gt(void 0===C||C instanceof Uint8Array),tr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,y=h&&function(w){const C=void 0===w.code?de.UNKNOWN:jI(w.code);return new Re(C,w.message||"")}(h);t=new jE(s,a,c,y||null)}else if("documentChange"in e){const s=e.documentChange,a=Cs(n,s.document.name),c=$e(s.document.updateTime),h=new ti({mapValue:{fields:s.document.fields}}),y=Sn.newFoundDocument(a,c,h);t=new Ng(s.targetIds||[],s.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const s=e.documentDelete,a=Cs(n,s.document),c=s.readTime?$e(s.readTime):Et.min(),h=Sn.newNoDocument(a,c);t=new Ng([],s.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const s=e.documentRemove,a=Cs(n,s.document);t=new Ng([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return tt();{const s=e.filter,c=new JS(s.count||0);t=new Gy(s.targetId,c)}}var w;return t}(this.k,e),s=function(a){if(!("targetChange"in a))return Et.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?$e(c.readTime):Et.min()}(e);return this.listener.br(t,s)}Pr(e){const t={};t.database=il(this.k),t.addTarget=function(a,c){let h;const y=c.target;return h=Dg(y)?{documents:KE(a,y)}:{query:KI(a,y)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?h.resumeToken=HE(a,c.resumeToken):c.snapshotVersion.compareTo(Et.min())>0&&(h.readTime=qf(a,c.snapshotVersion.toTimestamp())),h}(this.k,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.gr(t)}vr(e){const t={};t.database=il(this.k),t.removeTarget=e,this.gr(t)}}class xT extends g_{constructor(e,t,s,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,h),this.k=c,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(s,a){let c=$e(s.updateTime?s.updateTime:a);return c.isEqual(Et.min())&&(c=$e(a)),new kI(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=$e(e.commitTime);return this.listener.Cr(s,t)}return gt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=il(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>kg(this.k,s))};this.gr(t)}}class RA extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=s,this.k=a,this.$r=!1}Or(){if(this.$r)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,s){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.ir.Bi(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(de.UNKNOWN,a.toString())})}ji(e,t,s){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.ir.ji(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(de.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class PA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(gr(t),this.Lr=!1):Oe("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class RT{constructor(e,t,s,a,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=c,this.Hr.Ei(y=>{s.enqueueAndForget((0,me.Z)(function*(){var w;Fd(h)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,me.Z)(function*(C){const R=Le(C);R.Gr.add(4),yield qu(R),R.Jr.set("Unknown"),R.Gr.delete(4),yield jg(R)}),function(C){return w.apply(this,arguments)})(h))}))}),this.Jr=new PA(s,a)}}function jg(n){return m_.apply(this,arguments)}function m_(){return(m_=(0,me.Z)(function*(n){if(Fd(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function qu(n){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,me.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function v0(n,e){const t=Le(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),kd(t)?pl(t):Bd(t).lr()&&Yt(t,e))}function Zu(n,e){const t=Le(n),s=Bd(t);t.Wr.delete(e),s.lr()&&zu(t,e),0===t.Wr.size&&(s.lr()?s._r():Fd(t)&&t.Jr.set("Unknown"))}function Yt(n,e){n.Yr.X(e.targetId),Bd(n).Pr(e)}function zu(n,e){n.Yr.X(e),Bd(n).vr(e)}function pl(n){n.Yr=new tA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Bd(n).start(),n.Jr.Br()}function kd(n){return Fd(n)&&!Bd(n).hr()&&n.Wr.size>0}function Fd(n){return 0===Le(n).Gr.size}function mt(n){n.Yr=void 0}function uo(n){return $g.apply(this,arguments)}function $g(){return($g=(0,me.Z)(function*(n){n.Wr.forEach((e,t)=>{Yt(n,e)})})).apply(this,arguments)}function Ld(n,e){return PT.apply(this,arguments)}function PT(){return(PT=(0,me.Z)(function*(n,e){mt(n),kd(n)?(n.Jr.Kr(e),pl(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function NT(n,e,t){return y_.apply(this,arguments)}function y_(){return(y_=(0,me.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof jE&&2===e.state&&e.cause)try{yield(s=(0,me.Z)(function*(a,c){const h=c.cause;for(const y of c.targetIds)a.Wr.has(y)&&(yield a.remoteSyncer.rejectListen(y,h),a.Wr.delete(y),a.Yr.removeTarget(y))}),function(a,c){return s.apply(this,arguments)})(n,e)}catch(s){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield E0(n,s)}else if(e instanceof Ng?n.Yr.ot(e):e instanceof Gy?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Et.min()))try{const s=yield vA(n.localStore);t.compareTo(s)>=0&&(yield function(a,c){const h=a.Yr.gt(c);return h.targetChanges.forEach((y,w)=>{if(y.resumeToken.approximateByteSize()>0){const C=a.Wr.get(w);C&&a.Wr.set(w,C.withResumeToken(y.resumeToken,c))}}),h.targetMismatches.forEach(y=>{const w=a.Wr.get(y);if(!w)return;a.Wr.set(y,w.withResumeToken(tr.EMPTY_BYTE_STRING,w.snapshotVersion)),zu(a,y);const C=new al(w.target,y,1,w.sequenceNumber);Yt(a,C)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(s){Oe("RemoteStore","Failed to raise snapshot:",s),yield E0(n,s)}var s})).apply(this,arguments)}function E0(n,e,t){return w0.apply(this,arguments)}function w0(){return(w0=(0,me.Z)(function*(n,e,t){if(!ao(e))throw e;n.Gr.add(1),yield qu(n),n.Jr.set("Offline"),t||(t=()=>vA(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield jg(n)}))})).apply(this,arguments)}function MT(n,e){return e().catch(t=>E0(n,t,e))}function ii(n){return An.apply(this,arguments)}function An(){return(An=(0,me.Z)(function*(n){const e=Le(n),t=Ss(e);let s=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;qo(e);)try{const a=yield wA(e.localStore,s);if(null===a){0===e.Qr.length&&t._r();break}s=a.batchId,OT(e,a)}catch(a){yield E0(e,a)}kT(e)&&b0(e)})).apply(this,arguments)}function qo(n){return Fd(n)&&n.Qr.length<10}function OT(n,e){n.Qr.push(e);const t=Ss(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function kT(n){return Fd(n)&&!Ss(n).hr()&&n.Qr.length>0}function b0(n){Ss(n).start()}function I0(n){return gl.apply(this,arguments)}function gl(){return(gl=(0,me.Z)(function*(n){Ss(n).kr()})).apply(this,arguments)}function Hg(n){return T0.apply(this,arguments)}function T0(){return(T0=(0,me.Z)(function*(n){const e=Ss(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function Ud(n,e,t){return C0.apply(this,arguments)}function C0(){return(C0=(0,me.Z)(function*(n,e,t){const s=n.Qr.shift(),a=Ug.from(s,e,t);yield MT(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield ii(n)})).apply(this,arguments)}function FT(n,e){return qg.apply(this,arguments)}function qg(){return(qg=(0,me.Z)(function*(n,e){var t;e&&Ss(n).Sr&&(yield(t=(0,me.Z)(function*(s,a){if(BI(c=a.code)&&c!==de.ABORTED){const h=s.Qr.shift();Ss(s).wr(),yield MT(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield ii(s)}var c}),function(s,a){return t.apply(this,arguments)})(n,e)),kT(n)&&b0(n)})).apply(this,arguments)}function Vd(n,e){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,me.Z)(function*(n,e){const t=Le(n);e?(t.Gr.delete(2),yield jg(t)):e||(t.Gr.add(2),yield qu(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function Bd(n){return n.Xr||(n.Xr=function(e,t,s){const a=Le(e);return a.Or(),new AT(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,s)}(n.datastore,n.asyncQueue,{Di:uo.bind(null,n),Ni:Ld.bind(null,n),br:NT.bind(null,n)}),n.zr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Xr.wr(),kd(n)?pl(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),mt(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Ss(n){return n.Zr||(n.Zr=function(e,t,s){const a=Le(e);return a.Or(),new xT(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,s)}(n.datastore,n.asyncQueue,{Di:I0.bind(null,n),Ni:FT.bind(null,n),Nr:Hg.bind(null,n),Cr:Ud.bind(null,n)}),n.zr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Zr.wr(),yield ii(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class D0{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,s,a,c){const h=Date.now()+s,y=new D0(e,t,h,a,c);return y.start(s),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gu(n,e){if(gr("AsyncQueue",`${e}: ${n}`),ao(n))return new Re(de.UNAVAILABLE,`${e}: ${n}`);throw n}class jd{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ye.comparator(t.key,s.key):(t,s)=>Ye.comparator(t.key,s.key),this.keyedMap=VE(),this.sortedSet=new Ar(this.comparator)}static emptySet(e){return new jd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new jd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class S0{constructor(){this.eo=new Ar(Ye.comparator)}track(e){const t=e.doc.key,s=this.eo.get(t);s?0!==e.type&&3===s.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==s.type?this.eo=this.eo.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.eo=this.eo.remove(t):1===e.type&&2===s.type?this.eo=this.eo.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):tt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,s)=>{e.push(s)}),e}}class $d{constructor(e,t,s,a,c,h,y,w){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=y,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,s,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new $d(e,t,jd.emptySet(t),c,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class __{constructor(){this.so=void 0,this.listeners=[]}}class NA{constructor(){this.queries=new Bg(e=>RE(e),kf),this.onlineState="Unknown",this.io=new Set}}function zg(n,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,me.Z)(function*(n,e){const t=Le(n),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new __),a)try{c.so=yield t.onListen(s)}catch(h){const y=Gu(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(y)}t.queries.set(s,c),c.listeners.push(e),e.ro(t.onlineState),c.so&&e.oo(c.so)&&Hd(t)})).apply(this,arguments)}function LT(n,e){return UT.apply(this,arguments)}function UT(){return(UT=(0,me.Z)(function*(n,e){const t=Le(n),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const h=c.listeners.indexOf(e);h>=0&&(c.listeners.splice(h,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function yt(n,e){const t=Le(n);let s=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const y of h.listeners)y.oo(a)&&(s=!0);h.so=a}}s&&Hd(t)}function EP(n,e,t){const s=Le(n),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Hd(n){n.io.forEach(e=>{e.next()})}class A0{constructor(e,t,s){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=s||{}}oo(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new $d(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=$d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class MA{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class VT{constructor(e){this.k=e}Hn(e){return Cs(this.k,e)}Jn(e){return e.metadata.exists?zE(this.k,e.document,!1):Sn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return $e(e)}}class wP{constructor(e,t,s){this.mo=e,this.localStore=t,this.k=s,this.queries=[],this.documents=[],this.progress=OA(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,s=new VT(this.k);for(const a of e)if(a.metadata.queries){const c=s.Hn(a.metadata.name);for(const h of a.metadata.queries){const y=(t.get(h)||rn()).add(c);t.set(h,y)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function(n,e,t,s){return Kf.apply(this,arguments)}(e.localStore,new VT(e.k),e.documents,e.mo.id),s=e.po(e.documents);for(const a of e.queries)yield c_(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new _P(Object.assign({},e.progress),t)})()}}function OA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BT{constructor(e){this.key=e}}class si{constructor(e){this.key=e}}class jT{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=rn(),this.mutatedKeys=rn(),this.Ao=MI(e),this.Ro=new jd(this.Ao)}get bo(){return this.To}Po(e,t){const s=t?t.vo:new S0,a=t?t.Ro:this.Ro;let c=t?t.mutatedKeys:this.mutatedKeys,h=a,y=!1;const w=Sg(this.query)&&a.size===this.query.limit?a.last():null,C=Fu(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((R,N)=>{const j=a.get(R),G=Ag(this.query,N)?N:null,X=!!j&&this.mutatedKeys.has(j.key),ve=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Pe=!1;j&&G?j.data.isEqual(G.data)?X!==ve&&(s.track({type:3,doc:G}),Pe=!0):this.Vo(j,G)||(s.track({type:2,doc:G}),Pe=!0,(w&&this.Ao(G,w)>0||C&&this.Ao(G,C)<0)&&(y=!0)):!j&&G?(s.track({type:0,doc:G}),Pe=!0):j&&!G&&(s.track({type:1,doc:j}),Pe=!0,(w||C)&&(y=!0)),Pe&&(G?(h=h.add(G),c=ve?c.add(R):c.delete(R)):(h=h.delete(R),c=c.delete(R)))}),Sg(this.query)||Fu(this.query))for(;h.size>this.query.limit;){const R=Sg(this.query)?h.last():h.first();h=h.delete(R.key),c=c.delete(R.key),s.track({type:1,doc:R})}return{Ro:h,vo:s,Bn:y,mutatedKeys:c}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const c=e.vo.no();c.sort((C,R)=>function(N,j){const G=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return G(N)-G(j)}(C.type,R.type)||this.Ao(C.doc,R.doc)),this.So(s);const h=t?this.Do():[],y=0===this.Io.size&&this.current?1:0,w=y!==this.Eo;return this.Eo=y,0!==c.length||w?{snapshot:new $d(this.query,e.Ro,a,c,e.mutatedKeys,0===y,w,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new S0,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=rn(),this.Ro.forEach(s=>{this.No(s.key)&&(this.Io=this.Io.add(s.key))});const t=[];return e.forEach(s=>{this.Io.has(s)||t.push(new si(s))}),this.Io.forEach(s=>{e.has(s)||t.push(new BT(s))}),t}ko(e){this.To=e.zn,this.Io=rn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return $d.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class kA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class x0{constructor(e){this.key=e,this.$o=!1}}class FA{constructor(e,t,s,a,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new Bg(y=>RE(y),kf),this.Fo=new Map,this.Lo=new Set,this.Bo=new Ar(Ye.comparator),this.Uo=new Map,this.qo=new g0,this.Ko={},this.jo=new Map,this.Qo=ju.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function LA(n,e){return R0.apply(this,arguments)}function R0(){return(R0=(0,me.Z)(function*(n,e){const t=qr(n);let s,a;const c=t.Mo.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.xo();else{const h=yield Nd(t.localStore,Ts(e)),y=t.sharedClientState.addLocalQueryTarget(h.targetId);s=h.targetId,a=yield P0(t,e,s,"current"===y),t.isPrimaryClient&&v0(t.remoteStore,h)}return a})).apply(this,arguments)}function P0(n,e,t,s){return N0.apply(this,arguments)}function N0(){return(N0=(0,me.Z)(function*(n,e,t,s){n.Go=(R,N,j)=>{return(G=(0,me.Z)(function*(X,ve,Pe,rt){let it=ve.view.Po(Pe);it.Bn&&(it=yield a_(X.localStore,ve.query,!1).then(({documents:cn})=>ve.view.Po(cn,it)));const Mt=rt&&rt.targetChanges.get(ve.targetId),ut=ve.view.applyChanges(it,X.isPrimaryClient,Mt);return HT(X,ve.targetId,ut.Co),ut.snapshot}),function(X,ve,Pe,rt){return G.apply(this,arguments)})(n,R,N,j);var G};const a=yield a_(n.localStore,e,!0),c=new jT(e,a.zn),h=c.Po(a.documents),y=Hf.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),w=c.applyChanges(h,n.isPrimaryClient,y);HT(n,t,w.Co);const C=new kA(e,t,c);return n.Mo.set(e,C),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),w.snapshot})).apply(this,arguments)}function UA(n,e){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,me.Z)(function*(n,e){const t=Le(n),s=t.Mo.get(e),a=t.Fo.get(s.targetId);if(a.length>1)return t.Fo.set(s.targetId,a.filter(c=>!kf(c,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Md(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Zu(t.remoteStore,s.targetId),Zd(t,s.targetId)}).catch(Rd))):(Zd(t,s.targetId),yield Md(t.localStore,s.targetId,!0))})).apply(this,arguments)}function M0(){return(M0=(0,me.Z)(function*(n,e,t){const s=v_(n);try{const a=yield function(c,h){const y=Le(c),w=$r.now(),C=h.reduce((N,j)=>N.add(j.key),rn());let R;return y.persistence.runTransaction("Locally write mutations","readwrite",N=>y.Wn.vn(N,C).next(j=>{R=j;const G=[];for(const X of h){const ve=LI(X,R.get(X.key));null!=ve&&G.push(new Uu(X.key,ve,$y(ve.value.mapValue),nr.exists(!0)))}return y.An.addMutationBatch(N,w,G,h)})).then(N=>(N.applyToLocalDocumentSet(R),{batchId:N.batchId,changes:R}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,h,y){let w=c.Ko[c.currentUser.toKey()];w||(w=new Ar(Bt)),w=w.insert(h,y),c.Ko[c.currentUser.toKey()]=w}(s,a.batchId,t),yield Wu(s,a.changes),yield ii(s.remoteStore)}catch(a){const c=Gu(a,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function O0(n,e){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,me.Z)(function*(n,e){const t=Le(n);try{const s=yield EA(t.localStore,e);e.targetChanges.forEach((a,c)=>{const h=t.Uo.get(c);h&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.$o=!0:a.modifiedDocuments.size>0?gt(h.$o):a.removedDocuments.size>0&&(gt(h.$o),h.$o=!1))}),yield Wu(t,s,e)}catch(s){yield Rd(s)}})).apply(this,arguments)}function $T(n,e,t){const s=Le(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.Mo.forEach((c,h)=>{const y=h.view.ro(e);y.snapshot&&a.push(y.snapshot)}),function(c,h){const y=Le(c);y.onlineState=h;let w=!1;y.queries.forEach((C,R)=>{for(const N of R.listeners)N.ro(h)&&(w=!0)}),w&&Hd(y)}(s.eventManager,e),a.length&&s.Oo.br(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function bP(n,e,t){return k0.apply(this,arguments)}function k0(){return(k0=(0,me.Z)(function*(n,e,t){const s=Le(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Uo.get(e),c=a&&a.key;if(c){let h=new Ar(Ye.comparator);h=h.insert(c,Sn.newNoDocument(c,Et.min()));const y=rn().add(c),w=new $f(Et.min(),new Map,new zn(Bt),h,y);yield O0(s,w),s.Bo=s.Bo.remove(c),s.Uo.delete(e),B0(s)}else yield Md(s.localStore,e,!1).then(()=>Zd(s,e,t)).catch(Rd)})).apply(this,arguments)}function BA(n,e){return F0.apply(this,arguments)}function F0(){return(F0=(0,me.Z)(function*(n,e){const t=Le(n),s=e.batch.batchId;try{const a=yield _A(t.localStore,e);V0(t,s,null),U0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Wu(t,a)}catch(a){yield Rd(a)}})).apply(this,arguments)}function jA(n,e,t){return L0.apply(this,arguments)}function L0(){return(L0=(0,me.Z)(function*(n,e,t){const s=Le(n);try{const a=yield function(c,h){const y=Le(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let C;return y.An.lookupMutationBatch(w,h).next(R=>(gt(null!==R),C=R.keys(),y.An.removeMutationBatch(w,R))).next(()=>y.An.performConsistencyCheck(w)).next(()=>y.Wn.vn(w,C))})}(s.localStore,e);V0(s,e,t),U0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Wu(s,a)}catch(a){yield Rd(a)}})).apply(this,arguments)}function qd(){return(qd=(0,me.Z)(function*(n,e){const t=Le(n);Fd(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const h=Le(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>h.An.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===s)return void e.resolve();const a=t.jo.get(s)||[];a.push(e),t.jo.set(s,a)}catch(s){const a=Gu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function U0(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function V0(n,e,t){const s=Le(n);let a=s.Ko[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Ko[s.currentUser.toKey()]=a}}function Zd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Fo.get(e))n.Mo.delete(s),t&&n.Oo.zo(s,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(s=>{n.qo.containsKey(s)||Xf(n,s)})}function Xf(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Zu(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),B0(n))}function HT(n,e,t){for(const s of t)s instanceof BT?(n.qo.addReference(s.key,e),qT(n,s)):s instanceof si?(Oe("SyncEngine","Document no longer in limbo: "+s.key),n.qo.removeReference(s.key,e),n.qo.containsKey(s.key)||Xf(n,s.key)):tt()}function qT(n,e){const t=e.key,s=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(s)||(Oe("SyncEngine","New document in limbo: "+t),n.Lo.add(s),B0(n))}function B0(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new Ye(tn.fromString(e)),s=n.Qo.next();n.Uo.set(s,new x0(t)),n.Bo=n.Bo.insert(t,s),v0(n.remoteStore,new al(Ts(bd(t.path)),s,2,jr.I))}}function Wu(n,e,t){return j0.apply(this,arguments)}function j0(){return(j0=(0,me.Z)(function*(n,e,t){const s=Le(n),a=[],c=[],h=[];var y;s.Mo.isEmpty()||(s.Mo.forEach((y,w)=>{h.push(s.Go(w,e,t).then(C=>{if(C){s.isPrimaryClient&&s.sharedClientState.updateQueryState(w.targetId,C.fromCache?"not-current":"current"),a.push(C);const R=l0.$n(w.targetId,C);c.push(R)}}))}),yield Promise.all(h),s.Oo.br(a),yield(y=(0,me.Z)(function*(w,C){const R=Le(w);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Ae.forEach(C,j=>Ae.forEach(j.kn,G=>R.persistence.referenceDelegate.addReference(N,j.targetId,G)).next(()=>Ae.forEach(j.xn,G=>R.persistence.referenceDelegate.removeReference(N,j.targetId,G)))))}catch(N){if(!ao(N))throw N;Oe("LocalStore","Failed to update sequence numbers: "+N)}for(const N of C){const j=N.targetId;if(!N.fromCache){const G=R.qn.get(j),ve=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);R.qn=R.qn.insert(j,ve)}}}),function(w,C){return y.apply(this,arguments)})(s.localStore,c))})).apply(this,arguments)}function HA(n,e){return $0.apply(this,arguments)}function $0(){return($0=(0,me.Z)(function*(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const s=yield i_(t.localStore,e);t.currentUser=e,(a=t).jo.forEach(h=>{h.forEach(y=>{y.reject(new Re(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Wu(t,s.Gn)}var a})).apply(this,arguments)}function ZT(n,e){const t=Le(n),s=t.Uo.get(e);if(s&&s.$o)return rn().add(s.key);{let a=rn();const c=t.Fo.get(e);if(!c)return a;for(const h of c){const y=t.Mo.get(h);a=a.unionWith(y.view.bo)}return a}}function qA(n,e){return H0.apply(this,arguments)}function H0(){return(H0=(0,me.Z)(function*(n,e){const t=Le(n),s=yield a_(t.localStore,e.query,!0),a=e.view.ko(s);return t.isPrimaryClient&&HT(t,e.targetId,a.Co),a})).apply(this,arguments)}function IP(n){return zT.apply(this,arguments)}function zT(){return(zT=(0,me.Z)(function*(n){const e=Le(n);return f0(e.localStore).then(t=>Wu(e,t))})).apply(this,arguments)}function TP(n,e,t,s){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,me.Z)(function*(n,e,t,s){const a=Le(n),c=yield function(h,y){const w=Le(h),C=Le(w.An);return w.persistence.runTransaction("Lookup mutation documents","readonly",R=>C.Zt(R,y).next(N=>N?w.Wn.vn(R,N):Ae.resolve(null)))}(a.localStore,e);var y;null!==c?("pending"===t?yield ii(a.remoteStore):"acknowledged"===t||"rejected"===t?(V0(a,e,s||null),U0(a,e),y=e,Le(Le(a.localStore).An).ee(y)):tt(),yield Wu(a,c)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function q0(){return(q0=(0,me.Z)(function*(n,e){const t=Le(n);if(qr(t),v_(t),!0===e&&!0!==t.Wo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield GT(t,s.toArray());t.Wo=!0,yield Vd(t.remoteStore,!0);for(const c of a)v0(t.remoteStore,c)}else if(!1===e&&!1!==t.Wo){const s=[];let a=Promise.resolve();t.Fo.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?s.push(h):a=a.then(()=>(Zd(t,h),Md(t.localStore,h,!0))),Zu(t.remoteStore,h)}),yield a,yield GT(t,s),function(c){const h=Le(c);h.Uo.forEach((y,w)=>{Zu(h.remoteStore,w)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Ar(Ye.comparator)}(t),t.Wo=!1,yield Vd(t.remoteStore,!1)}})).apply(this,arguments)}function GT(n,e,t){return Z0.apply(this,arguments)}function Z0(){return(Z0=(0,me.Z)(function*(n,e,t){const s=Le(n),a=[],c=[];for(const h of e){let y;const w=s.Fo.get(h);if(w&&0!==w.length){y=yield Nd(s.localStore,Ts(w[0]));for(const C of w){const R=s.Mo.get(C),N=yield qA(s,R);N.snapshot&&c.push(N.snapshot)}}else{const C=yield ET(s.localStore,h);y=yield Nd(s.localStore,C),yield P0(s,WT(C),h,!1)}a.push(y)}return s.Oo.br(c),a})).apply(this,arguments)}function WT(n){return NI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function zA(n){const e=Le(n);return Le(Le(e.localStore).persistence).Tn()}function KT(n,e,t,s){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,me.Z)(function*(n,e,t,s){const a=Le(n);if(a.Wo)Oe("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const c=yield f0(a.localStore),h=$f.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Wu(a,c,h);break}case"rejected":yield Md(a.localStore,e,!0),Zd(a,e,s);break;default:tt()}})).apply(this,arguments)}function GA(n,e,t){return ml.apply(this,arguments)}function ml(){return(ml=(0,me.Z)(function*(n,e,t){const s=qr(n);if(s.Wo){for(const a of e){if(s.Fo.has(a)){Oe("SyncEngine","Adding an already active target "+a);continue}const c=yield ET(s.localStore,a),h=yield Nd(s.localStore,c);yield P0(s,WT(c),h.targetId,!1),v0(s.remoteStore,h)}for(const a of t)s.Fo.has(a)&&(yield Md(s.localStore,a,!1).then(()=>{Zu(s.remoteStore,a),Zd(s,a)}).catch(Rd))}})).apply(this,arguments)}function qr(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=O0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bP.bind(null,e),e.Oo.br=yt.bind(null,e.eventManager),e.Oo.zo=EP.bind(null,e.eventManager),e}function v_(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jA.bind(null,e),e}class E_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.k=Qf(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return h0(this.persistence,new _T,e.initialUser,this.k)}Yo(e){return new SA(m0.ks,this.k)}Jo(e){return new fl}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class YT extends E_{constructor(e,t,s){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,me.Z)(function*(){yield t().call(s,e),yield function(n){return p0.apply(this,arguments)}(s.localStore),yield s.tc.initialize(s,e),yield v_(s.tc.syncEngine),yield ii(s.tc.remoteStore),yield s.persistence.sn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Zo(e){return h0(this.persistence,new _T,e.initialUser,this.k)}Xo(e){return new gT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=c0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?rs.withCacheSize(this.cacheSizeBytes):rs.DEFAULT;return new mT(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,ST(),f_(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new fl}}class QT extends YT{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,me.Z)(function*(){yield t().call(s,e);const a=s.tc.syncEngine;s.sharedClientState instanceof Yf&&(s.sharedClientState.syncEngine={mi:TP.bind(null,a),gi:KT.bind(null,a),yi:GA.bind(null,a),Tn:zA.bind(null,a),_i:IP.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.sn(function(){var c=(0,me.Z)(function*(h){yield function(n,e){return q0.apply(this,arguments)}(s.tc.syncEngine,h),s.gcScheduler&&(h&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):h||s.gcScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}Jo(e){const t=ST();if(!Yf.Pt(t))throw new Re(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=c0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yf(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class w_{initialize(e,t){var s=this;return(0,me.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>$T(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=HA.bind(null,s.syncEngine),yield Vd(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NA}createDatastore(e){const t=Qf(e.databaseInfo.databaseId),s=new h_(e.databaseInfo);return new RA(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=y=>$T(this.syncEngine,y,0),h=DT.Pt()?new DT:new CT,new RT(t,s,a,c,h);var t,s,a,c,h}createSyncEngine(e,t){return function(s,a,c,h,y,w,C){const R=new FA(s,a,c,h,y,w);return C&&(R.Wo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const s=Le(t);Oe("RemoteStore","RemoteStore shutting down."),s.Gr.add(5),yield qu(s),s.Hr.shutdown(),s.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function z0(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class b_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class WA{constructor(e,t){this.sc=e,this.k=t,this.metadata=new mr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(s=>{s&&s._o()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,me.Z)(function*(){const t=yield e.oc();if(null===t)return null;const s=e.ic.decode(t),a=Number(s);isNaN(a)&&e.cc(`length string (${s}) is not valid number`);const c=yield e.ac(a);return new MA(JSON.parse(c),t.length+a)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,me.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ac(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const s=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,me.Z)(function*(){const t=yield e.sc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class KA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,me.Z)(function*(c,h){const y=Le(c),w=il(y.k)+"/documents",C={documents:h.map(G=>Mg(y.k,G))},R=yield y.ji("BatchGetDocuments",w,C),N=new Map;R.forEach(G=>{const X=function(n,e){return"found"in e?function(t,s){gt(!!s.found);const a=Cs(t,s.found.name),c=$e(s.found.updateTime),h=new ti({mapValue:{fields:s.found.fields}});return Sn.newFoundDocument(a,c,h)}(n,e):"missing"in e?function(t,s){gt(!!s.missing),gt(!!s.readTime);const a=Cs(t,s.missing),c=$e(s.readTime);return Sn.newNoDocument(a,c)}(n,e):tt()}(y.k,G);N.set(X.key.toString(),X)});const j=[];return h.forEach(G=>{const X=N.get(G.toString());gt(!!X),j.push(X)}),j}),function(c,h){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=Ye.fromPath(a);e.mutations.push(new UE(c,e.precondition(c)))}),yield(s=(0,me.Z)(function*(a,c){const h=Le(a),y=il(h.k)+"/documents",w={writes:c.map(C=>kg(h.k,C))};yield h.Bi("Commit",y,w)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=Et.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Re(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?nr.updateTime(t):nr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Re(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nr.updateTime(t)}return nr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class JT{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.lc=5,this.ur=new p_(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,me.Z)(function*(){const t=new KA(e.datastore),s=e.dc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.wc(c)}))}).catch(a=>{e.wc(a)})}))}dc(e){try{const t=this.updateFunction(e);return!Ou(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!BI(t)}return!1}}class YA{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Br.UNAUTHENTICATED,this.clientId=wE.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var h=(0,me.Z)(function*(y){Oe("FirestoreClient","Received user=",y.uid),yield c.authCredentialListener(y),c.user=y});return function(y){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(s,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Gu(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function QA(n,e){return G0.apply(this,arguments)}function G0(){return(G0=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,me.Z)(function*(c){s.isEqual(c)||(yield i_(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function XT(n,e){return yl.apply(this,arguments)}function yl(){return(yl=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield eC(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(c=(0,me.Z)(function*(h,y){const w=Le(h);w.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const C=Fd(w);w.Gr.add(3),yield qu(w),C&&w.Jr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(y),w.Gr.delete(3),yield jg(w)}),function(h,y){return c.apply(this,arguments)})(e.remoteStore,a);var c}),n.onlineComponents=e})).apply(this,arguments)}function eC(n){return I_.apply(this,arguments)}function I_(){return(I_=(0,me.Z)(function*(n){return n.offlineComponents||(Oe("FirestoreClient","Using default OfflineComponentProvider"),yield QA(n,new E_)),n.offlineComponents})).apply(this,arguments)}function T_(n){return tC.apply(this,arguments)}function tC(){return(tC=(0,me.Z)(function*(n){return n.onlineComponents||(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield XT(n,new w_)),n.onlineComponents})).apply(this,arguments)}function W0(n){return eC(n).then(e=>e.persistence)}function K0(n){return eC(n).then(e=>e.localStore)}function C_(n){return T_(n).then(e=>e.remoteStore)}function Y0(n){return T_(n).then(e=>e.syncEngine)}function zd(n){return Q0.apply(this,arguments)}function Q0(){return(Q0=(0,me.Z)(function*(n){const e=yield T_(n),t=e.eventManager;return t.onListen=LA.bind(null,e.syncEngine),t.onUnlisten=UA.bind(null,e.syncEngine),t})).apply(this,arguments)}function nC(n,e,t={}){const s=new mr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(a,c,h,y,w){const C=new b_({next:N=>{c.enqueueAndForget(()=>LT(a,R));const j=N.docs.has(h);!j&&N.fromCache?w.reject(new Re(de.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&N.fromCache&&y&&"server"===y.source?w.reject(new Re(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(N)},error:N=>w.reject(N)}),R=new A0(bd(h.path),C,{includeMetadataChanges:!0,wo:!0});return zg(a,R)}(yield zd(n),n.asyncQueue,e,t,s)})),s.promise}function rC(n,e,t={}){const s=new mr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(a,c,h,y,w){const C=new b_({next:N=>{c.enqueueAndForget(()=>LT(a,R)),N.fromCache&&"server"===y.source?w.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(N)},error:N=>w.reject(N)}),R=new A0(h,C,{includeMetadataChanges:!0,wo:!0});return zg(a,R)}(yield zd(n),n.asyncQueue,e,t,s)})),s.promise}class oC{constructor(e,t,s,a,c,h,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=y,this.useFetchStreams=w}}class Gd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gd&&e.projectId===this.projectId&&e.database===this.database}}const J0=new Map;function X0(n,e,t){if(!t)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aC(n,e,t,s){if(!0===e&&!0===s)throw new Re(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uC(n){if(!Ye.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cC(n){if(Ye.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function D_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function Gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=D_(n);throw new Re(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lC(n,e){if(e<=0)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ep{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,aC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ku{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ep({}),this._settingsFrozen=!1,e instanceof Gd?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Re(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gd(a.options.projectId)}(e))}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ep(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $S;switch(t.type){case"gapi":const s=t.client;return gt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new HS(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=J0.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),J0.delete(e),t.terminate())}(this),Promise.resolve()}}class fn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class xn{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xn(this.firestore,e,this._query)}}class Ua extends xn{constructor(e,t,s){super(e,t,bd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Ye(e))}withConverter(e){return new Ua(this.firestore,e,this._path)}}function Xg(n,e,...t){if(n=(0,Pt.m9)(n),X0("collection","path",e),n instanceof Ku){const s=tn.fromString(e,...t);return cC(s),new Ua(n,null,s)}{if(!(n instanceof fn||n instanceof Ua))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(tn.fromString(e,...t));return cC(s),new Ua(n.firestore,null,s)}}function S_(n,e,...t){if(n=(0,Pt.m9)(n),1===arguments.length&&(e=wE.A()),X0("doc","path",e),n instanceof Ku){const s=tn.fromString(e,...t);return uC(s),new fn(n,null,new Ye(s))}{if(!(n instanceof fn||n instanceof Ua))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(tn.fromString(e,...t));return uC(s),new fn(n.firestore,n instanceof Ua?n.converter:null,new Ye(s))}}function sx(n,e){return n=(0,Pt.m9)(n),e=(0,Pt.m9)(e),(n instanceof fn||n instanceof Ua)&&(e instanceof fn||e instanceof Ua)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function A_(n,e){return n=(0,Pt.m9)(n),e=(0,Pt.m9)(e),n instanceof xn&&e instanceof xn&&n.firestore===e.firestore&&kf(n._query,e._query)&&n.converter===e.converter}class ew{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new p_(this,"async_queue_retry"),this.bc=()=>{const t=f_();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=f_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=f_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new mr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,me.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!ao(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(s=>{throw this.Ec=s,this.Ic=!1,gr("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(s)),s}).then(s=>(this.Ic=!1,s))));return this.mc=t,t}enqueueAfterDelay(e,t,s){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const a=D0.createAndSchedule(this,e,t,s,c=>this.Sc(c));return this.Tc.push(a),a}Pc(){this.Ec&&tt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function x_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class tw{constructor(){this._progressObserver={},this._taskCompletionResolver=new mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class jn extends Ku{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new ew,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||rw(this),this._firestoreClient.terminate()}}function xr(n){return n._firestoreClient||rw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rw(n){var e;const t=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new oC(n._databaseId,c,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var c,y;n._firestoreClient=new YA(n._authCredentials,n._appCheckCredentials,n._queue,s)}function hC(n,e,t){const s=new mr;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield QA(n,t),yield XT(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(c=a).name?c.code===de.FAILED_PRECONDITION||c.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var c})).then(()=>s.promise)}function yC(n){if(n._initialized||n._terminated)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _l{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(tr.fromBase64String(e))}catch(t){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ni(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wd{constructor(e){this._methodName=e}}class R_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const SP=/^__.*__$/;class em{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Uu(e,this.data,this.fieldMask,t,this.fieldTransforms):new jf(e,this.data,t,this.fieldTransforms)}}class _C{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Uu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function P_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class N_{constructor(e,t,s,a,c,h){this.settings=e,this.databaseId=t,this.k=s,this.ignoreUndefinedProperties=a,void 0===c&&this.xc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new N_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:s,Fc:!1});return a.Lc(e),a}Bc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:s,Fc:!1});return a.xc(),a}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return rm(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(P_(this.$c)&&SP.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class vC{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=s||Qf(e)}Qc(e,t,s,a=!1){return new N_({$c:e,methodName:t,jc:s,path:ei.emptyPath(),Fc:!1,Kc:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Kd(n){const e=n._freezeSettings(),t=Qf(n._databaseId);return new vC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function M_(n,e,t,s,a,c={}){const h=n.Qc(c.merge||c.mergeFields?2:0,e,t,a);tm("Data must be an object, but it was:",h,s);const y=cw(s,h);let w,C;if(c.merge)w=new _d(h.fieldMask),C=h.fieldTransforms;else if(c.mergeFields){const R=[];for(const N of c.mergeFields){const j=nm(e,N,t);if(!h.contains(j))throw new Re(de.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);dw(R,j)||R.push(j)}w=new _d(R),C=h.fieldTransforms.filter(N=>w.covers(N.field))}else w=null,C=h.fieldTransforms;return new em(new ti(y),w,C)}class Yd extends Wd{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function sw(n,e,t){return new N_({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class O_ extends Wd{_toFieldTransform(e){return new nl(e.path,new Ff)}isEqual(e){return e instanceof O_}}class k_ extends Wd{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=sw(this,e,!0),s=this.Wc.map(c=>Va(c,t)),a=new Lu(s);return new nl(e.path,a)}isEqual(e){return this===e}}class ow extends Wd{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=sw(this,e,!0),s=this.Wc.map(c=>Va(c,t)),a=new Id(s);return new nl(e.path,a)}isEqual(e){return this===e}}class AP extends Wd{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new Uf(e.k,PE(e.k,this.Gc));return new nl(e.path,t)}isEqual(e){return this===e}}function F_(n,e,t,s){const a=n.Qc(1,e,t);tm("Data must be an object, but it was:",a,s);const c=[],h=ti.empty();yd(s,(w,C)=>{const R=lw(e,w,t);C=(0,Pt.m9)(C);const N=a.Bc(R);if(C instanceof Yd)c.push(R);else{const j=Va(C,N);null!=j&&(c.push(R),h.set(R,j))}});const y=new _d(c);return new _C(h,y,a.fieldTransforms)}function aw(n,e,t,s,a,c){const h=n.Qc(1,e,t),y=[nm(e,s,t)],w=[a];if(c.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<c.length;j+=2)y.push(nm(e,c[j])),w.push(c[j+1]);const C=[],R=ti.empty();for(let j=y.length-1;j>=0;--j)if(!dw(C,y[j])){const G=y[j];let X=w[j];X=(0,Pt.m9)(X);const ve=h.Bc(G);if(X instanceof Yd)C.push(G);else{const Pe=Va(X,ve);null!=Pe&&(C.push(G),R.set(G,Pe))}}const N=new _d(C);return new _C(R,N,h.fieldTransforms)}function uw(n,e,t,s=!1){return Va(t,n.Qc(s?4:3,e))}function Va(n,e){if(EC(n=(0,Pt.m9)(n)))return tm("Unsupported field value:",e,n),cw(n,e);if(n instanceof Wd)return function(t,s){if(!P_(s.$c))throw s.qc(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const h of t){let y=Va(h,s.Uc(c));null==y&&(y={nullValue:"NULL_VALUE"}),a.push(y),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,Pt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return PE(s.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=$r.fromDate(t);return{timestampValue:qf(s.k,a)}}if(t instanceof $r){const a=new $r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:qf(s.k,a)}}if(t instanceof R_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ni)return{bytesValue:HE(s.k,t._byteString)};if(t instanceof fn){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s.qc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qE(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.qc(`Unsupported field value: ${D_(t)}`)}(n,e)}function cw(n,e){const t={};return vI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yd(n,(s,a)=>{const c=Va(a,e.Mc(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function EC(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $r||n instanceof R_||n instanceof Ni||n instanceof fn||n instanceof Wd)}function tm(n,e,t){if(!EC(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=D_(t);throw e.qc("an object"===s?n+" a custom object":n+" "+s)}var s}function nm(n,e,t){if((e=(0,Pt.m9)(e))instanceof _l)return e._internalPath;if("string"==typeof e)return lw(n,e);throw rm("Field path arguments must be of type string or ",n,!1,void 0,t)}const cx=new RegExp("[~\\*/\\[\\]]");function lw(n,e,t){if(e.search(cx)>=0)throw rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _l(...e.split("."))._internalPath}catch(s){throw rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rm(n,e,t,s,a){const c=s&&!s.isEmpty(),h=void 0!==a;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let w="";return(c||h)&&(w+=" (found",c&&(w+=` in field ${s}`),h&&(w+=` in document ${a}`),w+=")"),new Re(de.INVALID_ARGUMENT,y+n+w)}function dw(n,e){return n.some(t=>t.isEqual(e))}class tp{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(im("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lx extends tp{data(){return super.data()}}function im(n,e){return"string"==typeof e?lw(n,e):e instanceof _l?e._internalPath:e._delegate._internalPath}class vl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yu extends tp{constructor(e,t,s,a,c,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(im("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class sm extends Yu{data(e={}){return super.data(e)}}class Qu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new vl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new sm(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(h=>({type:"added",doc:new sm(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const y=new sm(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let w=-1,C=-1;return 0!==h.type&&(w=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),C=c.indexOf(h.doc.key)),{type:dx(h.type),doc:y,oldIndex:w,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function hw(n,e){return n instanceof Yu&&e instanceof Yu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Qu&&e instanceof Qu&&n._firestore===e._firestore&&A_(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function fw(n){if(Fu(n)&&0===n.explicitOrderBy.length)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class np{}function Ju(n,...e){for(const t of e)n=t._apply(n);return n}class hx extends np{constructor(e,t,s){super(),this.zc=e,this.Hc=t,this.Jc=s,this.type="where"}_apply(e){const t=Kd(e.firestore),s=function(a,c,h,y,w,C,R){let N;if(w.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){Ex(R,C);const G=[];for(const X of R)G.push(vx(y,a,X));N={arrayValue:{values:G}}}else N=vx(y,a,R)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||Ex(R,C),N=uw(h,"where",R,"in"===C||"not-in"===C);const j=mi.create(w,C,N);return function(G,X){if(X.V()){const Pe=xE(G);if(null!==Pe&&!Pe.isEqual(X.field))throw new Re(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pe.toString()}' and '${X.field.toString()}'`);const rt=AE(G);null!==rt&&wx(0,X.field,rt)}const ve=function(Pe,rt){for(const it of Pe.filters)if(rt.indexOf(it.op)>=0)return it.op;return null}(G,function(Pe){switch(Pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==ve)throw new Re(de.INVALID_ARGUMENT,ve===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${ve.toString()}' filters.`)}(a,j),j}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new xn(e.firestore,e.converter,function(a,c){const h=a.filters.concat([c]);return new Ma(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class px extends np{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new On(a,c);return function(y,w){if(null===AE(y)){const C=xE(y);null!==C&&wx(0,C,w.field)}}(s,h),h}(e._query,this.zc,this.Yc);return new xn(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Ma(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class gx extends np{constructor(e,t,s){super(),this.type=e,this.Xc=t,this.Zc=s}_apply(e){return new xn(e.firestore,e.converter,WS(e._query,this.Xc,this.Zc))}}class mx extends np{constructor(e,t,s){super(),this.type=e,this.ta=t,this.ea=s}_apply(e){const t=_x(e,this.type,this.ta,this.ea);return new xn(e.firestore,e.converter,(a=t,new Ma((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class yx extends np{constructor(e,t,s){super(),this.type=e,this.ta=t,this.ea=s}_apply(e){const t=_x(e,this.type,this.ta,this.ea);return new xn(e.firestore,e.converter,(a=t,new Ma((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function _x(n,e,t,s){if(t[0]=(0,Pt.m9)(t[0]),t[0]instanceof tp)return function(a,c,h,y,w){if(!y)throw new Re(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const R of Of(a))if(R.field.isKeyField())C.push(Rf(c,y.key));else{const N=y.data.field(R.field);if(vd(N))throw new Re(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const j=R.field.canonicalString();throw new Re(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}C.push(N)}return new Mf(C,w)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=Kd(n.firestore);return function(c,h,y,w,C,R){const N=c.explicitOrderBy;if(C.length>N.length)throw new Re(de.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let G=0;G<C.length;G++){const X=C[G];if(N[G].field.isKeyField()){if("string"!=typeof X)throw new Re(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof X}`);if(!qy(c)&&-1!==X.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${X}' contains a slash.`);const ve=c.path.child(tn.fromString(X));if(!Ye.isDocumentKey(ve))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Pe=new Ye(ve);j.push(Rf(h,Pe))}else{const ve=uw(y,w,X);j.push(ve)}}return new Mf(j,R)}(n._query,n.firestore._databaseId,a,e,t,s)}}function vx(n,e,t){if("string"==typeof(t=(0,Pt.m9)(t))){if(""===t)throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qy(e)&&-1!==t.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tn.fromString(t));if(!Ye.isDocumentKey(s))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Rf(n,new Ye(s))}if(t instanceof fn)return Rf(n,t._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${D_(t)}.`)}function Ex(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function wx(n,e,t){if(!t.isEqual(e))throw new Re(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class bC{convertValue(e,t="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const s={};return yd(e.fields,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new R_(yr(e.latitude),yr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=bI(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ed(e));default:return null}}convertTimestamp(e){const t=Na(e);return new $r(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tn.fromString(e);gt(zf(s));const a=new Gd(s.get(1),s.get(3)),c=new Ye(s.popFirst(5));return a.isEqual(t)||gr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function pw(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class kP extends bC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}class bx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Kd(e)}set(e,t,s){this._verifyNotCommitted();const a=El(e,this._firestore),c=pw(a.converter,t,s),h=M_(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(h.toMutation(a._key,nr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=El(e,this._firestore);let h;return h="string"==typeof(t=(0,Pt.m9)(t))||t instanceof _l?aw(this._dataReader,"WriteBatch.update",c._key,t,s,a):F_(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=El(e,this._firestore);return this._mutations=this._mutations.concat(new Rg(t._key,nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function El(n,e){if((n=(0,Pt.m9)(n)).firestore!==e)throw new Re(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Qd extends bC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function IC(n,e,t){n=Gt(n,fn);const s=Gt(n.firestore,jn),a=pw(n.converter,e,t);return om(s,[M_(Kd(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,nr.none())])}function Dx(n,e,t,...s){n=Gt(n,fn);const a=Gt(n.firestore,jn),c=Kd(a);let h;return h="string"==typeof(e=(0,Pt.m9)(e))||e instanceof _l?aw(c,"updateDoc",n._key,e,t,s):F_(c,"updateDoc",n._key,e),om(a,[h.toMutation(n._key,nr.exists(!0))])}function Sx(n,...e){var t,s,a;n=(0,Pt.m9)(n);let c={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||x_(e[h])||(c=e[h],h++);const y={includeMetadataChanges:c.includeMetadataChanges};if(x_(e[h])){const N=e[h];e[h]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[h+1]=null===(s=N.error)||void 0===s?void 0:s.bind(N),e[h+2]=null===(a=N.complete)||void 0===a?void 0:a.bind(N)}let w,C,R;if(n instanceof fn)C=Gt(n.firestore,jn),R=bd(n._key.path),w={next:N=>{e[h]&&e[h](gw(C,n,N))},error:e[h+1],complete:e[h+2]};else{const N=Gt(n,xn);C=Gt(N.firestore,jn),R=N._query;const j=new Qd(C);w={next:G=>{e[h]&&e[h](new Qu(C,j,N,G))},error:e[h+1],complete:e[h+2]},fw(n._query)}return function(N,j,G,X){const ve=new b_(X),Pe=new A0(j,ve,G);return N.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return zg(yield zd(N),Pe)})),()=>{ve.nc(),N.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return LT(yield zd(N),Pe)}))}}(xr(C),R,y,w)}function om(n,e){return function(t,s){const a=new mr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e,t){return M0.apply(this,arguments)}(yield Y0(t),s,a)})),a.promise}(xr(n),e)}function gw(n,e,t){const s=t.docs.get(e._key),a=new Qd(n);return new Yu(n,a,e._key,s,new vl(t.hasPendingWrites,t.fromCache),e.converter)}class mw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Kd(e)}get(e){const t=El(e,this._firestore),s=new kP(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return tt();const c=a[0];if(c.isFoundDocument())return new tp(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new tp(this._firestore,s,t._key,null,t.converter);throw tt()})}set(e,t,s){const a=El(e,this._firestore),c=pw(a.converter,t,s),h=M_(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,h),this}update(e,t,s,...a){const c=El(e,this._firestore);let h;return h="string"==typeof(t=(0,Pt.m9)(t))||t instanceof _l?aw(this._dataReader,"Transaction.update",c._key,t,s,a):F_(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,h),this}delete(e){const t=El(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=El(e,this._firestore),s=new Qd(this._firestore);return super.get(e).then(a=>new Yu(this._firestore,s,t._key,a._document,new vl(!1,!1),t.converter))}}function L_(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function am(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function _w(){if("undefined"==typeof atob)throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Af=Yr.SDK_VERSION,(0,Yr._registerComponent)(new tg.wA("firestore",(t,{options:s})=>{const a=t.getProvider("app").getImmediate(),c=new jn(a,new aP(t.getProvider("auth-internal")),new cP(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC")),(0,Yr.registerVersion)(mI,"3.4.3",n),(0,Yr.registerVersion)(mI,"3.4.3","esm2017")}();class U_{constructor(e){this._delegate=e}static fromBase64String(e){return _w(),new U_(Ni.fromBase64String(e))}static fromUint8Array(e){return am(),new U_(Ni.fromUint8Array(e))}toBase64(){return _w(),this._delegate.toBase64()}toUint8Array(){return am(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SC(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class Nx{enableIndexedDbPersistence(e,t){return function(n,e){yC(n=Gt(n,jn));const t=xr(n),s=n._freezeSettings(),a=new w_;return hC(t,a,new YT(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){yC(n=Gt(n,jn));const e=xr(n),t=n._freezeSettings(),s=new w_;return hC(e,s,new QT(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Re(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(s){if(!oo.Pt())return Promise.resolve();const a=s+"main";yield oo.delete(a)}),function(s){return t.apply(this,arguments)})(c0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Mx{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Gd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&xf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const c=(n=Gt(n,Ku))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&xf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let h,y;if("string"==typeof s.mockUserToken)h=s.mockUserToken,y=Br.MOCK_USER;else{h=(0,Pt.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Re(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Br(w)}n._authCredentials=new oP(new Fy(h,y))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield W0(n),t=yield C_(n);return e.setNetworkEnabled(!0),function(s){const a=Le(s);return a.Gr.delete(0),jg(a)}(t)}))}(xr(n=Gt(n,jn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield W0(n),t=yield C_(n);return e.setNetworkEnabled(!1),(s=(0,me.Z)(function*(a){const c=Le(a);c.Gr.add(0),yield qu(c),c.Jr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(xr(n=Gt(n,jn)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,aC("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new mr;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e){return qd.apply(this,arguments)}(yield Y0(e),t)})),t.promise}(xr(n=Gt(n,jn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new b_(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return s=yield zd(n),a=t,Le(s).io.add(a),void a.next();var s,a})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return s=yield zd(n),a=t,void Le(s).io.delete(a);var s,a}))}}(xr(n=Gt(n,jn)),x_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sp(this,Xg(this._delegate,e))}catch(t){throw ss(t,"collection()","Firestore.collection()")}}doc(e){try{return new co(this,S_(this._delegate,e))}catch(t){throw ss(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mi(this,function(n,e){if(n=Gt(n,Ku),X0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xn(n,null,(t=e,new Ma(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ss(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new mr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const s=yield(a=n,T_(a).then(c=>c.datastore));var a;new JT(n.asyncQueue,s,e,t).run()})),t.promise}(xr(n=Gt(n,jn)),t=>e(new mw(n,t)))}(this._delegate,t=>e(new kx(this,t)))}batch(){return xr(this._delegate),new Fx(new bx(this._delegate,e=>om(this._delegate,e)))}loadBundle(e){return function(n,e){const t=xr(n=Gt(n,jn)),s=new tw;return function(n,e,t,s){const a=function(c,h){let y;return y="string"==typeof c?(new TextEncoder).encode(c):c,w=function(w,C){if(w instanceof Uint8Array)return z0(w,C);if(w instanceof ArrayBuffer)return z0(new Uint8Array(w),C);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new WA(w,h);var w}(t,Qf(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function(n,e,t){const s=Le(n);var a;(a=(0,me.Z)(function*(c,h,y){try{const w=yield h.getMetadata();if(yield function(j,G){const X=Le(j),ve=$e(G.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",Pe=>X.Ye.getBundleMetadata(Pe,G.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(ve)>=0)}(c.localStore,w))return yield h.close(),void y._completeWith((j=w,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));y._updateProgress(OA(w));const C=new wP(w,c.localStore,h.k);let R=yield h.Ho();for(;R;){const j=yield C.yo(R);j&&y._updateProgress(j),R=yield h.Ho()}const N=yield C.complete();yield Wu(c,N.In,void 0),yield function(j,G){const X=Le(j);return X.persistence.runTransaction("Save bundle","readwrite",ve=>X.Ye.saveBundleMetadata(ve,G))}(c.localStore,w),y._completeWith(N.progress)}catch(w){xf("SyncEngine",`Loading bundle failed with ${w}`),y._failWith(w)}var j}),function(c,h,y){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Y0(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,s){const a=Le(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Ye.getNamedQuery(c,s))}(yield K0(n),e)}))}(xr(n=Gt(n,jn)),e).then(t=>t?new xn(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Mi(this,t):null)}}class Jd extends bC{constructor(e){super(),this.firestore=e}convertBytes(e){return new U_(new Ni(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return co.forKey(t,this.firestore,null)}}class kx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Jd(e)}get(e){const t=zo(e);return this._delegate.get(t).then(s=>new V_(this._firestore,new Yu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=zo(e);return s?(L_("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=zo(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=zo(e);return this._delegate.delete(t),this}}class Fx{constructor(e){this._delegate=e}set(e,t,s){const a=zo(e);return s?(L_("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const c=zo(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,s,...a),this}delete(e){const t=zo(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xu{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new sm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ip(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Xu.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let c=a.get(t);return c||(c=new Xu(e,new Jd(e),t),a.set(t,c)),c}}Xu.INSTANCES=new WeakMap;class co{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jd(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new co(t,new fn(t._delegate,s,new Ye(e)))}static forKey(e,t,s){return new co(t,new fn(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new sp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sp(this.firestore,Xg(this._delegate,e))}catch(t){throw ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pt.m9)(e))instanceof fn&&sx(this._delegate,e)}set(e,t){t=L_("DocumentReference.set",t);try{return t?IC(this._delegate,e,t):IC(this._delegate,e)}catch(s){throw ss(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Dx(this._delegate,e):Dx(this._delegate,e,t,...s)}catch(a){throw ss(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return om(Gt(n.firestore,jn),[new Rg(n._key,nr.none())])}(this._delegate)}onSnapshot(...e){const t=Lx(e),s=AC(e,a=>new V_(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Sx(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Gt(n,fn);const e=Gt(n.firestore,jn),t=xr(e),s=new Qd(e);return function(n,e){const t=new mr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(s=(0,me.Z)(function*(a,c,h){try{const y=yield function(w,C){const R=Le(w);return R.persistence.runTransaction("read document","readonly",N=>R.Wn.Rn(N,C))}(a,c);y.isFoundDocument()?h.resolve(y):y.isNoDocument()?h.resolve(null):h.reject(new Re(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const w=Gu(y,`Failed to get document '${c} from cache`);h.reject(w)}}),function(a,c,h){return s.apply(this,arguments)})(yield K0(n),e,t);var s})),t.promise}(t,n._key).then(a=>new Yu(e,s,n._key,a,new vl(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Gt(n,fn);const e=Gt(n.firestore,jn);return nC(xr(e),n._key,{source:"server"}).then(t=>gw(e,n,t))}(this._delegate):function(n){n=Gt(n,fn);const e=Gt(n.firestore,jn);return nC(xr(e),n._key).then(t=>gw(e,n,t))}(this._delegate),t.then(s=>new V_(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new co(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}function ss(n,e,t){return n.message=n.message.replace(e,t),n}function Lx(n){for(const e of n)if("object"==typeof e&&!SC(e))return e;return{}}function AC(n,e){var t,s;let a;return a=SC(n[0])?n[0]:SC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class V_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new co(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hw(this._delegate,e._delegate)}}class ip extends V_{data(e){const t=this._delegate.data(e);return function(n,e){n||tt()}(void 0!==t),t}}class Mi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jd(e)}where(e,t,s){try{return new Mi(this.firestore,Ju(this._delegate,function(n,e,t){const s=e,a=im("where",n);return new hx(a,s,t)}(e,t,s)))}catch(a){throw ss(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mi(this.firestore,Ju(this._delegate,function(n,e="asc"){const t=e,s=im("orderBy",n);return new px(s,t)}(e,t)))}catch(s){throw ss(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mi(this.firestore,Ju(this._delegate,function(n){return lC("limit",n),new gx("limit",n,"F")}(e)))}catch(t){throw ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Mi(this.firestore,Ju(this._delegate,function(n){return lC("limitToLast",n),new gx("limitToLast",n,"L")}(e)))}catch(t){throw ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mi(this.firestore,Ju(this._delegate,function(...n){return new mx("startAt",n,!0)}(...e)))}catch(t){throw ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mi(this.firestore,Ju(this._delegate,function(...n){return new mx("startAfter",n,!1)}(...e)))}catch(t){throw ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mi(this.firestore,Ju(this._delegate,function(...n){return new yx("endBefore",n,!0)}(...e)))}catch(t){throw ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mi(this.firestore,Ju(this._delegate,function(...n){return new yx("endAt",n,!1)}(...e)))}catch(t){throw ss(t,"endAt()","Query.endAt()")}}isEqual(e){return A_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Gt(n,xn);const e=Gt(n.firestore,jn),t=xr(e),s=new Qd(e);return function(n,e){const t=new mr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(s=(0,me.Z)(function*(a,c,h){try{const y=yield a_(a,c,!0),w=new jT(c,y.zn),C=w.Po(y.documents),R=w.applyChanges(C,!1);h.resolve(R.snapshot)}catch(y){const w=Gu(y,`Failed to execute query '${c} against cache`);h.reject(w)}}),function(a,c,h){return s.apply(this,arguments)})(yield K0(n),e,t);var s})),t.promise}(t,n._query).then(a=>new Qu(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Gt(n,xn);const e=Gt(n.firestore,jn),t=xr(e),s=new Qd(e);return rC(t,n._query,{source:"server"}).then(a=>new Qu(e,s,n,a))}(this._delegate):function(n){n=Gt(n,xn);const e=Gt(n.firestore,jn),t=xr(e),s=new Qd(e);return fw(n._query),rC(t,n._query).then(a=>new Qu(e,s,n,a))}(this._delegate),t.then(s=>new xC(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Lx(e),s=AC(e,a=>new xC(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Sx(this._delegate,t,s)}withConverter(e){return new Mi(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}class HP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ip(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ip(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new HP(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new ip(this._firestore,s))})}isEqual(e){return hw(this._delegate,e._delegate)}}class sp extends Mi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new co(this.firestore,e):null}doc(e){try{return new co(this.firestore,void 0===e?S_(this._delegate):S_(this._delegate,e))}catch(t){throw ss(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Gt(n.firestore,jn),s=S_(n),a=pw(n.converter,e);return om(t,[M_(Kd(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,nr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new co(this.firestore,t))}isEqual(e){return sx(this._delegate,e._delegate)}withConverter(e){return new sp(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}function zo(n){return Gt(n,fn)}class vw{constructor(...e){this._delegate=new _l(...e)}static documentId(){return new vw(ei.keyField().canonicalString())}isEqual(e){return(e=(0,Pt.m9)(e))instanceof _l&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xd{constructor(e){this._delegate=e}static serverTimestamp(){const e=new O_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Xd(e)}static delete(){const e=new Yd("deleteField");return e._methodName="FieldValue.delete",new Xd(e)}static arrayUnion(...e){const t=function(...n){return new k_("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xd(t)}static arrayRemove(...e){const t=function(...n){return new ow("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xd(t)}static increment(e){const t=function(n){return new AP("increment",n)}(e);return t._methodName="FieldValue.increment",new Xd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ux={Firestore:Mx,GeoPoint:R_,Timestamp:$r,Blob:U_,Transaction:kx,WriteBatch:Fx,DocumentReference:co,DocumentSnapshot:V_,Query:Mi,QueryDocumentSnapshot:ip,QuerySnapshot:xC,CollectionReference:sp,FieldPath:vw,FieldValue:Xd,setLogLevel:function(n){!function(n){Mu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new tg.wA("firestore-compat",t=>((e,t)=>new Mx(e,t,new Nx))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Ux)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(_b.Z);var As=L(6682),um=L(309),ww=L(7771),Bx=L(8858);class jx extends ms.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new bw(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=s.length;let h;if(this.closed)throw new Ro.N;if(this.isStopped||this.hasError?h=ql.w.EMPTY:(this.observers.push(e),h=new Bx.W(this,e)),a&&e.add(e=new um.ht(e,a)),t)for(let y=0;y<c&&!e.closed;y++)e.next(s[y]);else for(let y=0;y<c&&!e.closed;y++)e.next(s[y].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||ww.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,c=a.length;let h=0;for(;h<c&&!(e-a[h].time<s);)h++;return c>t&&(h=Math.max(h,c-t)),h>0&&a.splice(0,h),a}}class bw{constructor(e,t){this.time=e,this.value=t}}function Iw(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,h,c=0,y=!1,w=!1;return function(R){let N;c++,!a||y?(y=!1,a=new jx(n,e,s),N=a.subscribe(this),h=R.subscribe({next(j){a.next(j)},error(j){y=!0,a.error(j)},complete(){w=!0,h=void 0,a.complete()}}),w&&(h=void 0)):N=a.subscribe(this),this.add(()=>{c--,N.unsubscribe(),N=void 0,h&&!w&&t&&0===c&&(h.unsubscribe(),h=void 0,a=void 0)})}}(s))}function PC(n,e){return e?Vn(()=>n,e):Vn(()=>n)}var B_=L(3101);L(2329);const Cw=new Map,qx={activated:!1,tokenObservers:[]},Zx={initialized:!1,enabled:!1};function Rr(n){return Cw.get(n)||qx}function Wo(n,e){Cw.set(n,e)}function Dw(){return Zx}class Aw{constructor(e,t,s,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new Pt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Pt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Oi=new Pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Kx(n){if(!Rr(n).activated)throw Oi.create("use-before-activation",{appName:n.name})}function Rw(n,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=(0,me.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:s};let h,y;try{h=yield fetch(n,c)}catch(N){throw Oi.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==h.status)throw Oi.create("fetch-status-error",{httpStatus:h.status});try{y=yield h.json()}catch(N){throw Oi.create("fetch-parse-error",{originalErrorMessage:N.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const C=1e3*Number(w[1]),R=Date.now();return{token:y.attestationToken,expireTimeMillis:R+C,issuedAtTimeMillis:R}})).apply(this,arguments)}function LC(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const dm="firebase-app-check-store";let ir=null;function Jx(){return ir||(ir=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(Oi.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(dm,{keyPath:"compositeKey"})}}}catch(t){e(Oi.create("storage-open",{originalErrorMessage:t.message}))}}),ir)}function Nw(){return(Nw=(0,me.Z)(function*(n,e){const s=(yield Jx()).transaction(dm,"readwrite"),c=s.objectStore(dm).put({compositeKey:n,value:e});return new Promise((h,y)=>{c.onsuccess=w=>{h()},s.onerror=w=>{var C;y(Oi.create("storage-set",{originalErrorMessage:null===(C=w.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const eh=new qc.Yd("@firebase/app-check");function hm(n,e){return(0,Pt.hl)()?function(n,e){return function(n,e){return Nw.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{eh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Lw(){return Dw().enabled}function Pr(){return jC.apply(this,arguments)}function jC(){return(jC=(0,me.Z)(function*(){const n=Dw();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nR={error:"UNKNOWN_ERROR"};function XP(n){return Pt.US.encodeString(JSON.stringify(n),!1)}function th(n){return Uw.apply(this,arguments)}function Uw(){return(Uw=(0,me.Z)(function*(n,e=!1){const t=n.app;Kx(t);const s=Rr(t);let c,a=s.token;if(!a){const w=yield s.cachedTokenPromise;w&&G_(w)&&(a=w)}if(!e&&a&&G_(a))return{token:a.token};let y,h=!1;if(Lw()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Rw(LC(t,yield Pr()),n.platformLoggerProvider).then(C=>(s.exchangeTokenPromise=void 0,C)),h=!0);const w=yield s.exchangeTokenPromise;return yield hm(t,w),Wo(t,Object.assign(Object.assign({},s),{token:w})),{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(w=>(s.exchangeTokenPromise=void 0,w)),h=!0),a=yield s.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?eh.warn(w.message):eh.error(w),c=w}return a?(y={token:a.token},Wo(t,Object.assign(Object.assign({},s),{token:a})),yield hm(t,a)):y=sR(c),h&&qC(t,y),y})).apply(this,arguments)}function HC(n,e){const t=Rr(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Wo(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function rR(n){const{app:e}=n,t=Rr(e);let s=t.tokenRefresher;s||(s=function(n){const{app:e}=n;return new Aw((0,me.Z)(function*(){let s;if(s=Rr(e).token?yield th(n,!0):yield th(n),s.error)throw s.error}),()=>!0,()=>{const t=Rr(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),Wo(e,Object.assign(Object.assign({},t),{tokenRefresher:s}))),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function qC(n,e){const t=Rr(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function G_(n){return n.expireTimeMillis-Date.now()>0}function sR(n){return{token:XP(nR),error:n}}class oR{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Rr(this.app);for(const t of e)HC(this.app,t.next);return Promise.resolve()}}const Y_="app-check-internal";(0,Yr._registerComponent)(new tg.wA("app-check",n=>function(n,e){return new oR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Y_).initialize()})),(0,Yr._registerComponent)(new tg.wA(Y_,n=>function(n){return{getToken:e=>th(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,c=Rr(a),h={next:t,error:s,type:e};if(Wo(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]})),c.token&&G_(c.token)){const y=c.token;Promise.resolve().then(()=>{t({token:y.token}),rR(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>rR(n))}(n,"INTERNAL",e),removeTokenListener:e=>HC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yr.registerVersion)("@firebase/app-check","0.5.3");class eD{constructor(){return(0,Kr.vb)("app-check")}}"undefined"!=typeof window&&window;var oD=L(7841);const uD=new p.OlP("angularfire2.auth.use-emulator"),cD=new p.OlP("angularfire2.auth.settings"),Hw=new p.OlP("angularfire2.auth.tenant-id"),lD=new p.OlP("angularfire2.auth.langugage-code"),dD=new p.OlP("angularfire2.auth.use-device-language"),hD=new p.OlP("angularfire.auth.persistence"),Q_=(n,e,t,s,a,c,h,y)=>(0,st.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),s&&(w.tenantId=s),w.languageCode=a,c&&w.useDeviceLanguage(),h)for(const[C,R]of Object.entries(h))w.settings[C]=R;return y&&w.setPersistence(y),w},[t,s,a,c,h,y]);let fD=(()=>{class n{constructor(t,s,a,c,h,y,w,C,R,N,j,G){const X=new ms.xQ,ve=(0,Xe.of)(void 0).pipe((0,um.QV)(h.outsideAngular),Vn(()=>c.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,8402)))),(0,ht.U)(()=>(0,st.on)(t,c,s)),(0,ht.U)(Pe=>Q_(Pe,c,y,C,R,N,w,j)),Iw({bufferSize:1,refCount:!1}));if(Ga(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xe.of)(null);else{ve.pipe(_a()).subscribe();const rt=ve.pipe(Vn(ut=>ut.getRedirectResult().then(cn=>cn,()=>null)),Kr.iC,Iw({bufferSize:1,refCount:!1})),it=ve.pipe(Vn(ut=>new Ti.y(cn=>({unsubscribe:c.runOutsideAngular(()=>ut.onAuthStateChanged(vr=>cn.next(vr),vr=>cn.error(vr),()=>cn.complete()))})))),Mt=ve.pipe(Vn(ut=>new Ti.y(cn=>({unsubscribe:c.runOutsideAngular(()=>ut.onIdTokenChanged(vr=>cn.next(vr),vr=>cn.error(vr),()=>cn.complete()))}))));this.authState=rt.pipe(PC(it),(0,B_.R)(h.outsideAngular),(0,um.QV)(h.insideAngular)),this.user=rt.pipe(PC(Mt),(0,B_.R)(h.outsideAngular),(0,um.QV)(h.insideAngular)),this.idToken=this.user.pipe(Vn(ut=>ut?(0,_n.D)(ut.getIdToken()):(0,Xe.of)(null))),this.idTokenResult=this.user.pipe(Vn(ut=>ut?(0,_n.D)(ut.getIdTokenResult()):(0,Xe.of)(null))),this.credential=(0,As.T)(rt,X,this.authState.pipe(_s(ut=>!ut))).pipe((0,ht.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,B_.R)(h.outsideAngular),(0,um.QV)(h.insideAngular))}return(0,st.pX)(this,ve,c,{spy:{apply:(Pe,rt,it)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&it.then(Mt=>X.next(Mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(st.Dh),p.LFG(st.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Kr.HU),p.LFG(uD,8),p.LFG(cD,8),p.LFG(Hw,8),p.LFG(lD,8),p.LFG(dD,8),p.LFG(hD,8),p.LFG(eD,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function gm(n,e){return function(n,e=rS.z){return new Ti.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function op(n,e){return gm(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function ap(n,e){return op(n,e).pipe(Rc(void 0),Pv(),(0,ht.U)(([t,s])=>{const a=s.payload.docChanges(),c=a.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((h,y)=>{const w=a.find(R=>R.doc.ref.isEqual(h.ref)),C=null==t?void 0:t.payload.docs.find(R=>R.ref.isEqual(h.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(h.metadata)||!w&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||c.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:h}})}),c}))}function qw(n,e,t){return ap(n,t).pipe(ya((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Zw(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Zw(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zw(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(c=>c.payload),e),[]),t=>t.lift(new oS(void 0,void 0)),(0,ht.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Zw(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function gD(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class mD{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=ap(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(Rc(void 0),Pv(),_s(([s,a])=>a.length>0||!s),(0,ht.U)(([s,a])=>a),Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ya((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=gD(e);return qw(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return op(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Kr.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe(Kr.iC)}add(e){return this.ref.add(e)}doc(e){return new zw(this.ref.doc(e),this.afs)}}class zw{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:c}=X_(s,t);return new mD(a,c,this.afs)}snapshotChanges(){return function(n,e){return gm(n,e).pipe(Rc(void 0),Pv(),(0,ht.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_n.D)(this.ref.get(e)).pipe(Kr.iC)}}class wR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ap(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),_s(t=>t.length>0),Kr.iC):ap(this.query,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ya((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=gD(e);return qw(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return op(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Kr.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe(Kr.iC)}}const yD=new p.OlP("angularfire2.enableFirestorePersistence"),_D=new p.OlP("angularfire2.firestore.persistenceSettings"),wl=new p.OlP("angularfire2.firestore.settings"),mm=new p.OlP("angularfire2.firestore.use-emulator");function X_(n,e=(t=>t)){return{query:e(n),ref:n}}let vD=(()=>{class n{constructor(t,s,a,c,h,y,w,C,R,N,j,G,X,ve,Pe,rt,it){this.schedulers=w;const Mt=(0,st.on)(t,y,s),ut=R;N&&Q_(Mt,y,j,X,ve,Pe,G,rt),[this.firestore,this.persistenceEnabled$]=(0,st.cc)(`${Mt.name}.firestore`,"AngularFirestore",Mt.name,()=>{const cn=y.runOutsideAngular(()=>Mt.firestore());if(c&&cn.settings(c),ut&&cn.useEmulator(...ut),a&&!Ga(h)){const vr=()=>{try{return(0,_n.D)(cn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Zr){return"undefined"!=typeof console&&console.warn(Zr),(0,Xe.of)(!1)}};return[cn,y.runOutsideAngular(vr)]}return[cn,(0,Xe.of)(!1)]},[c,ut,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:h}=X_(a,s),y=this.schedulers.ngZone.run(()=>c);return new mD(y,h,this)}collectionGroup(t,s){const a=s||(h=>h),c=this.firestore.collectionGroup(t);return new wR(a(c),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new zw(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(st.Dh),p.LFG(st.xv,8),p.LFG(yD,8),p.LFG(wl,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Kr.HU),p.LFG(_D,8),p.LFG(mm,8),p.LFG(fD,8),p.LFG(uD,8),p.LFG(cD,8),p.LFG(Hw,8),p.LFG(lD,8),p.LFG(dD,8),p.LFG(hD,8),p.LFG(eD,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bR=(()=>{class n{constructor(){oD.Z.registerVersion("angularfire",Kr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:yD,useValue:!0},{provide:_D,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[vD]}),n})(),ED=(()=>{class n{constructor(t){this.db=t,this.dbPath="/events",this.eventRef=t.collection(this.dbPath)}getAll(){return this.eventRef}create(t){return this.eventRef.add(Object.assign({},t))}update(t,s){return this.eventRef.doc(t).update(s)}delete(t){return this.eventRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(vD))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gw(n,e){if(1&n&&(p.TgZ(0,"div",3),p._UZ(1,"img",4),p.TgZ(2,"div",5),p.TgZ(3,"ul",6),p.TgZ(4,"li",7),p.TgZ(5,"a",8),p._uU(6,"HOME"),p.qZA(),p.qZA(),p.TgZ(7,"li",7),p.TgZ(8,"a",9),p._uU(9,"CHI SIAMO"),p.qZA(),p.qZA(),p.TgZ(10,"li",7),p.TgZ(11,"a",10),p._uU(12,"ISTRUTTORI"),p.qZA(),p.qZA(),p.TgZ(13,"li",7),p.TgZ(14,"a",11),p._uU(15,"CORSI"),p.qZA(),p.qZA(),p.TgZ(16,"li",7),p.TgZ(17,"a",12),p._uU(18,"EVENTI"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&n){const t=p.oxw();p.xp6(1),p.s9C("src",t.logo,p.LSH)}}function IR(n,e){if(1&n&&(p.TgZ(0,"div",13),p._UZ(1,"img",4),p.TgZ(2,"div",14),p._UZ(3,"input",15),p._UZ(4,"span"),p._UZ(5,"span"),p._UZ(6,"span"),p.TgZ(7,"ul",16),p.TgZ(8,"li",7),p.TgZ(9,"a",8),p._uU(10,"HOME"),p.qZA(),p.qZA(),p.TgZ(11,"li",7),p.TgZ(12,"a",9),p._uU(13,"CHI SIAMO"),p.qZA(),p.qZA(),p.TgZ(14,"li",7),p.TgZ(15,"a",10),p._uU(16,"ISTRUTTORI"),p.qZA(),p.qZA(),p.TgZ(17,"li",7),p.TgZ(18,"a",11),p._uU(19,"CORSI"),p.qZA(),p.qZA(),p.TgZ(20,"li",7),p.TgZ(21,"a",12),p._uU(22,"EVENTI"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&n){const t=p.oxw();p.xp6(1),p.s9C("src",t.logo,p.LSH)}}function wD(n,e){if(1&n&&(p.TgZ(0,"div",17),p._UZ(1,"img",4),p.TgZ(2,"div",18),p._UZ(3,"input",15),p._UZ(4,"span"),p._UZ(5,"span"),p._UZ(6,"span"),p.TgZ(7,"ul",19),p.TgZ(8,"li",7),p.TgZ(9,"a",8),p._uU(10,"HOME"),p.qZA(),p.qZA(),p.TgZ(11,"li",7),p.TgZ(12,"a",9),p._uU(13,"CHI SIAMO"),p.qZA(),p.qZA(),p.TgZ(14,"li",7),p.TgZ(15,"a",10),p._uU(16,"ISTRUTTORI"),p.qZA(),p.qZA(),p.TgZ(17,"li",7),p.TgZ(18,"a",11),p._uU(19,"CORSI"),p.qZA(),p.qZA(),p.TgZ(20,"li",7),p.TgZ(21,"a",12),p._uU(22,"EVENTI"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&n){const t=p.oxw();p.xp6(1),p.s9C("src",t.logo,p.LSH)}}let Ww=(()=>{class n{constructor(){this.logo="assets/img/logo.png",this.isMobile=!1,this.isResponsive=!1}ngOnInit(){this.isMobile=window.matchMedia("only screen and (max-device-width: 992px)").matches,this.isResponsive=this.getBrowserWidth()<660}onResize(){this.isResponsive=this.getBrowserWidth()<660}getBrowser(){return!this.isMobile&&!this.isResponsive}getBrowserResponsive(){return!this.isMobile&&this.isResponsive}getMobile(){return this.isMobile}getBrowserWidth(){return window.innerWidth}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-toolbar"]],hostBindings:function(t,s){1&t&&p.NdJ("resize",function(c){return s.onResize(c)},!1,p.Jf7)},decls:3,vars:3,consts:[["class","toolbar","role","banner",4,"ngIf"],["class","toolbarResp","role","banner",4,"ngIf"],["class","toolbarMobile","role","banner",4,"ngIf"],["role","banner",1,"toolbar"],["width","100","alt","MuayThai360 Logo",3,"src"],[1,"navigation-header"],[1,"navigation-ul"],[1,"navigation-li"],["href","#"],["href","#about"],["href","#team"],["href","#corsi"],["routerLink","/events","routerLinkActive","active"],["role","banner",1,"toolbarResp"],["id","menuToggleResp"],["type","checkbox"],["id","menuResp"],["role","banner",1,"toolbarMobile"],["id","menuToggle"],["id","menu"]],template:function(t,s){1&t&&(p.YNc(0,Gw,19,1,"div",0),p.YNc(1,IR,23,1,"div",1),p.YNc(2,wD,23,1,"div",2)),2&t&&(p.Q6J("ngIf",s.getBrowser()),p.xp6(1),p.Q6J("ngIf",s.getBrowserResponsive()),p.xp6(1),p.Q6J("ngIf",s.getMobile()))},directives:[Ui,Qp,Jp],styles:[".toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:200px;display:inline-grid;align-items:center;background-color:#000;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:25px auto auto}.navigation-header[_ngcontent-%COMP%]{display:inline;margin:auto}.navigation-ul[_ngcontent-%COMP%]{padding:0}.navigation-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;font-size:18px;letter-spacing:-.7px}.navigation-li[_ngcontent-%COMP%]{margin:15px}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{text-transform:none}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold);cursor:pointer}.toolbarMobile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:60px;right:60px;height:130px;width:auto}#menuToggle[_ngcontent-%COMP%]{display:block;position:relative;top:90px;width:90%;left:50px;z-index:1;-webkit-user-select:none;user-select:none}#menuToggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .3s ease}#menuToggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold)}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:40px;height:32px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2;-webkit-touch-callout:none}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:60px;height:9px;margin-bottom:15px;position:relative;background:white;border-radius:3px;z-index:1;transform-origin:0px 4px;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform-origin:0% 0%}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-last-child(2){transform-origin:0% 100%}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(-2px,-1px);background:white}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(3){opacity:0;transform:rotate(0) scale(.2)}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg) translateY(-1px)}#menu[_ngcontent-%COMP%]{width:100%;position:absolute;margin:-100px 0 0 -50px;padding:125px 50px 50px;background:black;list-style-type:none;-webkit-font-smoothing:antialiased;transform-origin:0% 0%;transform:translateY(-100%);transition:transform .5s cubic-bezier(.77,.2,.05,1)}#menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px 0;font-size:40px;letter-spacing:.14em}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ ul[_ngcontent-%COMP%]{transform:none}.toolbarResp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:45px;right:60px;height:80px;width:auto}#menuToggleResp[_ngcontent-%COMP%]{display:block;position:relative;top:70px;width:90%;left:50px;z-index:1;-webkit-user-select:none;user-select:none}#menuToggleResp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .3s ease}#menuToggleResp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold)}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:39px;height:30px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:38px;height:4px;margin-bottom:7px;position:relative;background:white;z-index:1;transform-origin:0px 4px;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform-origin:0% 0%}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-last-child(2){transform-origin:0% 100%}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(-2px,-1px);background:white}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(3){opacity:0;transform:rotate(0) scale(.2)}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg) translateY(-1px)}#menuResp[_ngcontent-%COMP%]{width:100%;position:absolute;margin:-100px 0 0 -50px;padding:125px 50px 50px;background:black;list-style-type:none;-webkit-font-smoothing:antialiased;transform-origin:0% 0%;transform:translateY(-100%);transition:transform .5s cubic-bezier(.77,.2,.05,1)}#menuResp[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px 0;font-size:17px;letter-spacing:.14em}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ ul[_ngcontent-%COMP%]{transform:none}"]}),n})();const TR=function(n){return{"background-image":n}};let bD=(()=>{class n{constructor(){this.logo="assets/img/logo.png",this.facebookLogo="assets/img/facebook.png",this.igLogo="assets/img/ig.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-footer"]],decls:16,vars:5,consts:[["id","domande","role","main",1,"domande"],[1,"domande-container"],[1,"domande-element",2,"margin-left","16%"],[1,"domande-title"],[1,"domande-subtitle"],[1,"domande-text"],["href","https://www.facebook.com/Muaythai360TeamPiacente"],[2,"width","50px",3,"src"],["href","https://www.instagram.com/muaythai360sansalvo/"],[2,"width","36px","position","relative","bottom","6px","padding-left","10px",3,"src"],[1,"domande-element","domande-logo",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","26%","padding-left","11%",3,"ngStyle"]],template:function(t,s){1&t&&(p.TgZ(0,"section",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"h1",3),p._uU(4,"CONTATTI"),p.qZA(),p.TgZ(5,"p",4),p._uU(6,"Contattaci o chiamaci per avere maggiori informazioni"),p.qZA(),p.TgZ(7,"p",5),p._uU(8,"muaythai360sansalvo@gmail.it"),p._UZ(9,"br"),p._uU(10," +393460161427 | 3209799635 | 3395067102"),p.qZA(),p.TgZ(11,"a",6),p._UZ(12,"img",7),p.qZA(),p.TgZ(13,"a",8),p._UZ(14,"img",9),p.qZA(),p.qZA(),p._UZ(15,"div",10),p.qZA(),p.qZA()),2&t&&(p.xp6(12),p.s9C("src",s.facebookLogo,p.LSH),p.xp6(2),p.s9C("src",s.igLogo,p.LSH),p.xp6(1),p.Q6J("ngStyle",p.VKq(3,TR,"url("+s.logo+")")))},directives:[mn],styles:[".domande[_ngcontent-%COMP%]{position:relative;top:500px;left:0;right:0;height:330px}.domande-container[_ngcontent-%COMP%]{display:flex}.domande-element[_ngcontent-%COMP%]{width:33%}.domande-title[_ngcontent-%COMP%]{line-height:normal;font-size:40px;color:var(--gold);letter-spacing:.4em}.domande-subtitle[_ngcontent-%COMP%]{line-height:1.3em;font-size:26px;color:#fff;letter-spacing:normal;width:60%;padding-top:50px}.domande-text[_ngcontent-%COMP%]{font-size:18px;color:#fff;letter-spacing:normal;padding-top:20px;line-height:30px}.domande-input-1[_ngcontent-%COMP%]{background-color:#000;width:90%;margin-left:40px;border:2px solid white;height:33px;margin-bottom:6px;font-size:17px;color:#fff}.domande-input-2[_ngcontent-%COMP%]{background-color:#000;width:90%;margin-left:40px;border:2px solid white;height:133px;font-size:17px;margin-bottom:6px;color:#fff}.domande-submit[_ngcontent-%COMP%]{background-color:var(--gold);width:30%;float:right;border:2px solid var(--gold);height:33px;font-size:18px;margin-bottom:6px;color:#000}@media screen and (max-device-width: 992px){.domande-title[_ngcontent-%COMP%]{font-size:45px}.domande-subtitle[_ngcontent-%COMP%]{font-size:32px}.domande-text[_ngcontent-%COMP%]{font-size:20px}.domande-logo[_ngcontent-%COMP%]{background-size:35%!important;padding-left:150px!important;margin-top:-60px}}@media screen and (max-width: 762px){.domande[_ngcontent-%COMP%]{top:600px}}"]}),n})();function CR(n,e){if(1&n&&(p.TgZ(0,"div"),p.TgZ(1,"p",6),p.TgZ(2,"span",7),p._uU(3),p.qZA(),p.qZA(),p._UZ(4,"p",8),p.qZA()),2&n){const t=p.oxw();p.xp6(3),p.Oqu(t.title),p.xp6(1),p.Q6J("innerHTML",t.description,p.oJD)}}function tc(n,e){if(1&n&&(p.TgZ(0,"div"),p.TgZ(1,"p",6),p.TgZ(2,"span",7),p._uU(3),p.qZA(),p.qZA(),p._UZ(4,"p",8),p.qZA()),2&n){const t=p.oxw();p.xp6(3),p.Oqu(t.title),p.xp6(1),p.Q6J("innerHTML",t.description,p.oJD)}}let ym=(()=>{class n{constructor(){this.showVal=!1,this.pathImage="",this.heightval="",this.top=""}ngOnInit(){let t=250,s=250;null!=this.height&&(t*=this.height),null!=this.height&&null!=this.toppos&&(s+=this.toppos),this.heightval=t+"px",this.top=s+"px",console.log(this.heightval),console.log(this.top),this.pathImage="../../assets/img/"+this.image,console.log(this.pathImage)}styleObject(){return null==this.toppos||0==this.toppos?{height:this.heightval,top:"250px"}:{height:this.heightval,top:this.top}}getSingleEvent(){return null!=this.type&&"Single"==this.type}getDoubleEvent(){return null!=this.type&&"Double"==this.type}getShowEvent(){return this.showVal}showEvent(){this.showVal=!0}getEven(){return null!=this.index&&this.index%2==0}getOdds(){return null!=this.index&&this.index%2==1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-single-event"]],inputs:{height:"height",toppos:"toppos",type:"type",image:"image",title:"title",description:"description",index:"index"},decls:9,vars:3,consts:[[1,"event-container"],[1,"event-triple"],[1,"event-element"],[4,"ngIf"],[1,"white-line"],["alt","event-image","width","100%",3,"src"],[1,"p-event-title"],[2,"margin-top","0","font-size","50px","color","var(--gold)","letter-spacing","15px","font-family","'DIN', Fallback, sans-serif !important"],[1,"p-event",2,"height","355px","overflow-x","scroll",3,"innerHTML"]],template:function(t,s){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.YNc(3,CR,5,2,"div",3),p.qZA(),p.TgZ(4,"div",2),p._UZ(5,"div",4),p._UZ(6,"img",5),p.qZA(),p.TgZ(7,"div",2),p.YNc(8,tc,5,2,"div",3),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(3),p.Q6J("ngIf",s.getEven()),p.xp6(3),p.s9C("src",s.pathImage,p.LSH),p.xp6(2),p.Q6J("ngIf",s.getOdds()))},directives:[Ui],styles:['.event-triple[_ngcontent-%COMP%]{display:inline-flex;position:relative;top:0px;width:100%}.event-element[_ngcontent-%COMP%]{width:33%;padding:35px 35px 90px}.event-container[_ngcontent-%COMP%]{width:80%;margin:-110px auto auto}.white-line[_ngcontent-%COMP%]{content:"";position:absolute;z-index:-1;top:0;bottom:0;left:50%;border-left:8px solid var(--gold);transform:translate(-50%)}.p-event[_ngcontent-%COMP%]{color:#fff}.p-event-title[_ngcontent-%COMP%]{margin-top:0}']}),n})();function up(n,e){if(1&n&&(p.TgZ(0,"div"),p.TgZ(1,"div",2),p._UZ(2,"app-single-event",3),p.qZA(),p.qZA()),2&n){const t=e.$implicit,s=e.index,a=p.oxw();p.xp6(2),p.Q6J("index",s)("height",2)("toppos",0)("type",a.double)("image",t.immagine)("title",t.title)("description",t.description)}}let ev=(()=>{class n{constructor(t){this.eventService=t,this.single="Single",this.double="Double",this.event=new mb,this.submitted=!1}ngOnInit(){this.event.title="test1",this.event.description="test1",this.event.immagine="test1",this.retrieveTutorials()}retrieveTutorials(){this.eventService.getAll().snapshotChanges().pipe((0,ht.U)(t=>t.map(s=>Object.assign({id:s.payload.doc.id},s.payload.doc.data())))).subscribe(t=>{this.events=t,this.events.sort(function(s,a){return s.order-a.order})})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(ED))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-events"]],decls:5,vars:1,consts:[[1,"events-title"],["style","",4,"ngFor","ngForOf"],[1,"event-style"],[3,"index","height","toppos","type","image","title","description"]],template:function(t,s){1&t&&(p._UZ(0,"app-toolbar"),p.TgZ(1,"p",0),p._uU(2,"I NOSTRI EVENTI"),p.qZA(),p.YNc(3,up,3,7,"div",1),p._UZ(4,"app-footer")),2&t&&(p.xp6(3),p.Q6J("ngForOf",s.events))},directives:[Ww,Fi,bD,ym],styles:[".events-title[_ngcontent-%COMP%]{color:#fff;position:relative;top:300px;width:-moz-fit-content;width:fit-content;font-size:75px;margin:auto;letter-spacing:20px}.event-style[_ngcontent-%COMP%]{margin-bottom:100px;position:relative;top:500px}"]}),n})(),cp=(()=>{class n{constructor(){this.about="assets/img/about.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-about"]],decls:57,vars:1,consts:[["id","about","role","main",1,"about"],[1,"center-about"],[1,"title-about"],[2,"color","var(--gold)"],[2,"color","white"],[1,"container-about"],[1,"p-about"],[1,"img-about",3,"src"]],template:function(t,s){1&t&&(p.TgZ(0,"section",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"span",3),p._uU(4,"LA NOSTRA"),p.qZA(),p._UZ(5,"br"),p.TgZ(6,"span",4),p._uU(7,"STORIA"),p.qZA(),p.qZA(),p.TgZ(8,"div",5),p.TgZ(9,"p",6),p.TgZ(10,"b"),p.TgZ(11,"span",3),p._uU(12,"TEAM PIACENTE"),p.qZA(),p.qZA(),p._UZ(13,"br"),p._UZ(14,"br"),p._uU(15," Il Team \xe8 nato a San Salvo (CH) ufficialmente nel "),p.TgZ(16,"span",3),p.TgZ(17,"b"),p._uU(18,"1996"),p.qZA(),p.qZA(),p._uU(19,", fondato dal maestro Vincenzo Piacente."),p._UZ(20,"br"),p._uU(21," E' stato premiato come "),p.TgZ(22,"b"),p._uU(23,"miglior Team Nazionale nell\u2019anno 1999"),p.qZA(),p._uU(24,"."),p._UZ(25,"br"),p._uU(26," Numerosi i successi ottenuti negli anni dai vari atleti a livello nazionale."),p._UZ(27,"br"),p._uU(28," Vanta successi sia in competizioni dilettantistiche che "),p.TgZ(29,"span",3),p._uU(30,"PRO"),p.qZA(),p._uU(31,"."),p._UZ(32,"br"),p._UZ(33,"br"),p._uU(34," Nel "),p.TgZ(35,"span",3),p._uU(36,"2019"),p.qZA(),p._uU(37," il maestro Piacente passa le redini al suo allievo direttissimo Marco Catalano che con la nuova gestione rinomina la nuova sede con il nome di:"),p._UZ(38,"br"),p.TgZ(39,"span",3),p.TgZ(40,"b"),p._uU(41,"-Muay Thai 360-"),p.qZA(),p.qZA(),p._UZ(42,"br"),p._UZ(43,"br"),p.TgZ(44,"span",3),p.TgZ(45,"b"),p._uU(46,"Muay thai 360 perch\xe8?"),p.qZA(),p.qZA(),p._UZ(47,"br"),p._uU(48," Per fornire una conoscenza a 360 gradi della millenaria arte thailandese, con le sue mille sfaccettature ed applicazioni sportive tradizionali e militari."),p._UZ(49,"br"),p._UZ(50,"br"),p._uU(51," Nella nostra scuola \xe8 possibile praticare vari sport da combattimento e arti marziali."),p._UZ(52,"br"),p.TgZ(53,"span",3),p._uU(54,"I corsi sono accessibili a tutti "),p.qZA(),p._uU(55,"poich\xe9 le attivit\xe0 vengono suddivise in modo specifico, a seconda che siano donne o bambini, principianti o agonisti, oppure persone gi\xe0 allenate. Effettuiamo, inoltre, lezioni private e allenamenti liberi."),p.qZA(),p._UZ(56,"img",7),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(56),p.s9C("src",s.about,p.LSH))},styles:['.about[_ngcontent-%COMP%]{position:relative;background-color:#000;top:200px;left:0;right:0}.center-about[_ngcontent-%COMP%]{margin:auto;padding:100px 0 0 200px}.title-about[_ngcontent-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;letter-spacing:22px;font-size:6vw}.p-about[_ngcontent-%COMP%]{width:452px;color:#fff;font-size:16px;line-height:25px;margin-bottom:120px}.container-about[_ngcontent-%COMP%]{display:inline-flex}.img-about[_ngcontent-%COMP%]{width:425px;height:485px;padding-left:130px}@media screen and (max-device-width: 992px){.img-about[_ngcontent-%COMP%]{padding-left:0;padding-top:33%}.center-about[_ngcontent-%COMP%]{padding:100px 0 0 85px}.p-about[_ngcontent-%COMP%]{font-size:30px;line-height:35px}.title-about[_ngcontent-%COMP%]{font-size:9vw}}@media screen and (max-width: 692px){.center-about[_ngcontent-%COMP%]{padding:100px 0 0 20px}}']}),n})();const DR=function(n){return{"background-image":n}};let SR=(()=>{class n{constructor(){this.team="assets/img/team.jpg"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-team"]],decls:35,vars:3,consts:[["id","team","role","main",1,"team"],[1,"team-container"],[1,"team-element",2,"background-image","url(assets/img/gallery1.jpg)","background-repeat","no-repeat","background-size","cover",3,"ngStyle"],[1,"team-title"],[1,"team-text"],[1,"team-element",2,"background-color","var(--gold)"],[1,"team-text2"]],template:function(t,s){1&t&&(p.TgZ(0,"section",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p._uU(4,"IL TEAM"),p.qZA(),p.TgZ(5,"div",4),p.TgZ(6,"b"),p._uU(7,"ISTRUTTORI:"),p.qZA(),p._UZ(8,"br"),p._UZ(9,"br"),p.TgZ(10,"b"),p._uU(11,"Vincenzo Piacente"),p.qZA(),p._UZ(12,"br"),p._uU(13," (12\xb0 khan Instructor IMBA)"),p._UZ(14,"br"),p._UZ(15,"br"),p.TgZ(16,"b"),p._uU(17,"Marco Catalano"),p.qZA(),p._UZ(18,"br"),p._uU(19," (11\xb0khan Trainer Instructor scuola Oltrecorpo di Fabio Siciliani,3 titoli italiani dilettanti Kombat league, 1 titolo italiano PRO Fight 1) Tecnico Federkombat ."),p._UZ(20,"br"),p._UZ(21,"br"),p.TgZ(22,"b"),p._uU(23,"Michele Zizzari"),p.qZA(),p._UZ(24,"br"),p._uU(25," (11\xb0 khan advance Trainer Instructor IMBA)"),p._UZ(26,"br"),p._UZ(27,"br"),p.TgZ(28,"b"),p._uU(29,"Felice Nozzi"),p.qZA(),p._UZ(30,"br"),p._uU(31," (11\xb0 khan advance Trainer Instructor IMBA)"),p.qZA(),p.qZA(),p.TgZ(32,"div",5),p.TgZ(33,"div",6),p._uU(34,"Il nostro staff ha una preparazione approfondita di tutte le discipline praticate nella nostra scuola. Il team \xe8 formato da professionisti che ti affiancheranno durante il tuo allenamento o il tuo percorso di preparazione atletica. "),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(2),p.Q6J("ngStyle",p.VKq(1,DR,"url("+s.team+")")))},directives:[mn],styles:['.team[_ngcontent-%COMP%]{position:relative;background-color:#000;top:200px;left:0;right:0}.team-container[_ngcontent-%COMP%]{display:inline-flex;width:100%}.team-element[_ngcontent-%COMP%]{width:50%;height:550px}.team-title[_ngcontent-%COMP%]{color:var(--gold);letter-spacing:.15em;font-size:5vw;float:right;text-align:right;padding-right:5vw;width:228px;line-height:65px;padding-top:6vw}.team-text[_ngcontent-%COMP%]{font-family:"DINLIG",Fallback,sans-serif!important;color:#fff;font-size:13px;float:right;text-align:right;padding-right:6vw;width:26vw;padding-top:1vw;letter-spacing:-.3px}.team-text2[_ngcontent-%COMP%]{font-size:19px;line-height:1.8em;font-family:open sans condensed,sans-serif;letter-spacing:-1px;padding-top:10vw;width:25vw;font-weight:lighter;padding-left:8vw}@media screen and (max-device-width: 992px){.team-title[_ngcontent-%COMP%]{color:var(--gold);letter-spacing:.15em;font-size:65px;float:left;text-align:left;padding-right:70px;width:250px;line-height:65px;padding-top:95px;padding-left:90px}.team-text[_ngcontent-%COMP%]{font-family:"DINLIG",Fallback,sans-serif!important;color:#fff;font-size:28px;float:right;text-align:left;padding-right:80px;width:52%;position:relative;letter-spacing:-.3px;top:-65px}.team-container[_ngcontent-%COMP%]{display:block}.team-element[_ngcontent-%COMP%]{width:100%;height:820px}.team-text2[_ngcontent-%COMP%]{font-size:32px;line-height:1.8em;font-family:open sans condensed,sans-serif;letter-spacing:-1px;padding-top:185px;margin:auto;width:50%;font-weight:lighter;padding-left:0}}@media screen and (max-width: 660px){.team-text2[_ngcontent-%COMP%]{font-size:17px}}']}),n})(),AR=(()=>{class n{constructor(){this.boxe="assets/video/boxe.mp4"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-corsi"]],decls:28,vars:1,consts:[["id","corsi","role","main",1,"corsi"],[1,"video-opacity"],["autoplay","","muted","","loop","","playsinline","","id","myVideo",1,"video-corsi"],["type","video/mp4",3,"src"],[1,"corsi-text-container"],[1,"corsi-title"],[1,"corsi-subtitle"],[1,"corsi-table"],[2,"border-bottom","1px solid"],[2,"border-bottom","1px solid","padding-top","8vw"]],template:function(t,s){1&t&&(p.TgZ(0,"section",0),p._UZ(1,"div",1),p.TgZ(2,"video",2),p._UZ(3,"source",3),p._uU(4," Your browser does not support HTML5 video. "),p.qZA(),p.TgZ(5,"div",4),p.TgZ(6,"h1",5),p._uU(7,"I NOSTRI CORSI"),p.qZA(),p.TgZ(8,"p",6),p._uU(9,"I corsi che proponiamo presso la nostra palestra ti permetteranno di raggiungere un benessere fisico e mentale. Grazie ai nostri allenamenti potrai migliorare la forza fisica, l'equilibrio, la coordinazione e l'armonia nei movimenti. Potrai, inoltre, ottenere una muscolatura pi\xf9 tonica ed elastica."),p.qZA(),p.TgZ(10,"table",7),p.TgZ(11,"tr"),p.TgZ(12,"td",8),p._uU(13,"MUAY THAI SPORTIVA"),p.qZA(),p._UZ(14,"td"),p.TgZ(15,"td",8),p._uU(16,"MUAY BORAN"),p.qZA(),p._UZ(17,"td"),p.TgZ(18,"td",8),p._uU(19,"MUAY THAI BAMBINI"),p.qZA(),p.qZA(),p.TgZ(20,"tr"),p._UZ(21,"td"),p.TgZ(22,"td",9),p._uU(23,"PERSONAL TRAINING"),p.qZA(),p._UZ(24,"td"),p.TgZ(25,"td",9),p._uU(26,"MUAY LERT RIT"),p.qZA(),p._UZ(27,"td"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(3),p.s9C("src",s.boxe,p.LSH))},styles:[".corsi[_ngcontent-%COMP%]{position:relative;background-color:#000;top:300px;left:0;right:0}.video-corsi[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;bottom:0;left:0;right:0;z-index:1}.video-opacity[_ngcontent-%COMP%]{z-index:2;background-color:#000;opacity:.6;position:absolute;top:0;bottom:-110px;left:0;right:0;height:57vw}.corsi-text-container[_ngcontent-%COMP%]{width:100%;z-index:2}.corsi-title[_ngcontent-%COMP%]{margin:auto;width:100%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:center;font-size:7vw;letter-spacing:.25em;padding-top:3vw}.corsi-subtitle[_ngcontent-%COMP%]{margin:auto;width:60%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:center;font-size:1vw;letter-spacing:.25em;padding-top:10px}.corsi-table[_ngcontent-%COMP%]{margin:auto;width:80%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:left;font-size:2.5vw;letter-spacing:.25em;padding-top:10vw}.corsi-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:20%}@media screen and (max-device-width: 992px){.corsi[_ngcontent-%COMP%]{top:300px}.video-opacity[_ngcontent-%COMP%]{bottom:150px}}"]}),n})(),ID=(()=>{class n{constructor(){this.box1="assets/img/home.png",this.box2="assets/img/home.png",this.box3="assets/img/home.png",this.box4="assets/img/home.png",this.box5="assets/img/home.png",this.box6="assets/img/home.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-bo"]],decls:3,vars:0,consts:[["id","bo","role","main",1,"bo"],[1,"bo-lezioni"]],template:function(t,s){1&t&&(p.TgZ(0,"section",0),p.TgZ(1,"div",1),p._uU(2," INIZIA LE TUE LEZIONI DA OGGI "),p.qZA(),p.qZA())},styles:[".bo[_ngcontent-%COMP%]{position:relative;background-color:#000;top:450px;left:0;right:0;height:300px}.bo-table[_ngcontent-%COMP%]{margin:auto;width:92%}.bo-td[_ngcontent-%COMP%]{width:33%;height:240px;cursor:pointer}.bo-td[_ngcontent-%COMP%]:hover{transform:scale(.97)}.bo-div[_ngcontent-%COMP%]{background-color:#96969599;width:100%;height:100%;display:table;cursor:pointer}.bo-p[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;text-align:center;font-size:35px;color:#000}.bo-div[_ngcontent-%COMP%]:hover{visibility:hidden}.bo-lezioni[_ngcontent-%COMP%]{padding-top:160px;letter-spacing:.4em;line-height:normal;text-align:center;font-size:40px;color:#fff}"]}),n})();const lo=function(n){return{"background-image":n}};let TD=(()=>{class n{constructor(){this.gallery1="assets/img/gallery1.jpg",this.gallery2="assets/img/gallery2.jpg",this.gallery3="assets/img/gallery3.jpg",this.gallery4="assets/img/gallery4.jpg",this.gallery5="assets/img/gallery5.jpg",this.gallery6="assets/img/gallery6.jpg",this.gallery7="assets/img/gallery7.jpg",this.gallery8="assets/img/gallery8.jpg",this.gallery9="assets/img/gallery9.jpg",this.gallery10="assets/img/gallery10.jpg",this.gallery11="assets/img/gallery11.jpg"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-galleria"]],decls:24,vars:33,consts:[["id","galleria","role","main",1,"galleria"],[1,"galleria-div"],["cellspacing","0","cellpadding","0",1,"galleria-table"],[1,"galleria-td"],[1,"galleria-element",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","cover",3,"ngStyle"],[1,"galleria-td-container"],[1,"galleria-td-element",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","cover",3,"ngStyle"]],template:function(t,s){1&t&&(p.TgZ(0,"section",0),p.TgZ(1,"div",1),p.TgZ(2,"table",2),p.TgZ(3,"tr"),p.TgZ(4,"td",3),p._UZ(5,"div",4),p.qZA(),p.TgZ(6,"td",3),p.TgZ(7,"div",5),p._UZ(8,"div",6),p._UZ(9,"div",6),p.qZA(),p.TgZ(10,"div",5),p._UZ(11,"div",6),p._UZ(12,"div",6),p.qZA(),p.qZA(),p.TgZ(13,"td",3),p._UZ(14,"div",4),p.qZA(),p.TgZ(15,"td",3),p.TgZ(16,"div",5),p._UZ(17,"div",6),p._UZ(18,"div",6),p.qZA(),p.TgZ(19,"div",5),p._UZ(20,"div",6),p._UZ(21,"div",6),p.qZA(),p.qZA(),p.TgZ(22,"td",3),p._UZ(23,"div",4),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(5),p.Q6J("ngStyle",p.VKq(11,lo,"url("+s.gallery1+")")),p.xp6(3),p.Q6J("ngStyle",p.VKq(13,lo,"url("+s.gallery2+")")),p.xp6(1),p.Q6J("ngStyle",p.VKq(15,lo,"url("+s.gallery3+")")),p.xp6(2),p.Q6J("ngStyle",p.VKq(17,lo,"url("+s.gallery4+")")),p.xp6(1),p.Q6J("ngStyle",p.VKq(19,lo,"url("+s.gallery5+")")),p.xp6(2),p.Q6J("ngStyle",p.VKq(21,lo,"url("+s.gallery6+")")),p.xp6(3),p.Q6J("ngStyle",p.VKq(23,lo,"url("+s.gallery7+")")),p.xp6(1),p.Q6J("ngStyle",p.VKq(25,lo,"url("+s.gallery8+")")),p.xp6(2),p.Q6J("ngStyle",p.VKq(27,lo,"url("+s.gallery9+")")),p.xp6(1),p.Q6J("ngStyle",p.VKq(29,lo,"url("+s.gallery10+")")),p.xp6(2),p.Q6J("ngStyle",p.VKq(31,lo,"url("+s.gallery11+")")))},directives:[mn],styles:[".galleria[_ngcontent-%COMP%]{position:relative;background-color:#000;top:500px;left:0;right:0;height:700px}.galleria-table[_ngcontent-%COMP%]{width:max-content}.galleria-td[_ngcontent-%COMP%]{width:650px;height:500px;overflow-x:scroll}.galleria-element[_ngcontent-%COMP%]{width:650px;height:500px;cursor:pointer}.galleria-element[_ngcontent-%COMP%]:hover{opacity:.5}.galleria-div[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.galleria-td-element[_ngcontent-%COMP%]{width:323px;height:248px;cursor:pointer}.galleria-td-element[_ngcontent-%COMP%]:hover{opacity:.5}.galleria-td-container[_ngcontent-%COMP%]{display:flex}"]}),n})();const CD=function(n){return{"background-image":n}};let Kw=(()=>{class n{constructor(){this.guantoni="assets/img/guantoni.jpeg"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-location"]],decls:17,vars:3,consts:[["id","location","role","main",1,"location"],[1,"location-fixed",3,"ngStyle"],[1,"location-title"],[1,"location-subtitle"],[1,"location-text"],[1,"location-text",2,"padding-bottom","60px"]],template:function(t,s){1&t&&(p.TgZ(0,"section",0),p.TgZ(1,"div"),p.TgZ(2,"div",1),p.TgZ(3,"h1",2),p._uU(4,"DOVE TROVARCI"),p.qZA(),p.TgZ(5,"p",3),p._uU(6,"INDIRIZZO"),p.qZA(),p.TgZ(7,"p",4),p._uU(8,"Centro Sportivo Selva, Contrada Vallone della Selva, Cupello, 66051 Cupello CH San Salvo, 66050 "),p._UZ(9,"br"),p._uU(10," (zona kartodromo)"),p.qZA(),p.TgZ(11,"p",3),p._uU(12,"ORARI"),p.qZA(),p.TgZ(13,"p",4),p._uU(14,"LUNED\xcc- SABATO"),p.qZA(),p.TgZ(15,"p",5),p._uU(16,"6:30AM - 7:00PM"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(2),p.Q6J("ngStyle",p.VKq(1,CD,"url("+s.guantoni+")")))},directives:[mn],styles:[".location[_ngcontent-%COMP%]{position:relative;top:350px;left:0;right:0;height:700px}.location-fixed[_ngcontent-%COMP%]{min-height:700px;background-size:cover;background-attachment:fixed;background-repeat:no-repeat;background-position:center center}.location-title[_ngcontent-%COMP%]{line-height:1.2em;text-align:center;font-size:88px;letter-spacing:.25em;color:#fff;padding-top:70px;text-shadow:2px 2px grey}.location-subtitle[_ngcontent-%COMP%]{line-height:normal;text-align:center;font-size:32px;letter-spacing:.4em;color:#fff;padding-top:30px;text-shadow:2px 2px grey}.location-text[_ngcontent-%COMP%]{font-size:26px;line-height:1.5em;text-align:center;letter-spacing:normal;color:#fff;padding-top:10px;text-shadow:2px 2px grey}"]}),n})();const xR=function(n){return{"background-image":n}},DD=[{path:"",component:(()=>{class n{constructor(){this.logo="assets/img/logo.png",this.home="assets/img/home.png",this.guantoni="assets/img/guantoni.jpeg",this.facebookLogo="assets/img/facebook.png",this.igLogo="assets/img/ig.png",this.about="assets/img/about.png",this.boxe="assets/video/boxe.mp4",this.team="assets/img/gallery1.jpg",this.title="muaythai360",this.lastScrollTop=0,this.sizeNum=1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-home"]],decls:18,vars:3,consts:[["id","home","role","main",1,"content",3,"ngStyle"],[1,"center"],[1,"home-title"],[1,"home-subtitle"],[1,"home-button-div"],["onclick","window.location.href='#about'",1,"home-button"]],template:function(t,s){1&t&&(p._UZ(0,"app-toolbar"),p.TgZ(1,"section",0),p.TgZ(2,"div",1),p.TgZ(3,"h1",2),p._uU(4,"MUAY THAI 360"),p.qZA(),p.TgZ(5,"p",3),p._uU(6,"Fight your limits"),p.qZA(),p.TgZ(7,"div",4),p.TgZ(8,"button",5),p.TgZ(9,"b"),p._uU(10,"Scopri di pi\xf9"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p._UZ(11,"app-about"),p._UZ(12,"app-team"),p._UZ(13,"app-corsi"),p._UZ(14,"app-bo"),p._UZ(15,"app-galleria"),p._UZ(16,"app-location"),p._UZ(17,"app-footer")),2&t&&(p.xp6(1),p.Q6J("ngStyle",p.VKq(1,xR,"url("+s.home+")")))},directives:[Ww,mn,cp,SR,AR,ID,TD,Kw,bD],styles:['.spacer[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]{position:relative;top:200px;left:0;right:0;background-position:center center;background-repeat:no-repeat;background-attachment:inherit;background-size:cover;height:500px;opacity:.87}.center[_ngcontent-%COMP%]{margin:auto;width:100%;padding:180px 0 0}.home-title[_ngcontent-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;text-align:center;font-size:50px;letter-spacing:15px;color:#fff}.home-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:25px;line-height:normal;letter-spacing:.42em;color:#fff}.home-button-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto}.home-button[_ngcontent-%COMP%]{background-color:#000c;border:none;text-align:center;font-size:20px;color:#fff;height:45px;width:160px;cursor:pointer;margin:auto;width:100%}.home-button[_ngcontent-%COMP%]:hover{background-color:var(--gold-opacity);border:none;text-align:center;font-size:20px;color:#000;height:45px;width:160px;cursor:pointer;margin:auto;width:100%}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:1;font-size:17px;padding:5px;position:absolute}@media screen and (max-device-width: 992px){.center[_ngcontent-%COMP%]{padding:480px 0 0}.content[_ngcontent-%COMP%]{height:1675px;top:250px}}']}),n})()},{path:"events",component:ev}];let nh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[xv.forRoot(DD)],xv]}),n})(),Yw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,s){1&t&&p._UZ(0,"router-outlet")},directives:[hy],styles:[':root{--gold: rgb(242, 199, 130);--gold-opacity: rgb(242, 199, 130, .8)}@font-face{font-family:"DINLig";src:url(DINNeuzeitGroteskStdBdCond.6baec9697c755a121a39.otf) format("opentype")}@font-face{font-family:"DIN";src:url(DINNeuzeitGroteskStdBdCond.6baec9697c755a121a39.otf) format("opentype")}  body{background-color:#000;overflow-x:hidden}[_nghost-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#000}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}']}),n})();class SD{}const bl="*";function AD(n,e=null){return{type:2,steps:n,options:e}}function xD(n){return{type:6,styles:n,offset:null}}function PR(n){Promise.resolve(null).then(n)}class r{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){PR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}}class i{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,s=0,a=0;const c=this.players.length;0==c?PR(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==c&&this._onFinish()}),h.onDestroy(()=>{++s==c&&this._onDestroy()}),h.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,y)=>Math.max(h,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,t/s.totalTime):1;s.setPosition(a)})}getPosition(){const e=this.players.reduce((t,s)=>null===t||s.totalTime>t.totalTime?s:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}}function u(){return"undefined"!=typeof window&&void 0!==window.document}function l(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function d(n){switch(n.length){case 0:return new r;case 1:return n[0];default:return new i(n)}}function m(n,e,t,s,a={},c={}){const h=[],y=[];let w=-1,C=null;if(s.forEach(R=>{const N=R.offset,j=N==w,G=j&&C||{};Object.keys(R).forEach(X=>{let ve=X,Pe=R[X];if("offset"!==X)switch(ve=e.normalizePropertyName(ve,h),Pe){case"!":Pe=a[X];break;case bl:Pe=c[X];break;default:Pe=e.normalizeStyleValue(X,ve,Pe,h)}G[ve]=Pe}),j||y.push(G),C=G,w=N}),h.length){const R="\n - ";throw new Error(`Unable to animate due to the following errors:${R}${h.join(R)}`)}return y}function v(n,e,t,s){switch(e){case"start":n.onStart(()=>s(t&&b(t,"start",n)));break;case"done":n.onDone(()=>s(t&&b(t,"done",n)));break;case"destroy":n.onDestroy(()=>s(t&&b(t,"destroy",n)))}}function b(n,e,t){const s=t.totalTime,c=T(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==s?n.totalTime:s,!!t.disabled),h=n._data;return null!=h&&(c._data=h),c}function T(n,e,t,s,a="",c=0,h){return{element:n,triggerName:e,fromState:t,toState:s,phaseName:a,totalTime:c,disabled:!!h}}function A(n,e,t){let s;return n instanceof Map?(s=n.get(e),s||n.set(e,s=t)):(s=n[e],s||(s=n[e]=t)),s}function M(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let O=(n,e)=>!1,z=(n,e)=>!1,J=(n,e,t)=>[];const _e=l();(_e||"undefined"!=typeof Element)&&(O=u()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),z=(()=>{if(_e||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,s)=>e.apply(t,[s]):z}})(),J=(n,e,t)=>{let s=[];if(t){const a=n.querySelectorAll(e);for(let c=0;c<a.length;c++)s.push(a[c])}else{const a=n.querySelector(e);a&&s.push(a)}return s});let ot=null,Ft=!1;function sr(n){ot||(ot=("undefined"!=typeof document?document.body:null)||{},Ft=!!ot.style&&"WebkitAppearance"in ot.style);let e=!0;return ot.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ot.style,!e&&Ft&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ot.style)),e}const rh=z,Il=O,Tl=J;function ih(n){const e={};return Object.keys(n).forEach(t=>{const s=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[s]=n[t]}),e}let tv=(()=>{class n{validateStyleProperty(t){return sr(t)}matchesElement(t,s){return rh(t,s)}containsElement(t,s){return Il(t,s)}query(t,s,a){return Tl(t,s,a)}computeStyle(t,s,a){return a||""}animate(t,s,a,c,h,y=[],w){return new r(a,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),_m=(()=>{class n{}return n.NOOP=new tv,n})();const NR="ng-enter",RD="ng-leave",PD="ng-trigger",ND=".ng-trigger",c1="ng-animating",MR=".ng-animating";function vm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:OR(parseFloat(e[1]),e[2])}function OR(n,e){switch(e){case"s":return 1e3*n;default:return n}}function MD(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let a,c=0,h="";if("string"==typeof n){const y=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=OR(parseFloat(y[1]),y[2]);const w=y[3];null!=w&&(c=OR(parseFloat(w),y[4]));const C=y[5];C&&(h=C)}else a=n;if(!t){let y=!1,w=e.length;a<0&&(e.push("Duration values below 0 are not allowed for this animation step."),y=!0),c<0&&(e.push("Delay values below 0 are not allowed for this animation step."),y=!0),y&&e.splice(w,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:c,easing:h}}(n,e,t)}function rv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function lp(n,e,t={}){if(e)for(let s in n)t[s]=n[s];else rv(n,t);return t}function d1(n,e,t){return t?e+":"+t+";":""}function h1(n){let e="";for(let t=0;t<n.style.length;t++){const s=n.style.item(t);e+=d1(0,s,n.style.getPropertyValue(s))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=d1(0,EN(t),n.style[t]));n.setAttribute("style",e)}function Cl(n,e,t){n.style&&(Object.keys(e).forEach(s=>{const a=FR(s);t&&!t.hasOwnProperty(s)&&(t[s]=n.style[a]),n.style[a]=e[s]}),l()&&h1(n))}function Em(n,e){n.style&&(Object.keys(e).forEach(t=>{const s=FR(t);n.style[s]=""}),l()&&h1(n))}function Xw(n){return Array.isArray(n)?1==n.length?n[0]:AD(n):n}const kR=new RegExp("{{\\s*(.+?)\\s*}}","g");function f1(n){let e=[];if("string"==typeof n){let t;for(;t=kR.exec(n);)e.push(t[1]);kR.lastIndex=0}return e}function OD(n,e,t){const s=n.toString(),a=s.replace(kR,(c,h)=>{let y=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),y=""),y.toString()});return a==s?n:a}function kD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const vN=/-+([a-z0-9])/g;function FR(n){return n.replace(vN,(...e)=>e[1].toUpperCase())}function EN(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function p1(n,e){return 0===n||0===e}function g1(n,e,t){const s=Object.keys(t);if(s.length&&e.length){let c=e[0],h=[];if(s.forEach(y=>{c.hasOwnProperty(y)||h.push(y),c[y]=t[y]}),h.length)for(var a=1;a<e.length;a++){let y=e[a];h.forEach(function(w){y[w]=LR(n,w)})}}return e}function Yo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function LR(n,e){return window.getComputedStyle(n)[e]}function wN(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(s=>function(n,e,t){if(":"==n[0]){const w=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,s)=>parseFloat(s)>parseFloat(t);case":decrement":return(t,s)=>parseFloat(s)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof w)return void e.push(w);n=w}const s=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const a=s[1],c=s[2],h=s[3];e.push(m1(a,h));"<"==c[0]&&!("*"==a&&"*"==h)&&e.push(m1(h,a))}(s,t,e)):t.push(n),t}const LD=new Set(["true","1"]),UD=new Set(["false","0"]);function m1(n,e){const t=LD.has(n)||UD.has(n),s=LD.has(e)||UD.has(e);return(a,c)=>{let h="*"==n||n==a,y="*"==e||e==c;return!h&&t&&"boolean"==typeof a&&(h=a?LD.has(n):UD.has(n)),!y&&s&&"boolean"==typeof c&&(y=c?LD.has(e):UD.has(e)),h&&y}}const TN=new RegExp("s*:selfs*,?","g");function UR(n,e,t){return new CN(n).build(e,t)}class CN{constructor(e){this._driver=e}build(e,t){const s=new AN(t);return this._resetContextStyleTimingState(s),Yo(this,Xw(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let s=t.queryCount=0,a=t.depCount=0;const c=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(y=>{if(this._resetContextStyleTimingState(t),0==y.type){const w=y,C=w.name;C.toString().split(/\s*,\s*/).forEach(R=>{w.name=R,c.push(this.visitState(w,t))}),w.name=C}else if(1==y.type){const w=this.visitTransition(y,t);s+=w.queryCount,a+=w.depCount,h.push(w)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:c,transitions:h,queryCount:s,depCount:a,options:null}}visitState(e,t){const s=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(s.containsDynamicStyles){const c=new Set,h=a||{};if(s.styles.forEach(y=>{if(VD(y)){const w=y;Object.keys(w).forEach(C=>{f1(w[C]).forEach(R=>{h.hasOwnProperty(R)||c.add(R)})})}}),c.size){const y=kD(c.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${y.join(", ")}`)}}return{type:0,name:e.name,style:s,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const s=Yo(this,Xw(e.animation),t);return{type:1,matchers:wN(e.expr,t.errors),animation:s,queryCount:t.queryCount,depCount:t.depCount,options:wm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(s=>Yo(this,s,t)),options:wm(e.options)}}visitGroup(e,t){const s=t.currentTime;let a=0;const c=e.steps.map(h=>{t.currentTime=s;const y=Yo(this,h,t);return a=Math.max(a,t.currentTime),y});return t.currentTime=a,{type:3,steps:c,options:wm(e.options)}}visitAnimate(e,t){const s=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return VR(MD(n,e).duration,0,"");const s=n;if(s.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=VR(0,0,"");return c.dynamic=!0,c.strValue=s,c}return t=t||MD(s,e),VR(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=s;let a,c=e.styles?e.styles:xD({});if(5==c.type)a=this.visitKeyframes(c,t);else{let h=e.styles,y=!1;if(!h){y=!0;const C={};s.easing&&(C.easing=s.easing),h=xD(C)}t.currentTime+=s.duration+s.delay;const w=this.visitStyle(h,t);w.isEmptyStep=y,a=w}return t.currentAnimateTimings=null,{type:4,timings:s,style:a,options:null}}visitStyle(e,t){const s=this._makeStyleAst(e,t);return this._validateStyleAst(s,t),s}_makeStyleAst(e,t){const s=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==bl?s.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):s.push(h)}):s.push(e.styles);let a=!1,c=null;return s.forEach(h=>{if(VD(h)){const y=h,w=y.easing;if(w&&(c=w,delete y.easing),!a)for(let C in y)if(y[C].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:s,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const s=t.currentAnimateTimings;let a=t.currentTime,c=t.currentTime;s&&c>0&&(c-=s.duration+s.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(y=>{if(!this._driver.validateStyleProperty(y))return void t.errors.push(`The provided animation property "${y}" is not a supported CSS property for animations`);const w=t.collectedStyles[t.currentQuerySelector],C=w[y];let R=!0;C&&(c!=a&&c>=C.startTime&&a<=C.endTime&&(t.errors.push(`The CSS property "${y}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${a}ms"`),R=!1),c=C.startTime),R&&(w[y]={startTime:c,endTime:a}),t.options&&function(n,e,t){const s=e.params||{},a=f1(n);a.length&&a.forEach(c=>{s.hasOwnProperty(c)||t.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(h[y],t.options,t.errors)})})}visitKeyframes(e,t){const s={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),s;let c=0;const h=[];let y=!1,w=!1,C=0;const R=e.steps.map(rt=>{const it=this._makeStyleAst(rt,t);let Mt=null!=it.offset?it.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(VD(t)&&t.hasOwnProperty("offset")){const s=t;e=parseFloat(s.offset),delete s.offset}});else if(VD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(it.styles),ut=0;return null!=Mt&&(c++,ut=it.offset=Mt),w=w||ut<0||ut>1,y=y||ut<C,C=ut,h.push(ut),it});w&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),y&&t.errors.push("Please ensure that all keyframe offsets are in order");const N=e.steps.length;let j=0;c>0&&c<N?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(j=1/(N-1));const G=N-1,X=t.currentTime,ve=t.currentAnimateTimings,Pe=ve.duration;return R.forEach((rt,it)=>{const Mt=j>0?it==G?1:j*it:h[it],ut=Mt*Pe;t.currentTime=X+ve.delay+ut,ve.duration=ut,this._validateStyleAst(rt,t),rt.offset=Mt,s.styles.push(rt)}),s}visitReference(e,t){return{type:8,animation:Yo(this,Xw(e.animation),t),options:wm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:wm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:wm(e.options)}}visitQuery(e,t){const s=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[c,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(TN,"")),[n=n.replace(/@\*/g,ND).replace(/@\w+/g,t=>ND+"-"+t.substr(1)).replace(/:animating/g,MR),e]}(e.selector);t.currentQuerySelector=s.length?s+" "+c:c,A(t.collectedStyles,t.currentQuerySelector,{});const y=Yo(this,Xw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=s,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:y,originalSelector:e.selector,options:wm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const s="full"===e.timings?{duration:0,delay:0,easing:"full"}:MD(e.timings,t.errors,!0);return{type:12,animation:Yo(this,Xw(e.animation),t),timings:s,options:null}}}class AN{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function VD(n){return!Array.isArray(n)&&"object"==typeof n}function wm(n){return n?(n=rv(n)).params&&(n.params=function(n){return n?rv(n):null}(n.params)):n={},n}function VR(n,e,t){return{duration:n,delay:e,easing:t}}function BR(n,e,t,s,a,c,h=null,y=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:s,duration:a,delay:c,totalTime:a+c,easing:h,subTimeline:y}}class BD{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let s=this._map.get(e);s||this._map.set(e,s=[]),s.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const MN=new RegExp(":enter","g"),kN=new RegExp(":leave","g");function jR(n,e,t,s,a,c={},h={},y,w,C=[]){return(new FN).buildKeyframes(n,e,t,s,a,c,h,y,w,C)}class FN{buildKeyframes(e,t,s,a,c,h,y,w,C,R=[]){C=C||new BD;const N=new $R(e,t,C,a,c,R,[]);N.options=w,N.currentTimeline.setStyles([h],null,N.errors,w),Yo(this,s,N);const j=N.timelines.filter(G=>G.containsAnimation());if(j.length&&Object.keys(y).length){const G=j[j.length-1];G.allowOnlyTimelineStyles()||G.setStyles([y],null,N.errors,w)}return j.length?j.map(G=>G.buildKeyframes()):[BR(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const s=t.subInstructions.consume(t.element);if(s){const a=t.createSubContext(e.options),c=t.currentTimeline.currentTime,h=this._visitSubInstructions(s,a,a.options);c!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const s=t.createSubContext(e.options);s.transformIntoNewTimeline(),this.visitReference(e.animation,s),t.transformIntoNewTimeline(s.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,s){let c=t.currentTimeline.currentTime;const h=null!=s.duration?vm(s.duration):null,y=null!=s.delay?vm(s.delay):null;return 0!==h&&e.forEach(w=>{const C=t.appendInstructionToTimeline(w,h,y);c=Math.max(c,C.duration+C.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Yo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const s=t.subContextCount;let a=t;const c=e.options;if(c&&(c.params||c.delay)&&(a=t.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=jD);const h=vm(c.delay);a.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Yo(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const s=[];let a=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?vm(e.options.delay):0;e.steps.forEach(h=>{const y=t.createSubContext(e.options);c&&y.delayNextStep(c),Yo(this,h,y),a=Math.max(a,y.currentTimeline.currentTime),s.push(y.currentTimeline)}),s.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const s=e.strValue;return MD(t.params?OD(s,t.params,t.errors):s,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const s=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;s.delay&&(t.incrementTime(s.delay),a.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(s.duration),this.visitStyle(c,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const s=t.currentTimeline,a=t.currentAnimateTimings;!a&&s.getCurrentStyleProperties().length&&s.forwardFrame();const c=a&&a.easing||e.easing;e.isEmptyStep?s.applyEmptyStep(c):s.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const s=t.currentAnimateTimings,a=t.currentTimeline.duration,c=s.duration,y=t.createSubContext().currentTimeline;y.easing=s.easing,e.styles.forEach(w=>{y.forwardTime((w.offset||0)*c),y.setStyles(w.styles,w.easing,t.errors,t.options),y.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(y),t.transformIntoNewTimeline(a+c),t.previousNode=e}visitQuery(e,t){const s=t.currentTimeline.currentTime,a=e.options||{},c=a.delay?vm(a.delay):0;c&&(6===t.previousNode.type||0==s&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=jD);let h=s;const y=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=y.length;let w=null;y.forEach((C,R)=>{t.currentQueryIndex=R;const N=t.createSubContext(e.options,C);c&&N.delayNextStep(c),C===t.element&&(w=N.currentTimeline),Yo(this,e.animation,N),N.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,N.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const s=t.parentContext,a=t.currentTimeline,c=e.timings,h=Math.abs(c.duration),y=h*(t.currentQueryTotal-1);let w=h*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":w=y-w;break;case"full":w=s.currentStaggerTime}const R=t.currentTimeline;w&&R.delayNextStep(w);const N=R.currentTime;Yo(this,e.animation,t),t.previousNode=e,s.currentStaggerTime=a.currentTime-N+(a.startTime-s.currentTimeline.startTime)}}const jD={};class $R{constructor(e,t,s,a,c,h,y,w){this._driver=e,this.element=t,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=c,this.errors=h,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new $D(this._driver,t,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const s=e;let a=this.options;null!=s.duration&&(a.duration=vm(s.duration)),null!=s.delay&&(a.delay=vm(s.delay));const c=s.params;if(c){let h=a.params;h||(h=this.options.params={}),Object.keys(c).forEach(y=>{(!t||!h.hasOwnProperty(y))&&(h[y]=OD(c[y],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const s=e.params={};Object.keys(t).forEach(a=>{s[a]=t[a]})}}return e}createSubContext(e=null,t,s){const a=t||this.element,c=new $R(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=jD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,s){const a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+e.delay,easing:""},c=new LN(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,s,a,c,h){let y=[];if(a&&y.push(this.element),e.length>0){e=(e=e.replace(MN,"."+this._enterClassName)).replace(kN,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=s);0!==s&&(C=s<0?C.slice(C.length+s,C.length):C.slice(0,s)),y.push(...C)}return!c&&0==y.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),y}}class $D{constructor(e,t,s,a){this._driver=e,this.element=t,this.startTime=s,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new $D(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||bl,this._currentKeyframe[t]=bl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,s,a){t&&(this._previousKeyframe.easing=t);const c=a&&a.params||{},h=function(n,e){const t={};let s;return n.forEach(a=>{"*"===a?(s=s||Object.keys(e),s.forEach(c=>{t[c]=bl})):lp(a,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(y=>{const w=OD(h[y],c,s);this._pendingStyles[y]=w,this._localTimelineStyles.hasOwnProperty(y)||(this._backFill[y]=this._globalTimelineStyles.hasOwnProperty(y)?this._globalTimelineStyles[y]:bl),this._updateStyle(y,w)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(s=>{this._currentKeyframe[s]=e[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const s=this._styleSummary[t],a=e._styleSummary[t];(!s||a.time>s.time)&&this._updateStyle(t,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((y,w)=>{const C=lp(y,!0);Object.keys(C).forEach(R=>{const N=C[R];"!"==N?e.add(R):N==bl&&t.add(R)}),s||(C.offset=w/this.duration),a.push(C)});const c=e.size?kD(e.values()):[],h=t.size?kD(t.values()):[];if(s){const y=a[0],w=rv(y);y.offset=0,w.offset=1,a=[y,w]}return BR(this.element,a,c,h,this.duration,this.startTime,this.easing,!1)}}class LN extends $D{constructor(e,t,s,a,c,h,y=!1){super(e,t,h.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=y,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],h=s+t,y=t/h,w=lp(e[0],!1);w.offset=0,c.push(w);const C=lp(e[0],!1);C.offset=v1(y),c.push(C);const R=e.length-1;for(let N=1;N<=R;N++){let j=lp(e[N],!1);j.offset=v1((t+j.offset*s)/h),c.push(j)}s=h,t=0,a="",e=c}return BR(this.element,e,this.preStyleProps,this.postStyleProps,s,t,a,!0)}}function v1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class HR{}class VN extends HR{normalizePropertyName(e,t){return FR(e)}normalizeStyleValue(e,t,s,a){let c="";const h=s.toString().trim();if(BN[t]&&0!==s&&"0"!==s)if("number"==typeof s)c="px";else{const y=s.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&a.push(`Please provide a CSS unit value for ${e}:${s}`)}return h+c}}const BN=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function E1(n,e,t,s,a,c,h,y,w,C,R,N,j){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:c,toState:s,toStyles:h,timelines:y,queriedElements:w,preStyleProps:C,postStyleProps:R,totalTime:N,errors:j}}const qR={};class w1{constructor(e,t,s){this._triggerName=e,this.ast=t,this._stateStyles=s}match(e,t,s,a){return function(n,e,t,s,a){return n.some(c=>c(e,t,s,a))}(this.ast.matchers,e,t,s,a)}buildStyles(e,t,s){const a=this._stateStyles["*"],c=this._stateStyles[e],h=a?a.buildStyles(t,s):{};return c?c.buildStyles(t,s):h}build(e,t,s,a,c,h,y,w,C,R){const N=[],j=this.ast.options&&this.ast.options.params||qR,X=this.buildStyles(s,y&&y.params||qR,N),ve=w&&w.params||qR,Pe=this.buildStyles(a,ve,N),rt=new Set,it=new Map,Mt=new Map,ut="void"===a,cn={params:Object.assign(Object.assign({},j),ve)},vr=R?[]:jR(e,t,this.ast.animation,c,h,X,Pe,cn,C,N);let Zr=0;if(vr.forEach(oh=>{Zr=Math.max(oh.duration+oh.delay,Zr)}),N.length)return E1(t,this._triggerName,s,a,ut,X,Pe,[],[],it,Mt,Zr,N);vr.forEach(oh=>{const ah=oh.element,J1=A(it,ah,{});oh.preStyleProps.forEach(bm=>J1[bm]=!0);const tb=A(Mt,ah,{});oh.postStyleProps.forEach(bm=>tb[bm]=!0),ah!==t&&rt.add(ah)});const sh=kD(rt.values());return E1(t,this._triggerName,s,a,ut,X,Pe,vr,sh,it,Mt,Zr)}}class HN{constructor(e,t,s){this.styles=e,this.defaultParams=t,this.normalizer=s}buildStyles(e,t){const s={},a=rv(this.defaultParams);return Object.keys(e).forEach(c=>{const h=e[c];null!=h&&(a[c]=h)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const h=c;Object.keys(h).forEach(y=>{let w=h[y];w.length>1&&(w=OD(w,a,t));const C=this.normalizer.normalizePropertyName(y,t);w=this.normalizer.normalizeStyleValue(y,C,w,t),s[C]=w})}}),s}}class ZN{constructor(e,t,s){this.name=e,this.ast=t,this._normalizer=s,this.transitionFactories=[],this.states={},t.states.forEach(a=>{this.states[a.name]=new HN(a.style,a.options&&a.options.params||{},s)}),b1(this.states,"true","1"),b1(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new w1(e,a,this.states))}),this.fallbackTransition=function(n,e,t){return new w1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,y)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,s,a){return this.transitionFactories.find(h=>h.match(e,t,s,a))||null}matchStyles(e,t,s){return this.fallbackTransition.buildStyles(e,t,s)}}function b1(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const GN=new BD;class WN{constructor(e,t,s){this.bodyNode=e,this._driver=t,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(e,t){const s=[],a=UR(this._driver,t,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[e]=a}_buildPlayer(e,t,s){const a=e.element,c=m(0,this._normalizer,0,e.keyframes,t,s);return this._driver.animate(a,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,s={}){const a=[],c=this._animations[e];let h;const y=new Map;if(c?(h=jR(this._driver,t,c,NR,RD,{},{},s,GN,a),h.forEach(R=>{const N=A(y,R.element,{});R.postStyleProps.forEach(j=>N[j]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);y.forEach((R,N)=>{Object.keys(R).forEach(j=>{R[j]=this._driver.computeStyle(N,j,bl)})});const C=d(h.map(R=>{const N=y.get(R.element);return this._buildPlayer(R,{},N)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const s=this.players.indexOf(t);s>=0&&this.players.splice(s,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,s,a){const c=T(t,"","","");return v(this._getPlayer(e),s,c,a),()=>{}}command(e,t,s,a){if("register"==s)return void this.register(e,a[0]);if("create"==s)return void this.create(e,t,a[0]||{});const c=this._getPlayer(e);switch(s){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const I1="ng-animate-queued",T1="ng-animate-disabled",C1=".ng-animate-disabled",JN=[],D1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ba="__ng_removed";class ZR{constructor(e,t=""){this.namespaceId=t;const s=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(s?e.value:e),s){const c=rv(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const s=this.options.params;Object.keys(t).forEach(a=>{null==s[a]&&(s[a]=t[a])})}}}const eb="void",zR=new ZR(eb);class eM{constructor(e,t,s){this.id=e,this.hostElement=t,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ja(t,this._hostClassName)}listen(e,t,s,a){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${t}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${t}" is not supported!`);const c=A(this._elementListeners,e,[]),h={name:t,phase:s,callback:a};c.push(h);const y=A(this._engine.statesByElement,e,{});return y.hasOwnProperty(t)||(ja(e,PD),ja(e,PD+"-"+t),y[t]=zR),()=>{this._engine.afterFlush(()=>{const w=c.indexOf(h);w>=0&&c.splice(w,1),this._triggers[t]||delete y[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,s,a=!0){const c=this._getTrigger(t),h=new GR(this.id,t,e);let y=this._engine.statesByElement.get(e);y||(ja(e,PD),ja(e,PD+"-"+t),this._engine.statesByElement.set(e,y={}));let w=y[t];const C=new ZR(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&w&&C.absorbOptions(w.options),y[t]=C,w||(w=zR),C.value!==eb&&w.value===C.value){if(!function(n,e){const t=Object.keys(n),s=Object.keys(e);if(t.length!=s.length)return!1;for(let a=0;a<t.length;a++){const c=t[a];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(w.params,C.params)){const ve=[],Pe=c.matchStyles(w.value,w.params,ve),rt=c.matchStyles(C.value,C.params,ve);ve.length?this._engine.reportError(ve):this._engine.afterFlush(()=>{Em(e,Pe),Cl(e,rt)})}return}const j=A(this._engine.playersByElement,e,[]);j.forEach(ve=>{ve.namespaceId==this.id&&ve.triggerName==t&&ve.queued&&ve.destroy()});let G=c.matchTransition(w.value,C.value,e,C.params),X=!1;if(!G){if(!a)return;G=c.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:w,toState:C,player:h,isFallbackTransition:X}),X||(ja(e,I1),h.onStart(()=>{iv(e,I1)})),h.onDone(()=>{let ve=this.players.indexOf(h);ve>=0&&this.players.splice(ve,1);const Pe=this._engine.playersByElement.get(e);if(Pe){let rt=Pe.indexOf(h);rt>=0&&Pe.splice(rt,1)}}),this.players.push(h),j.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,s)=>{delete t[e]}),this._elementListeners.forEach((t,s)=>{this._elementListeners.set(s,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(s=>s.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const s=this._engine.driver.query(e,ND,!0);s.forEach(a=>{if(a[Ba])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(h=>h.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,s,a){const c=this._engine.statesByElement.get(e);if(c){const h=[];if(Object.keys(c).forEach(y=>{if(this._triggers[y]){const w=this.trigger(e,y,eb,a);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),s&&d(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),s=this._engine.statesByElement.get(e);if(t&&s){const a=new Set;t.forEach(c=>{const h=c.name;if(a.has(h))return;a.add(h);const w=this._triggers[h].fallbackTransition,C=s[h]||zR,R=new ZR(eb),N=new GR(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:w,fromState:C,toState:R,player:N,isFallbackTransition:!0})})}}removeNode(e,t){const s=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(s.totalAnimations){const c=s.players.length?s.playersByQueriedElement.get(e):[];if(c&&c.length)a=!0;else{let h=e;for(;h=h.parentNode;)if(s.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)s.markElementAsRemoved(this.id,e,!1,t);else{const c=e[Ba];(!c||c===D1)&&(s.afterFlush(()=>this.clearElementCache(e)),s.destroyInnerAnimations(e),s._onRemovalComplete(e,t))}}insertNode(e,t){ja(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const c=s.element,h=this._elementListeners.get(c);h&&h.forEach(y=>{if(y.name==s.triggerName){const w=T(c,s.triggerName,s.fromState.value,s.toState.value);w._data=e,v(s.player,y.phase,w,y.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(s)}),this._queue=[],t.sort((s,a)=>{const c=s.transition.ast.depCount,h=a.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(s=>s.element===e)||t,t}}class tM{constructor(e,t,s){this.bodyNode=e,this.driver=t,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(s=>{s.queued&&e.push(s)})}),e}createNamespace(e,t){const s=new eM(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(s,t):(this.newHostElements.set(t,s),this.collectEnterElement(t)),this._namespaceLookup[e]=s}_balanceNamespaceList(e,t){const s=this._namespaceList.length-1;if(s>=0){let a=!1;for(let c=s;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,t)){this._namespaceList.splice(c+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let s=this._namespaceLookup[e];return s||(s=this.createNamespace(e,t)),s}registerTrigger(e,t,s){let a=this._namespaceLookup[e];a&&a.register(t,s)&&this.totalAnimations++}destroy(e,t){if(!e)return;const s=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>s.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,s=this.statesByElement.get(e);if(s){const a=Object.keys(s);for(let c=0;c<a.length;c++){const h=s[a[c]].namespaceId;if(h){const y=this._fetchNamespace(h);y&&t.add(y)}}}return t}trigger(e,t,s,a){if(HD(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,s,a),!0}return!1}insertNode(e,t,s,a){if(!HD(t))return;const c=t[Ba];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,s)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ja(e,T1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),iv(e,T1))}removeNode(e,t,s,a){if(HD(t)){const c=e?this._fetchNamespace(e):null;if(c?c.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),s){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,s,a){this.collectedLeaveElements.push(t),t[Ba]={namespaceId:e,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1}}listen(e,t,s,a,c){return HD(t)?this._fetchNamespace(e).listen(t,s,a,c):()=>{}}_buildInstruction(e,t,s,a,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,s,a,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,ND,!0);t.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,MR,!0),t.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return d(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ba];if(t&&t.setForRemoval){if(e[Ba]=D1,t.namespaceId){this.destroyInnerAnimations(e);const s=this._fetchNamespace(t.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,C1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,C1,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)ja(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{t=this._flushAnimations(s,e)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],t.length?d(t).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const s=new BD,a=[],c=new Map,h=[],y=new Map,w=new Map,C=new Map,R=new Set;this.disabledNodes.forEach(Qe=>{R.add(Qe);const ct=this.driver.query(Qe,".ng-animate-queued",!0);for(let Dt=0;Dt<ct.length;Dt++)R.add(ct[Dt])});const N=this.bodyNode,j=Array.from(this.statesByElement.keys()),G=x1(j,this.collectedEnterElements),X=new Map;let ve=0;G.forEach((Qe,ct)=>{const Dt=NR+ve++;X.set(ct,Dt),Qe.forEach(nn=>ja(nn,Dt))});const Pe=[],rt=new Set,it=new Set;for(let Qe=0;Qe<this.collectedLeaveElements.length;Qe++){const ct=this.collectedLeaveElements[Qe],Dt=ct[Ba];Dt&&Dt.setForRemoval&&(Pe.push(ct),rt.add(ct),Dt.hasAnimation?this.driver.query(ct,".ng-star-inserted",!0).forEach(nn=>rt.add(nn)):it.add(ct))}const Mt=new Map,ut=x1(j,Array.from(rt));ut.forEach((Qe,ct)=>{const Dt=RD+ve++;Mt.set(ct,Dt),Qe.forEach(nn=>ja(nn,Dt))}),e.push(()=>{G.forEach((Qe,ct)=>{const Dt=X.get(ct);Qe.forEach(nn=>iv(nn,Dt))}),ut.forEach((Qe,ct)=>{const Dt=Mt.get(ct);Qe.forEach(nn=>iv(nn,Dt))}),Pe.forEach(Qe=>{this.processLeaveNode(Qe)})});const cn=[],vr=[];for(let Qe=this._namespaceList.length-1;Qe>=0;Qe--)this._namespaceList[Qe].drainQueuedTransitions(t).forEach(Dt=>{const nn=Dt.player,vi=Dt.element;if(cn.push(nn),this.collectedEnterElements.length){const Sl=vi[Ba];if(Sl&&Sl.setForMove)return void nn.destroy()}const Dl=!N||!this.driver.containsElement(N,vi),Qo=Mt.get(vi),dp=X.get(vi),Er=this._buildInstruction(Dt,s,dp,Qo,Dl);if(Er.errors&&Er.errors.length)vr.push(Er);else{if(Dl)return nn.onStart(()=>Em(vi,Er.fromStyles)),nn.onDestroy(()=>Cl(vi,Er.toStyles)),void a.push(nn);if(Dt.isFallbackTransition)return nn.onStart(()=>Em(vi,Er.fromStyles)),nn.onDestroy(()=>Cl(vi,Er.toStyles)),void a.push(nn);Er.timelines.forEach(Sl=>Sl.stretchStartingKeyframe=!0),s.append(vi,Er.timelines),h.push({instruction:Er,player:nn,element:vi}),Er.queriedElements.forEach(Sl=>A(y,Sl,[]).push(nn)),Er.preStyleProps.forEach((Sl,nb)=>{const WD=Object.keys(Sl);if(WD.length){let Im=w.get(nb);Im||w.set(nb,Im=new Set),WD.forEach(QR=>Im.add(QR))}}),Er.postStyleProps.forEach((Sl,nb)=>{const WD=Object.keys(Sl);let Im=C.get(nb);Im||C.set(nb,Im=new Set),WD.forEach(QR=>Im.add(QR))})}});if(vr.length){const Qe=[];vr.forEach(ct=>{Qe.push(`@${ct.triggerName} has failed due to:\n`),ct.errors.forEach(Dt=>Qe.push(`- ${Dt}\n`))}),cn.forEach(ct=>ct.destroy()),this.reportError(Qe)}const Zr=new Map,sh=new Map;h.forEach(Qe=>{const ct=Qe.element;s.has(ct)&&(sh.set(ct,ct),this._beforeAnimationBuild(Qe.player.namespaceId,Qe.instruction,Zr))}),a.forEach(Qe=>{const ct=Qe.element;this._getPreviousPlayers(ct,!1,Qe.namespaceId,Qe.triggerName,null).forEach(nn=>{A(Zr,ct,[]).push(nn),nn.destroy()})});const oh=Pe.filter(Qe=>P1(Qe,w,C)),ah=new Map;A1(ah,this.driver,it,C,bl).forEach(Qe=>{P1(Qe,w,C)&&oh.push(Qe)});const tb=new Map;G.forEach((Qe,ct)=>{A1(tb,this.driver,new Set(Qe),w,"!")}),oh.forEach(Qe=>{const ct=ah.get(Qe),Dt=tb.get(Qe);ah.set(Qe,Object.assign(Object.assign({},ct),Dt))});const bm=[],X1=[],eN={};h.forEach(Qe=>{const{element:ct,player:Dt,instruction:nn}=Qe;if(s.has(ct)){if(R.has(ct))return Dt.onDestroy(()=>Cl(ct,nn.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(nn.totalTime),void a.push(Dt);let vi=eN;if(sh.size>1){let Qo=ct;const dp=[];for(;Qo=Qo.parentNode;){const Er=sh.get(Qo);if(Er){vi=Er;break}dp.push(Qo)}dp.forEach(Er=>sh.set(Er,vi))}const Dl=this._buildAnimation(Dt.namespaceId,nn,Zr,c,tb,ah);if(Dt.setRealPlayer(Dl),vi===eN)bm.push(Dt);else{const Qo=this.playersByElement.get(vi);Qo&&Qo.length&&(Dt.parentPlayer=d(Qo)),a.push(Dt)}}else Em(ct,nn.fromStyles),Dt.onDestroy(()=>Cl(ct,nn.toStyles)),X1.push(Dt),R.has(ct)&&a.push(Dt)}),X1.forEach(Qe=>{const ct=c.get(Qe.element);if(ct&&ct.length){const Dt=d(ct);Qe.setRealPlayer(Dt)}}),a.forEach(Qe=>{Qe.parentPlayer?Qe.syncPlayerEvents(Qe.parentPlayer):Qe.destroy()});for(let Qe=0;Qe<Pe.length;Qe++){const ct=Pe[Qe],Dt=ct[Ba];if(iv(ct,RD),Dt&&Dt.hasAnimation)continue;let nn=[];if(y.size){let Dl=y.get(ct);Dl&&Dl.length&&nn.push(...Dl);let Qo=this.driver.query(ct,MR,!0);for(let dp=0;dp<Qo.length;dp++){let Er=y.get(Qo[dp]);Er&&Er.length&&nn.push(...Er)}}const vi=nn.filter(Dl=>!Dl.destroyed);vi.length?sM(this,ct,vi):this.processLeaveNode(ct)}return Pe.length=0,bm.forEach(Qe=>{this.players.push(Qe),Qe.onDone(()=>{Qe.destroy();const ct=this.players.indexOf(Qe);this.players.splice(ct,1)}),Qe.play()}),bm}elementContainsData(e,t){let s=!1;const a=t[Ba];return a&&a.setForRemoval&&(s=!0),this.playersByElement.has(t)&&(s=!0),this.playersByQueriedElement.has(t)&&(s=!0),this.statesByElement.has(t)&&(s=!0),this._fetchNamespace(e).elementContainsData(t)||s}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,s,a,c){let h=[];if(t){const y=this.playersByQueriedElement.get(e);y&&(h=y)}else{const y=this.playersByElement.get(e);if(y){const w=!c||c==eb;y.forEach(C=>{C.queued||!w&&C.triggerName!=a||h.push(C)})}}return(s||a)&&(h=h.filter(y=>!(s&&s!=y.namespaceId||a&&a!=y.triggerName))),h}_beforeAnimationBuild(e,t,s){const c=t.element,h=t.isRemovalTransition?void 0:e,y=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const C=w.element,R=C!==c,N=A(s,C,[]);this._getPreviousPlayers(C,R,h,y,t.toState).forEach(G=>{const X=G.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),G.destroy(),N.push(G)})}Em(c,t.fromStyles)}_buildAnimation(e,t,s,a,c,h){const y=t.triggerName,w=t.element,C=[],R=new Set,N=new Set,j=t.timelines.map(X=>{const ve=X.element;R.add(ve);const Pe=ve[Ba];if(Pe&&Pe.removedBeforeQueried)return new r(X.duration,X.delay);const rt=ve!==w,it=function(n){const e=[];return R1(n,e),e}((s.get(ve)||JN).map(Zr=>Zr.getRealPlayer())).filter(Zr=>!!Zr.element&&Zr.element===ve),Mt=c.get(ve),ut=h.get(ve),cn=m(0,this._normalizer,0,X.keyframes,Mt,ut),vr=this._buildPlayer(X,cn,it);if(X.subTimeline&&a&&N.add(ve),rt){const Zr=new GR(e,y,ve);Zr.setRealPlayer(vr),C.push(Zr)}return vr});C.forEach(X=>{A(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function(n,e,t){let s;if(n instanceof Map){if(s=n.get(e),s){if(s.length){const a=s.indexOf(t);s.splice(a,1)}0==s.length&&n.delete(e)}}else if(s=n[e],s){if(s.length){const a=s.indexOf(t);s.splice(a,1)}0==s.length&&delete n[e]}return s}(this.playersByQueriedElement,X.element,X))}),R.forEach(X=>ja(X,c1));const G=d(j);return G.onDestroy(()=>{R.forEach(X=>iv(X,c1)),Cl(w,t.toStyles)}),N.forEach(X=>{A(a,X,[]).push(G)}),G}_buildPlayer(e,t,s){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,s):new r(e.duration,e.delay)}}class GR{constructor(e,t,s){this.namespaceId=e,this.triggerName=t,this.element=s,this._player=new r,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(s=>v(e,t,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){A(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function HD(n){return n&&1===n.nodeType}function S1(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function A1(n,e,t,s,a){const c=[];t.forEach(w=>c.push(S1(w)));const h=[];s.forEach((w,C)=>{const R={};w.forEach(N=>{const j=R[N]=e.computeStyle(C,N,a);(!j||0==j.length)&&(C[Ba]=XN,h.push(C))}),n.set(C,R)});let y=0;return t.forEach(w=>S1(w,c[y++])),h}function x1(n,e){const t=new Map;if(n.forEach(y=>t.set(y,[])),0==e.length)return t;const a=new Set(e),c=new Map;function h(y){if(!y)return 1;let w=c.get(y);if(w)return w;const C=y.parentNode;return w=t.has(C)?C:a.has(C)?1:h(C),c.set(y,w),w}return e.forEach(y=>{const w=h(y);1!==w&&t.get(w).push(y)}),t}const qD="$$classes";function ja(n,e){if(n.classList)n.classList.add(e);else{let t=n[qD];t||(t=n[qD]={}),t[e]=!0}}function iv(n,e){if(n.classList)n.classList.remove(e);else{let t=n[qD];t&&delete t[e]}}function sM(n,e,t){d(t).onDone(()=>n.processLeaveNode(e))}function R1(n,e){for(let t=0;t<n.length;t++){const s=n[t];s instanceof i?R1(s.players,e):e.push(s)}}function P1(n,e,t){const s=t.get(n);if(!s)return!1;let a=e.get(n);return a?s.forEach(c=>a.add(c)):e.set(n,s),t.delete(n),!0}class ZD{constructor(e,t,s){this.bodyNode=e,this._driver=t,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new tM(e,t,s),this._timelineEngine=new WN(e,t,s),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(e,t,s,a,c){const h=e+"-"+a;let y=this._triggerCache[h];if(!y){const w=[],C=UR(this._driver,c,w);if(w.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${w.join("\n - ")}`);y=function(n,e,t){return new ZN(n,e,t)}(a,C,this._normalizer),this._triggerCache[h]=y}this._transitionEngine.registerTrigger(t,a,y)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,s,a){this._transitionEngine.insertNode(e,t,s,a)}onRemove(e,t,s,a){this._transitionEngine.removeNode(e,t,a||!1,s)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,s,a){if("@"==s.charAt(0)){const[c,h]=M(s);this._timelineEngine.command(c,t,h,a)}else this._transitionEngine.trigger(e,t,s,a)}listen(e,t,s,a,c){if("@"==s.charAt(0)){const[h,y]=M(s);return this._timelineEngine.listen(h,t,y,c)}return this._transitionEngine.listen(e,t,s,a,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function N1(n,e){let t=null,s=null;return Array.isArray(e)&&e.length?(t=WR(e[0]),e.length>1&&(s=WR(e[e.length-1]))):e&&(t=WR(e)),t||s?new uM(n,t,s):null}let uM=(()=>{class n{constructor(t,s,a){this._element=t,this._startStyles=s,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Cl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cl(this._element,this._initialStyles),this._endStyles&&(Cl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Em(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Em(this._element,this._endStyles),this._endStyles=null),Cl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function WR(n){let e=null;const t=Object.keys(n);for(let s=0;s<t.length;s++){const a=t[s];cM(a)&&(e=e||{},e[a]=n[a])}return e}function cM(n){return"display"===n||"position"===n}const M1="animation",O1="animationend";class hM{constructor(e,t,s,a,c,h,y){this._element=e,this._name=t,this._duration=s,this._delay=a,this._easing=c,this._fillMode=h,this._onDoneFn=y,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=w=>this._handleCallback(w)}apply(){(function(n,e){const t=YR(n,"").trim();let s=0;t.length&&(function(n,e){let t=0;for(let s=0;s<n.length;s++)","===n.charAt(s)&&t++;return t}(t)+1,e=`${t}, ${e}`),zD(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),L1(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){k1(this._element,this._name,"paused")}resume(){k1(this._element,this._name,"running")}setPosition(e){const t=F1(this._element,this._name);this._position=e*this._duration,zD(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),L1(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const s=YR(n,"").split(","),a=KR(s,e);a>=0&&(s.splice(a,1),zD(n,"",s.join(",")))}(this._element,this._name))}}function k1(n,e,t){zD(n,"PlayState",t,F1(n,e))}function F1(n,e){const t=YR(n,"");return t.indexOf(",")>0?KR(t.split(","),e):KR([t],e)}function KR(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function L1(n,e,t){t?n.removeEventListener(O1,e):n.addEventListener(O1,e)}function zD(n,e,t,s){const a=M1+e;if(null!=s){const c=n.style[a];if(c.length){const h=c.split(",");h[s]=t,t=h.join(",")}}n.style[a]=t}function YR(n,e){return n.style[M1+e]||""}class U1{constructor(e,t,s,a,c,h,y,w){this.element=e,this.keyframes=t,this.animationName=s,this._duration=a,this._delay=c,this._finalStyles=y,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+c,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new hM(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(e[s]=t?this._finalStyles[s]:LR(this.element,s))})}this.currentSnapshot=e}}class _M extends r{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=ih(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class B1{constructor(){this._count=0}validateStyleProperty(e){return sr(e)}matchesElement(e,t){return rh(e,t)}containsElement(e,t){return Il(e,t)}query(e,t,s){return Tl(e,t,s)}computeStyle(e,t,s){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,s){s=s.map(y=>ih(y));let a=`@keyframes ${t} {\n`,c="";s.forEach(y=>{c=" ";const w=parseFloat(y.offset);a+=`${c}${100*w}% {\n`,c+=" ",Object.keys(y).forEach(C=>{const R=y[C];switch(C){case"offset":return;case"easing":return void(R&&(a+=`${c}animation-timing-function: ${R};\n`));default:return void(a+=`${c}${C}: ${R};\n`)}}),a+=`${c}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(e,t,s,a,c,h=[],y){const w=h.filter(Pe=>Pe instanceof U1),C={};p1(s,a)&&w.forEach(Pe=>{let rt=Pe.currentSnapshot;Object.keys(rt).forEach(it=>C[it]=rt[it])});const R=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(s=>{Object.keys(s).forEach(a=>{"offset"==a||"easing"==a||(e[a]=s[a])})}),e}(t=g1(e,t,C));if(0==s)return new _M(e,R);const N="gen_css_kf_"+this._count++,j=this.buildKeyframeElement(e,N,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(j);const X=N1(e,t),ve=new U1(e,t,N,s,a,c,R,X);return ve.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(j)),ve}}class $1{constructor(e,t,s,a){this.element=e,this.keyframes=t,this.options=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,s){return e.animate(t,s)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:LR(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}}class IM{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(H1().toString()),this._cssKeyframesDriver=new B1}validateStyleProperty(e){return sr(e)}matchesElement(e,t){return rh(e,t)}containsElement(e,t){return Il(e,t)}query(e,t,s){return Tl(e,t,s)}computeStyle(e,t,s){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,s,a,c,h=[],y){if(!y&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,s,a,c,h);const R={duration:s,delay:a,fill:0==a?"both":"forwards"};c&&(R.easing=c);const N={},j=h.filter(X=>X instanceof $1);p1(s,a)&&j.forEach(X=>{let ve=X.currentSnapshot;Object.keys(ve).forEach(Pe=>N[Pe]=ve[Pe])});const G=N1(e,t=g1(e,t=t.map(X=>lp(X,!1)),N));return new $1(e,t,R,G)}}function H1(){return u()&&Element.prototype.animate||{}}let CM=(()=>{class n extends SD{constructor(t,s){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(s.body,{id:"0",encapsulation:p.ifc.None,styles:[],data:{animation:[]}})}build(t){const s=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?AD(t):t;return q1(this._renderer,null,s,"register",[a]),new DM(s,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class DM extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new SM(this._id,e,t||{},this._renderer)}}class SM{constructor(e,t,s,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return q1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function q1(n,e,t,s,a){return n.setProperty(e,`@@${t}:${s}`,a)}const Z1="@.disabled";let AM=(()=>{class n{constructor(t,s,a){this.delegate=t,this.engine=s,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(c,h)=>{h&&h.parentNode(c)&&h.removeChild(c.parentNode,c)}}createRenderer(t,s){const c=this.delegate.createRenderer(t,s);if(!(t&&s&&s.data&&s.data.animation)){let R=this._rendererCache.get(c);return R||(R=new z1("",c,this.engine),this._rendererCache.set(c,R)),R}const h=s.id,y=s.id+"-"+this._currentId;this._currentId++,this.engine.register(y,t);const w=R=>{Array.isArray(R)?R.forEach(w):this.engine.registerTrigger(h,y,t,R.name,R)};return s.data.animation.forEach(w),new xM(this,y,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,s,a){t>=0&&t<this._microtaskId?this._zone.run(()=>s(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,y]=c;h(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(ZD),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class z1{constructor(e,t,s){this.namespaceId=e,this.delegate=t,this.engine=s,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,s,a=!0){this.delegate.insertBefore(e,t,s),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,s){this.engine.onRemove(this.namespaceId,t,this.delegate,s)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,s,a){this.delegate.setAttribute(e,t,s,a)}removeAttribute(e,t,s){this.delegate.removeAttribute(e,t,s)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,s,a){this.delegate.setStyle(e,t,s,a)}removeStyle(e,t,s){this.delegate.removeStyle(e,t,s)}setProperty(e,t,s){"@"==t.charAt(0)&&t==Z1?this.disableAnimations(e,!!s):this.delegate.setProperty(e,t,s)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,s){return this.delegate.listen(e,t,s)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class xM extends z1{constructor(e,t,s,a){super(t,s,a),this.factory=e,this.namespaceId=t}setProperty(e,t,s){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Z1?this.disableAnimations(e,s=void 0===s||!!s):this.engine.process(this.namespaceId,e,t.substr(1),s):this.delegate.setProperty(e,t,s)}listen(e,t,s){if("@"==t.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.substr(1),h="";return"@"!=c.charAt(0)&&([c,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(c)),this.engine.listen(this.namespaceId,a,c,h,y=>{this.factory.scheduleListenerCallback(y._data||-1,s,y)})}return this.delegate.listen(e,t,s)}}let NM=(()=>{class n extends ZD{constructor(t,s,a){super(t.body,s,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe),p.LFG(_m),p.LFG(HR))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const G1=new p.OlP("AnimationModuleType"),W1=[{provide:SD,useClass:CM},{provide:HR,useFactory:function(){return new VN}},{provide:ZD,useClass:NM},{provide:p.FYo,useFactory:function(n,e,t){return new AM(n,e,t)},deps:[Hi,ZD,p.R0b]}],K1=[{provide:_m,useFactory:function(){return"function"==typeof H1()?new IM:new B1}},{provide:G1,useValue:"BrowserAnimations"},...W1],Y1=[{provide:_m,useClass:tv},{provide:G1,useValue:"NoopAnimations"},...W1];let FM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Y1:K1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:K1,imports:[So]}),n})();const Q1_firebaseConfig={apiKey:"AIzaSyDIfM5NFchUe69d3s4InyVMfPvnlAr6tCA",authDomain:"muaythai360-321e1.firebaseapp.com",projectId:"muaythai360-321e1",storageBucket:"muaythai360-321e1.appspot.com",messagingSenderId:"874368303618",appId:"1:874368303618:web:2375857a941d50164b5d1b",measurementId:"G-VSZKM2F51S"};let LM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n,bootstrap:[Yw]}),n.\u0275inj=p.cJS({providers:[ED],imports:[[So,nh,FM,st.hO.initializeApp(Q1_firebaseConfig),bR]]}),n})();(0,p.G48)(),bc().bootstrapModule(LM).catch(n=>console.error(n))},3394:(Je,we,L)=>{"use strict";L.d(we,{Z:()=>be});var p=L(3854),ee=L(3910),k=L(8026),le=L(5422);class ne{constructor(W,ye){this._delegate=W,this.firebase=ye,(0,k._addComponent)(W,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=W.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this._delegate.automaticDataCollectionEnabled=W}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(W=>{this._delegate.checkDestroyed(),W()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(W,ye=k._DEFAULT_ENTRY_NAME){var ge;this._delegate.checkDestroyed();const fe=this._delegate.container.getProvider(W);return!fe.isInitialized()&&"EXPLICIT"===(null===(ge=fe.getComponent())||void 0===ge?void 0:ge.instantiationMode)&&fe.initialize(),fe.getImmediate({identifier:ye})}_removeServiceInstance(W,ye=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(W).clearInstance(ye)}_addComponent(W){(0,k._addComponent)(this._delegate,W)}_addOrOverwriteComponent(W){(0,k._addOrOverwriteComponent)(this._delegate,W)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function te(){const he=function(he){const W={},ye={__esModule:!0,initializeApp:function(_t,wn={}){const wt=k.initializeApp(_t,wn);if((0,p.r3)(W,wt.name))return W[wt.name];const Tt=new he(wt,ye);return W[wt.name]=Tt,Tt},app:fe,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function(_t){const wn=_t.name,wt=wn.replace("-compat","");if(k._registerComponent(_t)&&"PUBLIC"===_t.type){const Tt=(ft=fe())=>{if("function"!=typeof ft[wt])throw pe.create("invalid-app-argument",{appName:wn});return ft[wt]()};void 0!==_t.serviceProps&&(0,p.ZB)(Tt,_t.serviceProps),ye[wt]=Tt,he.prototype[wt]=function(...ft){return this._getService.bind(this,wn).apply(this,_t.multipleInstances?ft:[])}}return"PUBLIC"===_t.type?ye[wt]:null},removeApp:function(_t){delete W[_t]},useAsService:function(_t,wn){return"serverAuth"===wn?null:wn},modularAPIs:k}};function fe(_t){if(!(0,p.r3)(W,_t=_t||k._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:_t});return W[_t]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function(){return Object.keys(W).map(_t=>W[_t])}}),fe.App=he,ye}(ne);return he.INTERNAL=Object.assign(Object.assign({},he.INTERNAL),{createFirebaseNamespace:te,extendNamespace:function(ye){(0,p.ZB)(he,ye)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),he}(),U=new le.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const he=self.firebase.SDK_VERSION;he&&he.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=F;(0,k.registerVersion)("@firebase/app-compat","0.1.14",undefined)},8026:(Je,we,L)=>{"use strict";L.r(we),L.d(we,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>$a,_DEFAULT_ENTRY_NAME:()=>fo,_addComponent:()=>as,_addOrOverwriteComponent:()=>Ns,_apps:()=>kn,_clearComponents:()=>Gn,_components:()=>Ps,_getProvider:()=>pn,_registerComponent:()=>us,_removeServiceInstance:()=>qt,deleteApp:()=>or,getApp:()=>wr,getApps:()=>Ce,initializeApp:()=>Nr,onLog:()=>Lt,registerVersion:()=>Ei,setLogLevel:()=>zr});var p=L(8239),ee=L(3910),k=L(5422),le=L(3854);class ne{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function(nt){const De=nt.getComponent();return"VERSION"===(null==De?void 0:De.type)}($t)){const sn=$t.getImmediate();return`${sn.library}/${sn.version}`}return null}).filter($t=>$t).join(" ")}}const pe="@firebase/app",te=new k.Yd("@firebase/app"),fo="[DEFAULT]",nc={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kn=new Map,Ps=new Map;function as(nt,De){try{nt.container.addComponent(De)}catch($t){te.debug(`Component ${De.name} failed to register with FirebaseApp ${nt.name}`,$t)}}function Ns(nt,De){nt.container.addOrOverwriteComponent(De)}function us(nt){const De=nt.name;if(Ps.has(De))return te.debug(`There were multiple attempts to register component ${De}.`),!1;Ps.set(De,nt);for(const $t of kn.values())as($t,nt);return!0}function pn(nt,De){return nt.container.getProvider(De)}function qt(nt,De,$t=fo){pn(nt,De).clearInstance($t)}function Gn(){Ps.clear()}const jt=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class St{constructor(De,$t,sn){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=sn,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}const $a="9.6.3";function Nr(nt,De={}){"object"!=typeof De&&(De={name:De});const $t=Object.assign({name:fo,automaticDataCollectionEnabled:!1},De),sn=$t.name;if("string"!=typeof sn||!sn)throw jt.create("bad-app-name",{appName:String(sn)});const bn=kn.get(sn);if(bn){if((0,le.vZ)(nt,bn.options)&&(0,le.vZ)($t,bn.config))return bn;throw jt.create("duplicate-app",{appName:sn})}const Ut=new ee.H0(sn);for(const Ge of Ps.values())Ut.addComponent(Ge);const Ke=new St(nt,$t,Ut);return kn.set(sn,Ke),Ke}function wr(nt=fo){const De=kn.get(nt);if(!De)throw jt.create("no-app",{appName:nt});return De}function Ce(){return Array.from(kn.values())}function or(nt){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(nt){const De=nt.name;kn.has(De)&&(kn.delete(De),yield Promise.all(nt.container.getProviders().map($t=>$t.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function Ei(nt,De,$t){var sn;let bn=null!==(sn=nc[nt])&&void 0!==sn?sn:nt;$t&&(bn+=`-${$t}`);const Ut=bn.match(/\s|\//),Ke=De.match(/\s|\//);if(Ut||Ke){const Ge=[`Unable to register library "${bn}" with version "${De}":`];return Ut&&Ge.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),Ut&&Ke&&Ge.push("and"),Ke&&Ge.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void te.warn(Ge.join(" "))}us(new ee.wA(`${bn}-version`,()=>({library:bn,version:De}),"VERSION"))}function Lt(nt,De){if(null!==nt&&"function"!=typeof nt)throw jt.create("invalid-log-argument");(0,k.Am)(nt,De)}function zr(nt){(0,k.Ub)(nt)}us(new ee.wA("platform-logger",De=>new ne(De),"PRIVATE")),Ei(pe,"0.7.13",""),Ei(pe,"0.7.13","esm2017"),Ei("fire-js","")},3910:(Je,we,L)=>{"use strict";L.d(we,{wA:()=>k,H0:()=>ce});var p=L(8239),ee=L(3854);class k{constructor(F,U,Q){this.name=F,this.instanceFactory=U,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const le="[DEFAULT]";class ne{constructor(F,U){this.name=F,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const U=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(U)){const Q=new ee.BH;if(this.instancesDeferred.set(U,Q),this.isInitialized(U)||this.shouldAutoInitialize())try{const Y=this.getOrInitializeService({instanceIdentifier:U});Y&&Q.resolve(Y)}catch(Y){}}return this.instancesDeferred.get(U).promise}getImmediate(F){var U;const Q=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),Y=null!==(U=null==F?void 0:F.optional)&&void 0!==U&&U;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(oe){if(Y)return null;throw oe}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch(U){}for(const[U,Q]of this.instancesDeferred.entries()){const Y=this.normalizeInstanceIdentifier(U);try{const oe=this.getOrInitializeService({instanceIdentifier:Y});Q.resolve(oe)}catch(oe){}}}}clearInstance(F=le){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,p.Z)(function*(){const U=Array.from(F.instances.values());yield Promise.all([...U.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...U.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=le){return this.instances.has(F)}getOptions(F=le){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:U={}}=F,Q=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Y=this.getOrInitializeService({instanceIdentifier:Q,options:U});for(const[oe,be]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(oe)&&be.resolve(Y);return Y}onInit(F,U){var Q;const Y=this.normalizeInstanceIdentifier(U),oe=null!==(Q=this.onInitCallbacks.get(Y))&&void 0!==Q?Q:new Set;oe.add(F),this.onInitCallbacks.set(Y,oe);const be=this.instances.get(Y);return be&&F(be,Y),()=>{oe.delete(F)}}invokeOnInitCallbacks(F,U){const Q=this.onInitCallbacks.get(U);if(Q)for(const Y of Q)try{Y(F,U)}catch(oe){}}getOrInitializeService({instanceIdentifier:F,options:U={}}){let Q=this.instances.get(F);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(te=F,te===le?void 0:te),options:U}),this.instances.set(F,Q),this.instancesOptions.set(F,U),this.invokeOnInitCallbacks(Q,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,Q)}catch(Y){}var te;return Q||null}normalizeInstanceIdentifier(F=le){return this.component?this.component.multipleInstances?F:le:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const U=this.getProvider(F.name);if(U.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);U.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const U=new ne(F,this);return this.providers.set(F,U),U}getProviders(){return Array.from(this.providers.values())}}},5422:(Je,we,L)=>{"use strict";L.d(we,{in:()=>ee,Yd:()=>pe,Ub:()=>ce,Am:()=>te});const p=[];var ee=(()=>{return(F=ee||(ee={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",ee;var F})();const k={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},le=ee.INFO,ne={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(F,U,...Q)=>{if(U<F.logLevel)return;const Y=(new Date).toISOString(),oe=ne[U];if(!oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[oe](`[${Y}]  ${F.name}:`,...Q)};class pe{constructor(U){this.name=U,this._logLevel=le,this._logHandler=ie,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in ee))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?k[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...U),this._logHandler(this,ee.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...U),this._logHandler(this,ee.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...U),this._logHandler(this,ee.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...U),this._logHandler(this,ee.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...U),this._logHandler(this,ee.ERROR,...U)}}function ce(F){p.forEach(U=>{U.setLogLevel(F)})}function te(F,U){for(const Q of p){let Y=null;U&&U.level&&(Y=k[U.level]),Q.userLogHandler=null===F?null:(oe,be,...he)=>{const W=he.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(ge){return null}}).filter(ye=>ye).join(" ");be>=(null!=Y?Y:oe.logLevel)&&F({level:ee[be].toLowerCase(),message:W,args:he,type:oe.name})}}}},8239:(Je,we,L)=>{"use strict";function p(k,le,ne,ie,pe,ce,te){try{var F=k[ce](te),U=F.value}catch(Q){return void ne(Q)}F.done?le(U):Promise.resolve(U).then(ie,pe)}function ee(k){return function(){var le=this,ne=arguments;return new Promise(function(ie,pe){var ce=k.apply(le,ne);function te(U){p(ce,ie,pe,te,F,"next",U)}function F(U){p(ce,ie,pe,te,F,"throw",U)}te(void 0)})}}L.d(we,{Z:()=>ee})}},Je=>{Je(Je.s=561)}]);
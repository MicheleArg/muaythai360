(self.webpackChunkmuaythai360=self.webpackChunkmuaythai360||[]).push([[179],{8255:qe=>{function Ee(F){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+F+"'");throw u.code="MODULE_NOT_FOUND",u})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=8255,qe.exports=Ee},7716:(qe,Ee,F)=>{"use strict";F.d(Ee,{deG:()=>Fh,tb:()=>hD,AFp:()=>lD,ip1:()=>r0,CZH:()=>Xd,hGG:()=>SM,z2F:()=>nh,sBO:()=>rw,Sil:()=>Yc,_Vd:()=>Ld,EJc:()=>rM,SBq:()=>za,qLn:()=>ka,vpe:()=>Xo,gxx:()=>fd,tBr:()=>Sa,XFs:()=>Ze,OlP:()=>mn,zs3:()=>hn,ZZ4:()=>$c,aQg:()=>am,soG:()=>wv,YKP:()=>um,v3s:()=>ID,h0i:()=>Jo,PXZ:()=>ak,R0b:()=>os,FiY:()=>Aa,Lbi:()=>dD,g9A:()=>uD,Qsj:()=>ex,FYo:()=>Vd,JOm:()=>po,Tiy:()=>sm,q3G:()=>Bn,tp0:()=>ar,EAV:()=>f0,Rgc:()=>jd,dDg:()=>yD,DyG:()=>ks,q4F:()=>By,GfV:()=>nT,s_b:()=>dm,ifc:()=>Ne,eFA:()=>yM,G48:()=>fM,Gpc:()=>j,f3M:()=>Np,X6Q:()=>dp,_c5:()=>Mv,VLi:()=>hM,c2e:()=>fD,zSh:()=>pd,wAp:()=>ct,vHH:()=>De,EiD:()=>rd,mCW:()=>Ma,qzn:()=>Pl,JVY:()=>m_,pB0:()=>Ju,eBb:()=>jp,L6k:()=>Bp,LAX:()=>Go,cg1:()=>Dy,Tjo:()=>g0,kL8:()=>xE,yhl:()=>zh,dqk:()=>gt,sIi:()=>Ls,CqO:()=>fy,QGY:()=>Dd,F4k:()=>Sd,RDi:()=>Oo,AaK:()=>ee,z3N:()=>zo,qOj:()=>yd,TTD:()=>bi,_Bn:()=>ou,xp6:()=>dC,uIk:()=>yf,ekj:()=>$g,Suo:()=>_r,Xpm:()=>Er,lG2:()=>Iu,Yz7:()=>un,cJS:()=>En,oAB:()=>Ao,Yjl:()=>mi,Y36:()=>Gn,_UZ:()=>Sf,qZA:()=>dy,TgZ:()=>Pg,EpF:()=>Yo,n5z:()=>wl,Ikx:()=>AE,LFG:()=>_n,$8M:()=>Ph,NdJ:()=>Ng,CRH:()=>Yw,oxw:()=>_E,Hsn:()=>pi,F$t:()=>xf,Q6J:()=>Ba,s9C:()=>vy,DdM:()=>Em,VKq:()=>av,iGM:()=>Lx,MAs:()=>eI,Jf7:()=>ho,CHM:()=>pl,oJD:()=>zp,LSH:()=>Gp,kYT:()=>rl,Udp:()=>Hg,WFA:()=>Fg,d8E:()=>Nf,YNc:()=>aE,_uU:()=>IE,Oqu:()=>Ey,hij:()=>tu,Gf:()=>Ux});var u=F(9765),ne=F(5319),U=F(7574),ue=F(6682),ae=F(8819);function Q(i){for(let s in i)if(i[s]===Q)return s;throw Error("Could not find renamed property on target object.")}function re(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ee(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ee).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function X(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const L=Q({__forward_ref__:Q});function j(i){return i.__forward_ref__=j,i.toString=function(){return ee(this())},i}function V(i){return se(i)?i():i}function se(i){return"function"==typeof i&&i.hasOwnProperty(L)&&i.__forward_ref__===j}class De extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function oe(i){return"string"==typeof i?i:null==i?"":String(i)}function ye(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():oe(i)}function Nt(i,s){const a=s?` in ${s}`:"";throw new De("201",`No provider for ${ye(i)} found${a}`)}function Ht(i,s){null==i&&function(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function un(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function En(i){return{providers:i.providers||[],imports:i.imports||[]}}function nr(i){return Ut(i,as)||Ut(i,rr)}function Ut(i,s){return i.hasOwnProperty(s)?i[s]:null}function Li(i){return i&&(i.hasOwnProperty(Se)||i.hasOwnProperty(Hn))?i[Se]:null}const as=Q({\u0275prov:Q}),Se=Q({\u0275inj:Q}),rr=Q({ngInjectableDef:Q}),Hn=Q({ngInjectorDef:Q});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let zt;function Xr(i){const s=zt;return zt=i,s}function nt(i,s,a){const c=nr(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Ze.Optional?null:void 0!==s?s:void Nt(ee(i),"Injector")}function Ot(i){return{toString:i}.toString()}var kt=(()=>((kt=kt||{})[kt.OnPush=0]="OnPush",kt[kt.Default=1]="Default",kt))(),Ne=(()=>((Ne=Ne||{})[Ne.Emulated=0]="Emulated",Ne[Ne.None=2]="None",Ne[Ne.ShadowDom=3]="ShadowDom",Ne))();const et="undefined"!=typeof globalThis&&globalThis,wu="undefined"!=typeof window&&window,Ks="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gt=et||"undefined"!=typeof global&&global||wu||Ks,W={},$=[],K=Q({\u0275cmp:Q}),we=Q({\u0275dir:Q}),le=Q({\u0275pipe:Q}),$e=Q({\u0275mod:Q}),mt=Q({\u0275loc:Q}),Vt=Q({\u0275fac:Q}),On=Q({__NG_ELEMENT_ID__:Q});let kn=0;function Er(i){return Ot(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||$,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ne.Emulated,id:"c",styles:i.styles||$,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,_=i.pipes;return c.id+=kn++,c.inputs=xo(i.inputs,a),c.outputs=xo(i.outputs),f&&f.forEach(v=>v(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(dr):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(So):null,c})}function dr(i){return qn(i)||function(i){return i[we]||null}(i)}function So(i){return function(i){return i[le]||null}(i)}const nl={};function Ao(i){return Ot(()=>{const s={type:i.type,bootstrap:i.bootstrap||$,declarations:i.declarations||$,imports:i.imports||$,exports:i.exports||$,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(nl[i.id]=i.type),s})}function rl(i,s){return Ot(()=>{const a=_i(i,!0);a.declarations=s.declarations||$,a.imports=s.imports||$,a.exports=s.exports||$})}function xo(i,s){if(null==i)return W;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}const Iu=Er;function mi(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function qn(i){return i[K]||null}function _i(i,s){const a=i[$e]||null;if(!a&&!0===s)throw new Error(`Type ${ee(i)} does not have '\u0275mod' property.`);return a}function pn(i){return Array.isArray(i)&&"object"==typeof i[1]}function fr(i){return Array.isArray(i)&&!0===i[1]}function hh(i){return 0!=(8&i.flags)}function Bi(i){return 2==(2&i.flags)}function il(i){return 1==(1&i.flags)}function ji(i){return null!==i.template}function Hi(i){return 0!=(512&i[2])}function cs(i,s){return i.hasOwnProperty(Vt)?i[Vt]:null}class rc{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function bi(){return ic}function ic(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ir),r_}function r_(){const i=ol(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===W)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Ir(i,s,a,c){const d=ol(i)||function(i,s){return i[ls]=s}(i,{previous:W,current:null}),f=d.current||(d.current={}),_=d.previous,v=this.declaredInputs[a],w=_[v];f[v]=new rc(w&&w.currentValue,s,_===W),i[c]=s}bi.ngInherit=!0;const ls="__ngSimpleChanges__";function ol(i){return i[ls]||null}let fa;function Oo(i){fa=i}function Js(){return void 0!==fa?fa:"undefined"!=typeof document?document:void 0}function rn(i){return!!i.listen}const us={createRenderer:(i,s)=>Js()};function Qt(i){for(;Array.isArray(i);)i=i[0];return i}function ko(i,s){return Qt(s[i])}function si(i,s){return Qt(s[i.index])}function Xs(i,s){return i.data[s]}function pr(i,s){const a=s[i];return pn(a)?a:a[0]}function ul(i){return 4==(4&i[2])}function dl(i){return 128==(128&i[2])}function Nn(i,s){return null==s?null:i[s]}function oc(i){i[18]=0}function ac(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const st={lFrame:Nu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function cc(){return st.bindingsEnabled}function Ce(){return st.lFrame.lView}function It(){return st.lFrame.tView}function pl(i){return st.lFrame.contextLView=i,i[8]}function cn(){let i=gl();for(;null!==i&&64===i.type;)i=i.parent;return i}function gl(){return st.lFrame.currentTNode}function Tr(i,s){const a=st.lFrame;a.currentTNode=i,a.isParent=s}function ga(){return st.lFrame.isParent}function lc(){st.lFrame.isParent=!1}function ma(){return st.isInCheckNoChangesMode}function _a(i){st.isInCheckNoChangesMode=i}function Fn(){const i=st.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function wi(){return st.lFrame.bindingIndex++}function dc(i,s){const a=st.lFrame;a.bindingIndex=a.bindingRootIndex=i,hc(s)}function hc(i){st.lFrame.currentDirectiveIndex=i}function fc(i){const s=st.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function _l(){return st.lFrame.currentQueryIndex}function ya(i){st.lFrame.currentQueryIndex=i}function va(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Pu(i,s,a){if(a&Ze.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&Ze.Host||(d=va(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const c=st.lFrame=Th();return c.currentTNode=s,c.lView=i,!0}function Po(i){const s=Th(),a=i[1];st.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Th(){const i=st.lFrame,s=null===i?null:i.child;return null===s?Nu(i):s}function Nu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Dh(){const i=st.lFrame;return st.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Sh=Dh;function Ss(){const i=Dh();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Zn(){return st.lFrame.selectedIndex}function ba(i){st.lFrame.selectedIndex=i}function Cn(){const i=st.lFrame;return Xs(i.tView,i.selectedIndex)}function yl(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:T,ngOnDestroy:x}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function ro(i,s,a){Lu(i,s,3,a)}function pc(i,s,a,c){(3&i[2])===a&&Lu(i,s,a,c)}function Dn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Lu(i,s,a,c){const f=null!=c?c:-1,_=s.length-1;let v=0;for(let w=void 0!==c?65535&i[18]:0;w<_;w++)if("number"==typeof s[w+1]){if(v=s[w],null!=c&&v>=c)break}else s[w]<0&&(i[18]+=65536),(v<f||-1==f)&&(Mp(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function Mp(i,s,a,c){const d=a[c]<0,f=a[c+1],v=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class wa{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Mh(i,s,a){const c=rn(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const _=a[d++],v=a[d++],w=a[d++];c?i.setAttribute(s,v,w,_):s.setAttributeNS(_,v,w)}else{const _=f,v=a[++d];xs(_)?c&&i.setProperty(s,_,v):c?i.setAttribute(s,_,v):s.setAttribute(_,v),d++}}return d}function Rp(i){return 3===i||4===i||6===i}function xs(i){return 64===i.charCodeAt(0)}function vl(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||Op(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function Op(i,s,a,c,d){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){_=-1;break}if(v>s){_=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}function Bu(i){return-1!==i}function so(i){return 32767&i}function oi(i,s){let a=function(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let gc=!0;function Ia(i){const s=gc;return gc=i,s}let kh=0;function mc(i,s){const a=gn(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,No(c.data,i),No(s,null),No(c.blueprint,null));const d=Ve(i,s),f=i.injectorIndex;if(Bu(d)){const _=so(d),v=oi(d,s),w=v[1].data;for(let T=0;T<8;T++)s[f+T]=v[_+T]|w[_+T]}return s[f+8]=d,f}function No(i,s){i.push(0,0,0,0,0,0,0,0,s)}function gn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ve(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const f=d[1],_=f.type;if(c=2===_?f.declTNode:1===_?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function St(i,s,a){!function(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(On)&&(c=a[On]),null==c&&(c=a[On]=kh++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Sr(i,s,a){if(a&Ze.Optional)return i;Nt(s,"NodeInjector")}function Ms(i,s,a,c){if(a&Ze.Optional&&void 0===c&&(c=null),0==(a&(Ze.Self|Ze.Host))){const d=i[9],f=Xr(void 0);try{return d?d.get(s,c,a&Ze.Optional):nt(s,c,a&Ze.Optional)}finally{Xr(f)}}return Sr(c,s,a)}function _c(i,s,a,c=Ze.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(On)?i[On]:void 0;return"number"==typeof s?s>=0?255&s:Hu:s}(a);if("function"==typeof f){if(!Pu(s,i,c))return c&Ze.Host?Sr(d,a,c):Ms(s,a,c,d);try{const _=f(c);if(null!=_||c&Ze.Optional)return _;Nt(a)}finally{Sh()}}else if("number"==typeof f){let _=null,v=gn(i,s),w=-1,T=c&Ze.Host?s[16][6]:null;for((-1===v||c&Ze.SkipSelf)&&(w=-1===v?Ve(i,s):s[v+8],-1!==w&&yc(c,!1)?(_=s[1],v=so(w),s=oi(w,s)):v=-1);-1!==v;){const x=s[1];if(El(f,v,x.data)){const P=a_(v,s,a,_,c,T);if(P!==dn)return P}w=s[v+8],-1!==w&&yc(c,s[1].data[v+8]===T)&&El(f,v,s)?(_=x,v=so(w),s=oi(w,s)):v=-1}}}return Ms(s,a,c,d)}const dn={};function Hu(){return new ao(cn(),Ce())}function a_(i,s,a,c,d,f){const _=s[1],v=_.data[i+8],x=oo(v,_,a,null==c?Bi(v)&&gc:c!=_&&0!=(3&v.type),d&Ze.Host&&f===v);return null!==x?vn(s,_,x,v):dn}function oo(i,s,a,c,d){const f=i.providerIndexes,_=s.data,v=1048575&f,w=i.directiveStart,x=f>>20,N=d?v+x:i.directiveEnd;for(let G=c?v:v+x;G<N;G++){const Y=_[G];if(G<w&&a===Y||G>=w&&Y.type===a)return G}if(d){const G=_[w];if(G&&ji(G)&&G.type===a)return w}return null}function vn(i,s,a,c){let d=i[a];const f=s.data;if(function(i){return i instanceof wa}(d)){const _=d;_.resolving&&function(i,s){throw new De("200",`Circular dependency in DI detected for ${i}`)}(ye(f[a]));const v=Ia(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?Xr(_.injectImpl):null;Pu(i,c,Ze.Default);try{d=i[a]=_.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const _=ic(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&Xr(w),Ia(v),_.resolving=!1,Sh()}}return d}function El(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function yc(i,s){return!(i&Ze.Self||i&Ze.Host&&s)}class ao{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return _c(this._tNode,this._lView,s,c,a)}}function wl(i){return Ot(()=>{const s=i.prototype.constructor,a=s[Vt]||vc(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Vt]||vc(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function vc(i){return se(i)?()=>{const s=vc(V(i));return s&&s()}:cs(i)}function Ph(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(Rp(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(cn(),i)}const Rs="__parameters__";function Ii(i,s,a){return Ot(()=>{const c=function(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const _=new d(...f);return v.annotation=_,v;function v(w,T,x){const P=w.hasOwnProperty(Rs)?w[Rs]:Object.defineProperty(w,Rs,{value:[]})[Rs];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(_),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class mn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=un({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Fh=new mn("AnalyzeForEntryComponents"),ks=Function;function ai(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),ai(c,s)):s!==i&&s.push(c)}return s}function hs(i,s){i.forEach(a=>Array.isArray(a)?hs(a,s):s(a))}function Ec(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Di(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ps(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}function Wn(i,s,a){let c=Da(i,s);return c>=0?i[1|c]=a:(c=~c,function(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Sn(i,s){const a=Da(i,s);if(a>=0)return i[1|a]}function Da(i,s){return function(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),_=i[f<<a];if(s===_)return f<<a;_>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const Pt={},sn="__NG_DI_FLAG__",Vn="ngTempTokenPath",Kn=/\n/gm,Bo="__source",Zi=Q({provide:String,useValue:Q});let Wi;function ut(i){const s=Wi;return Wi=i,s}function Pp(i,s=Ze.Default){if(void 0===Wi)throw new Error("inject() must be called from an injection context");return null===Wi?nt(i,void 0,s):Wi.get(i,s&Ze.Optional?null:void 0,s)}function _n(i,s=Ze.Default){return(zt||Pp)(V(i),s)}const Np=_n;function wc(i){const s=[];for(let a=0;a<i.length;a++){const c=V(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=Ze.Default;for(let _=0;_<c.length;_++){const v=c[_],w=Fp(v);"number"==typeof w?-1===w?d=v.token:f|=w:d=v}s.push(_n(d,f))}else s.push(_n(c))}return s}function Cc(i,s){return i[sn]=s,i.prototype[sn]=s,i}function Fp(i){return i[sn]}function Ki(i,s,a,c){const d=i[Vn];throw s[Bo]&&d.unshift(s[Bo]),i.message=function(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=ee(s);if(Array.isArray(s))d=s.map(ee).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let v=s[_];f.push(_+":"+("string"==typeof v?JSON.stringify(v):ee(v)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(Kn,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Vn]=null,i}const Sa=Cc(Ii("Inject",i=>({token:i})),-1),Aa=Cc(Ii("Optional"),8),ar=Cc(Ii("SkipSelf"),4);let Rl,Hh;function $o(i){var s;return(null===(s=function(){if(void 0===Rl&&(Rl=null,gt.trustedTypes))try{Rl=gt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Rl}())||void 0===s?void 0:s.createHTML(i))||i}function Ol(i){var s;return(null===(s=function(){if(void 0===Hh&&(Hh=null,gt.trustedTypes))try{Hh=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Hh}())||void 0===s?void 0:s.createHTML(i))||i}class Tc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qv extends Tc{getTypeName(){return"HTML"}}class Jv extends Tc{getTypeName(){return"Style"}}class $h extends Tc{getTypeName(){return"Script"}}class Xv extends Tc{getTypeName(){return"URL"}}class eb extends Tc{getTypeName(){return"ResourceURL"}}function zo(i){return i instanceof Tc?i.changingThisBreaksApplicationSecurity:i}function Pl(i,s){const a=zh(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function zh(i){return i instanceof Tc&&i.getTypeName()||null}function m_(i){return new Qv(i)}function Bp(i){return new Jv(i)}function jp(i){return new $h(i)}function Go(i){return new Xv(i)}function Ju(i){return new eb(i)}class __{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString($o(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class tb{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=$o(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=$o(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const _=a.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const y_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ma(i){return(i=String(i)).match(y_)||i.match(qh)?i:"unsafe:"+i}function fs(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Sc(...i){const s={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const Nl=fs("area,br,col,hr,img,wbr"),b_=fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fl=fs("rp,rt"),Hp=Sc(Nl,Sc(b_,fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sc(Fl,fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sc(Fl,b_)),Xu=fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yi=fs("srcset"),ed=Sc(Xu,Yi,fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rb=fs("script,style,template");class td{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Hp.hasOwnProperty(a))return this.sanitizedSomething=!0,!rb.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),_=f.name,v=_.toLowerCase();if(!ed.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=f.value;Xu[v]&&(w=Ma(w)),Yi[v]&&(i=w,w=(i=String(i)).split(",").map(s=>Ma(s.trim())).join(", ")),this.buf.push(" ",_,'="',Wh(w),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Hp.hasOwnProperty(a)&&!Nl.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Wh(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const ib=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sb=/([^\#-~ |!])/g;function Wh(i){return i.replace(/&/g,"&amp;").replace(ib,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(sb,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nd;function rd(i,s){let a=null;try{nd=nd||function(i){const s=new tb(i);return function(){try{return!!(new window.DOMParser).parseFromString($o(""),"text/html")}catch(i){return!1}}()?new __(s):s}(i);let c=s?String(s):"";a=nd.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=a.innerHTML,a=nd.getInertBodyElement(c)}while(c!==f);return $o((new td).sanitizeChildren(id(a)||a))}finally{if(a){const c=id(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function id(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Bn=(()=>((Bn=Bn||{})[Bn.NONE=0]="NONE",Bn[Bn.HTML=1]="HTML",Bn[Bn.STYLE=2]="STYLE",Bn[Bn.SCRIPT=3]="SCRIPT",Bn[Bn.URL=4]="URL",Bn[Bn.RESOURCE_URL=5]="RESOURCE_URL",Bn))();function zp(i){const s=Ra();return s?Ol(s.sanitize(Bn.HTML,i)||""):Pl(i,"HTML")?Ol(zo(i)):rd(Js(),oe(i))}function Gp(i){const s=Ra();return s?s.sanitize(Bn.URL,i)||"":Pl(i,"URL")?zo(i):Ma(oe(i))}function Ra(){const i=Ce();return i&&i[12]}const Ac="__ngContext__";function xr(i,s){i[Ac]=s}function Yp(i){const s=function(i){return i[Ac]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Oa(i){return i.ngOriginalError}function tg(i,...s){i.error(...s)}class ka{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=this._findContext(s),d=(i=s)&&i.ngErrorLogger||tg;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(Oa(s)):null}_findOriginalError(s){let a=s&&Oa(s);for(;a&&Oa(a);)a=Oa(a);return a||null}}const M_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(gt))();function ho(i){return i.ownerDocument.defaultView}function fo(i){return i instanceof Function?i():i}var po=(()=>((po=po||{})[po.Important=1]="Important",po[po.DashCase=2]="DashCase",po))();function p(i,s){return undefined(i,s)}function D(i){const s=i[3];return fr(s)?s[3]:s}function ce(i){return xe(i[13])}function Oe(i){return xe(i[4])}function xe(i){for(;null!==i&&!fr(i);)i=i[4];return i}function ze(i,s,a,c,d){if(null!=c){let f,_=!1;fr(c)?f=c:pn(c)&&(_=!0,c=c[0]);const v=Qt(c);0===i&&null!==a?null==d?nC(s,a,v):zl(s,a,v,d||null,!0):1===i&&null!==a?zl(s,a,v,d||null,!0):2===i?function(i,s,a){const c=U_(i,s);c&&function(i,s,a,c){rn(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,v,_):3===i&&s.destroyNode(v),null!=f&&function(i,s,a,c,d){const f=a[7];f!==Qt(a)&&ze(s,i,c,f,d);for(let v=10;v<a.length;v++){const w=a[v];ld(w[1],w,i,s,c,f)}}(s,i,f,a,d)}}function Hl(i,s,a){return rn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function $l(i,s){const a=i[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,ac(d,-1)),a.splice(c,1)}function ad(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&$l(d,c),s>0&&(i[a-1][4]=c[4]);const f=Di(i,10+s);!function(i,s){ld(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function L_(i,s){if(!(256&s[2])){const a=s[11];rn(a)&&a.destroyNode&&ld(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return go(i[1],i);for(;s;){let a=null;if(pn(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)pn(s)&&go(s[1],s),s=s[3];null===s&&(s=i),pn(s)&&go(s[1],s),a=s&&s[4]}s=a}}(s)}}function go(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof wa)){const f=a[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const v=d[f[_]],w=f[_+1];try{w.call(v)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],v="function"==typeof _?_(s):Qt(s[_]),w=c[d=a[f+2]],T=a[f+3];"boolean"==typeof T?v.removeEventListener(a[f],w,T):T>=0?c[d=T]():c[d=-T].unsubscribe(),f+=2}else{const _=c[d=a[f+1]];a[f].call(_)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&rn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&fr(s[3])){a!==s[3]&&$l(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function eC(i,s,a){return function(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===Ne.None||d===Ne.Emulated)return null}return si(c,a)}(i,s.parent,a)}function zl(i,s,a,c,d){rn(i)?i.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function nC(i,s,a){rn(i)?i.appendChild(s,a):s.appendChild(a)}function rC(i,s,a,c,d){null!==c?zl(i,s,a,c,d):nC(i,s,a)}function U_(i,s){return rn(i)?i.parentNode(s):s.parentNode}function B_(i,s,a){return cd(i,s,a)}let cd=function(i,s,a){return 40&i.type?si(i,a):null};function nf(i,s,a,c){const d=eC(i,c,s),f=s[11],v=B_(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)rC(f,d,a[w],v,!1);else rC(f,d,a,v,!1)}function H_(i,s){if(null!==s){const a=s.type;if(3&a)return si(s,i);if(4&a)return fb(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return H_(i,c);{const d=i[s.index];return fr(d)?fb(-1,d):Qt(d)}}if(32&a)return p(s,i)()||Qt(i[s.index]);{const c=hb(i,s);return null!==c?Array.isArray(c)?c[0]:H_(D(i[16]),c):H_(i,s.next)}}return null}function hb(i,s){return null!==s?i[16][6].projection[s.projection]:null}function fb(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return H_(c,d)}return s[7]}function $_(i,s,a,c,d,f,_){for(;null!=a;){const v=c[a.index],w=a.type;if(_&&0===s&&(v&&xr(Qt(v),c),a.flags|=4),64!=(64&a.flags))if(8&w)$_(i,s,a.child,c,d,f,!1),ze(s,i,d,v,f);else if(32&w){const T=p(a,c);let x;for(;x=T();)ze(s,i,d,x,f);ze(s,i,d,v,f)}else 16&w?Gl(i,s,c,a,d,f):ze(s,i,d,v,f);a=_?a.projectionNext:a.next}}function ld(i,s,a,c,d,f){$_(a,c,i.firstChild,s,d,f,!1)}function Gl(i,s,a,c,d,f){const _=a[16],w=_[6].projection[c.projection];if(Array.isArray(w))for(let T=0;T<w.length;T++)ze(s,i,d,w[T],f);else $_(i,s,w,_[3],d,f,!0)}function oC(i,s,a){rn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function gb(i,s,a){rn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function mb(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}const aC="ng-template";function zS(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==mb(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function _b(i){return 4===i.type&&i.value!==aC}function GS(i,s,a){return s===(4!==i.type||a?i.value:aC)}function qS(i,s,a){let c=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(Rp(i[s]))return s;return i.length}(d);let _=!1;for(let v=0;v<s.length;v++){const w=s[v];if("number"!=typeof w){if(!_)if(4&c){if(c=2|1&c,""!==w&&!GS(i,w,a)||""===w&&1===s.length){if(Zo(c))return!1;_=!0}}else{const T=8&c?w:s[++v];if(8&c&&null!==i.attrs){if(!zS(i.attrs,T,a)){if(Zo(c))return!1;_=!0}continue}const P=yb(8&c?"class":w,d,_b(i),a);if(-1===P){if(Zo(c))return!1;_=!0;continue}if(""!==T){let N;N=P>f?"":d[P+1].toLowerCase();const G=8&c?N:null;if(G&&-1!==mb(G,T,0)||2&c&&T!==N){if(Zo(c))return!1;_=!0}}}}else{if(!_&&!Zo(c)&&!Zo(w))return!1;if(_&&Zo(w))continue;_=!1,c=w|1&c}}return Zo(c)||_}function Zo(i){return 0==(1&i)}function yb(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let v=s[++d];for(;"string"==typeof v;)v=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function cC(i,s,a=!1){for(let c=0;c<s.length;c++)if(qS(i,s[c],a))return!0;return!1}function sO(i,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function uC(i,s){return i?":not("+s.trim()+")":s}function z_(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const v=i[++a];d+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Zo(_)&&(s+=uC(f,d),d=""),c=_,f=f||!Zo(c);a++}return""!==d&&(s+=uC(f,d)),s}const bt={};function dC(i){q_(It(),Ce(),Zn()+i,ma())}function q_(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&ro(s,f,a)}else{const f=i.preOrderHooks;null!==f&&pc(s,f,0,a)}ba(a)}function Z_(i,s){return i<<17|s<<2}function Wo(i){return i>>17&32767}function vb(i){return 2|i}function _e(i){return(131068&i)>>2}function Oc(i,s){return-131069&i|s<<2}function Na(i){return 1|i}function Ib(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],f=a[c+1];if(-1!==f){const _=i.data[f];ya(d),_.contentQueries(2,s[f],f)}}}function Zl(i,s,a,c,d,f,_,v,w,T){const x=s.blueprint.slice();return x[0]=d,x[2]=140|c,oc(x),x[3]=x[15]=i,x[8]=a,x[10]=_||i&&i[10],x[11]=v||i&&i[11],x[12]=w||i&&i[12]||null,x[9]=T||i&&i[9]||null,x[6]=f,x[16]=2==s.type?i[16]:x,x}function Wl(i,s,a,c,d){let f=i.data[s];if(null===f)f=function(i,s,a,c,d){const f=gl(),_=ga(),w=i.data[s]=function(i,s,a,c,d,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=w),null!==f&&(_?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}(i,s,a,c,d),st.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const _=function(){const i=st.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return Tr(f,!0),f}function Kl(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function lg(i,s,a){Po(s);try{const c=i.viewQuery;null!==c&&kc(1,c,a);const d=i.template;null!==d&&Db(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ib(i,s),i.staticViewQueries&&kc(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)mg(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Ss()}}function of(i,s,a,c){const d=s[2];if(256==(256&d))return;Po(s);const f=ma();try{oc(s),function(i){st.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Db(i,s,a,2,c);const _=3==(3&d);if(!f)if(_){const T=i.preOrderCheckHooks;null!==T&&ro(s,T,null)}else{const T=i.preOrderHooks;null!==T&&pc(s,T,0,null),Dn(s,0)}if(function(i){for(let s=ce(i);null!==s;s=Oe(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],f=d[3];0==(1024&d[2])&&ac(f,1),d[2]|=1024}}}(s),function(i){for(let s=ce(i);null!==s;s=Oe(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];dl(c)&&of(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&Ib(i,s),!f)if(_){const T=i.contentCheckHooks;null!==T&&ro(s,T)}else{const T=i.contentHooks;null!==T&&pc(s,T,1),Dn(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)ba(~d);else{const f=d,_=a[++c],v=a[++c];dc(_,f),v(2,s[f])}}}finally{ba(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let a=0;a<s.length;a++)MC(i,s[a])}(s,v);const w=i.viewQuery;if(null!==w&&kc(2,w,c),!f)if(_){const T=i.viewCheckHooks;null!==T&&ro(s,T)}else{const T=i.viewHooks;null!==T&&pc(s,T,2),Dn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ac(s[3],-1))}finally{Ss()}}function Tb(i,s,a,c){const d=s[10],f=!ma(),_=ul(s);try{f&&!_&&d.begin&&d.begin(),_&&lg(i,s,c),of(i,s,a,c)}finally{f&&!_&&d.end&&d.end()}}function Db(i,s,a,c,d){const f=Zn(),_=2&c;try{ba(-1),_&&s.length>20&&q_(i,s,20,ma()),a(c,d)}finally{ba(f)}}function Sb(i,s,a){!cc()||(function(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||mc(a,s),xr(c,s);const _=a.initialInputs;for(let v=d;v<f;v++){const w=i.data[v],T=ji(w);T&&kb(s,a,w);const x=vn(s,i,v,a);xr(x,s),null!==_&&Nb(0,v-d,x,w,0,_),T&&(pr(a.index,s)[8]=x)}}(i,s,a,si(a,s)),128==(128&a.flags)&&function(i,s,a){const c=a.directiveStart,d=a.directiveEnd,_=a.index,v=st.lFrame.currentDirectiveIndex;try{ba(_);for(let w=c;w<d;w++){const T=i.data[w],x=s[w];hc(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&pg(T,x)}}finally{ba(-1),hc(v)}}(i,s,a))}function $r(i,s,a=si){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],v=-1===_?a(s,i):i[_];i[d++]=v}}}function af(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Q_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Q_(i,s,a,c,d,f,_,v,w,T){const x=20+c,P=x+d,N=function(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:bt);return a}(x,P),G="function"==typeof T?T():T;return N[1]={type:i,blueprint:N,template:a,queries:null,viewQuery:v,declTNode:s,data:N.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:G,incompleteFirstPass:!1}}function hg(i,s,a,c){const d=jb(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&cf(i).push(c,d.length-1))}function J_(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function ms(i,s,a,c,d,f,_,v){const w=si(s,a);let x,T=s.inputs;!v&&null!=T&&(x=T[c])?($b(i,a,x,c,d),Bi(s)&&function(i,s){const a=pr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=_?_(d,s.value||"",c):d,rn(f)?f.setProperty(w,c,d):xs(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function fg(i,s,a,c){let d=!1;if(cc()){const f=function(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];cC(a,_.selectors,!1)&&(d||(d=[]),St(mc(a,s),i,_.type),ji(_)?(TC(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===c?null:{"":-1};if(null!==f){d=!0,SC(a,i.data.length,f.length);for(let x=0;x<f.length;x++){const P=f[x];P.providersResolver&&P.providersResolver(P)}let v=!1,w=!1,T=Kl(i,s,f.length,null);for(let x=0;x<f.length;x++){const P=f[x];a.mergedAttrs=vl(a.mergedAttrs,P.hostAttrs),AC(i,a,s,T,P),DC(T,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const N=P.type.prototype;!v&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!w&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),T++}!function(i,s){const c=s.directiveEnd,d=i.data,f=s.attrs,_=[];let v=null,w=null;for(let T=s.directiveStart;T<c;T++){const x=d[T],P=x.inputs,N=null===f||_b(s)?null:xC(P,f);_.push(N),v=J_(P,T,v),w=J_(x.outputs,T,w)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=v,s.outputs=w}(i,a)}_&&function(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new De("301",`Export of name '${s[d+1]}' not found!`);c.push(s[d],f)}}}(a,c,_)}return a.mergedAttrs=vl(a.mergedAttrs,a.attrs),d}function ey(i,s,a,c,d,f){const _=f.hostBindings;if(_){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=w&&v.push(w),v.push(c,d,_)}}function pg(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function TC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function DC(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;ji(s)&&(a[""]=i)}}function SC(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function AC(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=cs(d.type)),_=new wa(f,ji(d),null);i.blueprint[c]=_,a[c]=_,ey(i,s,0,c,Kl(i,a,d.hostVars,bt),d)}function kb(i,s,a){const c=si(s,i),d=af(a),f=i[10],_=_g(i,Zl(i,d,null,a.onPush?64:16,c,s,f,f.createRenderer(c,a),null,null));i[s.index]=_}function _o(i,s,a,c,d,f){const _=si(i,s);!function(i,s,a,c,d,f,_){if(null==f)rn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const v=null==_?oe(f):_(f,c||"",d);rn(i)?i.setAttribute(s,d,v,a):a?s.setAttributeNS(a,d,v):s.setAttribute(d,v)}}(s[11],_,f,i.value,a,c,d)}function Nb(i,s,a,c,d,f){const _=f[s];if(null!==_){const v=c.setInput;for(let w=0;w<_.length;){const T=_[w++],x=_[w++],P=_[w++];null!==v?c.setInput(a,P,T,x):a[x]=P}}}function xC(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function gg(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function MC(i,s){const a=pr(s,i);if(dl(a)){const c=a[1];80&a[2]?of(c,a,c.template,a[8]):a[5]>0&&Ub(a)}}function Ub(i){for(let c=ce(i);null!==c;c=Oe(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const _=f[1];of(_,f,_.template,f[8])}else f[5]>0&&Ub(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=pr(a[c],i);dl(d)&&d[5]>0&&Ub(d)}}function mg(i,s){const a=pr(s,i),c=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),lg(c,a,a[8])}function _g(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function ty(i){for(;i;){i[2]|=64;const s=D(i);if(Hi(i)&&!s)return i;i=s}return null}function Bb(i,s,a){const c=s[10];c.begin&&c.begin();try{of(i,s,i.template,a)}catch(d){throw Si(s,d),d}finally{c.end&&c.end()}}function dd(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=Yp(a),d=c[1];Tb(d,c,d.template,a)}}(i[8])}function kc(i,s,a){ya(0),s(i,a)}const ry=(()=>Promise.resolve(null))();function jb(i){return i[7]||(i[7]=[])}function cf(i){return i.cleanup||(i.cleanup=[])}function Hb(i,s,a){return(null===i||ji(i))&&(a=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function Si(i,s){const a=i[9],c=a?a.get(ka,null):null;c&&c.handleError(s)}function $b(i,s,a,c,d){for(let f=0;f<a.length;){const _=a[f++],v=a[f++],w=s[_],T=i.data[_];null!==T.setInput?T.setInput(w,d,c,v):w[v]=d}}function Ns(i,s,a){const c=ko(s,i);!function(i,s,a){rn(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function hd(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const v=s[_];"number"==typeof v?f=v:1==f?d=X(d,v):2==f&&(c=X(c,v+": "+s[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}const fd=new mn("INJECTOR",-1);class lf{get(s,a=Pt){if(a===Pt){const c=new Error(`NullInjectorError: No provider for ${ee(s)}!`);throw c.name="NullInjectorError",c}return a}}const pd=new mn("Set Injector scope."),gd={},Gb={};let uf;function df(){return void 0===uf&&(uf=new lf),uf}function PC(i,s=null,a=null,c){return new qb(i,a,s||df(),c)}class qb{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&hs(a,v=>this.processProvider(v,s,a)),hs([s],v=>this.processInjectorType(v,[],f)),this.records.set(fd,md(void 0,this));const _=this.records.get(pd);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:ee(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Pt,c=Ze.Default){this.assertNotDestroyed();const d=ut(this),f=Xr(void 0);try{if(!(c&Ze.SkipSelf)){let v=this.records.get(s);if(void 0===v){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof mn)&&nr(s);v=w&&this.injectableDefInScope(w)?md(hf(s),gd):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(c&Ze.Self?df():this.parent).get(s,a=c&Ze.Optional&&a===Pt?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Vn]=_[Vn]||[]).unshift(ee(s)),d)throw _;return Ki(_,s,"R3InjectorError",this.source)}throw _}finally{Xr(f),ut(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(ee(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,c){if(!(s=V(s)))return!1;let d=Li(s);const f=null==d&&s.ngModule||void 0,_=void 0===f?s:f,v=-1!==c.indexOf(_);if(void 0!==f&&(d=Li(f)),null==d)return!1;if(null!=d.imports&&!v){let x;c.push(_);try{hs(d.imports,P=>{this.processInjectorType(P,a,c)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:N,providers:G}=x[P];hs(G,Y=>this.processProvider(Y,N,G||$))}}this.injectorDefTypes.add(_);const w=cs(_)||(()=>new _);this.records.set(_,md(w,gd));const T=d.providers;if(null!=T&&!v){const x=s;hs(T,P=>this.processProvider(P,x,T))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,c){let d=Pc(s=V(s))?s:V(s&&s.provide);const f=FC(i=s)?md(void 0,i.useValue):md(Wb(i),gd);var i;if(Pc(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=md(void 0,gd,!0),_.factory=()=>wc(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===gd&&(a.value=Gb,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=V(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function hf(i){const s=nr(i),a=null!==s?s.factory:cs(i);if(null!==a)return a;if(i instanceof mn)throw new Error(`Token ${ee(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=Ps(s,"?");throw new Error(`Can't resolve all parameters for ${ee(i)}: (${c.join(", ")}).`)}const a=function(i){const s=i&&(i[as]||i[rr]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function Wb(i,s,a){let c;if(Pc(i)){const d=V(i);return cs(d)||hf(d)}if(FC(i))c=()=>V(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...wc(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>_n(V(i.useExisting));else{const d=V(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return cs(d)||hf(d);c=()=>new d(...wc(i.deps))}return c}function md(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function FC(i){return null!==i&&"object"==typeof i&&Zi in i}function Pc(i){return"function"==typeof i}const iy=function(i,s,a){return function(i,s=null,a=null,c){const d=PC(i,s,a,c);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let hn=(()=>{class i{static create(a,c){return Array.isArray(a)?iy(a,c,""):iy(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=Pt,i.NULL=new lf,i.\u0275prov=un({token:i,providedIn:"any",factory:()=>_n(fd)}),i.__NG_ELEMENT_ID__=-1,i})();function eE(i,s){yl(Yp(i)[1],cn())}function yd(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(ji(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){c.push(d);const _=i;_.inputs=Qn(i.inputs),_.declaredInputs=Qn(i.declaredInputs),_.outputs=Qn(i.outputs);const v=d.hostBindings;v&&vA(i,v);const w=d.viewQuery,T=d.contentQueries;if(w&&YC(i,w),T&&yA(i,T),re(i.inputs,d.inputs),re(i.declaredInputs,d.declaredInputs),re(i.outputs,d.outputs),ji(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const v=f[_];v&&v.ngInherit&&v(i),v===yd&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=vl(d.hostAttrs,a=vl(a,d.hostAttrs))}}(c)}function Qn(i){return i===W?{}:i===$?[]:i}function YC(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function yA(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function vA(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let Ag=null;function vd(){if(!Ag){const i=gt.Symbol;if(i&&i.iterator)Ag=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Ag=c)}}}return Ag}function Ls(i){return!!Mg(i)&&(Array.isArray(i)||!(i instanceof Map)&&vd()in i)}function Mg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function _s(i,s,a){return i[s]=a}function Gr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function yf(i,s,a,c){const d=Ce();return Gr(d,wi(),s)&&(It(),_o(Cn(),d,i,s,a,c)),yf}function bd(i,s,a,c){return Gr(i,wi(),a)?s+oe(a)+c:bt}function aE(i,s,a,c,d,f,_,v){const w=Ce(),T=It(),x=i+20,P=T.firstCreatePass?function(i,s,a,c,d,f,_,v,w){const T=s.consts,x=Wl(s,i,4,_||null,Nn(T,v));fg(s,a,x,Nn(T,w)),yl(s,x);const P=x.tViews=Q_(2,x,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,x),P.queries=s.queries.embeddedTView(x)),x}(x,T,w,s,a,c,d,f,_):T.data[x];Tr(P,!1);const N=w[11].createComment("");nf(T,w,N,P),xr(N,w),_g(w,w[x]=gg(N,w,N,P)),il(P)&&Sb(T,w,P),null!=_&&$r(w,P,v)}function eI(i){return function(i,s){return i[s]}(st.lFrame.contextLView,20+i)}function Gn(i,s=Ze.Default){const a=Ce();return null===a?_n(i,s):_c(cn(),a,V(i),s)}function Ba(i,s,a){const c=Ce();return Gr(c,wi(),s)&&ms(It(),Cn(),c,i,s,c[11],a,!1),Ba}function Jn(i,s,a,c,d){const _=d?"class":"style";$b(i,a,s.inputs[_],_,c)}function Pg(i,s,a,c){const d=Ce(),f=It(),_=20+i,v=d[11],w=d[_]=Hl(v,s,st.lFrame.currentNamespace),T=f.firstCreatePass?function(i,s,a,c,d,f,_){const v=s.consts,T=Wl(s,i,2,d,Nn(v,f));return fg(s,a,T,Nn(v,_)),null!==T.attrs&&hd(T,T.attrs,!1),null!==T.mergedAttrs&&hd(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(_,f,d,0,s,a,c):f.data[_];Tr(T,!0);const x=T.mergedAttrs;null!==x&&Mh(v,w,x);const P=T.classes;null!==P&&gb(v,w,P);const N=T.styles;null!==N&&oC(v,w,N),64!=(64&T.flags)&&nf(f,d,w,T),0===st.lFrame.elementDepthCount&&xr(w,d),st.lFrame.elementDepthCount++,il(T)&&(Sb(f,d,T),function(i,s,a){if(hh(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}(f,T,d)),null!==c&&$r(d,T)}function dy(){let i=cn();ga()?lc():(i=i.parent,Tr(i,!1));const s=i;st.lFrame.elementDepthCount--;const a=It();a.firstCreatePass&&(yl(a,i),hh(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Jn(a,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Jn(a,s,Ce(),s.stylesWithoutHost,!1)}function Sf(i,s,a,c){Pg(i,s,a,c),dy()}function Yo(){return Ce()}function Dd(i){return!!i&&"function"==typeof i.then}function Sd(i){return!!i&&"function"==typeof i.subscribe}const fy=Sd;function Ng(i,s,a,c){const d=Ce(),f=It(),_=cn();return gy(f,d,d[11],_,i,s,!!a,c),Ng}function Fg(i,s){const a=cn(),c=Ce(),d=It();return gy(d,c,Hb(fc(d.data),a,c),a,i,s,!1),Fg}function gy(i,s,a,c,d,f,_,v){const w=il(c),x=i.firstCreatePass&&cf(i),P=s[8],N=jb(s);let G=!0;if(3&c.type||v){const ie=si(c,s),Re=v?v(ie):ie,be=N.length,Je=v?ht=>v(Qt(ht[c.index])):c.index;if(rn(a)){let ht=null;if(!v&&w&&(ht=function(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===a&&d[f+1]===c){const v=s[7],w=d[f+2];return v.length>w?v[w]:null}"string"==typeof _&&(f+=2)}return null}(i,s,d,c.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=f,ht.__ngLastListenerFn__=f,G=!1;else{f=_y(c,s,P,f,!1);const jt=a.listen(Re,d,f);N.push(f,jt),x&&x.push(d,Je,be,be+1)}}else f=_y(c,s,P,f,!0),Re.addEventListener(d,f,_),N.push(f),x&&x.push(d,Je,be,_)}else f=_y(c,s,P,f,!1);const Y=c.outputs;let he;if(G&&null!==Y&&(he=Y[d])){const ie=he.length;if(ie)for(let Re=0;Re<ie;Re+=2){const Nr=s[he[Re]][he[Re+1]].subscribe(f),qs=N.length;N.push(f,Nr),x&&x.push(d,c.index,qs,-(qs+1))}}}function my(i,s,a,c){try{return!1!==a(c)}catch(d){return Si(i,d),!1}}function _y(i,s,a,c,d){return function f(_){if(_===Function)return c;const v=2&i.flags?pr(i.index,s):s;0==(32&s[2])&&ty(v);let w=my(s,0,c,_),T=f.__ngNextListenerFn__;for(;T;)w=my(s,0,T,_)&&w,T=T.__ngNextListenerFn__;return d&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function _E(i=1){return function(i){return(st.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,st.lFrame.contextLView))[8]}(i)}function yy(i,s){let a=null;const c=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===c?cC(i,f,!0):sO(c,f))return d}else a=d}return a}function xf(i){const s=Ce()[16][6];if(!s.projection){const c=s.projection=Ps(i?i.length:1,null),d=c.slice();let f=s.child;for(;null!==f;){const _=i?yy(f,i):0;null!==_&&(d[_]?d[_].projectionNext=f:c[_]=f,d[_]=f),f=f.next}}}function pi(i,s=0,a){const c=Ce(),d=It(),f=Wl(d,20+i,16,null,a||null);null===f.projection&&(f.projection=s),lc(),64!=(64&f.flags)&&function(i,s,a){Gl(s[11],0,s,a,eC(i,a,s),B_(a.parent||s[6],a,s))}(d,c,f)}function vy(i,s,a){return In(i,"",s,"",a),vy}function In(i,s,a,c,d){const f=Ce(),_=bd(f,s,a,c);return _!==bt&&ms(It(),Cn(),f,i,_,f[11],d,!1),In}function vE(i,s,a,c,d){const f=i[a+1],_=null===s;let v=c?Wo(f):_e(f),w=!1;for(;0!==v&&(!1===w||_);){const x=i[v+1];PA(i[v],s)&&(w=!0,i[v+1]=c?Na(x):vb(x)),v=c?Wo(x):_e(x)}w&&(i[a+1]=c?vb(f):Na(f))}function PA(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Da(i,s)>=0}function Hg(i,s,a){return bo(i,s,a,!1),Hg}function $g(i,s){return bo(i,s,null,!0),$g}function bo(i,s,a,c){const d=Ce(),f=It(),_=function(i){const s=st.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[Zn()],_=function(i,s){return s>=i.expandoStartIndex}(i,a);(function(i,s){return 0!=(i.flags&(s?16:32))})(f,c)&&null===s&&!_&&(s=!1),s=function(i,s,a,c){const d=fc(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=zg(a=kf(null,i,s,a,c),s.attrs,c),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=kf(d,i,s,a,c),null===f){let w=function(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==_e(c))return i[Wo(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=kf(null,i,s,w[1],c),w=zg(w,s.attrs,c),function(i,s,a,c){i[Wo(a?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else f=function(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=zg(c,i[f].hostAttrs,a);return zg(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function(i,s,a,c,d,f){let _=f?s.classBindings:s.styleBindings,v=Wo(_),w=_e(_);i[c]=a;let x,T=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||Da(P,x)>0)&&(T=!0)}else x=a;if(d)if(0!==w){const N=Wo(i[v+1]);i[c+1]=Z_(N,v),0!==N&&(i[N+1]=Oc(i[N+1],c)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],c)}else i[c+1]=Z_(v,0),0!==v&&(i[v+1]=Oc(i[v+1],c)),v=c;else i[c+1]=Z_(w,0),0===v?v=c:i[w+1]=Oc(i[w+1],c),w=c;T&&(i[c+1]=vb(i[c+1])),vE(i,x,c,!0),vE(i,x,c,!1),function(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Da(f,s)>=0&&(a[c+1]=Na(a[c+1]))}(s,x,i,c,f),_=Z_(v,w),f?s.classBindings=_:s.styleBindings=_}(d,f,s,a,_,c)}}(f,i,_,c),s!==bt&&Gr(d,_,s)&&function(i,s,a,c,d,f,_,v){if(!(3&s.type))return;const w=i.data,T=w[v+1];ja(function(i){return 1==(1&i)}(T)?CE(w,s,a,d,_e(T),_):void 0)||(ja(f)||function(i){return 2==(2&i)}(T)&&(f=CE(w,null,a,d,v,_)),function(i,s,a,c,d){const f=rn(i);if(s)d?f?i.addClass(a,c):a.classList.add(c):f?i.removeClass(a,c):a.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:po.DashCase;if(null==d)f?i.removeStyle(a,c,_):a.style.removeProperty(c);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),_|=po.Important),f?i.setStyle(a,c,d,_):a.style.setProperty(c,d,v?"important":"")}}}(c,_,ko(Zn(),a),d,f))}(f,f.data[Zn()],d,d[11],i,d[_+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ee(zo(i)))),i}(s,a),c,_)}function kf(i,s,a,c,d){let f=null;const _=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<_&&(f=s[v],c=zg(c,f.hostAttrs,d),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),c}function zg(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?d=_:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Wn(i,_,!!a||s[++f]))}return void 0===i?null:i}function CE(i,s,a,c,d,f){const _=null===s;let v;for(;d>0;){const w=i[d],T=Array.isArray(w),x=T?w[1]:w,P=null===x;let N=a[d+1];N===bt&&(N=P?$:void 0);let G=P?Sn(N,c):x===c?N:void 0;if(T&&!ja(G)&&(G=Sn(w,c)),ja(G)&&(v=G,_))return v;const Y=i[d+1];d=_?Wo(Y):_e(Y)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(v=Sn(w,c))}return v}function ja(i){return void 0!==i}function IE(i,s=""){const a=Ce(),c=It(),d=i+20,f=c.firstCreatePass?Wl(c,d,1,s,null):c.data[d],_=a[d]=function(i,s){return rn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);nf(c,a,_,f),Tr(f,!1)}function Ey(i){return tu("",i,""),Ey}function tu(i,s,a){const c=Ce(),d=bd(c,i,s,a);return d!==bt&&Ns(c,Zn(),d),tu}function AE(i,s,a){const c=Ce();return Gr(c,wi(),s)&&ms(It(),Cn(),c,i,s,c[11],a,!0),AE}function Nf(i,s,a){const c=Ce();if(Gr(c,wi(),s)){const f=It(),_=Cn();ms(f,_,c,i,s,Hb(fc(f.data),_,c),a,!0)}return Nf}const Qo=void 0;var Ty=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Rd={};function Dy(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=ME(s);if(a)return a;const c=s.split("-")[0];if(a=ME(c),a)return a;if("en"===c)return Ty;throw new Error(`Missing locale data for the locale "${i}".`)}function xE(i){return Dy(i)[ct.PluralCase]}function ME(i){return i in Rd||(Rd[i]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[i]),Rd[i]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const Sy="en-US";let Ay=Sy;function xy(i){Ht(i,"Expected localeId to be defined"),"string"==typeof i&&(Ay=i.toLowerCase().replace(/_/g,"-"))}function Ri(i,s,a,c,d){if(i=V(i),Array.isArray(i))for(let f=0;f<i.length;f++)Ri(i[f],s,a,c,d);else{const f=It(),_=Ce();let v=Pc(i)?i:V(i.provide),w=Wb(i);const T=cn(),x=1048575&T.providerIndexes,P=T.directiveStart,N=T.providerIndexes>>20;if(Pc(i)||!i.multi){const G=new wa(w,d,Gn),Y=rm(v,s,d?x:x+N,P);-1===Y?(St(mc(T,_),f,v),Ly(f,i,s.length),s.push(v),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(G),_.push(G)):(a[Y]=G,_[Y]=G)}else{const G=rm(v,s,x+N,P),Y=rm(v,s,x,x+N),he=G>=0&&a[G],ie=Y>=0&&a[Y];if(d&&!ie||!d&&!he){St(mc(T,_),f,v);const Re=function(i,s,a,c,d){const f=new wa(i,a,Gn);return f.multi=[],f.index=s,f.componentProviders=0,nm(f,d,c&&!a),f}(d?iu:JI,a.length,d,c,w);!d&&ie&&(a[Y].providerFactory=Re),Ly(f,i,s.length,0),s.push(v),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(Re),_.push(Re)}else Ly(f,i,G>-1?G:Y,nm(a[d?Y:G],w,!d&&c));!d&&c&&ie&&a[Y].componentProviders++}}}function Ly(i,s,a,c){const d=Pc(s);if(d||function(i){return!!i.useClass}(s)){const _=(s.useClass||s).prototype.ngOnDestroy;if(_){const v=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const w=v.indexOf(a);-1===w?v.push(a,[c,_]):v[w+1].push(c,_)}else v.push(a,_)}}}function nm(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function rm(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function JI(i,s,a,c){return su(this.multi,[])}function iu(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,v=vn(a,a[1],this.providerFactory.index,c);f=v.slice(0,_),su(d,f);for(let w=_;w<v.length;w++)f.push(v[w])}else f=[],su(d,f);return f}function su(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function ou(i,s=[]){return a=>{a.providersResolver=(c,d)=>function(i,s,a){const c=It();if(c.firstCreatePass){const d=ji(i);Ri(a,c.data,c.blueprint,d,!0),Ri(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class Fd{}const jc="ngComponent";class KE{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${ee(i)}. Did you add it to @NgModule.entryComponents?`);return s[jc]=i,s}(s)}}let Ld=(()=>{class i{}return i.NULL=new KE,i})();function Uy(...i){}function Hc(i,s){return new za(si(i,s))}const XA=function(){return Hc(cn(),Ce())};let za=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=XA,i})();function QE(i){return i instanceof za?i.nativeElement:i}class Vd{}let ex=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>JE(),i})();const JE=function(){const i=Ce(),a=pr(cn().index,i);return function(i){return i[11]}(pn(a)?a:i)};let sm=(()=>{class i{}return i.\u0275prov=un({token:i,providedIn:"root",factory:()=>null}),i})();class nT{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const By=new nT("12.2.13");class jy{constructor(){}supports(s){return Ls(s)}create(s){return new iT(s)}}const rT=(i,s)=>s;class iT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||rT}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const _=!c||a&&a.currentIndex<ew(c,d,f)?a:c,v=ew(_,d,f),w=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{f||(f=[]);const T=v-d,x=w-d;if(T!=x){for(let N=0;N<T;N++){const G=N<f.length?f[N]:f[N]=0,Y=G+N;x<=Y&&Y<T&&(f[N]=G+1)}f[_.previousIndex]=x-T}}v!==w&&s(_,v,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ls(s))throw new Error(`Error trying to diff '${ee(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,_,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],_=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,f,_,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,v),c=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[vd()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,v=>{_=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,v,_,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,_,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new sT(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new oT),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oT),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class sT{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class oT{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new XE,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ew(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class aT{constructor(){}supports(s){return s instanceof Map||Mg(s)}create(){return new cT}}class cT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Mg(s)))throw new Error(`Error trying to diff '${ee(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const c=new tx(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class tx{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bd(){return new $c([new jy])}let $c=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Bd()),deps:[[i,new ar,new Aa]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:Bd}),i})();function om(){return new am([new aT])}let am=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||om()),deps:[[i,new ar,new Aa]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:om}),i})();function cm(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(Qt(f)),fr(f))for(let v=10;v<f.length;v++){const w=f[v],T=w[1].firstChild;null!==T&&cm(w[1],w,T,c)}const _=a.type;if(8&_)cm(i,s,a.child,c);else if(32&_){const v=p(a,s);let w;for(;w=v();)c.push(w)}else if(16&_){const v=hb(s,a);if(Array.isArray(v))c.push(...v);else{const w=D(s[16]);cm(w[1],w,v,c,!0)}}a=d?a.projectionNext:a.next}return c}class lm{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return cm(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(fr(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(ad(s,c),Di(a,c))}this._attachedToViewContainer=!1}L_(this._lView[1],this._lView)}onDestroy(s){hg(this._lView[1],this._lView,null,s)}markForCheck(){ty(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){_a(!0);try{Bb(i,s,a)}finally{_a(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,ld(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class nw extends lm{constructor(s){super(s),this._view=s}detectChanges(){dd(this._view)}checkNoChanges(){!function(i){_a(!0);try{dd(i)}finally{_a(!1)}}(this._view)}get context(){return null}}const rx=function(i){return function(i,s,a){if(Bi(i)&&!a){const c=pr(i.index,s);return new lm(c,c)}return 47&i.type?new lm(s[16],s):null}(cn(),Ce(),16==(16&i))};let rw=(()=>{class i{}return i.__NG_ELEMENT_ID__=rx,i})();const Wr=[new aT],ox=new $c([new jy]),ax=new am(Wr),lx=function(){return Hd(cn(),Ce())};let jd=(()=>{class i{}return i.__NG_ELEMENT_ID__=lx,i})();const uT=jd,dT=class extends uT{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=Zl(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),lg(a,c,s),new lm(c)}};function Hd(i,s){return 4&i.type?new dT(s,i,Hc(i,s)):null}class Jo{}class um{}const aw=function(){return lw(cn(),Ce())};let dm=(()=>{class i{}return i.__NG_ELEMENT_ID__=aw,i})();const fT=dm,pT=class extends fT{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ve(this._hostTNode,this._hostLView);if(Bu(s)){const a=oi(s,this._hostLView),c=so(s);return new ao(a[1].data[c+8],a)}return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=gT(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,f){const _=c||this.parentInjector;if(!f&&null==s.ngModule&&_){const w=_.get(Jo,null);w&&(f=w)}const v=s.create(_,d,void 0,f);return this.insert(v.hostView,a),v}insert(s,a){const c=s._lView,d=c[1];if(fr(c[3])){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const P=c[3],N=new pT(P,P[6],P[3]);N.detach(N.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function(i,s,a,c){const d=10+c,f=a.length;c>0&&(a[d-1][4]=s),c<f-10?(s[4]=a[d],Ec(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(d,c,_,f);const v=fb(f,_),w=c[11],T=U_(w,_[7]);return null!==T&&function(i,s,a,c,d,f){c[0]=d,c[6]=s,ld(i,c,a,1,d,f)}(d,_[6],w,c,T,v),s.attachToViewContainerRef(),Ec(cw(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=gT(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=ad(this._lContainer,a);c&&(Di(cw(this._lContainer),a),L_(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=ad(this._lContainer,a);return c&&null!=Di(cw(this._lContainer),a)?new lm(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function gT(i){return i[8]}function cw(i){return i[8]||(i[8]=[])}function lw(i,s){let a;const c=s[i.index];if(fr(c))a=c;else{let d;if(8&i.type)d=Qt(c);else{const f=s[11];d=f.createComment("");const _=si(i,s);zl(f,U_(f,_),d,function(i,s){return rn(i)?i.nextSibling(s):s.nextSibling}(f,_),!1)}s[i.index]=a=gg(c,s,d,i),_g(s,a)}return new pT(a,i,s)}const Wd={};class iv extends Ld{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=qn(s);return new sv(a,this.ngModule)}}function kT(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const NT=new mn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>M_});class sv extends Fd{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(z_).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return kT(this.componentDef.inputs)}get outputs(){return kT(this.componentDef.outputs)}create(s,a,c,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(a,c,d)=>{const f=i.get(a,Wd,d);return f!==Wd||c===Wd?f:s.get(a,c,d)}}}(s,d.injector):s,_=f.get(Vd,us),v=f.get(sm,null),w=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",x=c?function(i,s,a){if(rn(i))return i.selectRootElement(s,a===Ne.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(w,c,this.componentDef.encapsulation):Hl(_.createRenderer(null,this.componentDef),T,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(T)),P=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||M_,clean:ry,playerHandler:s||null,flags:0}}(),G=Q_(0,null,null,1,0,null,null,null,null,null),Y=Zl(null,G,N,P,null,null,_,w,v,f);let he,ie;Po(Y);try{const Re=function(i,s,a,c,d,f){const _=a[1];a[20]=i;const w=Wl(_,20,2,"#host",null),T=w.mergedAttrs=s.hostAttrs;null!==T&&(hd(w,T,!0),null!==i&&(Mh(d,i,T),null!==w.classes&&gb(d,i,w.classes),null!==w.styles&&oC(d,i,w.styles)));const x=c.createRenderer(i,s),P=Zl(a,af(s),null,s.onPush?64:16,a[20],w,c,x,f||null,null);return _.firstCreatePass&&(St(mc(w,a),_,s.type),TC(_,w),SC(w,a.length,1)),_g(a,P),a[20]=P}(x,this.componentDef,Y,_,w);if(x)if(c)Mh(w,x,["ng-version",By.full]);else{const{attrs:be,classes:Je}=function(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!Zo(d))break;d=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);be&&Mh(w,x,be),Je&&Je.length>0&&gb(w,x,Je.join(" "))}if(ie=Xs(G,20),void 0!==a){const be=ie.projection=[];for(let Je=0;Je<this.ngContentSelectors.length;Je++){const ht=a[Je];be.push(null!=ht?Array.from(ht):null)}}he=function(i,s,a,c,d){const f=a[1],_=function(i,s,a){const c=cn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),AC(i,c,s,Kl(i,s,1,null),a));const d=vn(s,i,c.directiveStart,c);xr(d,s);const f=si(c,s);return f&&xr(f,s),d}(f,a,s);if(c.components.push(_),i[8]=_,d&&d.forEach(w=>w(_,s)),s.contentQueries){const w=cn();s.contentQueries(1,_,w.directiveStart)}const v=cn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ba(v.index),ey(a[1],v,0,v.directiveStart,v.directiveEnd,s),pg(s,_)),_}(Re,this.componentDef,Y,N,[eE]),lg(G,Y,null)}finally{Ss()}return new Dx(this.componentType,he,Hc(ie,Y),Y,ie)}}class Dx extends class{}{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new nw(d),this.componentType=s}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Jf=new Map;class Hw extends Jo{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iv(this);const c=_i(s),d=s[mt]||null;d&&xy(d),this._bootstrapComponents=fo(c.bootstrap),this._r3Injector=PC(s,a,[{provide:Jo,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],ee(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=hn.THROW_IF_NOT_FOUND,c=Ze.Default){return s===hn||s===Jo||s===fd?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class bm extends um{constructor(s){super(),this.moduleType=s,null!==_i(s)&&function(i){const s=new Set;!function a(c){const d=_i(c,!0),f=d.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ee(s)} vs ${ee(s.name)}`)}(f,Jf.get(f),c),Jf.set(f,c));const _=fo(d.imports);for(const v of _)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new Hw(this.moduleType,s)}}function Em(i,s,a){const c=Fn()+i,d=Ce();return d[c]===bt?_s(d,c,a?s.call(a):s()):function(i,s){return i[s]}(d,c)}function av(i,s,a,c){return function(i,s,a,c,d,f){const _=s+a;return Gr(i,_,d)?_s(i,_+1,f?c.call(f,d):c(d)):function(i,s){const a=i[s];return a===bt?void 0:a}(i,_+1)}(Ce(),Fn(),i,s,a,c)}function qt(i){return s=>{setTimeout(i,void 0,s)}}const Xo=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,f,_;let v=s,w=a||(()=>null),T=c;if(s&&"object"==typeof s){const P=s;v=null===(d=P.next)||void 0===d?void 0:d.bind(P),w=null===(f=P.error)||void 0===f?void 0:f.bind(P),T=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(w=qt(w),v&&(v=qt(v)),T&&(T=qt(T)));const x=super.subscribe({next:v,error:w,complete:T});return s instanceof ne.w&&s.add(x),x}};function zT(){return this._results[vd()]()}class du{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=vd(),c=du.prototype;c[a]||(c[a]=zT)}get changes(){return this._changes||(this._changes=new Xo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=ai(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class To{constructor(s){this.queryList=s,this.matches=null}clone(){return new To(this.queryList)}setDirty(){this.queryList.setDirty()}}class lv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const _=a.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new lv(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==KT(s,a).matches&&this.queries[a].setDirty()}}class GT{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class rp{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new rp(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class uv{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new uv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,qT(a,f)),this.matchTNodeWithReadOption(s,a,oo(a,s,f,!1,!1))}else c===jd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,oo(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===za||d===dm||d===jd&&4&a.type)this.addMatch(a.index,-2);else{const f=oo(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function qT(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function Kw(i,s,a,c){return-1===a?function(i,s){return 11&i.type?Hc(i,s):4&i.type?Hd(i,s):null}(s,i):-2===a?function(i,s,a){return a===za?Hc(s,i):a===jd?Hd(s,i):a===dm?lw(s,i):void 0}(i,s,c):vn(i,i[1],a,s)}function ZT(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const f=i.data,_=a.matches,v=[];for(let w=0;w<_.length;w+=2){const T=_[w];v.push(T<0?null:Kw(s,f[T],_[w+1],a.metadata.read))}d.matches=v}return d.matches}function Rn(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const _=ZT(i,s,d,a);for(let v=0;v<f.length;v+=2){const w=f[v];if(w>0)c.push(_[v/2]);else{const T=f[v+1],x=s[-w];for(let P=10;P<x.length;P++){const N=x[P];N[17]===N[3]&&Rn(N[1],N,T,c)}if(null!==x[9]){const P=x[9];for(let N=0;N<P.length;N++){const G=P[N];Rn(G[1],G,T,c)}}}}}return c}function Lx(i){const s=Ce(),a=It(),c=_l();ya(c+1);const d=KT(a,c);if(i.dirty&&ul(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Rn(a,s,c,[]):ZT(a,s,d,c);i.reset(f,QE),i.notifyOnChanges()}return!0}return!1}function Ux(i,s,a){const c=It();c.firstCreatePass&&(Qw(c,new GT(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),WT(c,Ce(),s)}function _r(i,s,a,c){const d=It();if(d.firstCreatePass){const f=cn();Qw(d,new GT(s,a,c),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}WT(d,Ce(),a)}function Yw(){return i=Ce(),s=_l(),i[19].queries[s].queryList;var i,s}function WT(i,s,a){const c=new du(4==(4&a));hg(i,s,c,c.destroy),null===s[19]&&(s[19]=new lv),s[19].queries.push(new To(c))}function Qw(i,s,a){null===i.queries&&(i.queries=new rp),i.queries.track(new uv(s,a))}function KT(i,s){return i.queries.getByIndex(s)}const r0=new mn("Application Initializer");let Xd=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Uy,this.reject=Uy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Dd(f))a.push(f);else if(fy(f)){const _=new Promise((v,w)=>{f.subscribe({complete:v,error:w})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(_n(r0,8))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const lD=new mn("AppId"),s0={provide:lD,useFactory:function(){return`${o0()}${o0()}${o0()}`},deps:[]};function o0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uD=new mn("Platform Initializer"),dD=new mn("Platform ID"),hD=new mn("appBootstrapListener");let fD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const wv=new mn("LocaleId"),rM=new mn("DefaultCurrencyCode");class a0{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const Cv=function(i){return new bm(i)},Iv=Cv,mD=function(i){return Promise.resolve(Cv(i))},zs=function(i){const s=Cv(i),c=fo(_i(i).declarations).reduce((d,f)=>{const _=qn(f);return _&&d.push(new sv(_)),d},[]);return new a0(s,c)},is=zs,Sm=function(i){return Promise.resolve(zs(i))};let Yc=(()=>{class i{constructor(){this.compileModuleSync=Iv,this.compileModuleAsync=mD,this.compileModuleAndAllComponentsSync=is,this.compileModuleAndAllComponentsAsync=Sm}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const c0=(()=>Promise.resolve(0))();function gu(i){"undefined"==typeof Zone?c0.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class os{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xo(!1),this.onMicrotaskEmpty=new Xo(!1),this.onStable=new Xo(!1),this.onError=new Xo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=gt.requestAnimationFrame,s=gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(gt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Tv(i),i.isCheckStableRunning=!0,l0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Tv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,_,v)=>{try{return up(i),a.invokeTask(d,f,_,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),_D(i)}},onInvoke:(a,c,d,f,_,v,w)=>{try{return up(i),a.invoke(d,f,_,v,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),_D(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Tv(i),l0(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!os.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(os.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,s,th,Uy,Uy);try{return f.runTask(_,a,c)}finally{f.cancelTask(_)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const th={};function l0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Tv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function up(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function _D(i){i._nesting--,l0(i)}class dM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xo,this.onMicrotaskEmpty=new Xo,this.onStable=new Xo,this.onError=new Xo}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let yD=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{os.assertNotInAngularZone(),gu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gu(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(_n(os))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})(),vD=(()=>{class i{constructor(){this._applications=new Map,Dv.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Dv.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();class u0{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function hM(i){Dv=i}let Dv=new u0,Sv=!0,d0=!1;function dp(){return d0=!0,Sv}function fM(){if(d0)throw new Error("Cannot enable prod mode after platform setup.");Sv=!1}let Wa;const _M=new mn("AllowMultipleToken");class ak{constructor(s,a){this.name=s,this.token=a}}function yM(i,s,a=[]){const c=`Platform: ${s}`,d=new mn(c);return(f=[])=>{let _=ED();if(!_||_.injector.get(_M,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const v=a.concat(f).concat({provide:d,useValue:!0},{provide:pd,useValue:"platform"});!function(i){if(Wa&&!Wa.destroyed&&!Wa.injector.get(_M,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wa=i.get(wD);const s=i.get(uD,null);s&&s.forEach(a=>a())}(hn.create({providers:v,name:c}))}return function(i){const s=ED();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function ED(){return Wa&&!Wa.destroyed?Wa:null}let wD=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const v=function(i,s){let a;return a="noop"===i?new dM:("zone.js"===i?void 0:i)||new os({enableLongStackTrace:dp(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:os,useValue:v}];return v.run(()=>{const T=hn.create({providers:w,parent:this.injector,name:a.moduleType.name}),x=a.create(T),P=x.injector.get(ka,null);if(!P)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const N=v.onError.subscribe({next:G=>{P.handleError(G)}});x.onDestroy(()=>{h0(this._modules,x),N.unsubscribe()})}),function(i,s,a){try{const c=a();return Dd(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(P,v,()=>{const N=x.injector.get(Xd);return N.runInitializers(),N.donePromise.then(()=>(xy(x.injector.get(wv,Sy)||Sy),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,c=[]){const d=Am({},c);return function(i,s,a){const c=new bm(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(nh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${ee(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(_n(hn))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function Am(i,s){return Array.isArray(s)?s.reduce(Am,i):Object.assign(Object.assign({},i),s)}let nh=(()=>{class i{constructor(a,c,d,f,_){this._zone=a,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new U.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),w=new U.y(T=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{os.assertNotInAngularZone(),gu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{x.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ue.T)(v,w.pipe((0,ae.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof Fd?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Jo),v=d.create(hn.NULL,[],c||d.selector,f),w=v.location.nativeElement,T=v.injector.get(yD,null),x=T&&v.injector.get(vD);return T&&x&&x.registerApplication(w,T),v.onDestroy(()=>{this.detachView(v.hostView),h0(this.components,v),x&&x.unregisterApplication(w)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;h0(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(hD,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(_n(os),_n(hn),_n(ka),_n(Ld),_n(Xd))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function h0(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class ID{}class DD{}const EM={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let f0=(()=>{class i{constructor(a,c){this._compiler=a,this._config=c||EM}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[c,d]=a.split("#");return void 0===d&&(d="default"),F(8255)(c).then(f=>f[d]).then(f=>xm(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[c,d]=a.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(_=>_[d+f]).then(_=>xm(_,c,d))}}return i.\u0275fac=function(a){return new(a||i)(_n(Yc),_n(DD,8))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function xm(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const g0=function(i){return null},Mv=yM(null,"core",[{provide:dD,useValue:"unknown"},{provide:wD,deps:[hn]},{provide:vD,deps:[]},{provide:fD,deps:[]}]),UD=[{provide:nh,useClass:nh,deps:[os,hn,ka,Ld,Xd]},{provide:NT,deps:[os],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Xd,useClass:Xd,deps:[[new Aa,r0]]},{provide:Yc,useClass:Yc,deps:[]},s0,{provide:$c,useFactory:function(){return ox},deps:[]},{provide:am,useFactory:function(){return ax},deps:[]},{provide:wv,useFactory:function(i){return xy(i=i||"undefined"!=typeof $localize&&$localize.locale||Sy),i},deps:[[new Sa(wv),new Aa,new ar]]},{provide:rM,useValue:"USD"}];let SM=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(_n(nh))},i.\u0275mod=Ao({type:i}),i.\u0275inj=En({providers:UD}),i})()},8939:(qe,Ee,F)=>{"use strict";F.d(Ee,{hO:()=>se,xv:()=>X,Dh:()=>ee,GT:()=>Q,cc:()=>ge,on:()=>L,pX:()=>ae});var u=F(7716),ne=F(7841),U=F(9259);qe=F.hmd(qe);const ue=["ngOnDestroy"],ae=(oe,ye,Pe,Ue={})=>new Proxy(oe,{get:(Rt,Nt)=>Pe.runOutsideAngular(()=>{var Wt;if(oe[Nt])return(null===(Wt=null==Ue?void 0:Ue.spy)||void 0===Wt?void 0:Wt.get)&&Ue.spy.get(Nt,oe[Nt]),oe[Nt];if(ue.indexOf(Nt)>-1)return()=>{};const Et=ye.toPromise().then(bn=>{const wt=bn&&bn[Nt];return"function"==typeof wt?wt.bind(bn):wt&&wt.then?wt.then(ft=>Pe.run(()=>ft)):Pe.run(()=>wt)});return new Proxy(()=>{},{get:(bn,wt)=>Et[wt],apply:(bn,wt,ft)=>Et.then(Kt=>{var pt;const Lt=Kt&&Kt(...ft);return(null===(pt=null==Ue?void 0:Ue.spy)||void 0===pt?void 0:pt.apply)&&Ue.spy.apply(Nt,ft,Lt),Lt})})})}),Q=(oe,ye)=>{ye.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Ue=>{Object.defineProperty(oe.prototype,Ue,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Ue))})})};class re{constructor(ye){return ye}}const ee=new u.OlP("angularfire2.app.options"),X=new u.OlP("angularfire2.app.name");function L(oe,ye,Pe){const Rt="object"==typeof Pe&&Pe||{};Rt.name=Rt.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Wt=ne.Z.apps.filter(Et=>Et&&Et.name===Rt.name)[0]||ye.runOutsideAngular(()=>ne.Z.initializeApp(oe,Rt));try{JSON.stringify(oe)!==JSON.stringify(Wt.options)&&j("error",`${Wt.name} Firebase App already initialized with different options${qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Et){}return new re(Wt)}const j=(oe,...ye)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[oe](...ye)},V={provide:re,useFactory:L,deps:[ee,u.R0b,[new u.FiY,X]]};let se=(()=>{class oe{constructor(Pe){ne.Z.registerVersion("angularfire",U.q4.full,"core"),ne.Z.registerVersion("angularfire",U.q4.full,"app-compat"),ne.Z.registerVersion("angular",u.q4F.full,Pe.toString())}static initializeApp(Pe,Ue){return{ngModule:oe,providers:[{provide:ee,useValue:Pe},{provide:X,useValue:Ue}]}}}return oe.\u0275fac=function(Pe){return new(Pe||oe)(u.LFG(u.Lbi))},oe.\u0275mod=u.oAB({type:oe}),oe.\u0275inj=u.cJS({providers:[V]}),oe})();function ge(oe,ye,Pe,Ue,Rt){const[,Nt,Wt]=globalThis.\u0275AngularfireInstanceCache.find(Et=>Et[0]===oe)||[];if(Nt)return function(oe,ye){try{return oe.toString()===ye.toString()}catch(Pe){return oe===ye}}(Rt,Wt)||(fe("error",`${ye} was already initialized on the ${Pe} Firebase App with different settings.${ve?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:Rt,was:Wt})),Nt;{const Et=Ue();return globalThis.\u0275AngularfireInstanceCache.push([oe,Et,Rt]),Et}}const ve=!!qe.hot,fe=(oe,...ye)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[oe](...ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9259:(qe,Ee,F)=>{"use strict";F.d(Ee,{q4:()=>Lh,iC:()=>Sn,HU:()=>zu,vb:()=>Ec,JM:()=>hs});var u=F(7716),ne=F(2329),U=F(8239),ue=F(8026),ae=F(3854),Q=F(3910),re=F(5422),ee=F(6676);const X="@firebase/installations",L="0.5.5",V=`w:${L}`,se="FIS_v2",ye=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(I){return I instanceof ae.ZR&&I.code.includes("request-failed")}function Ue({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Rt(I){return{token:I.token,requestStatus:2,expiresIn:Kt(I.expiresIn),creationTime:Date.now()}}function Nt(I,S){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,U.Z)(function*(I,S){const B=(yield S.json()).error;return ye.create("request-failed",{requestName:I,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Et({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function bn(I,{refreshToken:S}){const k=Et(I);return k.append("Authorization",function(I){return`${se} ${I}`}(S)),k}function wt(I){return ft.apply(this,arguments)}function ft(){return(ft=(0,U.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function Kt(I){return Number(I.replace("s","000"))}function Lt(I,S){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,U.Z)(function*(I,{fid:S}){const k=Ue(I),de={method:"POST",headers:Et(I),body:JSON.stringify({fid:S,authVersion:se,appId:I.appId,sdkVersion:V})},Ie=yield wt(()=>fetch(k,de));if(Ie.ok){const je=yield Ie.json();return{fid:je.fid||S,registrationStatus:2,refreshToken:je.refreshToken,authToken:Rt(je.authToken)}}throw yield Nt("Create Installation",Ie)})).apply(this,arguments)}function el(I){return new Promise(S=>{setTimeout(S,I)})}const Ws=/^[cdef][\w-]{21}$/;function Ht(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const k=function(I){return function(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Ws.test(k)?k:""}catch(I){return""}}function Cs(I){return`${I.appName}!${I.appId}`}const Do=new Map;function Is(I,S){const k=Cs(I);En(k,S),function(I,S){const k=(!Ut&&"BroadcastChannel"in self&&(Ut=new BroadcastChannel("[Firebase] FID Change"),Ut.onmessage=I=>{En(I.data.key,I.data.fid)}),Ut);k&&k.postMessage({key:I,fid:S}),0===Do.size&&Ut&&(Ut.close(),Ut=null)}(k,S)}function En(I,S){const k=Do.get(I);if(k)for(const B of k)B(S)}let Ut=null;const Se="firebase-installations-store";let rr=null;function Hn(){return rr||(rr=(0,ee.openDb)("firebase-installations-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(Se)}})),rr}function Ze(I,S){return zt.apply(this,arguments)}function zt(){return(zt=(0,U.Z)(function*(I,S){const k=Cs(I),te=(yield Hn()).transaction(Se,"readwrite"),de=te.objectStore(Se),Ie=yield de.get(k);return yield de.put(S,k),yield te.complete,(!Ie||Ie.fid!==S.fid)&&Is(I,S.fid),S})).apply(this,arguments)}function Ui(I){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,U.Z)(function*(I){const S=Cs(I),B=(yield Hn()).transaction(Se,"readwrite");yield B.objectStore(Se).delete(S),yield B.complete})).apply(this,arguments)}function nt(I,S){return rt.apply(this,arguments)}function rt(){return(rt=(0,U.Z)(function*(I,S){const k=Cs(I),te=(yield Hn()).transaction(Se,"readwrite"),de=te.objectStore(Se),Ie=yield de.get(k),je=S(Ie);return void 0===je?yield de.delete(k):yield de.put(je,k),yield te.complete,je&&(!Ie||Ie.fid!==je.fid)&&Is(I,je.fid),je})).apply(this,arguments)}function Ot(I){return kt.apply(this,arguments)}function kt(){return(kt=(0,U.Z)(function*(I){let S;const k=yield nt(I,B=>{const te=ei(B),de=Yt(I,te);return S=de.registrationPromise,de.installationEntry});return""===k.fid?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}})).apply(this,arguments)}function ei(I){return gt(I||{fid:Ht(),registrationStatus:0})}function Yt(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ye.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:k,registrationPromise:function(I,S){return et.apply(this,arguments)}(I,k)}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:wu(I)}:{installationEntry:S}}function et(){return(et=(0,U.Z)(function*(I,S){try{return Ze(I,yield Lt(I,S))}catch(k){throw Pe(k)&&409===k.customData.serverCode?yield Ui(I):yield Ze(I,{fid:S.fid,registrationStatus:0}),k}})).apply(this,arguments)}function wu(I){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,U.Z)(function*(I){let S=yield Xt(I);for(;1===S.registrationStatus;)yield el(100),S=yield Xt(I);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:B}=yield Ot(I);return B||k}return S})).apply(this,arguments)}function Xt(I){return nt(I,S=>{if(!S)throw ye.create("installation-not-found");return gt(S)})}function gt(I){return function(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Cu(I,S){return W.apply(this,arguments)}function W(){return(W=(0,U.Z)(function*({appConfig:I,platformLoggerProvider:S},k){const B=$(I,k),te=bn(I,k),de=S.getImmediate({optional:!0});de&&te.append("x-firebase-client",de.getPlatformInfoString());const je={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:V}})},Ge=yield wt(()=>fetch(B,je));if(Ge.ok)return Rt(yield Ge.json());throw yield Nt("Generate Auth Token",Ge)})).apply(this,arguments)}function $(I,{fid:S}){return`${Ue(I)}/${S}/authTokens:generate`}function K(I){return we.apply(this,arguments)}function we(){return(we=(0,U.Z)(function*(I,S=!1){let k;const B=yield nt(I.appConfig,de=>{if(!kn(de))throw ye.create("not-registered");const Ie=de.authToken;if(!S&&Er(Ie))return de;if(1===Ie.requestStatus)return k=le(I,S),de;{if(!navigator.onLine)throw ye.create("app-offline");const je=dr(de);return k=Vt(I,je),je}});return k?yield k:B.authToken})).apply(this,arguments)}function le(I,S){return $e.apply(this,arguments)}function $e(){return($e=(0,U.Z)(function*(I,S){let k=yield mt(I.appConfig);for(;1===k.authToken.requestStatus;)yield el(100),k=yield mt(I.appConfig);const B=k.authToken;return 0===B.requestStatus?K(I,S):B})).apply(this,arguments)}function mt(I){return nt(I,S=>{if(!kn(S))throw ye.create("not-registered");return function(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Vt(I,S){return On.apply(this,arguments)}function On(){return(On=(0,U.Z)(function*(I,S){try{const k=yield Cu(I,S),B=Object.assign(Object.assign({},S),{authToken:k});return yield Ze(I.appConfig,B),k}catch(k){if(!Pe(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Ze(I.appConfig,B)}else yield Ui(I.appConfig);throw k}})).apply(this,arguments)}function kn(I){return void 0!==I&&2===I.registrationStatus}function Er(I){return 2===I.requestStatus&&!function(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+36e5}(I)}function dr(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}function Ao(){return(Ao=(0,U.Z)(function*(I){const S=I,{installationEntry:k,registrationPromise:B}=yield Ot(S.appConfig);return B?B.catch(console.error):K(S).catch(console.error),k.fid})).apply(this,arguments)}function xo(){return(xo=(0,U.Z)(function*(I,S=!1){const k=I;return yield Iu(k.appConfig),(yield K(k,S)).token})).apply(this,arguments)}function Iu(I){return mi.apply(this,arguments)}function mi(){return(mi=(0,U.Z)(function*(I){const{registrationPromise:S}=yield Ot(I);S&&(yield S)})).apply(this,arguments)}function tn(I){return ye.create("missing-app-config-values",{valueName:I})}const Lr="installations";(0,ue._registerComponent)(new Q.wA(Lr,I=>{const S=I.getProvider("app").getImmediate();return{app:S,appConfig:function(I){if(!I||!I.options)throw tn("App Configuration");if(!I.name)throw tn("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!I.options[k])throw tn(k);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S),platformLoggerProvider:(0,ue._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new Q.wA("installations-internal",I=>{const S=I.getProvider("app").getImmediate(),k=(0,ue._getProvider)(S,Lr).getImmediate();return{getId:()=>function(I){return Ao.apply(this,arguments)}(k),getToken:te=>function(I){return xo.apply(this,arguments)}(k,te)}},"PRIVATE")),(0,ue.registerVersion)(X,L),(0,ue.registerVersion)(X,L,"esm2017");const ri="@firebase/remote-config",ir=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class il{constructor(S,k,B,te){this.client=S,this.storage=k,this.storageCache=B,this.logger=te}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-k,te=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${te}.`),te}fetch(S){var k=this;return(0,U.Z)(function*(){const[B,te]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(te&&k.isCachedDataFresh(S.cacheMaxAgeMillis,B))return te;S.eTag=te&&te.eTag;const de=yield k.client.fetch(S),Ie=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&Ie.push(k.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(Ie),de})()}}function ji(I=navigator){return I.languages&&I.languages[0]||I.language}class Hi{constructor(S,k,B,te,de,Ie){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=B,this.projectId=te,this.apiKey=de,this.appId=Ie}fetch(S){var k=this;return(0,U.Z)(function*(){const[B,te]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Ge={sdk_version:k.sdkVersion,app_instance_id:B,app_instance_id_token:te,app_id:k.appId,language_code:ji()},Pt={method:"POST",headers:je,body:JSON.stringify(Ge)},sn=fetch(Ie,Pt),Vn=new Promise((Zi,Wi)=>{S.signal.addEventListener(()=>{const ut=new Error("The operation was aborted.");ut.name="AbortError",Wi(ut)})});let Br;try{yield Promise.race([sn,Vn]),Br=yield sn}catch(Zi){let Wi="fetch-client-network";throw"AbortError"===Zi.name&&(Wi="fetch-timeout"),ir.create(Wi,{originalErrorMessage:Zi.message})}let Kn=Br.status;const Dl=Br.headers.get("ETag")||void 0;let Bo,Sl;if(200===Br.status){let Zi;try{Zi=yield Br.json()}catch(Wi){throw ir.create("fetch-client-parse",{originalErrorMessage:Wi.message})}Bo=Zi.entries,Sl=Zi.state}if("INSTANCE_STATE_UNSPECIFIED"===Sl?Kn=500:"NO_CHANGE"===Sl?Kn=304:("NO_TEMPLATE"===Sl||"EMPTY_CONFIG"===Sl)&&(Bo={}),304!==Kn&&200!==Kn)throw ir.create("fetch-status",{httpStatus:Kn});return{status:Kn,eTag:Dl,config:Bo}})()}}class Du{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,U.Z)(function*(){const B=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:B}){var te=this;return(0,U.Z)(function*(){yield function(I,S){return new Promise((k,B)=>{const te=Math.max(S-Date.now(),0),de=setTimeout(k,te);I.addEventListener(()=>{clearTimeout(de),B(ir.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const de=yield te.client.fetch(S);return yield te.storage.deleteThrottleMetadata(),de}catch(de){if(!function(I){if(!(I instanceof ae.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(de))throw de;const Ie={throttleEndTimeMillis:Date.now()+(0,ae.$s)(B),backoffCount:B+1};return yield te.storage.setThrottleMetadata(Ie),te.attemptFetch(S,Ie)}})()}}class Xm{constructor(S,k,B,te,de){this.app=S,this._client=k,this._storageCache=B,this._storage=te,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ec(I,S){const k=I.target.error||void 0;return ir.create(S,{originalErrorMessage:k&&k.message})}const ha="app_namespace_store";class e_{constructor(S,k,B,te=function(){return new Promise((I,S)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=B=>{S(ec(B,"storage-open"))},k.onsuccess=B=>{I(B.target.result)},k.onupgradeneeded=B=>{const te=B.target.result;switch(B.oldVersion){case 0:te.createObjectStore(ha,{keyPath:"compositeKey"})}}}catch(k){S(ir.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=S,this.appName=k,this.namespace=B,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,U.Z)(function*(){const B=yield k.openDbPromise;return new Promise((te,de)=>{const je=B.transaction([ha],"readonly").objectStore(ha),Ge=k.createCompositeKey(S);try{const Pt=je.get(Ge);Pt.onerror=sn=>{de(ec(sn,"storage-get"))},Pt.onsuccess=sn=>{const Vn=sn.target.result;te(Vn?Vn.value:void 0)}}catch(Pt){de(ir.create("storage-get",{originalErrorMessage:Pt&&Pt.message}))}})})()}set(S,k){var B=this;return(0,U.Z)(function*(){const te=yield B.openDbPromise;return new Promise((de,Ie)=>{const Ge=te.transaction([ha],"readwrite").objectStore(ha),Pt=B.createCompositeKey(S);try{const sn=Ge.put({compositeKey:Pt,value:k});sn.onerror=Vn=>{Ie(ec(Vn,"storage-set"))},sn.onsuccess=()=>{de()}}catch(sn){Ie(ir.create("storage-set",{originalErrorMessage:sn&&sn.message}))}})})()}delete(S){var k=this;return(0,U.Z)(function*(){const B=yield k.openDbPromise;return new Promise((te,de)=>{const je=B.transaction([ha],"readwrite").objectStore(ha),Ge=k.createCompositeKey(S);try{const Pt=je.delete(Ge);Pt.onerror=sn=>{de(ec(sn,"storage-delete"))},Pt.onsuccess=()=>{te()}}catch(Pt){de(ir.create("storage-delete",{originalErrorMessage:Pt&&Pt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class _h{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,U.Z)(function*(){const k=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),te=S.storage.getActiveConfig(),de=yield k;de&&(S.lastFetchStatus=de);const Ie=yield B;Ie&&(S.lastSuccessfulFetchTimestampMillis=Ie);const je=yield te;je&&(S.activeConfig=je)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Au(){return sl.apply(this,arguments)}function sl(){return(sl=(0,U.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(I){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new Q.wA("remote-config",function(S,{instanceIdentifier:k}){const B=S.getProvider("app").getImmediate(),te=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ir.create("registration-window");if(!(0,ae.hl)())throw ir.create("indexed-db-unavailable");const{projectId:de,apiKey:Ie,appId:je}=B.options;if(!de)throw ir.create("registration-project-id");if(!Ie)throw ir.create("registration-api-key");if(!je)throw ir.create("registration-app-id");const Ge=new e_(je,B.name,k=k||"firebase"),Pt=new _h(Ge),sn=new re.Yd(ri);sn.logLevel=re.in.ERROR;const Vn=new Hi(te,ue.SDK_VERSION,k,de,Ie,je),Br=new Du(Vn,Ge),Kn=new il(Br,Ge,Pt,sn),Dl=new Xm(B,Kn,Pt,Ge,sn);return function(I){const S=(0,ae.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Dl),Dl},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(ri,"0.3.4"),(0,ue.registerVersion)(ri,"0.3.4","esm2017");const tc="/firebase-messaging-sw.js",n_="/firebase-cloud-messaging-push-scope",nc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cs="google.c.a.c_id",rc="google.c.a.c_l",bi="google.c.a.ts",ic="google.c.a.e";var Ir=(()=>{return(I=Ir||(Ir={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Ir;var I})();function ls(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ol(I){const k=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(k),te=new Uint8Array(B.length);for(let de=0;de<B.length;++de)te[de]=B.charCodeAt(de);return te}const al="fcm_token_details_db",Dp="fcm_token_object_Store";function ii(I){return sc.apply(this,arguments)}function sc(){return(sc=(0,U.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(al))return null;let S=null;return(yield(0,ee.openDb)(al,5,function(){var B=(0,U.Z)(function*(te){var de;if(te.oldVersion<2||!te.objectStoreNames.contains(Dp))return;const Ie=te.transaction.objectStore(Dp),je=yield Ie.index("fcmSenderId").get(I);if(yield Ie.clear(),je)if(2===te.oldVersion){const Ge=je;if(!Ge.auth||!Ge.p256dh||!Ge.endpoint)return;S={token:Ge.fcmToken,createTime:null!==(de=Ge.createTime)&&void 0!==de?de:Date.now(),subscriptionOptions:{auth:Ge.auth,p256dh:Ge.p256dh,endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:"string"==typeof Ge.vapidKey?Ge.vapidKey:ls(Ge.vapidKey)}}}else if(3===te.oldVersion){const Ge=je;S={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:ls(Ge.auth),p256dh:ls(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:ls(Ge.vapidKey)}}}else if(4===te.oldVersion){const Ge=je;S={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:ls(Ge.auth),p256dh:ls(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:ls(Ge.vapidKey)}}}});return function(te){return B.apply(this,arguments)}}())).close(),yield(0,ee.deleteDb)(al),yield(0,ee.deleteDb)("fcm_vapid_details_db"),yield(0,ee.deleteDb)("undefined"),bh(S)?S:null})).apply(this,arguments)}function bh(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Js="firebase-messaging-store";let xu=null;function rn(){return xu||(xu=(0,ee.openDb)("firebase-messaging-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(Js)}})),xu}function Eh(I){return us.apply(this,arguments)}function us(){return(us=(0,U.Z)(function*(I){const S=ko(I),B=yield(yield rn()).transaction(Js).objectStore(Js).get(S);if(B)return B;{const te=yield ii(I.appConfig.senderId);if(te)return yield $i(I,te),te}})).apply(this,arguments)}function $i(I,S){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,U.Z)(function*(I,S){const k=ko(I),te=(yield rn()).transaction(Js,"readwrite");return yield te.objectStore(Js).put(S,k),yield te.complete,S})).apply(this,arguments)}function pa(I){return ll.apply(this,arguments)}function ll(){return(ll=(0,U.Z)(function*(I){const S=ko(I),B=(yield rn()).transaction(Js,"readwrite");yield B.objectStore(Js).delete(S),yield B.complete})).apply(this,arguments)}function ko({appConfig:I}){return I.appId}const $n=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xs(I,S){return eo.apply(this,arguments)}function eo(){return(eo=(0,U.Z)(function*(I,S){const k=yield oc(I),B=st(S),te={method:"POST",headers:k,body:JSON.stringify(B)};let de;try{de=yield(yield fetch(Nn(I.appConfig),te)).json()}catch(Ie){throw $n.create("token-subscribe-failed",{errorInfo:Ie})}if(de.error)throw $n.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw $n.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function pr(I,S){return ul.apply(this,arguments)}function ul(){return(ul=(0,U.Z)(function*(I,S){const k=yield oc(I),B=st(S.subscriptionOptions),te={method:"PATCH",headers:k,body:JSON.stringify(B)};let de;try{de=yield(yield fetch(`${Nn(I.appConfig)}/${S.token}`,te)).json()}catch(Ie){throw $n.create("token-update-failed",{errorInfo:Ie})}if(de.error)throw $n.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw $n.create("token-update-no-token");return de.token})).apply(this,arguments)}function dl(I,S){return to.apply(this,arguments)}function to(){return(to=(0,U.Z)(function*(I,S){const B={method:"DELETE",headers:yield oc(I)};try{const de=yield(yield fetch(`${Nn(I.appConfig)}/${S}`,B)).json();if(de.error)throw $n.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(te){throw $n.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function Nn({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function oc(I){return ac.apply(this,arguments)}function ac(){return(ac=(0,U.Z)(function*({appConfig:I,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function st({p256dh:I,auth:S,endpoint:k,vapidKey:B}){const te={web:{endpoint:k,auth:S,p256dh:I}};return B!==nc&&(te.web.applicationPubKey=B),te}const hl=6048e5;function wh(I){return fl.apply(this,arguments)}function fl(){return(fl=(0,U.Z)(function*(I){const S=yield pl(I.swRegistration,I.vapidKey),k={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:ls(S.getKey("auth")),p256dh:ls(S.getKey("p256dh"))},B=yield Eh(I.firebaseDependencies);if(B){if(gl(B.subscriptionOptions,k))return Date.now()>=B.createTime+hl?Mu(I,{token:B.token,createTime:Date.now(),subscriptionOptions:k}):B.token;try{yield dl(I.firebaseDependencies,B.token)}catch(te){console.warn(te)}return Ce(I.firebaseDependencies,k)}return Ce(I.firebaseDependencies,k)})).apply(this,arguments)}function Ch(I){return cc.apply(this,arguments)}function cc(){return(cc=(0,U.Z)(function*(I){const S=yield Eh(I.firebaseDependencies);S&&(yield dl(I.firebaseDependencies,S.token),yield pa(I.firebaseDependencies));const k=yield I.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Mu(I,S){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,U.Z)(function*(I,S){try{const k=yield pr(I.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield $i(I.firebaseDependencies,B),k}catch(k){throw yield Ch(I),k}})).apply(this,arguments)}function Ce(I,S){return It.apply(this,arguments)}function It(){return(It=(0,U.Z)(function*(I,S){const B={token:yield Xs(I,S),createTime:Date.now(),subscriptionOptions:S};return yield $i(I,B),B.token})).apply(this,arguments)}function pl(I,S){return cn.apply(this,arguments)}function cn(){return(cn=(0,U.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ol(S)})})).apply(this,arguments)}function gl(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}function ds(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function(I,S){if(!S.notification)return;I.notification={};const k=S.notification.title;k&&(I.notification.title=k);const B=S.notification.body;B&&(I.notification.body=B);const te=S.notification.image;te&&(I.notification.image=te)}(S,I),function(I,S){!S.data||(I.data=S.data)}(S,I),function(I,S){if(!S.fcmOptions)return;I.fcmOptions={};const k=S.fcmOptions.link;k&&(I.fcmOptions.link=k);const B=S.fcmOptions.analytics_label;B&&(I.fcmOptions.analyticsLabel=B)}(S,I),S}function Ih(I){return"object"==typeof I&&!!I&&cs in I}function Ru(I,S){const k=[];for(let B=0;B<I.length;B++)k.push(I.charAt(B)),B<S.length&&k.push(S.charAt(B));return k.join("")}function _a(I){return $n.create("missing-app-config-values",{valueName:I})}Ru("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ru("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fn{constructor(S,k,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(I){if(!I||!I.options)throw _a("App Configuration Object");if(!I.name)throw _a("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=I;for(const B of S)if(!k[B])throw _a(B);return{appName:I.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:te,installations:k,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Ei(I){return uc.apply(this,arguments)}function uc(){return(uc=(0,U.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(tc,{scope:n_}),I.swRegistration.update().catch(()=>{})}catch(S){throw $n.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function wi(I,S){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,U.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield Ei(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function Ou(I,S){return ml.apply(this,arguments)}function ml(){return(ml=(0,U.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=nc)})).apply(this,arguments)}function ku(){return(ku=(0,U.Z)(function*(I,S){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield Ou(I,null==S?void 0:S.vapidKey),yield wi(I,null==S?void 0:S.serviceWorkerRegistration),wh(I)})).apply(this,arguments)}function hc(I,S,k){return fc.apply(this,arguments)}function fc(){return(fc=(0,U.Z)(function*(I,S,k){const B=_l(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:k[cs],message_name:k[rc],message_time:k[bi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _l(I){switch(I){case Ir.NOTIFICATION_CLICKED:return"notification_open";case Ir.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function va(){return(va=(0,U.Z)(function*(I,S){const k=S.data;if(!k.isFirebaseMessaging)return;I.onMessageHandler&&k.messageType===Ir.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ds(k)):I.onMessageHandler.next(ds(k)));const B=k.data;Ih(B)&&"1"===B[ic]&&(yield hc(I,k.messageType,B))})).apply(this,arguments)}const Pu="@firebase/messaging";function Sh(){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,U.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new Q.wA("messaging",I=>{const S=new Fn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function(I,S){return va.apply(this,arguments)}(S,k)),S},"PUBLIC")),(0,ue._registerComponent)(new Q.wA("messaging-internal",I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:B=>function(I,S){return ku.apply(this,arguments)}(S,B)}},"PRIVATE")),(0,ue.registerVersion)(Pu,"0.9.6"),(0,ue.registerVersion)(Pu,"0.9.6","esm2017");const Ea="analytics",xp="firebase_id",ro="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pc="https://www.googletagmanager.com/gtag/js",Dn=new re.Yd("@firebase/analytics");function Lu(I){return Promise.all(I.map(S=>S.catch(k=>k)))}function Mp(I,S){const k=document.createElement("script");k.src=`${pc}?l=${I}&id=${S}`,k.async=!0,document.head.appendChild(k)}function wa(I,S,k,B,te,de){return xh.apply(this,arguments)}function xh(){return(xh=(0,U.Z)(function*(I,S,k,B,te,de){const Ie=B[te];try{if(Ie)yield S[Ie];else{const Ge=(yield Lu(k)).find(Pt=>Pt.measurementId===te);Ge&&(yield S[Ge.appId])}}catch(je){Dn.error(je)}I("config",te,de)})).apply(this,arguments)}function Ca(I,S,k,B,te){return io.apply(this,arguments)}function io(){return(io=(0,U.Z)(function*(I,S,k,B,te){try{let de=[];if(te&&te.send_to){let Ie=te.send_to;Array.isArray(Ie)||(Ie=[Ie]);const je=yield Lu(k);for(const Ge of Ie){const Pt=je.find(Vn=>Vn.measurementId===Ge),sn=Pt&&S[Pt.appId];if(!sn){de=[];break}de.push(sn)}}0===de.length&&(de=Object.values(S)),yield Promise.all(de),I("event",B,te||{})}catch(de){Dn.error(de)}})).apply(this,arguments)}function s_(){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(pc))return S;return null}const zi=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),vl=new class{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Op(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Bu(I){return so.apply(this,arguments)}function so(){return(so=(0,U.Z)(function*(I){var S;const{appId:k,apiKey:B}=I,te={method:"GET",headers:Op(B)},de=ro.replace("{app-id}",k),Ie=yield fetch(de,te);if(200!==Ie.status&&304!==Ie.status){let je="";try{const Ge=yield Ie.json();(null===(S=Ge.error)||void 0===S?void 0:S.message)&&(je=Ge.error.message)}catch(Ge){}throw zi.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:je})}return Ie.json()})).apply(this,arguments)}function Rh(I){return oi.apply(this,arguments)}function oi(){return(oi=(0,U.Z)(function*(I,S=vl,k){const{appId:B,apiKey:te,measurementId:de}=I.options;if(!B)throw zi.create("no-app-id");if(!te){if(de)return{measurementId:de,appId:B};throw zi.create("no-api-key")}const Ie=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new kp;return setTimeout((0,U.Z)(function*(){je.abort()}),void 0!==k?k:6e4),gc({appId:B,apiKey:te,measurementId:de},Ie,je,S)})).apply(this,arguments)}function gc(I,S,k){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,U.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:k},B,te=vl){const{appId:de,measurementId:Ie}=I;try{yield qv(B,S)}catch(je){if(Ie)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${je.message}]`),{appId:de,measurementId:Ie};throw je}try{const je=yield Bu(I);return te.deleteThrottleMetadata(de),je}catch(je){if(!Oh(je)){if(te.deleteThrottleMetadata(de),Ie)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${je.message}]`),{appId:de,measurementId:Ie};throw je}const Ge=503===Number(je.customData.httpStatus)?(0,ae.$s)(k,te.intervalMillis,30):(0,ae.$s)(k,te.intervalMillis),Pt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:k+1};return te.setThrottleMetadata(de,Pt),Dn.debug(`Calling attemptFetch again in ${Ge} millis`),gc(I,Pt,B,te)}})).apply(this,arguments)}function qv(I,S){return new Promise((k,B)=>{const te=Math.max(S-Date.now(),0),de=setTimeout(k,te);I.addEventListener(()=>{clearTimeout(de),B(zi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Oh(I){if(!(I instanceof ae.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}class kp{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function kh(){return bl.apply(this,arguments)}function bl(){return(bl=(0,U.Z)(function*(){if(!(0,ae.hl)())return Dn.warn(zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(I){return Dn.warn(zi.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function No(){return(No=(0,U.Z)(function*(I,S,k,B,te,de,Ie){var je;const Ge=Rh(I);Ge.then(Kn=>{k[Kn.measurementId]=Kn.appId,I.options.measurementId&&Kn.measurementId!==I.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kn=>Dn.error(Kn)),S.push(Ge);const Pt=kh().then(Kn=>{if(Kn)return B.getId()}),[sn,Vn]=yield Promise.all([Ge,Pt]);s_()||Mp(de,sn.measurementId),te("js",new Date);const Br=null!==(je=null==Ie?void 0:Ie.config)&&void 0!==je?je:{};return Br.origin="firebase",Br.update=!0,null!=Vn&&(Br[xp]=Vn),te("config",sn.measurementId,Br),sn.measurementId})).apply(this,arguments)}class gn{constructor(S){this.app=S}_delete(){return delete Ve[this.app.options.appId],Promise.resolve()}}let Ve={},St=[];const ju={};let _c,dn,Sr="dataLayer",Hu=!1;function vn(I,S,k){!function(){const I=[];if((0,ae.ru)()&&I.push("This is a browser extension environment."),(0,ae.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((B,te)=>`(${te+1}) ${B}`).join(" "),k=zi.create("invalid-analytics-context",{errorInfo:S});Dn.warn(k.message)}}();const B=I.options.appId;if(!B)throw zi.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw zi.create("no-api-key");Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ve[B])throw zi.create("already-exists",{id:B});if(!Hu){!function(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(Sr);const{wrappedGtag:de,gtagCore:Ie}=function(I,S,k,B,te){let de=function(...Ie){window[B].push(arguments)};return window[te]&&"function"==typeof window[te]&&(de=window[te]),window[te]=function(I,S,k,B){function de(){return(de=(0,U.Z)(function*(Ie,je,Ge){try{"event"===Ie?yield Ca(I,S,k,je,Ge):"config"===Ie?yield wa(I,S,k,B,je,Ge):I("set",je)}catch(Pt){Dn.error(Pt)}})).apply(this,arguments)}return function(Ie,je,Ge){return de.apply(this,arguments)}}(de,I,S,k),{gtagCore:de,wrappedGtag:window[te]}}(Ve,St,ju,Sr,"gtag");dn=de,_c=Ie,Hu=!0}return Ve[B]=function(I,S,k,B,te,de,Ie){return No.apply(this,arguments)}(I,St,ju,S,_c,Sr,k),new gn(I)}function El(){return(El=(0,U.Z)(function*(I,S,k,B,te){if(te&&te.global)I("event",k,B);else{const de=yield S;I("event",k,Object.assign(Object.assign({},B),{send_to:de}))}})).apply(this,arguments)}function Ii(){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,U.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(I){return!1}})).apply(this,arguments)}const Fh="@firebase/analytics";(0,ue._registerComponent)(new Q.wA(Ea,(S,{options:k})=>vn(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ue._registerComponent)(new Q.wA("analytics-internal",function(S){try{const k=S.getProvider(Ea).getImmediate();return{logEvent:(B,te,de)=>function(I,S,k,B){I=(0,ae.m9)(I),function(I,S,k,B,te){return El.apply(this,arguments)}(dn,Ve[I.app.options.appId],S,k,B).catch(te=>Dn.error(te))}(k,B,te,de)}}catch(k){throw zi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ue.registerVersion)(Fh,"0.7.5"),(0,ue.registerVersion)(Fh,"0.7.5","esm2017");var Zv=F(7771),bc=F(3637),Ta=F(3342),Il=F(9673),l_=F(6136);const Lh=new u.GfV("7.2.0"),$u="__angularfire_symbol__analyticsIsSupported",Os="__angularfire_symbol__remoteConfigIsSupported",ks="__angularfire_symbol__messagingIsSupported";function hs(I,S,k){if(S){if(1===S.length)return S[0];const de=S.filter(Ie=>Ie.app===k);if(1===de.length)return de[0]}return k.container.getProvider(I).getImmediate({optional:!0})}globalThis[$u]||(globalThis[$u]=Ii().then(I=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=I)),globalThis[ks]||(globalThis[ks]=Sh().then(I=>globalThis.__angularfire_symbol__messagingIsSupportedValue=I)),globalThis[Os]||(globalThis[Os]=Au().then(I=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=I));const Ec=(I,S)=>{const k=S?[S]:(0,ne.C6)(),B=[];return k.forEach(te=>{te.container.getProvider(I).instances.forEach(Ie=>{B.includes(Ie)||B.push(Ie)})}),B};function Di(){}class Ps{constructor(S,k=Zv.N){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,B){const te=this.zone;return this.delegate.schedule(function(Ie){te.runGuarded(()=>{S.apply(this,[Ie])})},k,B)}}class Vh{constructor(S){this.zone=S,this.task=null}call(S,k){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Di,{},Di,Di)),k.pipe((0,Ta.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zu=(()=>{class I{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Ps(Zone.current)),this.insideAngular=k.run(()=>new Ps(Zone.current,bc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(k){return new(k||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Uo(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Sn(I){return Uo(),function(I){return function(k){return(k=k.lift(new Vh(I.ngZone))).pipe((0,Il.R)(I.outsideAngular),(0,l_.QV)(I.insideAngular))}}(Uo())(I)}},3854:(qe,Ee,F)=>{"use strict";F.d(Ee,{BH:()=>se,LL:()=>Ke,ZR:()=>Lt,zI:()=>ft,US:()=>Q,tV:()=>X,$s:()=>Xt,r3:()=>un,Sg:()=>ge,ne:()=>rr,vZ:()=>Ut,ZB:()=>j,pd:()=>as,m9:()=>Cu,z$:()=>De,jU:()=>oe,ru:()=>ye,d:()=>Ue,xb:()=>En,w1:()=>Rt,hl:()=>bn,uI:()=>ve,UG:()=>fe,b$:()=>Pe,G6:()=>Et,Mn:()=>Nt,xO:()=>oa,zd:()=>Li,eu:()=>wt});const ue=function(W){const $=[];let K=0;for(let we=0;we<W.length;we++){let le=W.charCodeAt(we);le<128?$[K++]=le:le<2048?($[K++]=le>>6|192,$[K++]=63&le|128):55296==(64512&le)&&we+1<W.length&&56320==(64512&W.charCodeAt(we+1))?(le=65536+((1023&le)<<10)+(1023&W.charCodeAt(++we)),$[K++]=le>>18|240,$[K++]=le>>12&63|128,$[K++]=le>>6&63|128,$[K++]=63&le|128):($[K++]=le>>12|224,$[K++]=le>>6&63|128,$[K++]=63&le|128)}return $},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let le=0;le<W.length;le+=3){const $e=W[le],mt=le+1<W.length,Vt=mt?W[le+1]:0,On=le+2<W.length,kn=On?W[le+2]:0;let dr=(15&Vt)<<2|kn>>6,So=63&kn;On||(So=64,mt||(dr=64)),we.push(K[$e>>2],K[(3&$e)<<4|Vt>>4],K[dr],K[So])}return we.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(ue(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let K=0,we=0;for(;K<W.length;){const le=W[K++];if(le<128)$[we++]=String.fromCharCode(le);else if(le>191&&le<224){const $e=W[K++];$[we++]=String.fromCharCode((31&le)<<6|63&$e)}else if(le>239&&le<365){const On=((7&le)<<18|(63&W[K++])<<12|(63&W[K++])<<6|63&W[K++])-65536;$[we++]=String.fromCharCode(55296+(On>>10)),$[we++]=String.fromCharCode(56320+(1023&On))}else{const $e=W[K++],mt=W[K++];$[we++]=String.fromCharCode((15&le)<<12|(63&$e)<<6|63&mt)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const K=$?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let le=0;le<W.length;){const $e=K[W.charAt(le++)],Vt=le<W.length?K[W.charAt(le)]:0;++le;const kn=le<W.length?K[W.charAt(le)]:64;++le;const Ft=le<W.length?K[W.charAt(le)]:64;if(++le,null==$e||null==Vt||null==kn||null==Ft)throw Error();we.push($e<<2|Vt>>4),64!==kn&&(we.push(Vt<<4&240|kn>>2),64!==Ft&&we.push(kn<<6&192|Ft))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ee=function(W){return function(W){const $=ue(W);return Q.encodeByteArray($,!0)}(W).replace(/\./g,"")},X=function(W){try{return Q.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function j(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const K in $)!$.hasOwnProperty(K)||!V(K)||(W[K]=j(W[K],$[K]));return W}function V(W){return"__proto__"!==W}class se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,K)=>{this.resolve=$,this.reject=K})}wrapCallback($){return(K,we)=>{K?this.reject(K):this.resolve(we),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(K):$(K,we))}}}function ge(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=$||"demo-project",le=W.iat||0,$e=W.sub||W.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:le,exp:le+3600,auth_time:le,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(mt)),""].join(".")}function De(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function oe(){return"object"==typeof self&&self.self===self}function ye(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){return De().indexOf("Electron/")>=0}function Rt(){const W=De();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Nt(){return De().indexOf("MSAppHost/")>=0}function Et(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bn(){return"object"==typeof indexedDB}function wt(){return new Promise((W,$)=>{try{let K=!0;const we="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(we);le.onsuccess=()=>{le.result.close(),K||self.indexedDB.deleteDatabase(we),W(!0)},le.onupgradeneeded=()=>{K=!1},le.onerror=()=>{var $e;$((null===($e=le.error)||void 0===$e?void 0:$e.message)||"")}}catch(K){$(K)}})}function ft(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Lt extends Error{constructor($,K,we){super(K),this.code=$,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor($,K,we){this.service=$,this.serviceName=K,this.errors=we}create($,...K){const we=K[0]||{},le=`${this.service}/${$}`,$e=this.errors[$],mt=$e?function(W,$){return W.replace(Zs,(K,we)=>{const le=$[we];return null!=le?String(le):`<${we}?>`})}($e,we):"Error";return new Lt(le,`${this.serviceName}: ${mt} (${le}).`,we)}}const Zs=/\{\$([^}]+)}/g;function un(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function En(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function Ut(W,$){if(W===$)return!0;const K=Object.keys(W),we=Object.keys($);for(const le of K){if(!we.includes(le))return!1;const $e=W[le],mt=$[le];if(wn($e)&&wn(mt)){if(!Ut($e,mt))return!1}else if($e!==mt)return!1}for(const le of we)if(!K.includes(le))return!1;return!0}function wn(W){return null!==W&&"object"==typeof W}function oa(W){const $=[];for(const[K,we]of Object.entries(W))Array.isArray(we)?we.forEach(le=>{$.push(encodeURIComponent(K)+"="+encodeURIComponent(le))}):$.push(encodeURIComponent(K)+"="+encodeURIComponent(we));return $.length?"&"+$.join("&"):""}function Li(W){const $={};return W.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[le,$e]=we.split("=");$[decodeURIComponent(le)]=decodeURIComponent($e)}}),$}function as(W){const $=W.indexOf("?");if(!$)return"";const K=W.indexOf("#",$);return W.substring($,K>0?K:void 0)}function rr(W,$){const K=new Hn(W,$);return K.subscribe.bind(K)}class Hn{constructor($,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{$(this)}).catch(we=>{this.error(we)})}next($){this.forEachObserver(K=>{K.next($)})}error($){this.forEachObserver(K=>{K.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,K,we){let le;if(void 0===$&&void 0===K&&void 0===we)throw new Error("Missing Observer.");le=function(W,$){if("object"!=typeof W||null===W)return!1;for(const K of["next","error","complete"])if(K in W&&"function"==typeof W[K])return!0;return!1}($)?$:{next:$,error:K,complete:we},void 0===le.next&&(le.next=Ui),void 0===le.error&&(le.error=Ui),void 0===le.complete&&(le.complete=Ui);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(mt){}}),this.observers.push(le),$e}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,$)}sendOne($,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{K(this.observers[$])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ui(){}function Xt(W,$=1e3,K=2){const we=$*Math.pow(K,W),le=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+le)}function Cu(W){return W&&W._delegate?W._delegate:W}},2329:(qe,Ee,F)=>{"use strict";F.d(Ee,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=F(8026);(0,u.registerVersion)("firebase","9.6.3","app")},7841:(qe,Ee,F)=>{"use strict";F.d(Ee,{Z:()=>u.Z});var u=F(3394);u.Z.registerVersion("firebase","9.6.3","app-compat")},8402:(qe,Ee,F)=>{"use strict";F.r(Ee);var u=F(8239),ne=F(3394),U=F(3854),ue=F(8026);function ee(y,p){var g={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&p.indexOf(E)<0&&(g[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(E=Object.getOwnPropertySymbols(y);D<E.length;D++)p.indexOf(E[D])<0&&Object.prototype.propertyIsEnumerable.call(y,E[D])&&(g[E[D]]=y[E[D]])}return g}var Lt=F(5422),Ke=F(3910);const Do=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Is=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},un=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),En=new Lt.Yd("@firebase/auth");function nr(y,...p){En.logLevel<=Lt.in.ERROR&&En.error(`Auth (${ue.SDK_VERSION}): ${y}`,...p)}function Ut(y,...p){throw as(y,...p)}function wn(y,...p){return as(y,...p)}function oa(y,p,g){const E=Object.assign(Object.assign({},Is()),{[p]:g});return new U.LL("auth","Firebase",E).create(p,{appName:y.name})}function Li(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ut(y,"argument-error"),oa(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function as(y,...p){if("string"!=typeof y){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(g,...E)}return un.create(y,...p)}function Se(y,p,...g){if(!y)throw as(p,...g)}function rr(y){const p="INTERNAL ASSERTION FAILED: "+y;throw nr(p),new Error(p)}function Hn(y,p){y||rr(p)}const Ze=new Map;function zt(y){Hn(y instanceof Function,"Expected a class definition");let p=Ze.get(y);return p?(Hn(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ze.set(y,p),p)}function nt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function rt(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Yt{constructor(p,g){this.shortDelay=p,this.longDelay=g,Hn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rt()||(0,U.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ne(y,p){Hn(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class et{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ks=new Yt(3e4,6e4);function Xt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function gt(y,p,g,E){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(y,p,g,E,D={}){return Cu(y,D,(0,u.Z)(function*(){let R={},q={};E&&("GET"===p?q=E:R={body:JSON.stringify(E)});const ce=(0,U.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Oe=yield y._getAdditionalHeaders();return Oe["Content-Type"]="application/json",y.languageCode&&(Oe["X-Firebase-Locale"]=y.languageCode),et.fetch()(we(y,y.config.apiHost,g,ce),Object.assign({method:p,headers:Oe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Cu(y,p,g){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(y,p,g){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},wu),p);try{const D=new le(y),R=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw $e(y,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const ce=R.ok?q.errorMessage:q.error.message,[Oe,xe]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw $e(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Oe)throw $e(y,"email-already-in-use",q);const We=E[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(xe)throw oa(y,We,xe);Ut(y,We)}}catch(D){if(D instanceof U.ZR)throw D;Ut(y,"network-request-failed")}})).apply(this,arguments)}function $(y,p,g,E){return K.apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(y,p,g,E,D={}){const R=yield gt(y,p,g,E,D);return"mfaPendingCredential"in R&&Ut(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function we(y,p,g,E){const D=`${p}${g}?${E}`;return y.config.emulator?Ne(y.config,D):`${y.config.apiScheme}://${D}`}class le{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(wn(this.auth,"timeout")),Ks.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $e(y,p,g){const E={appName:y.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const D=wn(y,p,E);return D.customData._tokenResponse=g,D}function Vt(){return(Vt=(0,u.Z)(function*(y,p){return gt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function On(y,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(y,p){return gt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Er(y,p){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(y,p){return gt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function dr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ao(){return(Ao=(0,u.Z)(function*(y,p=!1){const g=(0,U.m9)(y),E=yield g.getIdToken(p),D=xo(E);Se(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const R="object"==typeof D.firebase?D.firebase:void 0,q=null==R?void 0:R.sign_in_provider;return{claims:D,token:E,authTime:dr(rl(D.auth_time)),issuedAtTime:dr(rl(D.iat)),expirationTime:dr(rl(D.exp)),signInProvider:q||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function rl(y){return 1e3*Number(y)}function xo(y){const[p,g,E]=y.split(".");if(void 0===p||void 0===g||void 0===E)return nr("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,U.tV)(g);return D?JSON.parse(D):(nr("Failed to decode base64 JWT payload"),null)}catch(D){return nr("Caught error parsing JWT payload as JSON",D),null}}function mi(y,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof U.ZR&&ti(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function ti({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Vi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class _i{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mo(y){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(y){var p;const g=y.auth,E=yield y.getIdToken(),D=yield mi(y,Er(g,{idToken:E}));Se(null==D?void 0:D.users.length,g,"internal-error");const R=D.users[0];y._notifyReloadListener(R);const q=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?Lr(R.providerUserInfo):[],ce=tn(y.providerData,q),We=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==ce?void 0:ce.length)),ze={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ce,metadata:new _i(R.createdAt,R.lastLoginAt),isAnonymous:We};Object.assign(y,ze)})).apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(y){const p=(0,U.m9)(y);yield Mo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function tn(y,p){return[...y.filter(E=>!p.some(D=>D.providerId===E.providerId)),...p]}function Lr(y){return y.map(p=>{var{providerId:g}=p,E=ee(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Pn(){return(Pn=(0,u.Z)(function*(y,p){const g=yield Cu(y,{},(0,u.Z)(function*(){const E=(0,U.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:R}=y.config,q=we(y,D,"/v1/token",`key=${R}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",et.fetch()(q,{method:"POST",headers:ce,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ni{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Se(p.idToken,"internal-error"),Se(void 0!==p.idToken,"internal-error"),Se(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=xo(y);return Se(p,"internal-error"),Se(void 0!==p.exp,"internal-error"),Se(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,u.Z)(function*(){return Se(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,u.Z)(function*(){const{accessToken:D,refreshToken:R,expiresIn:q}=yield function(y,p){return Pn.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(D,R,Number(q))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:D,expirationTime:R}=g,q=new ni;return E&&(Se("string"==typeof E,"internal-error",{appName:p}),q.refreshToken=E),D&&(Se("string"==typeof D,"internal-error",{appName:p}),q.accessToken=D),R&&(Se("number"==typeof R,"internal-error",{appName:p}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ni,this.toJSON())}_performRefresh(){return rr("not implemented")}}function nn(y,p){Se("string"==typeof y||void 0===y,"internal-error",{appName:p})}class ri{constructor(p){var{uid:g,auth:E,stsTokenManager:D}=p,R=ee(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Vi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new _i(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const E=yield mi(g,g.stsTokenManager.getToken(g.auth,p));return Se(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function(y){return Ao.apply(this,arguments)}(this,p)}reload(){return function(y){return Ct.apply(this,arguments)}(this)}_assign(p){this!==p&&(Se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ri(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,u.Z)(function*(){let D=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),D=!0),g&&(yield Mo(E)),yield E.auth._persistUserIfCurrent(E),D&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield mi(p,function(y,p){return Vt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,D,R,q,ce,Oe,xe,We;const ze=null!==(E=g.displayName)&&void 0!==E?E:void 0,xt=null!==(D=g.email)&&void 0!==D?D:void 0,cr=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Pa=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Hl=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,ng=null!==(Oe=g._redirectEventId)&&void 0!==Oe?Oe:void 0,P_=null!==(xe=g.createdAt)&&void 0!==xe?xe:void 0,ef=null!==(We=g.lastLoginAt)&&void 0!==We?We:void 0,{uid:rg,emailVerified:N_,isAnonymous:F_,providerData:$l,stsTokenManager:ad}=g;Se(rg&&ad,p,"internal-error");const L_=ni.fromJSON(this.name,ad);Se("string"==typeof rg,p,"internal-error"),nn(ze,p.name),nn(xt,p.name),Se("boolean"==typeof N_,p,"internal-error"),Se("boolean"==typeof F_,p,"internal-error"),nn(cr,p.name),nn(Pa,p.name),nn(Hl,p.name),nn(ng,p.name),nn(P_,p.name),nn(ef,p.name);const go=new ri({uid:rg,auth:p,email:xt,emailVerified:N_,displayName:ze,isAnonymous:F_,photoURL:Pa,phoneNumber:cr,tenantId:Hl,stsTokenManager:L_,createdAt:P_,lastLoginAt:ef});return $l&&Array.isArray($l)&&(go.providerData=$l.map(db=>Object.assign({},db))),ng&&(go._redirectEventId=ng),go}static _fromIdTokenResponse(p,g,E=!1){return(0,u.Z)(function*(){const D=new ni;D.updateFromServerResponse(g);const R=new ri({uid:g.localId,auth:p,stsTokenManager:D,isAnonymous:E});return yield Mo(R),R})()}}const at=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,E){var D=this;return(0,u.Z)(function*(){D.storage[g]=E})()}_get(g){var E=this;return(0,u.Z)(function*(){const D=E.storage[g];return void 0===D?null:D})()}_remove(g){var E=this;return(0,u.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return y.type="NONE",y})();function Ur(y,p,g){return`firebase:${y}:${p}:${g}`}class yi{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:D,name:R}=this.auth;this.fullUserKey=Ur(this.userKey,D.apiKey,R),this.fullPersistenceKey=Ur("persistence",D.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?ri._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,u.Z)(function*(){if(!g.length)return new yi(zt(at),p,E);const D=(yield Promise.all(g.map(function(){var xe=(0,u.Z)(function*(We){if(yield We._isAvailable())return We});return function(We){return xe.apply(this,arguments)}}()))).filter(xe=>xe);let R=D[0]||zt(at);const q=Ur(E,p.config.apiKey,p.name);let ce=null;for(const xe of g)try{const We=yield xe._get(q);if(We){const ze=ri._fromJSON(p,We);xe!==R&&(ce=ze),R=xe;break}}catch(We){}const Oe=D.filter(xe=>xe._shouldAllowMigration);return R._shouldAllowMigration&&Oe.length?(R=Oe[0],ce&&(yield R._set(q,ce.toJSON())),yield Promise.all(g.map(function(){var xe=(0,u.Z)(function*(We){if(We!==R)try{yield We._remove(q)}catch(ze){}});return function(We){return xe.apply(this,arguments)}}())),new yi(R,p,E)):new yi(R,p,E)})()}}function ir(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ys(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ca(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Zt(p))return"Blackberry";if(dh(p))return"Webos";if(sr(p))return"Safari";if((p.includes("chrome/")||la(p))&&!p.includes("edge/"))return"Chrome";if(Cr(p))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ca(y=(0,U.z$)()){return/firefox\//i.test(y)}function sr(y=(0,U.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function la(y=(0,U.z$)()){return/crios\//i.test(y)}function Ys(y=(0,U.z$)()){return/iemobile/i.test(y)}function Cr(y=(0,U.z$)()){return/android/i.test(y)}function Zt(y=(0,U.z$)()){return/blackberry/i.test(y)}function dh(y=(0,U.z$)()){return/webos/i.test(y)}function ua(y=(0,U.z$)()){return/iphone|ipad|ipod/i.test(y)}function Ts(y=(0,U.z$)()){return ua(y)||Cr(y)||dh(y)||Zt(y)||/windows phone/i.test(y)||Ys(y)}function hr(y,p=[]){let g;switch(y){case"Browser":g=ir((0,U.z$)());break;case"Worker":g=`${ir((0,U.z$)())}-${y}`;break;default:g=y}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${E}`}class Jm{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fr(this),this.idTokenSubscription=new fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=un,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=zt(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var D,R;if(!E._deleted&&(E.persistenceManager=yield yi.create(E,p),!E._deleted)){if(null===(D=E._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(q){}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var E;let D=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,q=null==D?void 0:D._redirectEventId,ce=yield g.tryRedirectSignIn(p);(!R||R===q)&&(null==ce?void 0:ce.user)&&(D=ce.user)}return D?D._redirectEventId?(Se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===D._redirectEventId?g.directlySetCurrentUser(D):g.reloadAndSetCurrentUserOrClear(D)):g.reloadAndSetCurrentUserOrClear(D):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(D){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield Mo(p)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const E=p?(0,U.m9)(p):null;return E&&Se(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return p&&Se(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(zt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new U.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,u.Z)(function*(){const D=yield E.getOrInitRedirectPersistenceManager(g);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&zt(p)||g._popupRedirectResolver;Se(E,g,"argument-error"),g.redirectPersistenceManager=yield yi.create(g,[zt(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var E,D;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,D){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,E,D):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){const g={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(g["X-Firebase-gmpid"]=p.app.options.appId),g})()}}function pn(y){return(0,U.m9)(y)}class fr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,U.ne)(g=>this.observer=g)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function ji(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Xa{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return rr("not implemented")}_getIdTokenResponse(p){return rr("not implemented")}_linkToIdToken(p,g){return rr("not implemented")}_getReauthenticationResolver(p){return rr("not implemented")}}function fh(y,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,u.Z)(function*(y,p){return gt(y,"POST","/v1/accounts:resetPassword",Xt(y,p))})).apply(this,arguments)}function Ip(y,p){return ph.apply(this,arguments)}function ph(){return(ph=(0,u.Z)(function*(y,p){return gt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xm(y,p){return ec.apply(this,arguments)}function ec(){return(ec=(0,u.Z)(function*(y,p){return gt(y,"POST","/v1/accounts:update",Xt(y,p))})).apply(this,arguments)}function gh(){return(gh=(0,u.Z)(function*(y,p){return $(y,"POST","/v1/accounts:signInWithPassword",Xt(y,p))})).apply(this,arguments)}function Su(y,p){return mh.apply(this,arguments)}function mh(){return(mh=(0,u.Z)(function*(y,p){return gt(y,"POST","/v1/accounts:sendOobCode",Xt(y,p))})).apply(this,arguments)}function e_(y,p){return _h.apply(this,arguments)}function _h(){return(_h=(0,u.Z)(function*(y,p){return Su(y,p)})).apply(this,arguments)}function t_(y,p){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,u.Z)(function*(y,p){return Su(y,p)})).apply(this,arguments)}function yh(y,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,u.Z)(function*(y,p){return Su(y,p)})).apply(this,arguments)}function sl(y,p){return tc.apply(this,arguments)}function tc(){return(tc=(0,u.Z)(function*(y,p){return Su(y,p)})).apply(this,arguments)}function nc(){return(nc=(0,u.Z)(function*(y,p){return $(y,"POST","/v1/accounts:signInWithEmailLink",Xt(y,p))})).apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(y,p){return $(y,"POST","/v1/accounts:signInWithEmailLink",Xt(y,p))})).apply(this,arguments)}class rc extends Xa{constructor(p,g,E,D=null){super("password",E),this._email=p,this._password=g,this._tenantId=D}static _fromEmailAndPassword(p,g){return new rc(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new rc(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function(y,p){return gh.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,p){return nc.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ut(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return Ip(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(y,p){return cs.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:Ut(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function bi(y,p){return ic.apply(this,arguments)}function ic(){return(ic=(0,u.Z)(function*(y,p){return $(y,"POST","/v1/accounts:signInWithIdp",Xt(y,p))})).apply(this,arguments)}class Ir extends Xa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Ir(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ut("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:D}=g,R=ee(g,["providerId","signInMethod"]);if(!E||!D)return null;const q=new Ir(E,D);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(p){return bi(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,bi(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,bi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,U.xO)(g)}return p}}function ls(y,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(y,p){return gt(y,"POST","/v1/accounts:sendVerificationCode",Xt(y,p))})).apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(y,p){return $(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,p))})).apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(y,p){const g=yield $(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,p));if(g.temporaryProof)throw $e(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const sc={USER_NOT_FOUND:"user-not-found"};function fa(){return(fa=(0,u.Z)(function*(y,p){return $(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),sc)})).apply(this,arguments)}class Oo extends Xa{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Oo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Oo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(y,p){return cl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(y,p){return ii.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return fa.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:D}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:R}=p;return E||g||D||R?new Oo({verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:R}):null}}class rn{constructor(p){var g,E,D,R,q,ce;const Oe=(0,U.zd)((0,U.pd)(p)),xe=null!==(g=Oe.apiKey)&&void 0!==g?g:null,We=null!==(E=Oe.oobCode)&&void 0!==E?E:null,ze=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Oe.mode)&&void 0!==D?D:null);Se(xe&&We&&ze,"argument-error"),this.apiKey=xe,this.operation=ze,this.code=We,this.continueUrl=null!==(R=Oe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Oe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ce=Oe.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const g=function(y){const p=(0,U.zd)((0,U.pd)(y)).link,g=p?(0,U.zd)((0,U.pd)(p)).deep_link_id:null,E=(0,U.zd)((0,U.pd)(y)).deep_link_id;return(E?(0,U.zd)((0,U.pd)(E)).link:null)||E||g||p||y}(p);try{return new rn(g)}catch(E){return null}}}let us=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,E){return rc._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const D=rn.parseLink(E);return Se(D,"argument-error"),rc._fromEmailAndCode(g,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class $i{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Qt extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class pa extends Qt{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Se("providerId"in g&&"signInMethod"in g,"argument-error"),Ir._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Se(p.idToken||p.accessToken,"argument-error"),Ir._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return pa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return pa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:D,pendingToken:R,nonce:q,providerId:ce}=p;if(!E&&!D&&!g&&!R||!ce)return null;try{return new pa(ce)._credential({idToken:g,accessToken:E,nonce:q,pendingToken:R})}catch(Oe){return null}}}let ll=(()=>{class y extends Qt{constructor(){super("facebook.com")}static credential(g){return Ir._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ko=(()=>{class y extends Qt{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Ir._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:D}=g;if(!E&&!D)return null;try{return y.credential(E,D)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),si=(()=>{class y extends Qt{constructor(){super("github.com")}static credential(g){return Ir._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Xs extends Xa{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return bi(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,bi(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,bi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:D,pendingToken:R}=g;return E&&D&&R&&E===D?new Xs(E,R):null}static _create(p,g){return new Xs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pr extends $i{constructor(p){Se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return pr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return pr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Xs.fromJSON(p);return Se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return Xs._create(E,g)}catch(D){return null}}}let ul=(()=>{class y extends Qt{constructor(){super("twitter.com")}static credential(g,E){return Ir._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:D}=g;if(!E||!D)return null;try{return y.credential(E,D)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function dl(y,p){return to.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(y,p){return $(y,"POST","/v1/accounts:signUp",Xt(y,p))})).apply(this,arguments)}class Nn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,D=!1){return(0,u.Z)(function*(){const R=yield ri._fromIdTokenResponse(p,E,D),q=oc(E);return new Nn({user:R,providerId:q,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const D=oc(E);return new Nn({user:p,providerId:D,_tokenResponse:E,operationType:g})})()}}function oc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function st(){return(st=(0,u.Z)(function*(y){var p;const g=pn(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Nn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield dl(g,{returnSecureToken:!0}),D=yield Nn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class hl extends U.ZR{constructor(p,g,E,D){var R;super(g.code,g.message),this.operationType=E,this.user=D,Object.setPrototypeOf(this,hl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,D){return new hl(p,g,E,D)}}function wh(y,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?hl._fromErrorAndOperation(y,R,p,E):R})}function fl(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function cc(){return(cc=(0,u.Z)(function*(y,p){const g=(0,U.m9)(y);yield Ce(!0,g,p);const{providerUserInfo:E}=yield On(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),D=fl(E||[]);return g.providerData=g.providerData.filter(R=>D.has(R.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Mu(y,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(y,p,g=!1){const E=yield mi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Nn._forOperation(y,"link",E)})).apply(this,arguments)}function Ce(y,p,g){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(y,p,g){yield Mo(p);const D=!1===y?"provider-already-linked":"no-such-provider";Se(fl(p.providerData).has(g)===y,p.auth,D)})).apply(this,arguments)}function pl(y,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(y,p,g=!1){const{auth:E}=y,D="reauthenticate";try{const R=yield mi(y,wh(E,D,p,y),g);Se(R.idToken,E,"internal-error");const q=xo(R.idToken);Se(q,E,"internal-error");const{sub:ce}=q;return Se(y.uid===ce,E,"user-mismatch"),Nn._forOperation(y,D,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Ut(E,"user-mismatch"),R}})).apply(this,arguments)}function gl(y,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(y,p,g=!1){const E="signIn",D=yield wh(y,E,p),R=yield Nn._fromIdTokenResponse(y,E,D);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Tr(y,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,u.Z)(function*(y,p){return gl(pn(y),p)})).apply(this,arguments)}function lc(y,p){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,u.Z)(function*(y,p){const g=(0,U.m9)(y);return yield Ce(!1,g,p.providerId),Mu(g,p)})).apply(this,arguments)}function Ru(y,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(y,p){return pl((0,U.m9)(y),p)})).apply(this,arguments)}function _a(y,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(y,p){return $(y,"POST","/v1/accounts:signInWithCustomToken",Xt(y,p))})).apply(this,arguments)}function uc(){return(uc=(0,u.Z)(function*(y,p){const g=pn(y),E=yield _a(g,{token:p,returnSecureToken:!0}),D=yield Nn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class wi{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Dr._fromServerResponse(p,g):Ut(p,"internal-error")}}class Dr extends wi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Dr(g)}}function Ou(y,p,g){var E;Se((null===(E=g.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),Se(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Se(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Se(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function dc(){return(dc=(0,u.Z)(function*(y,p,g){const E=(0,U.m9)(y),D={requestType:"PASSWORD_RESET",email:p};g&&Ou(E,D,g),yield t_(E,D)})).apply(this,arguments)}function hc(){return(hc=(0,u.Z)(function*(y,p,g){yield fh((0,U.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(y,p){yield Xm((0,U.m9)(y),{oobCode:p})})).apply(this,arguments)}function ya(y,p){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(y,p){const g=(0,U.m9)(y),E=yield fh(g,{oobCode:p}),D=E.requestType;switch(Se(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(E.mfaInfo,g,"internal-error");default:Se(E.email,g,"internal-error")}let R=null;return E.mfaInfo&&(R=wi._fromServerResponse(pn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:D}})).apply(this,arguments)}function Po(){return(Po=(0,u.Z)(function*(y,p){const{data:g}=yield ya((0,U.m9)(y),p);return g.email})).apply(this,arguments)}function Nu(){return(Nu=(0,u.Z)(function*(y,p,g){const E=pn(y),D=yield dl(E,{returnSecureToken:!0,email:p,password:g}),R=yield Nn._fromIdTokenResponse(E,"signIn",D);return yield E._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(y,p,g){const E=(0,U.m9)(y),D={requestType:"EMAIL_SIGNIN",email:p};Se(g.handleCodeInApp,E,"argument-error"),g&&Ou(E,D,g),yield yh(E,D)})).apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(y,p,g){const E=(0,U.m9)(y),D=us.credentialWithLink(p,g||nt());return Se(D._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Tr(E,D)})).apply(this,arguments)}function ba(y,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(y,p){return gt(y,"POST","/v1/accounts:createAuthUri",Xt(y,p))})).apply(this,arguments)}function Ap(){return(Ap=(0,u.Z)(function*(y,p){const E={identifier:p,continueUri:rt()?nt():"http://localhost"},{signinMethods:D}=yield ba((0,U.m9)(y),E);return D||[]})).apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(y,p){const g=(0,U.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Ou(g.auth,D,p);const{email:R}=yield e_(g.auth,D);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(y,p,g){const E=(0,U.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Ou(E.auth,R,g);const{email:q}=yield sl(E.auth,R);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function yl(y,p){return ro.apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(y,p){return gt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,U.m9)(y),R={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},q=yield mi(E,yl(E.auth,R));E.displayName=q.displayName||null,E.photoURL=q.photoUrl||null;const ce=E.providerData.find(({providerId:Oe})=>"password"===Oe);ce&&(ce.displayName=E.displayName,ce.photoURL=E.photoURL),yield E._updateTokensIfNecessary(q)})).apply(this,arguments)}function As(y,p,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(y,p,g){const{auth:E}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const q=yield mi(y,Ip(E,R));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class Ca{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class io extends Ca{constructor(p,g,E,D){super(p,g,E),this.username=D}}class Uu extends Ca{constructor(p,g){super(p,"facebook.com",g)}}class Vu extends io{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class s_ extends Ca{constructor(p,g){super(p,"google.com",g)}}class o_ extends io{constructor(p,g,E){super(p,"twitter.com",g,E)}}function zi(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,g;if(!y)return null;const{providerId:E}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const q=null===(g=null===(p=xo(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new Ca(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!E)return null;switch(E){case"facebook.com":return new Uu(R,D);case"github.com":return new Vu(R,D);case"google.com":return new s_(R,D);case"twitter.com":return new o_(R,D,y.screenName||null);case"custom":case"anonymous":return new Ca(R,null);default:return new Ca(R,E,D)}}(g)}class oi{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new oi("enroll",p)}static _fromMfaPendingCredential(p){return new oi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return oi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return oi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class gc{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=pn(p),D=g.customData._serverResponse,R=(D.mfaInfo||[]).map(ce=>wi._fromServerResponse(E,ce));Se(D.mfaPendingCredential,E,"internal-error");const q=oi._fromMfaPendingCredential(D.mfaPendingCredential);return new gc(q,R,function(){var ce=(0,u.Z)(function*(Oe){const xe=yield Oe._process(E,q);delete D.mfaInfo,delete D.mfaPendingCredential;const We=Object.assign(Object.assign({},D),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(g.operationType){case"signIn":const ze=yield Nn._fromIdTokenResponse(E,g.operationType,We);return yield E._updateCurrentUser(ze.user),ze;case"reauthenticate":return Se(g.user,E,"internal-error"),Nn._forOperation(g.user,g.operationType,We);default:Ut(E,"internal-error")}});return function(Oe){return ce.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function qv(y,p){return gt(y,"POST","/v2/accounts/mfaEnrollment:start",Xt(y,p))}class kh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>wi._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new kh(p)}getSession(){var p=this;return(0,u.Z)(function*(){return oi._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var E=this;return(0,u.Z)(function*(){const D=p,R=yield E.getSession(),q=yield mi(E.user,D._process(E.user.auth,R,g));return yield E.user._updateTokensIfNecessary(q),E.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const E="string"==typeof p?p:p.uid,D=yield g.user.getIdToken(),R=yield mi(g.user,function(y,p){return gt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(y,p))}(g.user.auth,{idToken:D,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==E),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const bl=new WeakMap,No="__sak";class gn{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ms=(()=>{class y extends gn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,U.z$)();return sr(y)||ua(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ts(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const D=this.storage.getItem(E),R=this.localCache[E];D!==R&&g(E,R,D)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((ce,Oe,xe)=>{this.notifyListeners(ce,xe)});const D=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(D);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!E)return}const R=()=>{const ce=this.storage.getItem(D);!E&&this.localCache[D]===ce||this.notifyListeners(D,ce)},q=this.storage.getItem(D);(0,U.w1)()&&10===document.documentMode&&q!==g.newValue&&g.newValue!==g.oldValue?setTimeout(R,10):R()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const R of Array.from(D))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var D=()=>super._set,R=this;return(0,u.Z)(function*(){yield D().call(R,g,E),R.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,D=this;return(0,u.Z)(function*(){const R=yield E().call(D,g);return D.localCache[g]=JSON.stringify(R),R})()}_remove(g){var E=()=>super._remove,D=this;return(0,u.Z)(function*(){yield E().call(D,g),delete D.localCache[g]})()}}return y.type="LOCAL",y})(),dn=(()=>{class y extends gn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return y.type="SESSION",y})();let a_=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(R=>R.isListeningto(g));if(E)return E;const D=new y(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,u.Z)(function*(){const D=g,{eventId:R,eventType:q,data:ce}=D.data,Oe=E.handlersMap[q];if(!(null==Oe?void 0:Oe.size))return;D.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const xe=Array.from(Oe).map(function(){var ze=(0,u.Z)(function*(xt){return xt(D.origin,ce)});return function(xt){return ze.apply(this,arguments)}}()),We=yield function(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(xe);D.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:We})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function oo(y="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return y+g}class vn{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var D=this;return(0,u.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,ce;return new Promise((Oe,xe)=>{const We=oo("",20);R.port1.start();const ze=setTimeout(()=>{xe(new Error("unsupported_event"))},E);ce={messageChannel:R,onMessage(xt){const cr=xt;if(cr.data.eventId===We)switch(cr.data.status){case"ack":clearTimeout(ze),q=setTimeout(()=>{xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Oe(cr.data.response);break;default:clearTimeout(ze),clearTimeout(q),xe(new Error("invalid_response"))}}},D.handlers.add(ce),R.port1.addEventListener("message",ce.onMessage),D.target.postMessage({eventType:p,eventId:We,data:g},[R.port2])}).finally(()=>{ce&&D.removeMessageHandler(ce)})})()}}function zn(){return window}function yc(){return void 0!==zn().WorkerGlobalScope&&"function"==typeof zn().importScripts}function wl(){return(wl=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ci="firebaseLocalStorageDb",Gi="firebaseLocalStorage",Fo="fbase_key";class Vr{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ii(y,p){return y.transaction([Gi],p?"readwrite":"readonly").objectStore(Gi)}function ot(){const y=indexedDB.open(Ci,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Gi,{keyPath:Fo})}catch(D){g(D)}}),y.addEventListener("success",(0,u.Z)(function*(){const E=y.result;E.objectStoreNames.contains(Gi)?p(E):(E.close(),yield function(){const y=indexedDB.deleteDatabase(Ci);return new Vr(y).toPromise()}(),p(yield ot()))}))})}function Ti(y,p,g){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(y,p,g){const E=Ii(y,!0).put({[Fo]:p,value:g});return new Vr(E).toPromise()})).apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(y,p){const g=Ii(y,!1).get(p),E=yield new Vr(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Fh(y,p){const g=Ii(y,!0).delete(p);return new Vr(g).toPromise()}const bc=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield ot()),g.db})()}_withRetries(g){var E=this;return(0,u.Z)(function*(){let D=0;for(;;)try{const R=yield E._openDb();return yield g(R)}catch(R){if(D++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return yc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=a_._getInstance(yc()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(D,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(D,R){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(D,R){return["keyChanged"]});return function(D,R){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var E,D;if(g.activeServiceWorker=yield function(){return wl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new vn(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(E=R[0])||void 0===E?void 0:E.fulfilled)&&(null===(D=R[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ot();return yield Ti(g,No,"1"),yield Fh(g,No),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var D=this;return(0,u.Z)(function*(){return D._withPendingWrite((0,u.Z)(function*(){return yield D._withRetries(R=>Ti(R,g,E)),D.localCache[g]=E,D.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,u.Z)(function*(){const D=yield E._withRetries(R=>function(y,p){return mn.apply(this,arguments)}(R,g));return E.localCache[g]=D,D})()}_remove(g){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(D=>Fh(D,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const E=yield g._withRetries(q=>{const ce=Ii(q,!1).getAll();return new Vr(ce).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const D=[],R=new Set;for(const{fbase_key:q,value:ce}of E)R.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(ce)&&(g.notifyListeners(q,ce),D.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!R.has(q)&&(g.notifyListeners(q,null),D.push(q));return D})()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const R of Array.from(D))R(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ta(y,p){return gt(y,"POST","/v2/accounts/mfaSignIn:start",Xt(y,p))}function Lh(){return(Lh=(0,u.Z)(function*(y){return(yield gt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $u(y){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=p,E.onerror=D=>{const R=wn("internal-error");R.customData=D,g(R)},E.type="text/javascript",E.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(E)})}function Lo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ks=1e12;class Un{constructor(p){this.auth=p,this.counter=ks,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new Tl(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||ks;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ks))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var E;return null===(E=g._widgets.get(p||ks))||void 0===E||E.execute(),""})()}}class Tl{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;Se(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ai=Lo("rcb"),hs=new Yt(3e4,6e4);class Di{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zn().grecaptcha}load(p,g=""){return Se((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(zn().grecaptcha):new Promise((E,D)=>{const R=zn().setTimeout(()=>{D(wn(p,"network-request-failed"))},hs.get());zn()[ai]=()=>{zn().clearTimeout(R),delete zn()[ai];const ce=zn().grecaptcha;if(!ce)return void D(wn(p,"internal-error"));const Oe=ce.render;ce.render=(xe,We)=>{const ze=Oe(xe,We);return this.counter++,ze},this.hostLanguage=g,E(ce)},$u(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:ai,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),D(wn(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!zn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vh{load(p){return(0,u.Z)(function*(){return new Un(p)})()}clearedOneInstance(){}}const zu="recaptcha",Uo={theme:"light",type:"image"};class u_{constructor(p,g=Object.assign({},Uo),E){this.parameters=g,this.type=zu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(E),this.isInvisible="invisible"===this.parameters.size,Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;Se(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vh:new Di,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(R=>{const q=ce=>{!ce||(p.tokenChangeListeners.delete(q),R(ce))};p.tokenChangeListeners.add(q),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=zn()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){Se(rt()&&!yc(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(y){return Lh.apply(this,arguments)}(p.auth);Se(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gu{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Oo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Sn(){return(Sn=(0,u.Z)(function*(y,p,g){const E=pn(y),D=yield S(E,p,(0,U.m9)(g));return new Gu(D,R=>Tr(E,R))})).apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(y,p,g){const E=(0,U.m9)(y);yield Ce(!1,E,"phone");const D=yield S(E.auth,p,(0,U.m9)(g));return new Gu(D,R=>lc(E,R))})).apply(this,arguments)}function I(){return(I=(0,u.Z)(function*(y,p,g){const E=(0,U.m9)(y),D=yield S(E.auth,p,(0,U.m9)(g));return new Gu(D,R=>Ru(E,R))})).apply(this,arguments)}function S(y,p,g){return k.apply(this,arguments)}function k(){return(k=(0,u.Z)(function*(y,p,g){var E;const D=yield g.verify();try{let R;if(Se("string"==typeof D,y,"argument-error"),Se(g.type===zu,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const q=R.session;if("phoneNumber"in R)return Se("enroll"===q.type,y,"internal-error"),(yield qv(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Se("signin"===q.type,y,"internal-error");const ce=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return Se(ce,y,"missing-multi-factor-info"),(yield Ta(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield ls(y,{phoneNumber:R.phoneNumber,recaptchaToken:D});return q}}finally{g._reset()}})).apply(this,arguments)}function te(){return(te=(0,u.Z)(function*(y,p){yield Mu((0,U.m9)(y),p)})).apply(this,arguments)}let de=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=pn(g)}verifyPhoneNumber(g,E){return S(this.auth,g,(0,U.m9)(E))}static credential(g,E){return Oo._fromVerification(g,E)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:D}=g;return E&&D?Oo._fromTokenResponse(E,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ie(y,p){return p?zt(p):(Se(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class je extends Xa{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return bi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return bi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return bi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ge(y){return gl(y.auth,new je(y),y.bypassAuthState)}function Pt(y){const{auth:p,user:g}=y;return Se(g,p,"internal-error"),pl(g,new je(y),y.bypassAuthState)}function sn(y){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(y){const{auth:p,user:g}=y;return Se(g,p,"internal-error"),Mu(g,new je(y),y.bypassAuthState)})).apply(this,arguments)}class Br{constructor(p,g,E,D,R=!1){this.auth=p,this.resolver=E,this.user=D,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(E,D){p.pendingPromise={resolve:E,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(E,D){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:D,postBody:R,tenantId:q,error:ce,type:Oe}=p;if(ce)return void g.reject(ce);const xe={auth:g.auth,requestUri:E,sessionId:D,tenantId:q||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Oe)(xe))}catch(We){g.reject(We)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ge;case"linkViaPopup":case"linkViaRedirect":return sn;case"reauthViaPopup":case"reauthViaRedirect":return Pt;default:Ut(this.auth,"internal-error")}}resolve(p){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kn=new Yt(2e3,1e4);function Bo(){return(Bo=(0,u.Z)(function*(y,p,g){const E=pn(y);Li(y,p,$i);const D=Ie(E,g);return new Pp(E,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function Zi(){return(Zi=(0,u.Z)(function*(y,p,g){const E=(0,U.m9)(y);Li(E.auth,p,$i);const D=Ie(E.auth,g);return new Pp(E.auth,"reauthViaPopup",p,D,E).executeNotNull()})).apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(y,p,g){const E=(0,U.m9)(y);Li(E.auth,p,$i);const D=Ie(E.auth,g);return new Pp(E.auth,"linkViaPopup",p,D,E).executeNotNull()})).apply(this,arguments)}let Pp=(()=>{class y extends Br{constructor(g,E,D,R,q){super(g,E,R,q),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const E=yield g.execute();return Se(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,u.Z)(function*(){Hn(1===g.filter.length,"Popup operations only handle one event");const E=oo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(wn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,D;this.pollId=(null===(D=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Kn.get())};g()}}return y.currentPopupAction=null,y})();const Al=new Map;class Np extends Br{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let E=Al.get(g.auth._key());if(!E){try{const R=(yield function(y,p){return Cc.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(R)}catch(D){E=()=>Promise.reject(D)}Al.set(g.auth._key(),E)}return g.bypassAuthState||Al.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const D=yield E.auth._redirectUserForId(p.eventId);if(D)return E.user=D,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Cc(){return(Cc=(0,u.Z)(function*(y,p){const g=Sa(p),E=d_(y);if(!(yield E._isAvailable()))return!1;const D="true"===(yield E._get(g));return yield E._remove(g),D})).apply(this,arguments)}function Fp(y,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(y,p){return d_(y)._set(Sa(p),"true")})).apply(this,arguments)}function d_(y){return zt(y._redirectPersistence)}function Sa(y){return Ur("pendingRedirect",y.config.apiKey,y.name)}function ar(){return(ar=(0,u.Z)(function*(y,p,g){const E=pn(y);Li(y,p,$i);const D=Ie(E,g);return yield Fp(D,E),D._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(y,p,g){const E=(0,U.m9)(y);Li(E.auth,p,$i);const D=Ie(E.auth,g);yield Fp(D,E.auth);const R=yield Ic(E);return D._openRedirect(E.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function jh(){return(jh=(0,u.Z)(function*(y,p,g){const E=(0,U.m9)(y);Li(E.auth,p,$i);const D=Ie(E.auth,g);yield Ce(!1,E,p.providerId),yield Fp(D,E.auth);const R=yield Ic(E);return D._openRedirect(E.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(y,p){return yield pn(y)._initializationPromise,Ho(y,p,!1)})).apply(this,arguments)}function Ho(y,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,u.Z)(function*(y,p,g=!1){const E=pn(y),D=Ie(E,p),q=yield new Np(E,D,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield E._persistUserIfCurrent(q.user),yield E._setRedirectUser(null,p)),q})).apply(this,arguments)}function Ic(y){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(y){const p=oo(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Yv{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p_(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!p_(p)){const D=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(wn(this.auth,D))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xa(p))}saveEventToCache(p){this.cachedEventUids.add(xa(p)),this.lastProcessedEventTime=Date.now()}}function xa(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function p_({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Rl(y){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,u.Z)(function*(y,p={}){return gt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const $o=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ku=/^https?/;function Yu(){return(Yu=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Rl(y);for(const g of p)try{if(Hh(g))return}catch(E){}Ut(y,"unauthorized-domain")})).apply(this,arguments)}function Hh(y){const p=nt(),{protocol:g,hostname:E}=new URL(p);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===E?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===E}if(!Ku.test(g))return!1;if($o.test(y))return E===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(E)}const Qu=new Yt(3e4,6e4);function Ol(){const y=zn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let kl=null;function Tc(y){return kl=kl||function(y){return new Promise((p,g)=>{var E,D,R;function q(){Ol(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ol(),g(wn(y,"network-request-failed"))},timeout:Qu.get()})}if(null===(D=null===(E=zn().gapi)||void 0===E?void 0:E.iframes)||void 0===D?void 0:D.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=zn().gapi)||void 0===R?void 0:R.load)){const ce=Lo("iframefcb");return zn()[ce]=()=>{gapi.load?q():g(wn(y,"network-request-failed"))},$u(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Oe=>g(Oe))}q()}}).catch(p=>{throw kl=null,p})}(y),kl}const Qv=new Yt(5e3,15e3),Xv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zo(y){const p=y.config;Se(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Ne(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:y.name,v:ue.SDK_VERSION},D=eb.get(y.config.apiHost);D&&(E.eid=D);const R=y._getFrameworks();return R.length&&(E.fw=R.join(",")),`${g}?${(0,U.xO)(E).slice(1)}`}function zh(){return(zh=(0,u.Z)(function*(y){const p=yield Tc(y),g=zn().gapi;return Se(g,y,"internal-error"),p.open({where:document.body,url:zo(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xv,dontclear:!0},E=>new Promise(function(){var D=(0,u.Z)(function*(R,q){yield E.restyle({setHideOnLeave:!1});const ce=wn(y,"network-request-failed"),Oe=zn().setTimeout(()=>{q(ce)},Qv.get());function xe(){zn().clearTimeout(Oe),R(E)}E.ping(xe).then(xe,()=>{q(ce)})});return function(R,q){return D.apply(this,arguments)}}()))})).apply(this,arguments)}const m_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function v_(y,p,g,E,D,R){Se(y.config.authDomain,y,"auth-domain-config-required"),Se(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:E,v:ue.SDK_VERSION,eventId:D};if(p instanceof $i){p.setDefaultLanguage(y.languageCode),q.providerId=p.providerId||"",(0,U.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Oe,xe]of Object.entries(R||{}))q[Oe]=xe}if(p instanceof Qt){const Oe=p.getScopes().filter(xe=>""!==xe);Oe.length>0&&(q.scopes=Oe.join(","))}y.tenantId&&(q.tid=y.tenantId);const ce=q;for(const Oe of Object.keys(ce))void 0===ce[Oe]&&delete ce[Oe];return`${function({config:y}){return y.emulator?Ne(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,U.xO)(ce).slice(1)}`}const Ma="webStorageSupport";class Nl extends class{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return rr("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Nl(p)}_finalizeEnroll(p,g,E){return function(y,p){return gt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(y,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(y,p){return gt(y,"POST","/v2/accounts/mfaSignIn:finalize",Xt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let b_=(()=>{class y{constructor(){}static assertion(g){return Nl._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Fl="@firebase/auth";class K0{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{var D;p((null===(D=E)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yi(){return window}function ed(){return(ed=(0,u.Z)(function*(y,p,g){var E;const{BuildInfo:D}=Yi();Hn(p.sessionId,"AuthEvent did not contain a session ID");const R=yield rd(p.sessionId),q={};return ua()?q.ibi=D.packageName:Cr()?q.apn=D.packageName:Ut(y,"operation-not-supported-in-this-environment"),D.displayName&&(q.appDisplayName=D.displayName),q.sessionId=R,v_(y,g,p.type,void 0,null!==(E=p.eventId)&&void 0!==E?E:void 0,q)})).apply(this,arguments)}function td(){return(td=(0,u.Z)(function*(y){const{BuildInfo:p}=Yi(),g={};ua()?g.iosBundleId=p.packageName:Cr()?g.androidPackageName=p.packageName:Ut(y,"operation-not-supported-in-this-environment"),yield Rl(y,g)})).apply(this,arguments)}function Wh(){return(Wh=(0,u.Z)(function*(y,p,g){const{cordova:E}=Yi();let D=()=>{};try{yield new Promise((R,q)=>{let ce=null;function Oe(){var ze;R();const xt=null===(ze=E.plugins.browsertab)||void 0===ze?void 0:ze.close;"function"==typeof xt&&xt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function xe(){ce||(ce=window.setTimeout(()=>{q(wn(y,"redirect-cancelled-by-user"))},2e3))}function We(){"visible"===(null==document?void 0:document.visibilityState)&&xe()}p.addPassiveListener(Oe),document.addEventListener("resume",xe,!1),Cr()&&document.addEventListener("visibilitychange",We,!1),D=()=>{p.removePassiveListener(Oe),document.removeEventListener("resume",xe,!1),document.removeEventListener("visibilitychange",We,!1),ce&&window.clearTimeout(ce)}})}finally{D()}})).apply(this,arguments)}function rd(y){return id.apply(this,arguments)}function id(){return(id=(0,u.Z)(function*(y){const p=$p(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $p(y){if(Hn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let E=0;E<y.length;E++)g[E]=y.charCodeAt(E);return g}y="Browser",(0,ue._registerComponent)(new Ke.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),{apiKey:D,authDomain:R}=E.options;return(q=>{Se(D&&!D.includes(":"),"invalid-api-key",{appName:q.name}),Se(!(null==R?void 0:R.includes(":")),"argument-error",{appName:q.name});const ce={apiKey:D,authDomain:R,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hr(y)},Oe=new Jm(q,ce);return function(y,p){const g=(null==p?void 0:p.persistence)||[],E=(Array.isArray(g)?g:[g]).map(zt);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(Oe,g),Oe})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new Ke.wA("auth-internal",p=>{const g=pn(p.getProvider("auth").getImmediate());return new K0(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Fl,"0.19.5",void 0),(0,ue.registerVersion)(Fl,"0.19.5","esm2017");class zp extends Yv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function qp(y){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,u.Z)(function*(y){const p=yield lo()._get(Wp(y));return p&&(yield lo()._remove(Wp(y))),p})).apply(this,arguments)}function Zp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*p.length);y.push(p.charAt(E))}return y.join("")}function lo(){return zt(Ms)}function Wp(y){return Ur("authEvent",y.config.apiKey,y.name)}function Ra(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,U.zd)(g.join("?"))}function Ac(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:wn("no-auth-event")}}function Bl(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Qp(y=(0,U.z$)()){return!("file:"!==Bl()&&"ionic:"!==Bl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function I_(){try{const y=self.localStorage,p=oo();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,U.z$)()){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,U.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,U.hl)()}catch(y){return Xp()&&(0,U.hl)()}return!1}function Xp(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qh(){return("http:"===Bl()||"https:"===Bl()||(0,U.ru)()||Qp())&&!((0,U.b$)()||(0,U.UG)())&&I_()&&!Xp()}function xc(){return Qp()&&"undefined"!=typeof document}function Jh(){return(Jh=(0,u.Z)(function*(){return!!xc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const jr={LOCAL:"local",NONE:"none",SESSION:"session"},Mc=Se,Oa="persistence";function tg(y){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(y){yield y._initializationPromise;const p=D_(),g=Ur(Oa,y.config.apiKey,y.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,y._getPersistence())})).apply(this,arguments)}function D_(){return"undefined"!=typeof window?window:null}const ub=Se;class uo{constructor(){this.browserResolver=zt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dn,this._completeRedirectFn=Ho}_openPopup(p,g,E,D){var R=this;return(0,u.Z)(function*(){var q;Hn(null===(q=R.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ce=v_(p,g,E,nt(),D);return function(y,p,g,E=500,D=600){const R=Math.max((window.screen.availHeight-D)/2,0).toString(),q=Math.max((window.screen.availWidth-E)/2,0).toString();let ce="";const Oe=Object.assign(Object.assign({},m_),{width:E.toString(),height:D.toString(),top:R,left:q}),xe=(0,U.z$)().toLowerCase();g&&(ce=la(xe)?"_blank":g),ca(xe)&&(p=p||"http://localhost",Oe.scrollbars="yes");const We=Object.entries(Oe).reduce((xt,[cr,Pa])=>`${xt}${cr}=${Pa},`,"");if(function(y=(0,U.z$)()){var p;return ua(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(xe)&&"_self"!==ce)return function(y,p){const g=document.createElement("a");g.href=y,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",ce),new Gh(null);const ze=window.open(p||"",ce,We);Se(ze,y,"popup-blocked");try{ze.focus()}catch(xt){}return new Gh(ze)}(p,ce,oo())})()}_openRedirect(p,g,E,D){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(p),y=v_(p,g,E,nt(),D),zn().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:D,promise:R}=this.eventManagers[g];return D?Promise.resolve(D):(Hn(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const E=yield function(y){return zh.apply(this,arguments)}(p),D=new Yv(p);return E.register("authEvent",R=>(Se(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:D.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:D},g.iframes[p._key()]=E,D})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Ma,{type:Ma},D=>{var R;const q=null===(R=null==D?void 0:D[0])||void 0===R?void 0:R[Ma];void 0!==q&&g(!!q),Ut(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return Yu.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ts()||sr()||ua()}}),this.cordovaResolver=zt(class{constructor(){this._redirectPersistence=dn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ho}_initialize(p){var g=this;return(0,u.Z)(function*(){const E=p._key();let D=g.eventManagers.get(E);return D||(D=new zp(p),g.eventManagers.set(E,D),g.attachCallbackListeners(p,D)),D})()}_openPopup(p){Ut(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,E,D){var R=this;return(0,u.Z)(function*(){!function(y){var p,g,E,D,R,q,ce,Oe,xe,We;const ze=Yi();Se("function"==typeof(null===(p=null==ze?void 0:ze.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(void 0!==(null===(g=null==ze?void 0:ze.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(R=null===(D=null===(E=null==ze?void 0:ze.cordova)||void 0===E?void 0:E.plugins)||void 0===D?void 0:D.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(Oe=null===(ce=null===(q=null==ze?void 0:ze.cordova)||void 0===q?void 0:q.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Oe?void 0:Oe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(We=null===(xe=null==ze?void 0:ze.cordova)||void 0===xe?void 0:xe.InAppBrowser)||void 0===We?void 0:We.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield R._initialize(p);yield q.initialized(),q.resetRedirect(),Al.clear(),yield R._originValidation(p);const ce=function(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Zp(),postBody:null,tenantId:y.tenantId,error:wn(y,"no-auth-event")}}(p,E,D);yield function(y,p){return lo()._set(Wp(y),p)}(p,ce);const Oe=yield function(y,p,g){return ed.apply(this,arguments)}(p,ce,g),xe=yield function(y){const{cordova:p}=Yi();return new Promise(g=>{p.plugins.browsertab.isAvailable(E=>{let D=null;E?p.plugins.browsertab.openUrl(y):D=p.InAppBrowser.open(y,function(y=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(D)})})}(Oe);return function(y,p,g){return Wh.apply(this,arguments)}(p,q,xe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return td.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:E,handleOpenURL:D,BuildInfo:R}=Yi(),q=setTimeout((0,u.Z)(function*(){yield qp(p),g.onEvent(Ac())}),500),ce=function(){var We=(0,u.Z)(function*(ze){clearTimeout(q);const xt=yield qp(p);let cr=null;xt&&(null==ze?void 0:ze.url)&&(cr=function(y,p){var g,E;const D=function(y){const p=Ra(y),g=p.link?decodeURIComponent(p.link):void 0,E=Ra(g).link,D=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Ra(D).link||D||E||g||y}(p);if(D.includes("/__/auth/callback")){const R=Ra(D),q=R.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,ce=null===(E=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Oe=ce?wn(ce):null;return Oe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(xt,ze.url)),g.onEvent(cr||Ac())});return function(xt){return We.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,ce);const Oe=D,xe=`${R.packageName.toLowerCase()}://`;Yi().handleOpenURL=function(){var We=(0,u.Z)(function*(ze){if(ze.toLowerCase().startsWith(xe)&&ce({url:ze}),"function"==typeof Oe)try{Oe(ze)}catch(xt){console.error(xt)}});return function(ze){return We.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=dn,this._completeRedirectFn=Ho}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,E,D){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,E,D)})()}_openRedirect(p,g,E,D){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,E,D)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return xc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ub(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Jh.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function S_(y){return y.unwrap()}function li(y){return x_(y)}function x_(y){const{_tokenResponse:p}=y instanceof U.ZR?y.customData:y;if(!p)return null;if(!(y instanceof U.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return de.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=ko;break;case"facebook.com":E=ll;break;case"github.com":E=si;break;case"twitter.com":E=ul;break;default:const{oauthIdToken:D,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:ce,nonce:Oe}=p;return R||q||D||ce?ce?g.startsWith("saml.")?Xs._create(g,ce):Ir._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:D,accessToken:R}):new pa(g).credential({idToken:D,accessToken:R,rawNonce:Oe}):null}return y instanceof U.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function Mr(y,p){return p.catch(g=>{throw g instanceof U.ZR&&function(y,p){var g;const E=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new M_(y,function(y,p){var g;const E=(0,U.m9)(y),D=p;return Se(p.customData.operationType,E,"argument-error"),Se(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),gc._fromError(E,D)}(y,p));else if(E){const D=x_(p),R=p;D&&(R.credential=D,R.tenantId=E.tenantId||void 0,R.email=E.email||void 0,R.phoneNumber=E.phoneNumber||void 0)}}(y,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:li(g),additionalUserInfo:zi(g),user:ho.getOrCreate(D)}})}function Xh(y,p){return jl.apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:E=>Mr(y,g.confirm(E))}})).apply(this,arguments)}class M_{constructor(p,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Mr(S_(this.auth),this.resolver.resolveSignIn(p))}}class ho{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,U.m9)(y);return bl.has(p)||bl.set(p,kh._fromUser(p)),bl.get(p)}(p)}static getOrCreate(p){return ho.USER_MAP.has(p)||ho.USER_MAP.set(p,new ho(p)),ho.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return Mr(g.auth,lc(g._delegate,p))})()}linkWithPhoneNumber(p,g){var E=this;return(0,u.Z)(function*(){return Xh(E.auth,function(y,p,g){return qi.apply(this,arguments)}(E._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return Mr(g.auth,function(y,p,g){return ut.apply(this,arguments)}(g._delegate,p,uo))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield tg(pn(g.auth)),function(y,p,g){return function(y,p,g){return jh.apply(this,arguments)}(y,p,g)}(g._delegate,p,uo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return Mr(g.auth,Ru(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Xh(this.auth,function(y,p,g){return I.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Mr(this.auth,function(y,p,g){return Zi.apply(this,arguments)}(this._delegate,p,uo))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield tg(pn(g.auth)),function(y,p,g){return function(y,p,g){return xl.apply(this,arguments)}(y,p,g)}(g._delegate,p,uo)})()}sendEmailVerification(p){return function(y,p){return Ea.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function(y,p){return cc.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(y,p){return As((0,U.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return As((0,U.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return te.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return Dn.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(y,p,g){return no.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ho.USER_MAP=new WeakMap;const qo=Se;let R_=(()=>{class y{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;qo(D,"invalid-api-key",{appName:g.name}),qo(D,"invalid-api-key",{appName:g.name});const R="undefined"!=typeof window?uo:void 0;this._delegate=E.initialize({options:{persistence:fo(D,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Do),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ho.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(y,p,g){const E=pn(y);Se(E._canInitEmulator,E,"emulator-config-failed"),Se(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const D=!!(null==g?void 0:g.disableWarnings),R=Bi(p),{host:q,port:ce}=function(y){const p=Bi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(E);if(D){const R=D[1];return{host:R,port:ji(E.substr(R.length+1))}}{const[R,q]=E.split(":");return{host:R,port:ji(q)}}}(p);E.config.emulator={url:`${R}//${q}${null===ce?"":`:${ce}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:q,port:ce,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,E)}applyActionCode(g){return function(y,p){return _l.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ya(this._delegate,g)}confirmPasswordReset(g,E){return function(y,p,g){return hc.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var D=this;return(0,u.Z)(function*(){return Mr(D._delegate,function(y,p,g){return Nu.apply(this,arguments)}(D._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,p){return Ap.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,p){const g=rn.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){qo(Qh(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(y,p){return jo.apply(this,arguments)}(g._delegate,uo);return E?Mr(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,p){pn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,E,D){const{next:R,error:q,complete:ce}=Rc(g,E,D);return this._delegate.onAuthStateChanged(R,q,ce)}onIdTokenChanged(g,E,D){const{next:R,error:q,complete:ce}=Rc(g,E,D);return this._delegate.onIdTokenChanged(R,q,ce)}sendSignInLinkToEmail(g,E){return function(y,p,g){return Ss.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(y,p,g){return dc.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,u.Z)(function*(){let D;switch(function(y,p){Mc(Object.values(jr).includes(p),y,"invalid-persistence-type"),(0,U.b$)()?Mc(p!==jr.SESSION,y,"unsupported-persistence-type"):(0,U.UG)()?Mc(p===jr.NONE,y,"unsupported-persistence-type"):Xp()?Mc(p===jr.NONE||p===jr.LOCAL&&(0,U.hl)(),y,"unsupported-persistence-type"):Mc(p===jr.NONE||I_(),y,"unsupported-persistence-type")}(E._delegate,g),g){case jr.SESSION:D=dn;break;case jr.LOCAL:D=(yield zt(bc)._isAvailable())?bc:Ms;break;case jr.NONE:D=at;break;default:return Ut("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Mr(this._delegate,function(y){return st.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Mr(this._delegate,Tr(this._delegate,g))}signInWithCustomToken(g){return Mr(this._delegate,function(y,p){return uc.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return Mr(this._delegate,function(y,p,g){return Tr((0,U.m9)(y),us.credential(p,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return Mr(this._delegate,function(y,p,g){return Zn.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return Xh(this._delegate,function(y,p,g){return Sn.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,u.Z)(function*(){return qo(Qh(),E._delegate,"operation-not-supported-in-this-environment"),Mr(E._delegate,function(y,p,g){return Bo.apply(this,arguments)}(E._delegate,g,uo))})()}signInWithRedirect(g){var E=this;return(0,u.Z)(function*(){return qo(Qh(),E._delegate,"operation-not-supported-in-this-environment"),yield tg(E._delegate),function(y,p,g){return function(y,p,g){return ar.apply(this,arguments)}(y,p,g)}(E._delegate,g,uo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,p){return Po.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=jr,y})();function Rc(y,p,g){let E=y;"function"!=typeof y&&({next:E,error:p,complete:g}=y);const D=E;return{next:q=>D(q&&ho.getOrCreate(q)),error:p,complete:g}}function fo(y,p){const g=function(y,p){const g=D_();if(!(null==g?void 0:g.sessionStorage))return[];const E=Ur(Oa,y,p);switch(g.sessionStorage.getItem(E)){case jr.NONE:return[at];case jr.LOCAL:return[bc,dn];case jr.SESSION:return[dn];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(bc)&&g.push(bc),"undefined"!=typeof window)for(const E of[Ms,dn])g.includes(E)||g.push(E);return g.includes(at)||g.push(at),g}class O_{constructor(){this.providerId="phone",this._delegate=new de(S_(ne.Z.auth()))}static credential(p,g){return de.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}O_.PHONE_SIGN_IN_METHOD=de.PHONE_SIGN_IN_METHOD,O_.PROVIDER_ID=de.PROVIDER_ID;const J0=Se;class k_{constructor(p,g,E=ne.Z.app()){var D;J0(null===(D=E.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new u_(p,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new Ke.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),E=p.getProvider("auth");return new R_(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:us,FacebookAuthProvider:ll,GithubAuthProvider:si,GoogleAuthProvider:ko,OAuthProvider:pa,SAMLAuthProvider:pr,PhoneAuthProvider:O_,PhoneMultiFactorGenerator:b_,RecaptchaVerifier:k_,TwitterAuthProvider:ul,Auth:R_,AuthCredential:Xa,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.5")}(ne.Z)},6676:function(qe,Ee){!function(F){"use strict";function u(fe){return Array.prototype.slice.call(fe)}function ne(fe){return new Promise(function(oe,ye){fe.onsuccess=function(){oe(fe.result)},fe.onerror=function(){ye(fe.error)}})}function U(fe,oe,ye){var Pe,Ue=new Promise(function(Rt,Nt){ne(Pe=fe[oe].apply(fe,ye)).then(Rt,Nt)});return Ue.request=Pe,Ue}function ue(fe,oe,ye){var Pe=U(fe,oe,ye);return Pe.then(function(Ue){if(Ue)return new L(Ue,Pe.request)})}function ae(fe,oe,ye){ye.forEach(function(Pe){Object.defineProperty(fe.prototype,Pe,{get:function(){return this[oe][Pe]},set:function(Ue){this[oe][Pe]=Ue}})})}function Q(fe,oe,ye,Pe){Pe.forEach(function(Ue){Ue in ye.prototype&&(fe.prototype[Ue]=function(){return U(this[oe],Ue,arguments)})})}function re(fe,oe,ye,Pe){Pe.forEach(function(Ue){Ue in ye.prototype&&(fe.prototype[Ue]=function(){return this[oe][Ue].apply(this[oe],arguments)})})}function ee(fe,oe,ye,Pe){Pe.forEach(function(Ue){Ue in ye.prototype&&(fe.prototype[Ue]=function(){return ue(this[oe],Ue,arguments)})})}function X(fe){this._index=fe}function L(fe,oe){this._cursor=fe,this._request=oe}function j(fe){this._store=fe}function V(fe){this._tx=fe,this.complete=new Promise(function(oe,ye){fe.oncomplete=function(){oe()},fe.onerror=function(){ye(fe.error)},fe.onabort=function(){ye(fe.error)}})}function se(fe,oe,ye){this._db=fe,this.oldVersion=oe,this.transaction=new V(ye)}function ge(fe){this._db=fe}ae(X,"_index",["name","keyPath","multiEntry","unique"]),Q(X,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ee(X,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(L,"_cursor",["direction","key","primaryKey","value"]),Q(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(fe){fe in IDBCursor.prototype&&(L.prototype[fe]=function(){var oe=this,ye=arguments;return Promise.resolve().then(function(){return oe._cursor[fe].apply(oe._cursor,ye),ne(oe._request).then(function(Pe){if(Pe)return new L(Pe,oe._request)})})})}),j.prototype.createIndex=function(){return new X(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new X(this._store.index.apply(this._store,arguments))},ae(j,"_store",["name","keyPath","indexNames","autoIncrement"]),Q(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ee(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),re(j,"_store",IDBObjectStore,["deleteIndex"]),V.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},ae(V,"_tx",["objectStoreNames","mode"]),re(V,"_tx",IDBTransaction,["abort"]),se.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},ae(se,"_db",["name","version","objectStoreNames"]),re(se,"_db",IDBDatabase,["deleteObjectStore","close"]),ge.prototype.transaction=function(){return new V(this._db.transaction.apply(this._db,arguments))},ae(ge,"_db",["name","version","objectStoreNames"]),re(ge,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(fe){[j,X].forEach(function(oe){fe in oe.prototype&&(oe.prototype[fe.replace("open","iterate")]=function(){var ye=u(arguments),Pe=ye[ye.length-1],Ue=this._store||this._index,Rt=Ue[fe].apply(Ue,ye.slice(0,-1));Rt.onsuccess=function(){Pe(Rt.result)}})})}),[X,j].forEach(function(fe){fe.prototype.getAll||(fe.prototype.getAll=function(oe,ye){var Pe=this,Ue=[];return new Promise(function(Rt){Pe.iterateCursor(oe,function(Nt){Nt?(Ue.push(Nt.value),void 0===ye||Ue.length!=ye?Nt.continue():Rt(Ue)):Rt(Ue)})})})}),F.openDb=function(fe,oe,ye){var Pe=U(indexedDB,"open",[fe,oe]),Ue=Pe.request;return Ue&&(Ue.onupgradeneeded=function(Rt){ye&&ye(new se(Ue.result,Rt.oldVersion,Ue.transaction))}),Pe.then(function(Rt){return new ge(Rt)})},F.deleteDb=function(fe){return U(indexedDB,"deleteDatabase",[fe])},Object.defineProperty(F,"__esModule",{value:!0})}(Ee)},7574:(qe,Ee,F)=>{"use strict";F.d(Ee,{y:()=>j});var u=F(7393),U=F(9181),ue=F(6490),Q=F(6554),re=F(4487);var L=F(2494);let j=(()=>{class se{constructor(De){this._isScalar=!1,De&&(this._subscribe=De)}lift(De){const ve=new se;return ve.source=this,ve.operator=De,ve}subscribe(De,ve,fe){const{operator:oe}=this,ye=function(se,ge,De){if(se){if(se instanceof u.L)return se;if(se[U.b])return se[U.b]()}return se||ge||De?new u.L(se,ge,De):new u.L(ue.c)}(De,ve,fe);if(ye.add(oe?oe.call(ye,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!ye.syncErrorThrowable?this._subscribe(ye):this._trySubscribe(ye)),L.v.useDeprecatedSynchronousErrorHandling&&ye.syncErrorThrowable&&(ye.syncErrorThrowable=!1,ye.syncErrorThrown))throw ye.syncErrorValue;return ye}_trySubscribe(De){try{return this._subscribe(De)}catch(ve){L.v.useDeprecatedSynchronousErrorHandling&&(De.syncErrorThrown=!0,De.syncErrorValue=ve),function(se){for(;se;){const{closed:ge,destination:De,isStopped:ve}=se;if(ge||ve)return!1;se=De&&De instanceof u.L?De:null}return!0}(De)?De.error(ve):console.warn(ve)}}forEach(De,ve){return new(ve=V(ve))((fe,oe)=>{let ye;ye=this.subscribe(Pe=>{try{De(Pe)}catch(Ue){oe(Ue),ye&&ye.unsubscribe()}},oe,fe)})}_subscribe(De){const{source:ve}=this;return ve&&ve.subscribe(De)}[Q.L](){return this}pipe(...De){return 0===De.length?this:function(se){return 0===se.length?re.y:1===se.length?se[0]:function(De){return se.reduce((ve,fe)=>fe(ve),De)}}(De)(this)}toPromise(De){return new(De=V(De))((ve,fe)=>{let oe;this.subscribe(ye=>oe=ye,ye=>fe(ye),()=>ve(oe))})}}return se.create=ge=>new se(ge),se})();function V(se){if(se||(se=L.v.Promise||Promise),!se)throw new Error("no Promise impl found");return se}},6490:(qe,Ee,F)=>{"use strict";F.d(Ee,{c:()=>U});var u=F(2494),ne=F(4449);const U={closed:!0,next(ue){},error(ue){if(u.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,ne.z)(ue)},complete(){}}},9765:(qe,Ee,F)=>{"use strict";F.d(Ee,{Yc:()=>re,xQ:()=>ee});var u=F(7574),ne=F(7393),U=F(5319),ue=F(7971),ae=F(8858),Q=F(9181);class re extends ne.L{constructor(j){super(j),this.destination=j}}let ee=(()=>{class L extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Q.b](){return new re(this)}lift(V){const se=new X(this,this);return se.operator=V,se}next(V){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:se}=this,ge=se.length,De=se.slice();for(let ve=0;ve<ge;ve++)De[ve].next(V)}}error(V){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=V,this.isStopped=!0;const{observers:se}=this,ge=se.length,De=se.slice();for(let ve=0;ve<ge;ve++)De[ve].error(V);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:V}=this,se=V.length,ge=V.slice();for(let De=0;De<se;De++)ge[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(V){if(this.closed)throw new ue.N;return super._trySubscribe(V)}_subscribe(V){if(this.closed)throw new ue.N;return this.hasError?(V.error(this.thrownError),U.w.EMPTY):this.isStopped?(V.complete(),U.w.EMPTY):(this.observers.push(V),new ae.W(this,V))}asObservable(){const V=new u.y;return V.source=this,V}}return L.create=(j,V)=>new X(j,V),L})();class X extends ee{constructor(j,V){super(),this.destination=j,this.source=V}next(j){const{destination:V}=this;V&&V.next&&V.next(j)}error(j){const{destination:V}=this;V&&V.error&&this.destination.error(j)}complete(){const{destination:j}=this;j&&j.complete&&this.destination.complete()}_subscribe(j){const{source:V}=this;return V?this.source.subscribe(j):U.w.EMPTY}}},8858:(qe,Ee,F)=>{"use strict";F.d(Ee,{W:()=>ne});var u=F(5319);class ne extends u.w{constructor(ue,ae){super(),this.subject=ue,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,ae=ue.observers;if(this.subject=null,!ae||0===ae.length||ue.isStopped||ue.closed)return;const Q=ae.indexOf(this.subscriber);-1!==Q&&ae.splice(Q,1)}}},7393:(qe,Ee,F)=>{"use strict";F.d(Ee,{L:()=>re});var u=F(9105),ne=F(6490),U=F(5319),ue=F(9181),ae=F(2494),Q=F(4449);class re extends U.w{constructor(L,j,V){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!L){this.destination=ne.c;break}if("object"==typeof L){L instanceof re?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new ee(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new ee(this,L,j,V)}}[ue.b](){return this}static create(L,j,V){const se=new re(L,j,V);return se.syncErrorThrowable=!1,se}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class ee extends re{constructor(L,j,V,se){super(),this._parentSubscriber=L;let ge,De=this;(0,u.m)(j)?ge=j:j&&(ge=j.next,V=j.error,se=j.complete,j!==ne.c&&(De=Object.create(j),(0,u.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=ge,this._error=V,this._complete=se}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:j}=this;ae.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?this.__tryOrSetError(j,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:j}=this,{useDeprecatedSynchronousErrorHandling:V}=ae.v;if(this._error)V&&j.syncErrorThrowable?(this.__tryOrSetError(j,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(j.syncErrorThrowable)V?(j.syncErrorValue=L,j.syncErrorThrown=!0):(0,Q.z)(L),this.unsubscribe();else{if(this.unsubscribe(),V)throw L;(0,Q.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const j=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,j),this.unsubscribe()):(this.__tryOrUnsub(j),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,j){try{L.call(this._context,j)}catch(V){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw V;(0,Q.z)(V)}}__tryOrSetError(L,j,V){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{j.call(this._context,V)}catch(se){return ae.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=se,L.syncErrorThrown=!0,!0):((0,Q.z)(se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(qe,Ee,F)=>{"use strict";F.d(Ee,{w:()=>Q});var u=F(9796),ne=F(1555),U=F(9105);const ae=(()=>{function ee(X){return Error.call(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((L,j)=>`${j+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X,this}return ee.prototype=Object.create(Error.prototype),ee})();class Q{constructor(X){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,X&&(this._ctorUnsubscribe=!0,this._unsubscribe=X)}unsubscribe(){let X;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:j,_unsubscribe:V,_subscriptions:se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof Q)L.remove(this);else if(null!==L)for(let ge=0;ge<L.length;++ge)L[ge].remove(this);if((0,U.m)(V)){j&&(this._unsubscribe=void 0);try{V.call(this)}catch(ge){X=ge instanceof ae?re(ge.errors):[ge]}}if((0,u.k)(se)){let ge=-1,De=se.length;for(;++ge<De;){const ve=se[ge];if((0,ne.K)(ve))try{ve.unsubscribe()}catch(fe){X=X||[],fe instanceof ae?X=X.concat(re(fe.errors)):X.push(fe)}}}if(X)throw new ae(X)}add(X){let L=X;if(!X)return Q.EMPTY;switch(typeof X){case"function":L=new Q(X);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof Q)){const se=L;L=new Q,L._subscriptions=[se]}break;default:throw new Error("unrecognized teardown "+X+" added to Subscription.")}let{_parentOrParents:j}=L;if(null===j)L._parentOrParents=this;else if(j instanceof Q){if(j===this)return L;L._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return L;j.push(this)}const V=this._subscriptions;return null===V?this._subscriptions=[L]:V.push(L),L}remove(X){const L=this._subscriptions;if(L){const j=L.indexOf(X);-1!==j&&L.splice(j,1)}}}var ee;function re(ee){return ee.reduce((X,L)=>X.concat(L instanceof ae?L.errors:L),[])}Q.EMPTY=((ee=new Q).closed=!0,ee)},2494:(qe,Ee,F)=>{"use strict";F.d(Ee,{v:()=>ne});let u=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=U},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(qe,Ee,F)=>{"use strict";F.d(Ee,{IY:()=>ue,Ds:()=>Q,ft:()=>ee});var u=F(7393),ne=F(7574),U=F(7444);class ue extends u.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Q extends u.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function ee(X,L){if(L.closed)return;if(X instanceof ne.y)return X.subscribe(L);let j;try{j=(0,U.s)(X)(L)}catch(V){L.error(V)}return j}},2441:(qe,Ee,F)=>{"use strict";F.d(Ee,{c:()=>ae,N:()=>Q});var u=F(9765),ne=F(7574),U=F(5319),ue=F(1307);class ae extends ne.y{constructor(j,V){super(),this.source=j,this.subjectFactory=V,this._refCount=0,this._isComplete=!1}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let j=this._connection;return j||(this._isComplete=!1,j=this._connection=new U.w,j.add(this.source.subscribe(new re(this.getSubject(),this))),j.closed&&(this._connection=null,j=U.w.EMPTY)),j}refCount(){return(0,ue.x)()(this)}}const Q=(()=>{const L=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class re extends u.Yc{constructor(j,V){super(j),this.connectable=V}_error(j){this._unsubscribe(),super._error(j)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const j=this.connectable;if(j){this.connectable=null;const V=j._connection;j._refCount=0,j._subject=null,j._connection=null,V&&V.unsubscribe()}}}},9193:(qe,Ee,F)=>{"use strict";F.d(Ee,{E:()=>ne,c:()=>U});var u=F(7574);const ne=new u.y(ae=>ae.complete());function U(ae){return ae?function(ae){return new u.y(Q=>ae.schedule(()=>Q.complete()))}(ae):ne}},4402:(qe,Ee,F)=>{"use strict";F.d(Ee,{D:()=>De});var u=F(7574),ne=F(7444),U=F(5319),ue=F(6554),re=F(4087),ee=F(377),j=F(4072),V=F(9489);function De(ve,fe){return fe?function(ve,fe){if(null!=ve){if(function(ve){return ve&&"function"==typeof ve[ue.L]}(ve))return function(ve,fe){return new u.y(oe=>{const ye=new U.w;return ye.add(fe.schedule(()=>{const Pe=ve[ue.L]();ye.add(Pe.subscribe({next(Ue){ye.add(fe.schedule(()=>oe.next(Ue)))},error(Ue){ye.add(fe.schedule(()=>oe.error(Ue)))},complete(){ye.add(fe.schedule(()=>oe.complete()))}}))})),ye})}(ve,fe);if((0,j.t)(ve))return function(ve,fe){return new u.y(oe=>{const ye=new U.w;return ye.add(fe.schedule(()=>ve.then(Pe=>{ye.add(fe.schedule(()=>{oe.next(Pe),ye.add(fe.schedule(()=>oe.complete()))}))},Pe=>{ye.add(fe.schedule(()=>oe.error(Pe)))}))),ye})}(ve,fe);if((0,V.z)(ve))return(0,re.r)(ve,fe);if(function(ve){return ve&&"function"==typeof ve[ee.hZ]}(ve)||"string"==typeof ve)return function(ve,fe){if(!ve)throw new Error("Iterable cannot be null");return new u.y(oe=>{const ye=new U.w;let Pe;return ye.add(()=>{Pe&&"function"==typeof Pe.return&&Pe.return()}),ye.add(fe.schedule(()=>{Pe=ve[ee.hZ](),ye.add(fe.schedule(function(){if(oe.closed)return;let Ue,Rt;try{const Nt=Pe.next();Ue=Nt.value,Rt=Nt.done}catch(Nt){return void oe.error(Nt)}Rt?oe.complete():(oe.next(Ue),this.schedule())}))})),ye})}(ve,fe)}throw new TypeError((null!==ve&&typeof ve||ve)+" is not observable")}(ve,fe):ve instanceof u.y?ve:new u.y((0,ne.s)(ve))}},6693:(qe,Ee,F)=>{"use strict";F.d(Ee,{n:()=>ue});var u=F(7574),ne=F(5015),U=F(4087);function ue(ae,Q){return Q?(0,U.r)(ae,Q):new u.y((0,ne.V)(ae))}},6682:(qe,Ee,F)=>{"use strict";F.d(Ee,{T:()=>ae});var u=F(7574),ne=F(4869),U=F(3282),ue=F(6693);function ae(...Q){let re=Number.POSITIVE_INFINITY,ee=null,X=Q[Q.length-1];return(0,ne.K)(X)?(ee=Q.pop(),Q.length>1&&"number"==typeof Q[Q.length-1]&&(re=Q.pop())):"number"==typeof X&&(re=Q.pop()),null===ee&&1===Q.length&&Q[0]instanceof u.y?Q[0]:(0,U.J)(re)((0,ue.n)(Q,ee))}},5917:(qe,Ee,F)=>{"use strict";F.d(Ee,{of:()=>ue});var u=F(4869),ne=F(6693),U=F(4087);function ue(...ae){let Q=ae[ae.length-1];return(0,u.K)(Q)?(ae.pop(),(0,U.r)(ae,Q)):(0,ne.n)(ae)}},205:(qe,Ee,F)=>{"use strict";F.d(Ee,{_:()=>ne});var u=F(7574);function ne(ue,ae){return new u.y(ae?Q=>ae.schedule(U,0,{error:ue,subscriber:Q}):Q=>Q.error(ue))}function U({error:ue,subscriber:ae}){ae.error(ue)}},8002:(qe,Ee,F)=>{"use strict";F.d(Ee,{U:()=>ne});var u=F(7393);function ne(ae,Q){return function(ee){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ee.lift(new U(ae,Q))}}class U{constructor(Q,re){this.project=Q,this.thisArg=re}call(Q,re){return re.subscribe(new ue(Q,this.project,this.thisArg))}}class ue extends u.L{constructor(Q,re,ee){super(Q),this.project=re,this.count=0,this.thisArg=ee||this}_next(Q){let re;try{re=this.project.call(this.thisArg,Q,this.count++)}catch(ee){return void this.destination.error(ee)}this.destination.next(re)}}},3282:(qe,Ee,F)=>{"use strict";F.d(Ee,{J:()=>U});var u=F(9773),ne=F(4487);function U(ue=Number.POSITIVE_INFINITY){return(0,u.zg)(ne.y,ue)}},9773:(qe,Ee,F)=>{"use strict";F.d(Ee,{zg:()=>ue});var u=F(8002),ne=F(4402),U=F(5345);function ue(ee,X,L=Number.POSITIVE_INFINITY){return"function"==typeof X?j=>j.pipe(ue((V,se)=>(0,ne.D)(ee(V,se)).pipe((0,u.U)((ge,De)=>X(V,ge,se,De))),L)):("number"==typeof X&&(L=X),j=>j.lift(new ae(ee,L)))}class ae{constructor(X,L=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=L}call(X,L){return L.subscribe(new Q(X,this.project,this.concurrent))}}class Q extends U.Ds{constructor(X,L,j=Number.POSITIVE_INFINITY){super(X),this.project=L,this.concurrent=j,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let L;const j=this.index++;try{L=this.project(X,j)}catch(V){return void this.destination.error(V)}this.active++,this._innerSub(L)}_innerSub(X){const L=new U.IY(this),j=this.destination;j.add(L);const V=(0,U.ft)(X,L);V!==L&&j.add(V)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(qe,Ee,F)=>{"use strict";F.d(Ee,{ht:()=>X,QV:()=>re});var u=F(7393),ne=F(9193),U=F(5917),ue=F(205);class Q{constructor(V,se,ge){this.kind=V,this.value=se,this.error=ge,this.hasValue="N"===V}observe(V){switch(this.kind){case"N":return V.next&&V.next(this.value);case"E":return V.error&&V.error(this.error);case"C":return V.complete&&V.complete()}}do(V,se,ge){switch(this.kind){case"N":return V&&V(this.value);case"E":return se&&se(this.error);case"C":return ge&&ge()}}accept(V,se,ge){return V&&"function"==typeof V.next?this.observe(V):this.do(V,se,ge)}toObservable(){switch(this.kind){case"N":return(0,U.of)(this.value);case"E":return(0,ue._)(this.error);case"C":return(0,ne.c)()}throw new Error("unexpected notification kind value")}static createNext(V){return void 0!==V?new Q("N",V):Q.undefinedValueNotification}static createError(V){return new Q("E",void 0,V)}static createComplete(){return Q.completeNotification}}function re(j,V=0){return function(ge){return ge.lift(new ee(j,V))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class ee{constructor(V,se=0){this.scheduler=V,this.delay=se}call(V,se){return se.subscribe(new X(V,this.scheduler,this.delay))}}class X extends u.L{constructor(V,se,ge=0){super(V),this.scheduler=se,this.delay=ge}static dispatch(V){const{notification:se,destination:ge}=V;se.observe(ge),this.unsubscribe()}scheduleMessage(V){this.destination.add(this.scheduler.schedule(X.dispatch,this.delay,new L(V,this.destination)))}_next(V){this.scheduleMessage(Q.createNext(V))}_error(V){this.scheduleMessage(Q.createError(V)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class L{constructor(V,se){this.notification=V,this.destination=se}}},1307:(qe,Ee,F)=>{"use strict";F.d(Ee,{x:()=>ne});var u=F(7393);function ne(){return function(Q){return Q.lift(new U(Q))}}class U{constructor(Q){this.connectable=Q}call(Q,re){const{connectable:ee}=this;ee._refCount++;const X=new ue(Q,ee),L=re.subscribe(X);return X.closed||(X.connection=ee.connect()),L}}class ue extends u.L{constructor(Q,re){super(Q),this.connectable=re}_unsubscribe(){const{connectable:Q}=this;if(!Q)return void(this.connection=null);this.connectable=null;const re=Q._refCount;if(re<=0)return void(this.connection=null);if(Q._refCount=re-1,re>1)return void(this.connection=null);const{connection:ee}=this,X=Q._connection;this.connection=null,X&&(!ee||X===ee)&&X.unsubscribe()}}},8819:(qe,Ee,F)=>{"use strict";F.d(Ee,{B:()=>re});var u=F(2441);var ue=F(1307),ae=F(9765);function Q(){return new ae.xQ}function re(){return ee=>(0,ue.x)()(function(ee,X){return function(j){let V;V="function"==typeof ee?ee:function(){return ee};const se=Object.create(j,u.N);return se.source=j,se.subjectFactory=V,se}}(Q)(ee))}},9673:(qe,Ee,F)=>{"use strict";F.d(Ee,{R:()=>ae});var u=F(7574),ne=F(4581),U=F(6561);class ue extends u.y{constructor(ee,X=0,L=ne.e){super(),this.source=ee,this.delayTime=X,this.scheduler=L,(!(0,U.k)(X)||X<0)&&(this.delayTime=0),(!L||"function"!=typeof L.schedule)&&(this.scheduler=ne.e)}static create(ee,X=0,L=ne.e){return new ue(ee,X,L)}static dispatch(ee){const{source:X,subscriber:L}=ee;return this.add(X.subscribe(L))}_subscribe(ee){return this.scheduler.schedule(ue.dispatch,this.delayTime,{source:this.source,subscriber:ee})}}function ae(re,ee=0){return function(L){return L.lift(new Q(re,ee))}}class Q{constructor(ee,X){this.scheduler=ee,this.delay=X}call(ee,X){return new ue(X,this.delay,this.scheduler).subscribe(ee)}}},3342:(qe,Ee,F)=>{"use strict";F.d(Ee,{b:()=>ue});var u=F(7393);function ne(){}var U=F(9105);function ue(re,ee,X){return function(j){return j.lift(new ae(re,ee,X))}}class ae{constructor(ee,X,L){this.nextOrObserver=ee,this.error=X,this.complete=L}call(ee,X){return X.subscribe(new Q(ee,this.nextOrObserver,this.error,this.complete))}}class Q extends u.L{constructor(ee,X,L,j){super(ee),this._tapNext=ne,this._tapError=ne,this._tapComplete=ne,this._tapError=L||ne,this._tapComplete=j||ne,(0,U.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||ne,this._tapError=X.error||ne,this._tapComplete=X.complete||ne)}_next(ee){try{this._tapNext.call(this._context,ee)}catch(X){return void this.destination.error(X)}this.destination.next(ee)}_error(ee){try{this._tapError.call(this._context,ee)}catch(X){return void this.destination.error(X)}this.destination.error(ee)}_complete(){try{this._tapComplete.call(this._context)}catch(ee){return void this.destination.error(ee)}return this.destination.complete()}}},4087:(qe,Ee,F)=>{"use strict";F.d(Ee,{r:()=>U});var u=F(7574),ne=F(5319);function U(ue,ae){return new u.y(Q=>{const re=new ne.w;let ee=0;return re.add(ae.schedule(function(){ee!==ue.length?(Q.next(ue[ee++]),Q.closed||re.add(this.schedule())):Q.complete()})),re})}},6465:(qe,Ee,F)=>{"use strict";F.d(Ee,{o:()=>U});var u=F(5319);class ne extends u.w{constructor(ae,Q){super()}schedule(ae,Q=0){return this}}class U extends ne{constructor(ae,Q){super(ae,Q),this.scheduler=ae,this.work=Q,this.pending=!1}schedule(ae,Q=0){if(this.closed)return this;this.state=ae;const re=this.id,ee=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ee,re,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(ee,this.id,Q),this}requestAsyncId(ae,Q,re=0){return setInterval(ae.flush.bind(ae,this),re)}recycleAsyncId(ae,Q,re=0){if(null!==re&&this.delay===re&&!1===this.pending)return Q;clearInterval(Q)}execute(ae,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(ae,Q);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,Q){let ee,re=!1;try{this.work(ae)}catch(X){re=!0,ee=!!X&&X||new Error(X)}if(re)return this.unsubscribe(),ee}_unsubscribe(){const ae=this.id,Q=this.scheduler,re=Q.actions,ee=re.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ee&&re.splice(ee,1),null!=ae&&(this.id=this.recycleAsyncId(Q,ae,null)),this.delay=null}}},6102:(qe,Ee,F)=>{"use strict";F.d(Ee,{v:()=>ne});let u=(()=>{class U{constructor(ae,Q=U.now){this.SchedulerAction=ae,this.now=Q}schedule(ae,Q=0,re){return new this.SchedulerAction(this,ae).schedule(re,Q)}}return U.now=()=>Date.now(),U})();class ne extends u{constructor(ue,ae=u.now){super(ue,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,ae=0,Q){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(ue,ae,Q):super.schedule(ue,ae,Q)}flush(ue){const{actions:ae}=this;if(this.active)return void ae.push(ue);let Q;this.active=!0;do{if(Q=ue.execute(ue.state,ue.delay))break}while(ue=ae.shift());if(this.active=!1,Q){for(;ue=ae.shift();)ue.unsubscribe();throw Q}}}},4581:(qe,Ee,F)=>{"use strict";F.d(Ee,{e:()=>V,E:()=>j});let u=1;const ne=Promise.resolve(),U={};function ue(se){return se in U&&(delete U[se],!0)}const ae={setImmediate(se){const ge=u++;return U[ge]=!0,ne.then(()=>ue(ge)&&se()),ge},clearImmediate(se){ue(se)}};var re=F(6465),X=F(6102);const j=new class extends X.v{flush(ge){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let ve,fe=-1,oe=De.length;ge=ge||De.shift();do{if(ve=ge.execute(ge.state,ge.delay))break}while(++fe<oe&&(ge=De.shift()));if(this.active=!1,ve){for(;++fe<oe&&(ge=De.shift());)ge.unsubscribe();throw ve}}}(class extends re.o{constructor(ge,De){super(ge,De),this.scheduler=ge,this.work=De}requestAsyncId(ge,De,ve=0){return null!==ve&&ve>0?super.requestAsyncId(ge,De,ve):(ge.actions.push(this),ge.scheduled||(ge.scheduled=ae.setImmediate(ge.flush.bind(ge,null))))}recycleAsyncId(ge,De,ve=0){if(null!==ve&&ve>0||null===ve&&this.delay>0)return super.recycleAsyncId(ge,De,ve);0===ge.actions.length&&(ae.clearImmediate(De),ge.scheduled=void 0)}}),V=j},3637:(qe,Ee,F)=>{"use strict";F.d(Ee,{z:()=>U,P:()=>ue});var u=F(6465);const U=new(F(6102).v)(u.o),ue=U},7771:(qe,Ee,F)=>{"use strict";F.d(Ee,{c:()=>Q,N:()=>ae});var u=F(6465),U=F(6102);const ae=new class extends U.v{}(class extends u.o{constructor(ee,X){super(ee,X),this.scheduler=ee,this.work=X}schedule(ee,X=0){return X>0?super.schedule(ee,X):(this.delay=X,this.state=ee,this.scheduler.flush(this),this)}execute(ee,X){return X>0||this.closed?super.execute(ee,X):this._execute(ee,X)}requestAsyncId(ee,X,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(ee,X,L):ee.flush(this)}}),Q=ae},377:(qe,Ee,F)=>{"use strict";F.d(Ee,{hZ:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(qe,Ee,F)=>{"use strict";F.d(Ee,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(qe,Ee,F)=>{"use strict";F.d(Ee,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(qe,Ee,F)=>{"use strict";F.d(Ee,{N:()=>ne});const ne=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(qe,Ee,F)=>{"use strict";function u(ne){setTimeout(()=>{throw ne},0)}F.d(Ee,{z:()=>u})},4487:(qe,Ee,F)=>{"use strict";function u(ne){return ne}F.d(Ee,{y:()=>u})},9796:(qe,Ee,F)=>{"use strict";F.d(Ee,{k:()=>u});const u=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},9489:(qe,Ee,F)=>{"use strict";F.d(Ee,{z:()=>u});const u=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},9105:(qe,Ee,F)=>{"use strict";function u(ne){return"function"==typeof ne}F.d(Ee,{m:()=>u})},6561:(qe,Ee,F)=>{"use strict";F.d(Ee,{k:()=>ne});var u=F(9796);function ne(U){return!(0,u.k)(U)&&U-parseFloat(U)+1>=0}},1555:(qe,Ee,F)=>{"use strict";function u(ne){return null!==ne&&"object"==typeof ne}F.d(Ee,{K:()=>u})},4072:(qe,Ee,F)=>{"use strict";function u(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}F.d(Ee,{t:()=>u})},4869:(qe,Ee,F)=>{"use strict";function u(ne){return ne&&"function"==typeof ne.schedule}F.d(Ee,{K:()=>u})},7444:(qe,Ee,F)=>{"use strict";F.d(Ee,{s:()=>j});var u=F(5015),ne=F(4449),ue=F(377),Q=F(6554),ee=F(9489),X=F(4072),L=F(1555);const j=V=>{if(V&&"function"==typeof V[Q.L])return(V=>se=>{const ge=V[Q.L]();if("function"!=typeof ge.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ge.subscribe(se)})(V);if((0,ee.z)(V))return(0,u.V)(V);if((0,X.t)(V))return(V=>se=>(V.then(ge=>{se.closed||(se.next(ge),se.complete())},ge=>se.error(ge)).then(null,ne.z),se))(V);if(V&&"function"==typeof V[ue.hZ])return(V=>se=>{const ge=V[ue.hZ]();for(;;){let De;try{De=ge.next()}catch(ve){return se.error(ve),se}if(De.done){se.complete();break}if(se.next(De.value),se.closed)break}return"function"==typeof ge.return&&se.add(()=>{ge.return&&ge.return()}),se})(V);{const ge=`You provided ${(0,L.K)(V)?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ge)}}},5015:(qe,Ee,F)=>{"use strict";F.d(Ee,{V:()=>u});const u=ne=>U=>{for(let ue=0,ae=ne.length;ue<ae&&!U.closed;ue++)U.next(ne[ue]);U.complete()}},548:(qe,Ee,F)=>{"use strict";var u=F(7716);let ne=null;function U(){return ne}const re=new u.OlP("DocumentToken");let ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:X,token:n,providedIn:"platform"}),n})();function X(){return(0,u.LFG)(j)}const L=new u.OlP("Location Initialized");let j=(()=>{class n extends ee{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){V()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){V()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=(0,u.Yz7)({factory:se,token:n,providedIn:"platform"}),n})();function V(){return!!window.history.pushState}function se(){return new j((0,u.LFG)(re))}function ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ve(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:oe,token:n,providedIn:"root"}),n})();function oe(n){const e=(0,u.LFG)(re).location;return new Pe((0,u.LFG)(ee),e&&e.origin||"")}const ye=new u.OlP("appBaseHref");let Pe=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ge(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ve(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+ve(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+ve(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee),u.LFG(ye,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ge(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+ve(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+ve(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee),u.LFG(ye,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Rt=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=De(Et(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ve(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Et(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ve(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ve(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(ee))},n.normalizeQueryParams=ve,n.joinWithSlash=ge,n.stripTrailingSlash=De,n.\u0275prov=(0,u.Yz7)({factory:Nt,token:n,providedIn:"root"}),n})();function Nt(){return new Rt((0,u.LFG)(fe),(0,u.LFG)(ee))}function Et(n){return n.replace(/\/index.html$/,"")}var ft=(()=>((ft=ft||{})[ft.Zero=0]="Zero",ft[ft.One=1]="One",ft[ft.Two=2]="Two",ft[ft.Few=3]="Few",ft[ft.Many=4]="Many",ft[ft.Other=5]="Other",ft))();const as=u.kL8;class Ur{}let ir=(()=>{class n extends Ur{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(as(r||this.locale)(t)){case ft.Zero:return"zero";case ft.One:return"one";case ft.Two:return"two";case ft.Few:return"few";case ft.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Cr{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zt=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,l,h)=>{if(null==o.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Cr(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new dh(o,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const b=new dh(o,m);r.push(b)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,l=this._viewContainer.length;o<l;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class dh{constructor(e,t){this.record=e,this.view=t}}let vi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Tu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){da("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){da("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Tu{constructor(){this.$implicit=null,this.ngIf=null}}function da(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Bi=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,l]=t.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,o,r):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),bi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Ur,useClass:ir}]}),n})();function al(n){return"server"===n}let sc=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new bh((0,u.LFG)(re),window)}),n})();class bh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fa(this.window.history)||fa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Eh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Eh,ne||(ne=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(us=us||document.querySelector("base"),us?us.getAttribute("href"):null);return null==t?null:function(n){Qt=Qt||document.createElement("a"),Qt.setAttribute("href",n);const e=Qt.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Qt,us=null;const ll=new u.OlP("TRANSITION_ID"),si=[{provide:u.ip1,useFactory:function(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=U(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[ll,re,u.zs3],multi:!0}];class $n{static init(){(0,u.VLi)(new $n)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(b){h=h||b,l--,0==l&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?U().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Xs=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ds=new u.OlP("EventManagerPlugins");let Ce=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ds),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class It{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=U().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let pl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),cn=(()=>{class n extends pl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(gl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gl))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function gl(n){U().remove(n)}const ds={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tr=/%COMP%/g;function Fn(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Fn(n,o,t):(o=o.replace(Tr,n),t.push(o))}return t}function Ei(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wi=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Dr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new ku(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new hc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Fn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ce),u.LFG(cn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Dr{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ds[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=ds[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ds[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ei(r)):this.eventManager.addEventListener(e,t,Ei(r))}}class ku extends Dr{constructor(e,t,r,o){super(e),this.component=r;const l=Fn(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Tr,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Tr,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class hc extends Dr{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Fn(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fc=(()=>{class n extends It{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ss=["alt","control","meta","shift"],Fu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},i_={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ea=(()=>{class n extends It{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(Ss.forEach(b=>{const C=r.indexOf(b);C>-1&&(r.splice(C,1),h+=b+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Zn.hasOwnProperty(e)&&(e=Zn[e]))}return Fu[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ss.forEach(l=>{l!=o&&i_[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),no=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:function(){return(0,u.LFG)(ro)},token:n,providedIn:"root"}),n})(),ro=(()=>{class n extends no{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=(0,u.Yz7)({factory:function(){return function(n){return new ro(n.get(re))}((0,u.LFG)(u.gxx))},token:n,providedIn:"root"}),n})();const io=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){Eh.makeCurrent(),$n.init()},multi:!0},{provide:re,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Uu=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:Ds,useClass:fc,multi:!0,deps:[re,u.R0b,u.Lbi]},{provide:Ds,useClass:Ea,multi:!0,deps:[re]},[],{provide:wi,useClass:wi,deps:[Ce,cn,u.AFp]},{provide:u.FYo,useExisting:wi},{provide:pl,useExisting:cn},{provide:cn,useClass:cn,deps:[re]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ce,useClass:Ce,deps:[Ds,u.R0b]},{provide:class{},useClass:Xs,deps:[]},[]];let Vu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:ll,useExisting:u.AFp},si]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Uu,imports:[bi,u.hGG]}),n})();"undefined"!=typeof window&&window;var gn=F(4402),Ve=F(5917),St=F(9765),ju=F(7971);class Sr extends St.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ju.N;return this._value}next(e){super.next(this._value=e)}}var Ms=F(4869),_c=F(9796),dn=F(7393);class Hu extends dn.L{notifyNext(e,t,r,o,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class a_ extends dn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var oo=F(7444),vn=F(7574);function zn(n,e,t,r,o=new a_(n,t,r)){if(!o.closed)return e instanceof vn.y?e.subscribe(o):(0,oo.s)(e)(o)}var El=F(6693);const yc={};class wl{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new vc(e,this.resultSelector))}}class vc extends Hu{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(yc),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(zn(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===yc?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Ci=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Rs=F(3282);function Fo(...n){return(0,Rs.J)(1)((0,Ve.of)(...n))}var Vr=F(9193);function Ii(n){return new vn.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,gn.D)(t):(0,Vr.c)()).subscribe(e)})}var Nh=F(2441),ot=F(8002),Ti=F(5345);function or(n,e){return"function"==typeof e?t=>t.pipe(or((r,o)=>(0,gn.D)(n(r,o)).pipe((0,ot.U)((l,h)=>e(r,l,o,h))))):t=>t.lift(new c_(n))}class c_{constructor(e){this.project=e}call(e,t){return t.subscribe(new mn(e,this.project))}}class mn extends Ti.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Ti.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,Ti.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Cl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function co(n){return e=>0===n?(0,Vr.c)():e.lift(new Zv(n))}class Zv{constructor(e){if(this.total=e,this.total<0)throw new Cl}call(e,t){return t.subscribe(new bc(e,this.total))}}class bc extends dn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Ta(...n){const e=n[n.length-1];return(0,Ms.K)(e)?(n.pop(),t=>Fo(n,t,e)):t=>Fo(n,t)}function Il(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new l_(n,e,t))}}class l_{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Lh(e,this.accumulator,this.seed,this.hasSeed))}}class Lh extends dn.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function Ar(n,e){return function(r){return r.lift(new $u(n,e))}}class $u{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Lo(e,this.predicate,this.thisArg))}}class Lo extends dn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function Os(n){return function(t){const r=new Ln(n),o=t.lift(r);return r.caught=o}}class Ln{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ks(e,this.selector,this.caught))}}class ks extends Ti.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new Ti.IY(this);this.add(r);const o=(0,Ti.ft)(t,r);o!==r&&this.add(o)}}}var Un=F(9773);function Tl(n,e){return(0,Un.zg)(n,e,1)}function Uh(n){return function(t){return 0===n?(0,Vr.c)():t.lift(new ai(n))}}class ai{constructor(e){if(this.total=e,this.total<0)throw new Cl}call(e,t){return t.subscribe(new hs(e,this.total))}}class hs extends dn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let l=0;l<r;l++){const h=t++%r;e.next(o[h])}}e.complete()}}function Ec(n=Vh){return e=>e.lift(new Di(n))}class Di{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Ps(e,this.errorFactory))}}class Ps extends dn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Vh(){return new Ci}function zu(n=null){return e=>e.lift(new Uo(n))}class Uo{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new u_(e,this.defaultValue))}}class u_ extends dn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Vo=F(4487);function Wn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ar((o,l)=>n(o,l,r)):Vo.y,co(1),t?zu(e):Ec(()=>new Ci))}var Sn=F(3342),Da=F(1307),qi=F(5319);function Bh(n){return e=>e.lift(new I(n))}class I{constructor(e){this.callback=e}call(e,t){return t.subscribe(new S(e,this.callback))}}class S extends dn.L{constructor(e,t){super(e),this.add(new qi.w(t))}}class k{constructor(e,t){this.id=e,this.url=t}}class B extends k{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class te extends k{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class de extends k{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ie extends k{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class je extends k{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends k{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pt extends k{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sn extends k{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn extends k{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dl{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wi{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ut="primary";class Pp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _n(n){return new Pp(n)}const Al="ngNavigationCancelingError";function Np(n){const e=Error("NavigationCancelingError: "+n);return e[Al]=!0,e}function Cc(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ki(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!Lp(n[o],e[o]))return!1;return!0}function Lp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function d_(n){return Array.prototype.concat.apply([],n)}function Sa(n){return n.length>0?n[n.length-1]:null}function Yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ar(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,gn.D)(Promise.resolve(n)):(0,Ve.of)(n)}const h_={exact:function jh(n,e,t){if(!xa(n.segments,e.segments)||!Ml(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!jh(n.children[r],e.children[r],t))return!1;return!0},subset:jo},xl={exact:function(n,e){return Ki(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Lp(n[t],e[t]))},ignored:()=>!0};function qu(n,e,t){return h_[t.paths](n.root,e.root,t.matrixParams)&&xl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function jo(n,e,t){return Ho(n,e,e.segments,t)}function Ho(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!xa(o,t)||e.hasChildren()||!Ml(o,t,r))}if(n.segments.length===t.length){if(!xa(n.segments,t)||!Ml(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!jo(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(xa(n.segments,o)&&Ml(n.segments,o,r)&&n.children[ut])&&Ho(n.children[ut],e,l,r)}}function Ml(n,e,t){return e.every((r,o)=>xl[t](n[o].parameters,r.parameters))}class Ic{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return Wu.serialize(this)}}class At{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $o(this)}}class Zu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_n(this.parameters)),this._parameterMap}toString(){return kl(this)}}function xa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Up{}class Rl{parse(e){const t=new zh(e);return new Ic(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Ku(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Yu(t)}=${Yu(o)}`).join("&"):`${Yu(t)}=${Yu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Wu=new Rl;function $o(n){return n.segments.map(e=>kl(e)).join("/")}function Ku(n,e){if(!n.hasChildren())return $o(n);if(e){const t=n.children[ut]?Ku(n.children[ut],!1):"",r=[];return Yn(n.children,(o,l)=>{l!==ut&&r.push(`${l}:${Ku(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Yn(n.children,(r,o)=>{o===ut&&(t=t.concat(e(r,o)))}),Yn(n.children,(r,o)=>{o!==ut&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===ut?[Ku(n.children[ut],!1)]:[`${o}:${Ku(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ut]?`${$o(n)}/${t[0]}`:`${$o(n)}/(${t.join("//")})`}}function g_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yu(n){return g_(n).replace(/%3B/gi,";")}function Qu(n){return g_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ol(n){return decodeURIComponent(n)}function Vp(n){return Ol(n.replace(/\+/g,"%20"))}function kl(n){return`${Qu(n.path)}${function(n){return Object.keys(n).map(e=>`;${Qu(e)}=${Qu(n[e])}`).join("")}(n.parameters)}`}const Jv=/^[^\/()?;=#]+/;function $h(n){const e=n.match(Jv);return e?e[0]:""}const Xv=/^[^=?&#]+/,zo=/^[^?&#]+/;class zh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ut]=new At(e,t)),r}parseSegment(){const e=$h(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Zu(Ol(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$h(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=$h(this.remaining);o&&(r=o,this.capture(r))}e[Ol(t)]=Ol(r)}parseQueryParam(e){const t=function(n){const e=n.match(Xv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(zo);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Vp(t),l=Vp(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$h(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=ut);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[ut]:new At([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class m_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Bp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Bp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return jp(e,this._root).map(t=>t.value)}}function Bp(n,e){if(n===e.value)return e;for(const t of e.children){const r=Bp(n,t);if(r)return r}return null}function jp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=jp(n,t);if(r.length)return r.unshift(e),r}return[]}class Go{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ju(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Gh extends m_{constructor(e,t){super(e),this.snapshot=t,Zh(this,e)}toString(){return this.snapshot.toString()}}function __(n,e){const t=function(n,e){const h=new qh([],{},{},"",{},ut,e,null,n.root,-1,{});return new Ma("",new Go(h,[]))}(n,e),r=new Sr([new Zu("",{})]),o=new Sr({}),l=new Sr({}),h=new Sr({}),m=new Sr(""),b=new Dc(r,o,h,m,l,ut,e,t.root);return b.snapshot=t.root,new Gh(new Go(b,[]),t)}class Dc{constructor(e,t,r,o,l,h,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ot.U)(e=>_n(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ot.U)(e=>_n(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function y_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qh{constructor(e,t,r,o,l,h,m,b,C,M,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=C,this._lastPathIndex=M,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ma extends m_{constructor(e,t){super(t),this.url=e,Zh(this,t)}toString(){return fs(this._root)}}function Zh(n,e){e.value._routerState=n,e.children.forEach(t=>Zh(n,t))}function fs(n){const e=n.children.length>0?` { ${n.children.map(fs).join(", ")} } `:"";return`${n.value}${e}`}function Sc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ki(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ki(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ki(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ki(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Nl(n,e){return Ki(n.params,e.params)&&function(n,e){return xa(n,e)&&n.every((t,r)=>Ki(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Nl(n.parent,e.parent))}function Fl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Fl(n,r,o);return Fl(n,r)})}(n,e,t);return new Go(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return E_(e,h),h}}const r=function(n){return new Dc(new Sr(n.url),new Sr(n.params),new Sr(n.queryParams),new Sr(n.fragment),new Sr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Fl(n,l));return new Go(r,o)}}function E_(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)E_(n.children[t],e.children[t])}function Xu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yi(n){return"object"==typeof n&&null!=n&&n.outlets}function w_(n,e,t,r,o){let l={};return r&&Yn(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new Ic(t.root===n?e:nb(t.root,n,e),l,o)}function nb(n,e,t){const r={};return Yn(n.children,(o,l)=>{r[l]=o===e?t:nb(o,e,t)}),new At(n.segments,r)}class ed{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Xu(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Yi);if(o&&o!==Sa(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class td{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function nd(n,e,t){if(n||(n=new At([],{})),0===n.segments.length&&n.hasChildren())return rd(n,e,t);const r=function(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],m=t[r];if(Yi(m))break;const b=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&C&&"object"==typeof C&&void 0===C.outlets){if(!C_(b,C,h))return l;r+=2}else{if(!C_(b,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new At(n.segments.slice(0,r.pathIndex),{});return l.children[ut]=new At(n.segments.slice(r.pathIndex),n.children),rd(l,0,o)}return r.match&&0===o.length?new At(n.segments,{}):r.match&&!n.hasChildren()?$p(n,e,t):r.match?rd(n,0,o):$p(n,e,t)}function rd(n,e,t){if(0===t.length)return new At(n.segments,{});{const r=function(n){return Yi(n[0])?n[0].outlets:{[ut]:n}}(t),o={};return Yn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=nd(n.children[h],e,l))}),Yn(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new At(n.segments,o)}}function $p(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(Yi(l)){const b=Bn(l.outlets);return new At(r,b)}if(0===o&&Xu(t[0])){r.push(new Zu(n.segments[e].path,zp(t[0]))),o++;continue}const h=Yi(l)?l.outlets[ut]:`${l}`,m=o<t.length-1?t[o+1]:null;h&&m&&Xu(m)?(r.push(new Zu(h,zp(m))),o+=2):(r.push(new Zu(h,{})),o++)}return new At(r,{})}function Bn(n){const e={};return Yn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=$p(new At([],{}),0,t))}),e}function zp(n){const e={};return Yn(n,(t,r)=>e[r]=`${t}`),e}function C_(n,e,t){return n==t.path&&Ki(e,t.parameters)}class qp{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Sc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ju(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Yn(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Ju(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ju(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new Zi(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Bo(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Sc(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Kh(m.route)}else{const m=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function Kh(n){Sc(n.value),n.children.forEach(Kh)}class Zp{constructor(e,t){this.routes=e,this.module=t}}function lo(n){return"function"==typeof n}function Ll(n){return n instanceof Ic}const Ul=Symbol("INITIAL_VALUE");function Ac(){return or(n=>function(...n){let e,t;return(0,Ms.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,_c.k)(n[0])&&(n=n[0]),(0,El.n)(n,t).lift(new wl(e))}(n.map(e=>e.pipe(co(1),Ta(Ul)))).pipe(Il((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==Ul?o:(l===Ul&&(r=!0),r||!1!==l&&h!==t.length-1&&!Ll(l)?o:l),e)},Ul),Ar(e=>e!==Ul),(0,ot.U)(e=>Ll(e)?e:!0===e),co(1)))}let xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:function(){return[nf]},encapsulation:2}),n})();function Vl(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Yp(r,ab(e,r))}}function Yp(n,e){n.children&&Vl(n.children,e)}function ab(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Bl(n){const e=n.children&&n.children.map(Bl),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ut&&(t.component=xr),t}function Qi(n){return n.outlet||ut}function Qp(n,e){const t=n.filter(r=>Qi(r)===e);return t.push(...n.filter(r=>Qi(r)!==e)),t}const Jp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Yh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Jp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Cc)(t,n,e);if(!l)return Object.assign({},Jp);const h={};Yn(l.posParams,(b,C)=>{h[C]=b.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function sd(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>xc(n,e,r)&&Qi(r)!==ut)}(n,t,r)){const h=new At(e,function(n,e,t,r){const o={};o[ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Qi(l)!==ut){const h=new At([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[Qi(l)]=h}return o}(n,e,r,new At(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>xc(n,e,r))}(n,t,r)){const h=new At(n.segments,function(n,e,t,r,o,l){const h={};for(const m of r)if(xc(n,t,m)&&!o[Qi(m)]){const b=new At([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[Qi(m)]=b}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new At(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function xc(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function eg(n,e,t,r){return!!(Qi(n)===r||r!==ut&&xc(e,t,n))&&("**"===n.path||Yh(e,n,t).matched)}function Jh(n,e,t){return 0===e.length&&!n.children[t]}class jr{constructor(e){this.segmentGroup=e||null}}class Mc{constructor(e){this.urlTree=e}}function Oa(n){return new vn.y(e=>e.error(new jr(n)))}function T_(n){return new vn.y(e=>e.error(new Mc(n)))}function tg(n){return new vn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class D_{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=sd(this.urlTree.root,[],[],this.config).segmentGroup,t=new At(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ut).pipe((0,ot.U)(l=>this.createUrlTree(uo(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Os(l=>{if(l instanceof Mc)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof jr?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ut).pipe((0,ot.U)(o=>this.createUrlTree(uo(o),e.queryParams,e.fragment))).pipe(Os(o=>{throw o instanceof jr?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new At([],{[ut]:e}):e;return new Ic(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ot.U)(l=>new At([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,gn.D)(o).pipe(Tl(l=>{const h=r.children[l],m=Qp(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,ot.U)(b=>({segment:b,outlet:l})))}),Il((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ar((o,l)=>n(o,l,r)):Vo.y,Uh(1),t?zu(e):Ec(()=>new Ci))}())}expandSegment(e,t,r,o,l,h){return(0,gn.D)(r).pipe(Tl(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,h).pipe(Os(C=>{if(C instanceof jr)return(0,Ve.of)(null);throw C}))),Wn(m=>!!m),Os((m,b)=>{if(m instanceof Ci||"EmptyError"===m.name){if(Jh(t,o,l))return(0,Ve.of)(new At([],{}));throw new jr(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,h,m){return eg(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):Oa(t):Oa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?T_(l):this.lineralizeSegments(r,l).pipe((0,Un.zg)(h=>{const m=new At(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:m,consumedSegments:b,lastChild:C,positionalParamSegments:M}=Yh(t,o,l);if(!m)return Oa(t);const O=this.applyRedirectCommands(b,o.redirectTo,M);return o.redirectTo.startsWith("/")?T_(O):this.lineralizeSegments(o,O).pipe((0,Un.zg)(H=>this.expandSegment(e,t,r,H.concat(l.slice(C)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ve.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ot.U)(H=>(r._loadedConfig=H,new At(o,{})))):(0,Ve.of)(new At(o,{}));const{matched:h,consumedSegments:m,lastChild:b}=Yh(t,r,o);if(!h)return Oa(t);const C=o.slice(b);return this.getChildConfig(e,r,o).pipe((0,Un.zg)(O=>{const H=O.module,z=O.routes,{segmentGroup:J,slicedSegments:me}=sd(t,m,C,z),Ae=new At(J.segments,J.children);if(0===me.length&&Ae.hasChildren())return this.expandChildren(H,z,Ae).pipe((0,ot.U)(it=>new At(m,it)));if(0===z.length&&0===me.length)return(0,Ve.of)(new At(m,{}));const He=Qi(r)===l;return this.expandSegment(H,Ae,z,me,He?ut:l,!0).pipe((0,ot.U)(Mt=>new At(m.concat(Mt.segments),Mt.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ve.of)(new Zp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ve.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Un.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,ot.U)(l=>(t._loadedConfig=l,l))):(n=t,new vn.y(e=>e.error(Np(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ve.of)(new Zp([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Ve.of)(!0);const l=o.map(h=>{const m=e.get(h);let b;if((n=m)&&lo(n.canLoad))b=m.canLoad(t,r);else{if(!lo(m))throw new Error("Invalid CanLoad guard");b=m(t,r)}var n;return ar(b)});return(0,Ve.of)(l).pipe(Ac(),(0,Sn.b)(h=>{if(!Ll(h))return;const m=Np(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,ot.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ve.of)(r);if(o.numberOfChildren>1||!o.children[ut])return tg(e.redirectTo);o=o.children[ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new Ic(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return Yn(t.children,(m,b)=>{h[b]=this.createSegmentGroup(e,m,r,o)}),new At(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function uo(n){const e={};for(const r of Object.keys(n.children)){const l=uo(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[ut]){const e=n.children[ut];return new At(n.segments.concat(e.segments),e.children)}return n}(new At(n.segments,e))}class od{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class li{constructor(e,t){this.component=e,this.route=t}}function A_(n,e,t){const r=n._root;return jl(r,e?e._root:null,t,[r.value])}function Mr(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function jl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ju(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!xa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xa(n.url,e.url)||!Ki(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nl(n,e)||!Ki(n.queryParams,e.queryParams);case"paramsChange":default:return!Nl(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new od(r)):(l.data=h.data,l._resolvedData=h._resolvedData),jl(n,e,l.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new li(m.outlet.component,h))}else h&&qo(e,m,o),o.canActivateChecks.push(new od(r)),jl(n,null,l.component?m?m.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),Yn(l,(h,m)=>qo(h,t.getContext(m),o)),o}function qo(n,e,t){const r=Ju(n),o=n.value;Yn(r,(l,h)=>{qo(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new li(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class y{}function p(n){return new vn.y(e=>e.error(n))}class E{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=sd(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ut);if(null===t)return null;const r=new qh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ut,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Go(r,t),l=new Ma(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=y_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=Qp(e,l),b=this.processSegmentGroup(m,h,l);if(null===b)return null;r.push(...b)}const o=ce(r);return o.sort((e,t)=>e.value.outlet===ut?-1:t.value.outlet===ut?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return Jh(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!eg(e,t,r,o))return null;let l,h=[],m=[];if("**"===e.path){const z=r.length>0?Sa(r).parameters:{};l=new qh(r,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ze(e),Qi(e),e.component,e,xe(t),We(t)+r.length,xt(e))}else{const z=Yh(t,e,r);if(!z.matched)return null;h=z.consumedSegments,m=r.slice(z.lastChild),l=new qh(h,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ze(e),Qi(e),e.component,e,xe(t),We(t)+h.length,xt(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:M}=sd(t,h,m,b.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);var n;if(0===M.length&&C.hasChildren()){const z=this.processChildren(b,C);return null===z?null:[new Go(l,z)]}if(0===b.length&&0===M.length)return[new Go(l,[])];const O=Qi(e)===o,H=this.processSegment(b,C,M,O?ut:o);return null===H?null:[new Go(l,H)]}}function q(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ce(n){const e=[],t=new Set;for(const r of n){if(!q(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=ce(r.children);e.push(new Go(r.value,o))}return e.filter(r=>!t.has(r))}function xe(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function We(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function ze(n){return n.data||{}}function xt(n){return n.resolve||{}}function ef(n){return or(e=>{const t=n(e);return t?(0,gn.D)(t).pipe((0,ot.U)(()=>e)):(0,Ve.of)(e)})}class F_ extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const $l=new u.OlP("ROUTES");class ad{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,ot.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Zp(d_(h.injector.get($l,void 0,u.XFs.Self|u.XFs.Optional)).map(Bl),h)}),Os(l=>{throw t._loader$=void 0,l}));return t._loader$=new Nh.c(o,()=>new St.xQ).pipe((0,Da.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,gn.D)(this.loader.load(e)):ar(e()).pipe((0,Un.zg)(t=>t instanceof u.YKP?(0,Ve.of)(t):(0,gn.D)(this.compiler.compileModuleAsync(t))))}}class L_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new go,this.attachRef=null}}class go{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new L_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class HS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function eC(n){throw n}function tC(n,e,t){return e.parse("/")}function zl(n,e){return(0,Ve.of)(null)}const nC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ps=(()=>{class n{constructor(t,r,o,l,h,m,b,C){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new St.xQ,this.errorHandler=eC,this.malformedUriErrorHandler=tC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zl,afterPreactivation:zl},this.urlHandlingStrategy=new HS,this.routeReuseStrategy=new F_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const H=h.get(u.R0b);this.isNgZoneEnabled=H instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new Ic(new At([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ad(m,b,z=>this.triggerEvent(new Br(z)),z=>this.triggerEvent(new Kn(z))),this.routerState=__(this.currentUrlTree,this.rootComponentType),this.transitions=new Sr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ar(o=>0!==o.id),(0,ot.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),or(o=>{let l=!1,h=!1;return(0,Ve.of)(o).pipe((0,Sn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),or(m=>{const b=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return V_(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,Ve.of)(m).pipe(or(O=>{const H=this.transitions.getValue();return r.next(new B(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),H!==this.transitions.getValue()?Vr.E:Promise.resolve(O)}),function(n,e,t,r){return or(o=>function(n,e,t,r,o){return new D_(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,ot.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Sn.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(n,e,t,r,o){return(0,Un.zg)(l=>function(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new E(n,e,t,r,o,l).recognize();return null===h?p(new y):(0,Ve.of)(h)}catch(h){return p(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,ot.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Sn.b)(O=>{"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(O.urlAfterRedirects,O),this.browserUrlTree=O.urlAfterRedirects);const H=new je(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(H)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:z,source:J,restoredState:me,extras:Ae}=m,He=new B(H,this.serializeUrl(z),J,me);r.next(He);const Xe=__(z,this.rootComponentType).snapshot;return(0,Ve.of)(Object.assign(Object.assign({},m),{targetSnapshot:Xe,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Vr.E}),ef(m=>{const{targetSnapshot:b,id:C,extractedUrl:M,rawUrl:O,extras:{skipLocationChange:H,replaceUrl:z}}=m;return this.hooks.beforePreactivation(b,{navigationId:C,appliedUrlTree:M,rawUrlTree:O,skipLocationChange:!!H,replaceUrl:!!z})}),(0,Sn.b)(m=>{const b=new Ge(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,ot.U)(m=>Object.assign(Object.assign({},m),{guards:A_(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Un.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?(0,Ve.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,gn.D)(n).pipe((0,Un.zg)(o=>function(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Ve.of)(!0);const h=l.map(m=>{const b=Mr(m,e,o);let C;if(function(n){return n&&lo(n.canDeactivate)}(b))C=ar(b.canDeactivate(n,e,t,r));else{if(!lo(b))throw new Error("Invalid CanDeactivate guard");C=ar(b(n,e,t,r))}return C.pipe(Wn())});return(0,Ve.of)(h).pipe(Ac())}(o.component,o.route,t,e,r)),Wn(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Un.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,e,t,r){return(0,gn.D)(e).pipe(Tl(o=>Fo(function(n,e){return null!==n&&e&&e(new Dl(n)),(0,Ve.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new Sl(n)),(0,Ve.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Ii(()=>{const m=h.guards.map(b=>{const C=Mr(b,h.node,t);let M;if(function(n){return n&&lo(n.canActivateChild)}(C))M=ar(C.canActivateChild(r,n));else{if(!lo(C))throw new Error("Invalid CanActivateChild guard");M=ar(C(r,n))}return M.pipe(Wn())});return(0,Ve.of)(m).pipe(Ac())}));return(0,Ve.of)(l).pipe(Ac())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ve.of)(!0);const o=r.map(l=>Ii(()=>{const h=Mr(l,e,t);let m;if(function(n){return n&&lo(n.canActivate)}(h))m=ar(h.canActivate(e,n));else{if(!lo(h))throw new Error("Invalid CanActivate guard");m=ar(h(e,n))}return m.pipe(Wn())}));return(0,Ve.of)(o).pipe(Ac())}(n,o.route,t))),Wn(o=>!0!==o,!0))}(r,l,n,e):(0,Ve.of)(m)),(0,ot.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Sn.b)(m=>{if(Ll(m.guardsResult)){const C=Np(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw C.url=m.guardsResult,C}const b=new Pt(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Ar(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),ef(m=>{if(m.guards.canActivateChecks.length)return(0,Ve.of)(m).pipe((0,Sn.b)(b=>{const C=new sn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}),or(b=>{let C=!1;return(0,Ve.of)(b).pipe(function(n,e){return(0,Un.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ve.of)(t);let l=0;return(0,gn.D)(o).pipe(Tl(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Ve.of)({});const l={};return(0,gn.D)(o).pipe((0,Un.zg)(h=>function(n,e,t,r){const o=Mr(n,e,r);return ar(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,Sn.b)(m=>{l[h]=m}))),Uh(1),(0,Un.zg)(()=>Object.keys(l).length===o.length?(0,Ve.of)(l):Vr.E))}(n._resolve,n,e,r).pipe((0,ot.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),y_(n,t).resolve),null)))}(h.route,r,n,e)),(0,Sn.b)(()=>l++),Uh(1),(0,Un.zg)(h=>l===o.length?(0,Ve.of)(t):Vr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Sn.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Sn.b)(b=>{const C=new Vn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}))}),ef(m=>{const{targetSnapshot:b,id:C,extractedUrl:M,rawUrl:O,extras:{skipLocationChange:H,replaceUrl:z}}=m;return this.hooks.afterPreactivation(b,{navigationId:C,appliedUrlTree:M,rawUrlTree:O,skipLocationChange:!!H,replaceUrl:!!z})}),(0,ot.U)(m=>{const b=function(n,e,t){const r=Fl(n,e._root,t?t._root:void 0);return new Gh(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,Sn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,ot.U)(r=>(new qp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Sn.b)({next(){l=!0},complete(){l=!0}}),Bh(()=>{var m;if(!l&&!h){const b=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,b)):this.cancelNavigationTransition(o,b)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Os(m=>{if(h=!0,function(n){return n&&n[Al]}(m)){const b=Ll(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const C=new de(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(C),b?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||V_(o.source)};this.scheduleNavigation(M,"imperative",null,O,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new Ie(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(C){o.reject(C)}}return Vr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:l,urlTree:h}=r,m={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,o,l,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Vl(t),this.config=t.map(Bl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,C=o||this.routerState.root,M=b?this.currentUrlTree.fragment:h;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),function(n,e,t,r,o){if(0===t.length)return w_(e.root,e.root,e,r,o);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ed(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Yn(l.outlets,(b,C)=>{m[C]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new ed(t,e,r)}(t);if(l.toRoot())return w_(e.root,new At([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new td(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new td(l,l===e.root,0)}const r=Xu(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new td(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?rd(h.segmentGroup,h.index,l.commands):nd(h.segmentGroup,h.index,l.commands);return w_(h.segmentGroup,m,e,r,o)}(C,this.currentUrlTree,t,O,null!=M?M:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ll(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},nC):!1===r?Object.assign({},rC):r,Ll(t))return qu(this.currentUrlTree,t,o);const l=this.parseUrl(t);return qu(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var m,b;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),M=V_(r)&&C&&!V_(C.source),z=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===t.toString();if(M&&z)return Promise.resolve(!0);let J,me,Ae;h?(J=h.resolve,me=h.reject,Ae=h.promise):Ae=new Promise((Mt,it)=>{J=Mt,me=it});const He=++this.navigationId;let Xe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Xe=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Xe=0,this.setTransition({id:He,targetPageId:Xe,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:J,reject:me,promise:Ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ae.catch(Mt=>Promise.reject(Mt))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new de(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.DyG),u.LFG(Up),u.LFG(go),u.LFG(Rt),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function V_(n){return"imperative"!==n}let B_=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.route=r,this.commands=[],this.onChanges=new St.xQ,null==o&&l.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:cd(this.skipLocationChange),replaceUrl:cd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:cd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ps),u.Y36(Dc),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),n})(),tf=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=[],this.onChanges=new St.xQ,this.subscription=t.events.subscribe(l=>{l instanceof te&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,h){if(0!==t||r||o||l||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const m={skipLocationChange:cd(this.skipLocationChange),replaceUrl:cd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:cd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ps),u.Y36(Dc),u.Y36(fe))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&(u.Ikx("href",r.href,u.LSH),u.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),n})();function cd(n){return""===n||!!n}let j_=(()=>{class n{constructor(t,r,o,l,h,m){this.router=t,this.element=r,this.renderer=o,this.cdr=l,this.link=h,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(b=>{b instanceof te&&this.update()})}ngAfterContentInit(){(0,Ve.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ve.of)(null)).pipe((0,Rs.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,gn.D)(r).pipe((0,Rs.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}))})}isLinkActive(t){const r=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ps),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(B_,8),u.Y36(tf,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&(u.Suo(o,B_,5),u.Suo(o,tf,5)),2&t){let l;u.iGM(l=u.CRH())&&(r.links=l),u.iGM(l=u.CRH())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[u.TTD]}),n})(),nf=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=l||ut,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new H_(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(go),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class H_{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Dc?this.route:e===go?this.childContexts:this.parent.get(e,t)}}class hb{}class pb{preload(e,t){return(0,Ve.of)(null)}}let $_=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.injector=l,this.preloadingStrategy=h,this.loader=new ad(r,o,C=>t.triggerEvent(new Br(C)),C=>t.triggerEvent(new Kn(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ar(t=>t instanceof te),Tl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,gn.D)(o).pipe((0,Rs.J)(),(0,ot.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ve.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Un.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ps),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(hb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ld=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof B?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof te&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wi&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Wi(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ps),u.LFG(sc),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Gl=new u.OlP("ROUTER_CONFIGURATION"),sC=new u.OlP("ROUTER_FORROOT_GUARD"),oC=[Rt,{provide:Up,useClass:Rl},{provide:ps,useFactory:function(n,e,t,r,o,l,h,m={},b,C){const M=new ps(null,n,e,t,r,o,l,d_(h));return b&&(M.urlHandlingStrategy=b),C&&(M.routeReuseStrategy=C),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(m,M),m.enableTracing&&M.events.subscribe(O=>{var H,z;null===(H=console.group)||void 0===H||H.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(z=console.groupEnd)||void 0===z||z.call(console)}),M},deps:[Up,go,Rt,u.zs3,u.v3s,u.Sil,$l,Gl,[class{},new u.FiY],[class{},new u.FiY]]},go,{provide:Dc,useFactory:function(n){return n.routerState.root},deps:[ps]},{provide:u.v3s,useClass:u.EAV},$_,pb,class{preload(e,t){return t().pipe(Os(()=>(0,Ve.of)(null)))}},{provide:Gl,useValue:{enableTracing:!1}}];function gb(){return new u.PXZ("Router",ps)}let mb=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[oC,_b(t),{provide:sC,useFactory:zS,deps:[[ps,new u.FiY,new u.tp0]]},{provide:Gl,useValue:r||{}},{provide:fe,useFactory:aC,deps:[ee,[new u.tBr(ye),new u.FiY],Gl]},{provide:ld,useFactory:iO,deps:[ps,sc,Gl]},{provide:hb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:pb},{provide:u.PXZ,multi:!0,useFactory:gb},[yb,{provide:u.ip1,multi:!0,useFactory:cC,deps:[yb]},{provide:lC,useFactory:ZS,deps:[yb]},{provide:u.tb,multi:!0,useExisting:lC}]]}}static forChild(t){return{ngModule:n,providers:[_b(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sC,8),u.LFG(ps,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function iO(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new ld(n,e,t)}function aC(n,e,t={}){return t.useHash?new Ue(n,e):new Pe(n,e)}function zS(n){return"guarded"}function _b(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:$l,multi:!0,useValue:n}]}let yb=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new St.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(ps),h=this.injector.get(Gl);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Ve.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Gl),o=this.injector.get($_),l=this.injector.get(ld),h=this.injector.get(ps),m=this.injector.get(u.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function cC(n){return n.appInitializer.bind(n)}function ZS(n){return n.bootstrapListener.bind(n)}const lC=new u.OlP("Router Initializer");class uC{}var z_=F(3637),ui=F(9259);function G_(){return n=>n.lift(new bt)}class bt{call(e,t){return t.subscribe(new dC(e))}}class dC extends dn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function q_(n,e){return t=>t.lift(new Z_(n,e))}class Z_{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Wo(e,this.compare,this.keySelector))}}class Wo extends dn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var Be,mo=F(8939),vb=(F(8402),F(3394)),_e=F(8239),Oc=F(8026),ig=F(3910),Na=F(5422),Bt=F(3854),hC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ql={},rf=rf||{},_t=hC||self;function sf(){}function fC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function sg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gC="closure_uid_"+(1e9*Math.random()>>>0),KS=0;function aO(n,e,t){return n.call.apply(n.bind,arguments)}function mC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Hr(n,e,t){return(Hr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aO:mC).apply(null,arguments)}function W_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Rr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function ud(){this.s=this.s,this.o=this.o}var lO={};ud.prototype.s=!1,ud.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,gC)&&n[gC]||(n[gC]=++KS)}(this);delete lO[n]}},ud.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YS=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},QS=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function JS(n){return Array.prototype.concat.apply([],arguments)}function _C(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function bb(n){return/^[\s\xa0]*$/.test(n)}var di,XS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function gs(n,e){return-1!=n.indexOf(e)}function Fa(n,e){return n<e?-1:n>e?1:0}e:{var yC=_t.navigator;if(yC){var Eb=yC.userAgent;if(Eb){di=Eb;break e}}di=""}function og(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function wb(n){const e={};for(const t in n)e[t]=n[t];return e}var K_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vC(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<K_.length;l++)t=K_[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function La(n){return La[" "](n),n}La[" "]=sf;var Zl,n,eA=gs(di,"Opera"),ag=gs(di,"Trident")||gs(di,"MSIE"),Y_=gs(di,"Edge"),Cb=Y_||ag,Ib=gs(di,"Gecko")&&!(gs(di.toLowerCase(),"webkit")&&!gs(di,"Edge"))&&!(gs(di,"Trident")||gs(di,"MSIE"))&&!gs(di,"Edge"),tA=gs(di.toLowerCase(),"webkit")&&!gs(di,"Edge");function EC(){var n=_t.document;return n?n.documentMode:void 0}e:{var Wl="",cg=(n=di,Ib?/rv:([^\);]+)(\)|;)/.exec(n):Y_?/Edge\/([\d\.]+)/.exec(n):ag?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tA?/WebKit\/(\S+)/.exec(n):eA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cg&&(Wl=cg?cg[1]:""),ag){var Kl=EC();if(null!=Kl&&Kl>parseFloat(Wl)){Zl=String(Kl);break e}}Zl=Wl}var lg={};function of(){return e=lg,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=XS(String(Zl)).split("."),t=XS("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Fa(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Fa(0==o[2].length,0==l[2].length)||Fa(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n}();var e}var wC=_t.document&&ag&&(EC()||parseInt(Zl,10))||void 0,Sb=function(){if(!_t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{_t.addEventListener("test",sf,e),_t.removeEventListener("test",sf,e)}catch(t){}return n}();function $r(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function af(n,e){if($r.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ib){e:{try{La(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Q_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&af.Z.h.call(this)}}$r.prototype.h=function(){this.defaultPrevented=!0},Rr(af,$r);var Q_={2:"touch",3:"pen",4:"mouse"};af.prototype.h=function(){af.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ug="closure_listenable_"+(1e6*Math.random()|0),CC=0;function dO(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++CC,this.ca=this.fa=!1}function dg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function hg(n){this.src=n,this.g={},this.h=0}function Ab(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=YS(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(dg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function J_(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}hg.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=J_(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new dO(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var xb="closure_lm_"+(1e6*Math.random()|0),Mb={};function ms(n,e,t,r,o){if(r&&r.once)return rA(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)ms(n,e[l],t,r,o);return null}return t=Rb(t),n&&n[ug]?n.N(e,t,sg(r)?!!r.capture:!!r,o):IC(n,e,t,!1,r,o)}function IC(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=sg(o)?!!o.capture:!!o,m=fg(n);if(m||(n[xb]=m=new hg(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=oA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Sb||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(sA(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function rA(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)rA(n,e[l],t,r,o);return null}return t=Rb(t),n&&n[ug]?n.O(e,t,sg(r)?!!r.capture:!!r,o):IC(n,e,t,!0,r,o)}function iA(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)iA(n,e[l],t,r,o);else r=sg(r)?!!r.capture:!!r,t=Rb(t),n&&n[ug]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=J_(l=n.g[e],t,r,o))&&(dg(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=fg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=J_(e,t,r,o)),(t=-1<n?e[n]:null)&&X_(t))}function X_(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ug])Ab(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(sA(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=fg(e))?(Ab(t,n),0==t.h&&(t.src=null,e[xb]=null)):dg(n)}}}function sA(n){return n in Mb?Mb[n]:Mb[n]="on"+n}function oA(n,e){if(n.ca)n=!0;else{e=new af(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&X_(n),n=t.call(r,e)}return n}function fg(n){return(n=n[xb])instanceof hg?n:null}var ey="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rb(n){return"function"==typeof n?n:(n[ey]||(n[ey]=function(e){return n.handleEvent(e)}),n[ey])}function zr(){ud.call(this),this.i=new hg(this),this.P=this,this.I=null}function hi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new $r(e,n);else if(e instanceof $r)e.target=e.target||n;else{var o=e;vC(e=new $r(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=pg(h,r,!0,e)&&o}if(o=pg(h=e.g=n,r,!0,e)&&o,o=pg(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=pg(h=e.g=t[l],r,!1,e)&&o}function pg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,b=h.ia||h.src;h.fa&&Ab(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}Rr(zr,ud),zr.prototype[ug]=!0,zr.prototype.removeEventListener=function(n,e,t,r){iA(this,n,e,t,r)},zr.prototype.M=function(){if(zr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)dg(t[r]);delete n.g[e],n.h--}}this.I=null},zr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ob=_t.JSON.stringify;function TC(){var n=xC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _o,DC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new SC,n=>n.reset());class SC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function AC(n){_t.setTimeout(()=>{throw n},0)}function kb(n,e){_o||function(){var n=_t.Promise.resolve(void 0);_o=function(){n.then(hO)}}(),Nb||(_o(),Nb=!0),xC.add(n,e)}var Nb=!1,xC=new class{constructor(){this.h=this.g=null}add(e,t){const r=DC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function hO(){for(var n;n=TC();){try{n.h.call(n.g)}catch(t){AC(t)}var e=DC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Nb=!1}function gg(n,e){zr.call(this),this.h=n||1,this.g=e||_t,this.j=Hr(this.kb,this),this.l=Date.now()}function Fb(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Lb(n,e,t){if("function"==typeof n)t&&(n=Hr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Hr(n.handleEvent,n)}return 2147483647<Number(e)?-1:_t.setTimeout(n,e||0)}function MC(n){n.g=Lb(()=>{n.g=null,n.i&&(n.i=!1,MC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Rr(gg,zr),(Be=gg.prototype).da=!1,Be.S=null,Be.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hi(this,"tick"),this.da&&(Fb(this),this.start()))}},Be.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Be.M=function(){gg.Z.M.call(this),Fb(this),delete this.g};class Ub extends ud{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:MC(this)}M(){super.M(),this.g&&(_t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mg(n){ud.call(this),this.h=n,this.g={}}Rr(mg,ud);var RC=[];function _g(n,e,t,r){Array.isArray(t)||(t&&(RC[0]=t.toString()),t=RC);for(var o=0;o<t.length;o++){var l=ms(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function ty(n){og(n.g,function(e,t){this.g.hasOwnProperty(t)&&X_(e)},n),n.g={}}function ny(){this.g=!0}function dd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return Ob(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}mg.prototype.M=function(){mg.Z.M.call(this),ty(this)},mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ny.prototype.Aa=function(){this.g=!1},ny.prototype.info=function(){};var kc={},uA=null;function ry(){return uA=uA||new zr}function jb(n){$r.call(this,kc.Ma,n)}function cf(n){const e=ry();hi(e,new jb(e,n))}function Hb(n,e){$r.call(this,kc.STAT_EVENT,n),this.stat=e}function Si(n){const e=ry();hi(e,new Hb(e,n))}function $b(n,e){$r.call(this,kc.Na,n),this.size=e}function Ns(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return _t.setTimeout(function(){n()},e)}kc.Ma="serverreachability",Rr(jb,$r),kc.STAT_EVENT="statevent",Rr(Hb,$r),kc.Na="timingevent",Rr($b,$r);var hd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},OC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zb(){}function fd(){}zb.prototype.h=null;var Gb,lf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pd(){$r.call(this,"d")}function gd(){$r.call(this,"c")}function uf(){}function df(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new mg(this),this.P=PC,this.W=new gg(n=Cb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kC}function kC(){this.i=null,this.g="",this.h=!1}Rr(pd,$r),Rr(gd,$r),Rr(uf,zb),uf.prototype.g=function(){return new XMLHttpRequest},uf.prototype.i=function(){return{}},Gb=new uf;var PC=45e3,qb={},hf={};function Zb(n,e,t){n.K=1,n.v=bg(Ko(e)),n.s=t,n.U=!0,NC(n,null)}function NC(n,e){n.F=Date.now(),yg(n),n.A=Ko(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Qb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new kC,n.g=sE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Ub(Hr(n.Ia,n,n.g),n.O)),_g(n.V,n.g,"readystatechange",n.gb),e=n.H?wb(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),cf(1),function(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),b=0;b<m.length;b++){var C=m[b].split("=");if(1<C.length){var M=C[0];C=C[1];var O=M.split("_");h=2<=O.length&&"type"==O[1]?h+(M+"=")+C+"&":h+(M+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Wb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function md(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=FC(n,t),o==hf){4==e&&(n.o=4,Si(14),r=!1),dd(n.j,n.m,null,"[Incomplete Response]");break}if(o==qb){n.o=4,Si(15),dd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}dd(n.j,n.m,o,null),Kb(n,o)}Wb(n)&&o!=hf&&o!=qb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Si(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Jl(e),e.L=!0,Si(11))):(dd(n.j,n.m,t,"[Invalid Chunked Response]"),_d(n),vg(n))}function FC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?hf:(t=Number(e.substring(t,r)),isNaN(t)?qb:(r+=1)+t>e.length?hf:(e=e.substr(r,t),n.C=r+t,e))}function yg(n){n.Y=Date.now()+n.P,LC(n,n.P)}function LC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ns(Hr(n.eb,n),e)}function Pc(n){n.B&&(_t.clearTimeout(n.B),n.B=null)}function vg(n){0==n.l.G||n.I||tE(n.l,n)}function _d(n){Pc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Fb(n.W),ty(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Kb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Jb(t.i,n)))if(t.I=n.N,!n.J&&Jb(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ns(Hr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Nc(t),Ua(t)}Ql(t),Si(18)}if(1>=cy(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else Xl(t,11)}else if((n.J||t.g==n)&&Nc(t),!bb(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const M=C[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const O=C[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const H=C[5];null!=H&&"number"==typeof H&&0<H&&(t.K=r=1.5*H,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const J=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var l=r.i;!l.g&&(gs(J,"spdy")||gs(J,"quic")||gs(J,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(ly(l,l.h),l.h=null))}if(r.D){const me=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(r.sa=me,An(r.F,r.D,me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=iE(r,r.H?r.la:null,r.W),h.J){Xb(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(Pc(m),yg(m)),r.g=h}else wd(r);0<t.l.length&&yf(t)}else"stop"!=C[0]&&"close"!=C[0]||Xl(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Xl(t,7):Gr(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}cf(4)}catch(C){}}function UC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fC(n)||"string"==typeof n)QS(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(fC(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(fC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function ff(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ff)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function iy(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];hn(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)hn(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function hn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Be=df.prototype).setTimeout=function(n){this.P=n},Be.gb=function(n){n=n.target;const e=this.L;e&&3==Ls(n)?e.l():this.Ia(n)},Be.Ia=function(n){try{if(n==this.g)e:{const M=Ls(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>M)&&(3!=M||Cb||this.g&&(this.h.h||this.g.ga()||JC(this.g)))){this.I||4!=M||7==e||cf(8==e||0>=O?3:2),Pc(this);var t=this.g.ba();this.N=t;t:if(Wb(this)){var r=JC(this.g);n="";var o=r.length,l=4==Ls(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_d(this),vg(this);var h="";break t}this.h.i=new _t.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bb(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Si(12),_d(this),vg(this);break e}dd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kb(this,t)}this.U?(md(this,M,h),Cb&&this.i&&3==M&&(_g(this.V,this.W,"tick",this.fb),this.W.start())):(dd(this.j,this.m,h,null),Kb(this,h)),4==M&&_d(this),this.i&&!this.I&&(4==M?tE(this.l,this):(this.i=!1,yg(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Si(12)):(this.o=0,Si(13)),_d(this),vg(this)}}}catch(M){}},Be.fb=function(){if(this.g){var n=Ls(this.g),e=this.g.ga();this.C<e.length&&(Pc(this),md(this,n,e),this.i&&4!=n&&yg(this))}},Be.cancel=function(){this.I=!0,_d(this)},Be.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(cf(3),Si(17)),_d(this),this.o=2,vg(this)):LC(this,this.Y-n)},(Be=ff.prototype).R=function(){iy(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Be.T=function(){return iy(this),this.g.concat()},Be.get=function(n,e){return hn(this.h,n)?this.h[n]:e},Be.set=function(n,e){hn(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Be.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var sy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ji(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ji){this.g=void 0!==e?e:n.g,pf(this,n.j),this.s=n.s,Yb(this,n.i),oy(this,n.m),this.l=n.l,e=n.h;var t=new Ig;t.i=e.i,e.g&&(t.g=new ff(e.g),t.h=e.h),VC(this,t),this.o=n.o}else n&&(t=String(n).match(sy))?(this.g=!!e,pf(this,t[1]||"",!0),this.s=Eg(t[2]||""),Yb(this,t[3]||"",!0),oy(this,t[4]),this.l=Eg(t[5]||"",!0),VC(this,t[6]||"",!0),this.o=Eg(t[7]||"")):(this.g=!!e,this.h=new Ig(null,this.g))}function Ko(n){return new Ji(n)}function pf(n,e,t){n.j=t?Eg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Yb(n,e,t){n.i=t?Eg(e,!0):e}function oy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function VC(n,e,t){e instanceof Ig?(n.h=e,function(n,e){e&&!n.j&&(Yl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(qC(this,r),Qb(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=wg(e,zC)),n.h=new Ig(e,n.g))}function An(n,e,t){n.h.set(e,t)}function bg(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Eg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Cg),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Cg(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ji.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wg(e,ay,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wg(e,ay,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(wg(t,"/"==t.charAt(0)?$C:HC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wg(t,GC)),n.join("")};var ay=/[#\/\?@]/g,HC=/[#\?:]/g,$C=/[#\?]/g,zC=/[#\?@]/g,GC=/#/g;function Ig(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Yl(n){n.g||(n.g=new ff,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qC(n,e){Yl(n),e=Tg(n,e),hn(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,hn((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&iy(n)))}function ZC(n,e){return Yl(n),e=Tg(n,e),hn(n.g.h,e)}function Qb(n,e,t){qC(n,e),0<t.length&&(n.i=null,n.g.set(Tg(n,e),_C(t)),n.h+=t.length)}function Tg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function KC(n){this.l=n||pO,n=_t.PerformanceNavigationTiming?0<(n=_t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(_t.g&&_t.g.Ea&&_t.g.Ea()&&_t.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Be=Ig.prototype).add=function(n,e){Yl(this),this.i=null,n=Tg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Be.forEach=function(n,e){Yl(this),this.g.forEach(function(t,r){QS(t,function(o){n.call(e,o,r,this)},this)},this)},Be.T=function(){Yl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},Be.R=function(n){Yl(this);var e=[];if("string"==typeof n)ZC(this,n)&&(e=JS(e,this.g.get(Tg(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=JS(e,n[t])}return e},Be.set=function(n,e){return Yl(this),this.i=null,ZC(this,n=Tg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Be.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Be.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var pO=10;function pA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cy(n){return n.h?1:n.g?n.g.size:0}function Jb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ly(n,e){n.g?n.g.add(e):n.h=e}function Xb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function gA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return _C(n.i)}function Fs(){}function gO(){this.g=new Fs}function mO(n,e,t){const r=t||"";try{UC(n,function(o,l){let h=o;sg(o)&&(h=Ob(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Dg(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function gf(n){this.l=n.$b||null,this.j=n.ib||!1}function Sg(n,e){zr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=eE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}KC.prototype.cancel=function(){if(this.i=gA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Fs.prototype.stringify=function(n){return _t.JSON.stringify(n,void 0)},Fs.prototype.parse=function(n){return _t.JSON.parse(n,void 0)},Rr(gf,zb),gf.prototype.g=function(){return new Sg(this.l,this.j)},gf.prototype.i=function(n){return function(){return n}}({}),Rr(Sg,zr);var eE=0;function mA(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function mf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yd(n)}function yd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Be=Sg.prototype).open=function(n,e){if(this.readyState!=eE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yd(this)},Be.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||_t).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mf(this)),this.readyState=eE},Be.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yd(this)),this.g&&(this.readyState=3,yd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==_t.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mA(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Be.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mf(this):yd(this),3==this.readyState&&mA(this)}},Be.Ua=function(n){this.g&&(this.response=this.responseText=n,mf(this))},Be.Ta=function(n){this.g&&(this.response=n,mf(this))},Be.ha=function(){this.g&&mf(this)},Be.setRequestHeader=function(n,e){this.v.append(n,e)},Be.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Be.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Sg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _A=_t.JSON.parse;function Qn(n){zr.call(this),this.headers=new ff,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YC,this.K=this.L=!1}Rr(Qn,zr);var YC="",yA=/^https?$/i,vA=["POST","PUT"];function EA(n){return"content-type"==n.toLowerCase()}function QC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Ag(n),xg(n)}function Ag(n){n.D||(n.D=!0,hi(n,"complete"),hi(n,"error"))}function vd(n){if(n.h&&void 0!==rf&&(!n.C[1]||4!=Ls(n)||2!=n.ba()))if(n.v&&4==Ls(n))Lb(n.Fa,0,n);else if(hi(n,"readystatechange"),4==Ls(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(sy)[1]||null;if(!o&&_t.self&&_t.self.location){var l=_t.self.location.protocol;o=l.substr(0,l.length-1)}r=!yA.test(o?o.toLowerCase():"")}t=r}if(t)hi(n,"complete"),hi(n,"success");else{n.m=6;try{var h=2<Ls(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",Ag(n)}}finally{xg(n)}}}function xg(n,e){if(n.g){yo(n);const t=n.g,r=n.C[0]?sf:null;n.g=null,n.C=null,e||hi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function yo(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(_t.clearTimeout(n.A),n.A=null)}function Ls(n){return n.g?n.g.readyState:0}function JC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case YC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Mg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return og(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function _s(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _f(n){this.za=0,this.l=[],this.h=new ny,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_s("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_s("baseRetryDelayMs",5e3,n),this.$a=_s("retryDelaySeedMs",1e4,n),this.Ya=_s("forwardChannelMaxRetries",2,n),this.ra=_s("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new KC(n&&n.concurrentRequestLimit),this.Ca=new gO,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Gr(n){if(Rg(n),3==n.G){var e=n.V++,t=Ko(n.F);An(t,"SID",n.J),An(t,"RID",e),An(t,"TYPE","terminate"),Va(n,t),(e=new df(n,n.h,e,void 0)).K=2,e.v=bg(Ko(t)),t=!1,_t.navigator&&_t.navigator.sendBeacon&&(t=_t.navigator.sendBeacon(e.v.toString(),"")),!t&&_t.Image&&((new Image).src=e.v,t=!0),t||(e.g=sE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),yg(e)}rE(n)}function Ua(n){n.g&&(Jl(n),n.g.cancel(),n.g=null)}function Rg(n){Ua(n),n.u&&(_t.clearTimeout(n.u),n.u=null),Nc(n),n.i.cancel(),n.m&&("number"==typeof n.m&&_t.clearTimeout(n.m),n.m=null)}function ys(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&yf(n)}function yf(n){pA(n.i)||n.m||(n.m=!0,kb(n.Ha,n),n.C=0)}function bd(n,e){var t;t=e?e.m:n.V++;const r=Ko(n.F);An(r,"SID",n.J),An(r,"RID",t),An(r,"AID",n.U),Va(n,r),n.o&&n.s&&Mg(r,n.o,n.s),t=new df(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ed(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),ly(n.i,t),Zb(t,r,e)}function Va(n,e){n.j&&UC({},function(t,r){An(e,r,t)})}function Ed(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Hr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let b=0;b<t;b++){let C=o[b].h;const M=o[b].g;if(C-=l,0>C)l=Math.max(0,o[b].h-100),m=!1;else try{mO(M,h,"req"+C+"_")}catch(O){r&&r(M)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function wd(n){n.g||n.u||(n.Y=1,kb(n.Ga,n),n.A=0)}function Ql(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ns(Hr(n.Ga,n),nE(n,n.A)),n.A++,0))}function Jl(n){null!=n.B&&(_t.clearTimeout(n.B),n.B=null)}function Cd(n){n.g=new df(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ko(n.oa);An(e,"RID","rpc"),An(e,"SID",n.J),An(e,"CI",n.N?"0":"1"),An(e,"AID",n.U),Va(n,e),An(e,"TYPE","xmlhttp"),n.o&&n.s&&Mg(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=bg(Ko(e)),t.s=null,t.U=!0,NC(t,n)}function Nc(n){null!=n.v&&(_t.clearTimeout(n.v),n.v=null)}function tE(n,e){var t=null;if(n.g==e){Nc(n),Jl(n),n.g=null;var r=2}else{if(!Jb(n.i,e))return;t=e.D,Xb(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;hi(r=ry(),new $b(r,t,e,o)),yf(n)}else wd(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(cy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ns(Hr(n.Ha,n,e),nE(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ql(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Xl(n,5);break;case 4:Xl(n,10);break;case 3:Xl(n,6);break;default:Xl(n,2)}}function nE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Xl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Hr(n.jb,n);t||(t=new Ji("//www.google.com/images/cleardot.gif"),_t.location&&"http"==_t.location.protocol||pf(t,"https"),bg(t)),function(n,e){const t=new ny;if(_t.Image){const r=new Image;r.onload=W_(Dg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=W_(Dg,t,r,"TestLoadImage: error",!1,e),r.onabort=W_(Dg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=W_(Dg,t,r,"TestLoadImage: timeout",!1,e),_t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Si(2);n.G=0,n.j&&n.j.va(e),rE(n),Rg(n)}function rE(n){n.G=0,n.I=-1,n.j&&((0!=gA(n.i).length||0!=n.l.length)&&(n.i.i.length=0,_C(n.l),n.l.length=0),n.j.ua())}function iE(n,e,t){let r=function(n){return n instanceof Ji?Ko(n):new Ji(n,void 0)}(t);if(""!=r.i)e&&Yb(r,e+"."+r.i),oy(r,r.m);else{const o=_t.location;r=function(n,e,t,r){var o=new Ji(null,void 0);return n&&pf(o,n),e&&Yb(o,e),t&&oy(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&og(n.aa,function(o,l){An(r,l,o)}),t=n.sa,(e=n.D)&&t&&An(r,e,t),An(r,"VER",n.ma),Va(n,r),r}function sE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qn(t&&n.Ba&&!n.qa?new gf({ib:!0}):n.qa)).L=n.H,e}function oE(){}function Og(){if(ag&&!(10<=Number(wC)))throw Error("Environmental error: no available transport.")}function vs(n,e){zr.call(this),this.g=new _f(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!bb(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bb(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new bf(this)}function XC(n){pd.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function aE(){gd.call(this),this.status=1}function bf(n){this.g=n}(Be=Qn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gb.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Gb),this.g.onreadystatechange=Hr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void QC(this,l)}n=t||"";const o=new ff(this.headers);r&&UC(r,function(l,h){o.set(h,l)}),r=function(n){e:{var e=EA;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=_t.FormData&&n instanceof _t.FormData,!(0<=YS(vA,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yo(this),0<this.B&&((this.K=function(n){return ag&&of()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hr(this.pa,this)):this.A=Lb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){QC(this,l)}},Be.pa=function(){void 0!==rf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hi(this,"timeout"),this.abort(8))},Be.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,hi(this,"complete"),hi(this,"abort"),xg(this))},Be.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xg(this,!0)),Qn.Z.M.call(this)},Be.Fa=function(){this.s||(this.F||this.v||this.l?vd(this):this.cb())},Be.cb=function(){vd(this)},Be.ba=function(){try{return 2<Ls(this)?this.g.status:-1}catch(n){return-1}},Be.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Be.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_A(e)}},Be.Da=function(){return this.m},Be.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Be=_f.prototype).ma=8,Be.G=1,Be.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Be.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new df(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=wb(l),vC(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ed(this,o,e),An(t=Ko(this.F),"RID",n),An(t,"CVER",22),this.D&&An(t,"X-HTTP-Session-Id",this.D),Va(this,t),this.o&&l&&Mg(t,this.o,l),ly(this.i,o),this.Ra&&An(t,"TYPE","init"),this.ja?(An(t,"$req",e),An(t,"SID","null"),o.$=!0,Zb(o,t,null)):Zb(o,t,e),this.G=2}}else 3==this.G&&(n?bd(this,n):0==this.l.length||pA(this.i)||bd(this))},Be.Ga=function(){if(this.u=null,Cd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ns(Hr(this.bb,this),n)}},Be.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Si(10),Ua(this),Cd(this))},Be.ab=function(){null!=this.v&&(this.v=null,Ua(this),Ql(this),Si(19))},Be.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Si(2)):(this.h.info("Failed to ping google.com"),Si(1))},(Be=oE.prototype).xa=function(){},Be.wa=function(){},Be.va=function(){},Be.ua=function(){},Be.Oa=function(){},Og.prototype.g=function(n,e){return new vs(n,e)},Rr(vs,zr),vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),kb(Hr(n.hb,n,e))),Si(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=iE(n,null,n.W),yf(n)},vs.prototype.close=function(){Gr(this.g)},vs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ys(this.g,e)}else this.v?((e={}).__data__=Ob(n),ys(this.g,e)):ys(this.g,n)},vs.prototype.M=function(){this.g.j=null,delete this.j,Gr(this.g),delete this.g,vs.Z.M.call(this)},Rr(XC,pd),Rr(aE,gd),Rr(bf,oE),bf.prototype.xa=function(){hi(this.g,"a")},bf.prototype.wa=function(n){hi(this.g,new XC(n))},bf.prototype.va=function(n){hi(this.g,new aE(n))},bf.prototype.ua=function(){hi(this.g,"b")},Og.prototype.createWebChannel=Og.prototype.g,vs.prototype.send=vs.prototype.u,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,hd.NO_ERROR=0,hd.TIMEOUT=8,hd.HTTP_ERROR=6,OC.COMPLETE="complete",fd.EventType=lf,lf.OPEN="a",lf.CLOSE="b",lf.ERROR="c",lf.MESSAGE="d",zr.prototype.listen=zr.prototype.N,Qn.prototype.listenOnce=Qn.prototype.O,Qn.prototype.getLastError=Qn.prototype.La,Qn.prototype.getLastErrorCode=Qn.prototype.Da,Qn.prototype.getStatus=Qn.prototype.ba,Qn.prototype.getResponseJson=Qn.prototype.Qa,Qn.prototype.getResponseText=Qn.prototype.ga,Qn.prototype.send=Qn.prototype.ea;var eI=ql.createWebChannelTransport=function(){return new Og},tI=ql.getStatEventTarget=function(){return ry()},cE=ql.ErrorCode=hd,yO=ql.EventType=OC,CA=ql.Event=kc,lE=ql.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},IA=ql.FetchXmlHttpFactory=gf,kg=ql.WebChannel=fd,TA=ql.XhrIo=Qn;const nI="@firebase/firestore";class Ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ai.UNAUTHENTICATED=new Ai(null),Ai.GOOGLE_CREDENTIALS=new Ai("google-credentials-uid"),Ai.FIRST_PARTY=new Ai("first-party-uid"),Ai.MOCK_USER=new Ai("mock-user");let Ef="9.6.3";const Fc=new Na.Yd("@firebase/firestore");function rI(){return Fc.logLevel}function ke(n,...e){if(Fc.logLevel<=Na.in.DEBUG){const t=e.map(uE);Fc.debug(`Firestore (${Ef}): ${n}`,...t)}}function gr(n,...e){if(Fc.logLevel<=Na.in.ERROR){const t=e.map(uE);Fc.error(`Firestore (${Ef}): ${n}`,...t)}}function uy(n,...e){if(Fc.logLevel<=Na.in.WARN){const t=e.map(uE);Fc.warn(`Firestore (${Ef}): ${n}`,...t)}}function uE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${Ef}) INTERNAL ASSERTION FAILED: `+n;throw gr(e),new Error(e)}function dt(n,e){n||tt()}function Le(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Bt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ai.UNAUTHENTICATED))}shutdown(){}}class bO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class DA{constructor(e){this.t=e,this.currentUser=Ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let h=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new fi,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const C=h;e.enqueueRetryable((0,_e.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},b=C=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>b(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?b(C):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new fi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt("string"==typeof r.accessToken),new iI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(null===e||"string"==typeof e),new Ai(e)}}class wf{constructor(e,t,r){this.type="FirstParty",this.user=Ai.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class SA{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new wf(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AA{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=o=>{e.enqueueRetryable(()=>{return null!=(l=o).error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const r=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt("string"==typeof t.token),new hE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class xi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function MA(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}xi.I=-1;class fE{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=MA(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function Cf(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function oI(n){return n+"\0"}class qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qr.fromMillis(Date.now())}static fromDate(e){return qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new qr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function pE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Id(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class If{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===If.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof If?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends If{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new en(t)}static emptyPath(){return new en([])}}const EO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends If{construct(e,t,r){return new Or(e,t,r)}static isValidIdentifier(e){return EO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Or(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Me(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Me(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Me(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new Me(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(t)}static emptyPath(){return new Or([])}}class Tf{constructor(e){this.fields=e,e.sort(Or.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Gn(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(n){if(dt(!!n),"string"==typeof n){let e=0;const t=RA.exec(n);if(dt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Df(n){return"string"==typeof n?Gn.fromBase64String(n):Gn.fromUint8Array(n)}function Pg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dy(n){const e=n.mapValue.fields.__previous_value__;return Pg(e)?dy(e):e}function Sf(n){const e=Ba(n.mapValue.fields.__local_write_time__.timestampValue);return new qr(e.seconds,e.nanos)}function Af(n){return null==n}function hy(n){return 0===n&&1/n==-1/0}function mE(n){return"number"==typeof n&&Number.isInteger(n)&&!hy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(en.fromString(e))}static fromName(e){return new Ye(en.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new en(e.slice()))}}function Td(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pg(n)?4:10:tt()}function Yo(n,e){if(n===e)return!0;const t=Td(n);if(t!==Td(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sf(n).isEqual(Sf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Ba(r.timestampValue),h=Ba(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Df(n.bytesValue).isEqual(Df(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Jn(r.geoPointValue.latitude)===Jn(o.geoPointValue.latitude)&&Jn(r.geoPointValue.longitude)===Jn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Jn(r.integerValue)===Jn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Jn(r.doubleValue),h=Jn(o.doubleValue);return l===h?hy(l)===hy(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Cf(n.arrayValue.values||[],e.arrayValue.values||[],Yo);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(pE(l)!==pE(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!Yo(l[m],h[m])))return!1;return!0}(n,e);default:return tt()}var o}function Dd(n,e){return void 0!==(n.values||[]).find(t=>Yo(t,e))}function Sd(n,e){if(n===e)return 0;const t=Td(n),r=Td(e);if(t!==r)return Gt(t,r);switch(t){case 0:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=Jn(o.integerValue||o.doubleValue),m=Jn(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return fy(n.timestampValue,e.timestampValue);case 4:return fy(Sf(n),Sf(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(o,l){const h=Df(o),m=Df(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let b=0;b<h.length&&b<m.length;b++){const C=Gt(h[b],m[b]);if(0!==C)return C}return Gt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Gt(Jn(o.latitude),Jn(l.latitude));return 0!==h?h:Gt(Jn(o.longitude),Jn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let b=0;b<h.length&&b<m.length;++b){const C=Sd(h[b],m[b]);if(C)return C}return Gt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},m=Object.keys(h),b=l.fields||{},C=Object.keys(b);m.sort(),C.sort();for(let M=0;M<m.length&&M<C.length;++M){const O=Gt(m[M],C[M]);if(0!==O)return O;const H=Sd(h[m[M]],b[C[M]]);if(0!==H)return H}return Gt(m.length,C.length)}(n.mapValue,e.mapValue);default:throw tt()}}function fy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Ba(n),r=Ba(e),o=Gt(t.seconds,r.seconds);return 0!==o?o:Gt(t.nanos,r.nanos)}function Ng(n){return Fg(n)}function Fg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ba(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Df(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=Fg(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${Fg(r.fields[m])}`;return l+"}"}(n.mapValue):tt();var e}function py(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gy(n){return!!n&&"integerValue"in n}function my(n){return!!n&&"arrayValue"in n}function _y(n){return!!n&&"nullValue"in n}function _E(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yy(n){return!!n&&"mapValue"in n}function xf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Id(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xf(t)}setAll(e){let t=Or.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=xf(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());yy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];yy(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Id(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new pi(xf(this.value))}}function vy(n){const e=[];return Id(n.fields,(t,r)=>{const o=new Or([t]);if(yy(r)){const l=vy(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Tf(e)}class In{constructor(e,t,r,o,l){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new In(e,0,Tt.min(),pi.empty(),0)}static newFoundDocument(e,t,r){return new In(e,1,t,r,0)}static newNoDocument(e,t){return new In(e,2,t,pi.empty(),0)}static newUnknownDocument(e,t){return new In(e,3,t,pi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class aI{constructor(e,t=null,r=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function yE(n,e=null,t=[],r=[],o=null,l=null,h=null){return new aI(n,e,t,r,o,l,h)}function Mf(n){const e=Le(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Ng(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Bg(e.startAt)),e.endAt&&(t+="|ub:",t+=Bg(e.endAt)),e.R=t}return e.R}function Lg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!dI(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Yo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ad(n.startAt,e.startAt)&&Ad(n.endAt,e.endAt)}function Ug(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Mi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new CO(e,t,r):"array-contains"===t?new PA(e,r):"in"===t?new kr(e,r):"not-in"===t?new uI(e,r):"array-contains-any"===t?new NA(e,r):new Mi(e,t,r)}static P(e,t,r){return"in"===t?new OA(e,r):new kA(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Sd(t,this.value)):null!==t&&Td(this.value)===Td(t)&&this.v(Sd(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class CO extends Mi{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.v(t)}}class OA extends Mi{constructor(e,t){super(e,"in",t),this.keys=vE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kA extends Mi{constructor(e,t){super(e,"not-in",t),this.keys=vE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class PA extends Mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return my(t)&&Dd(t.arrayValue,this.value)}}class kr extends Mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dd(this.value.arrayValue,t)}}class uI extends Mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dd(this.value.arrayValue,t)}}class NA extends Mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!my(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Dd(this.value.arrayValue,r))}}class Vg{constructor(e,t){this.position=e,this.before=t}}function Bg(n){return`${n.before?"b":"a"}:${n.position.map(e=>Ng(e)).join(",")}`}class Rf{constructor(e,t="asc"){this.field=e,this.dir=t}}function dI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function bE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?Ye.comparator(Ye.fromName(h.referenceValue),t.key):Sd(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function Ad(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yo(n.position[t],e.position[t]))return!1;return!0}class Lc{constructor(e,t=null,r=[],o=[],l=null,h="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=b,this.S=null,this.D=null}}function hI(n,e,t,r,o,l,h,m){return new Lc(n,e,t,r,o,l,h,m)}function xd(n){return new Lc(n)}function by(n){return!Af(n.limit)&&"F"===n.limitType}function jg(n){return!Af(n.limit)&&"L"===n.limitType}function fI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Hg(n){for(const e of n.filters)if(e.V())return e.field;return null}function $g(n){return null!==n.collectionGroup}function Xi(n){const e=Le(n);if(null===e.S){e.S=[];const t=Hg(e),r=fI(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new Rf(t)),e.S.push(new Rf(Or.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Rf(Or.keyField(),l))}}}return e.S}function vo(n){const e=Le(n);if(!e.D)if("F"===e.limitType)e.D=yE(e.path,e.collectionGroup,Xi(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Xi(e))t.push(new Rf(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Vg(e.endAt.position,!e.endAt.before):null,o=e.startAt?new Vg(e.startAt.position,!e.startAt.before):null;e.D=yE(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.D}function pI(n,e,t){return new Lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bs(n,e){return Lg(vo(n),vo(e))&&n.limitType===e.limitType}function bo(n){return`${Mf(vo(n))}|lt:${n.limitType}`}function Us(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ng(r.value)}`;var r}).join(", ")}]`),Af(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Bg(n.startAt)),n.endAt&&(e+=", endAt: "+Bg(n.endAt)),`Target(${e})`}(vo(n))}; limitType=${n.limitType})`}function Of(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ye.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!bE(t.startAt,Xi(t),r)||t.endAt&&bE(t.endAt,Xi(t),r)));var t,r}function EE(n){return(e,t)=>{let r=!1;for(const o of Xi(n)){const l=FA(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function FA(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(o,l,h){const m=l.data.field(o),b=h.data.field(o);return null!==m&&null!==b?Sd(m,b):tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}function gI(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hy(e)?"-0":e}}function mI(n){return{integerValue:""+n}}function _I(n,e){return mE(e)?mI(e):gI(n,e)}class kf{constructor(){this._=void 0}}function zg(n,e,t){return n instanceof Pf?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof eu?CE(n,e):n instanceof ja?yI(n,e):function(r,o){const l=wE(r,o),h=IE(l)+IE(r.N);return gy(l)&&gy(r.N)?mI(h):gI(r.k,h)}(n,e)}function LA(n,e,t){return n instanceof eu?CE(n,e):n instanceof ja?yI(n,e):t}function wE(n,e){return n instanceof Md?gy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Pf extends kf{}class eu extends kf{constructor(e){super(),this.elements=e}}function CE(n,e){const t=Ey(e);for(const r of n.elements)t.some(o=>Yo(o,r))||t.push(r);return{arrayValue:{values:t}}}class ja extends kf{constructor(e){super(),this.elements=e}}function yI(n,e){let t=Ey(e);for(const r of n.elements)t=t.filter(o=>!Yo(o,r));return{arrayValue:{values:t}}}class Md extends kf{constructor(e,t){super(),this.k=e,this.N=t}}function IE(n){return Jn(n.integerValue||n.doubleValue)}function Ey(n){return my(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class tu{constructor(e,t){this.field=e,this.transform=t}}class bI{constructor(e,t){this.version=e,this.transformResults=t}}class lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class qg{}function EI(n,e,t){n instanceof Zg?function(r,o,l){const h=r.value.clone(),m=DI(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof nu?function(r,o,l){if(!Gg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=DI(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(TI(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wy(n,e,t){var o;n instanceof Zg?function(r,o,l){if(!Gg(r.precondition,o))return;const h=r.value.clone(),m=SI(r.fieldTransforms,l,o);h.setAll(m),o.convertToFoundDocument(II(o),h).setHasLocalMutations()}(n,e,t):n instanceof nu?function(r,o,l){if(!Gg(r.precondition,o))return;const h=SI(r.fieldTransforms,l,o),m=o.data;m.setAll(TI(r)),m.setAll(h),o.convertToFoundDocument(II(o),m).setHasLocalMutations()}(n,e,t):Gg(n.precondition,o=e)&&o.convertToNoDocument(Tt.min())}function wI(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=wE(r.transform,o||null);null!=l&&(null==t&&(t=pi.empty()),t.set(r.field,l))}return t||null}function CI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Cf(t,r,(o,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof eu&&r instanceof eu||t instanceof ja&&r instanceof ja?Cf(t.elements,r.elements,Yo):t instanceof Md&&r instanceof Md?Yo(t.N,r.N):t instanceof Pf&&r instanceof Pf);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function II(n){return n.isFoundDocument()?n.version:Tt.min()}class Zg extends qg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class nu extends qg{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function TI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function DI(n,e,t){const r=new Map;dt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,m=e.data.field(l.field);r.set(l.field,LA(h,m,t[o]))}return r}function SI(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,zg(l,h,e))}return r}class Wg extends qg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class TE extends qg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class UA{constructor(e){this.count=e}}var mr,Jt;function AI(n){switch(n){default:return tt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function xI(n){if(void 0===n)return gr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case mr.OK:return pe.OK;case mr.CANCELLED:return pe.CANCELLED;case mr.UNKNOWN:return pe.UNKNOWN;case mr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case mr.INTERNAL:return pe.INTERNAL;case mr.UNAVAILABLE:return pe.UNAVAILABLE;case mr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case mr.NOT_FOUND:return pe.NOT_FOUND;case mr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case mr.ABORTED:return pe.ABORTED;case mr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case mr.DATA_LOSS:return pe.DATA_LOSS;default:return tt()}}(Jt=mr||(mr={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";class Pr{constructor(e,t){this.comparator=e,this.root=t||gi.EMPTY}insert(e,t){return new Pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cy(this.root,e,this.comparator,!0)}}class Cy{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gi{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:gi.RED,this.left=null!=o?o:gi.EMPTY,this.right=null!=l?l:gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new gi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return gi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1,gi.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new gi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xn{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xn(this.comparator);return t.data=e,t}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const MI=new Pr(Ye.comparator);function Vs(){return MI}const RI=new Pr(Ye.comparator);function Iy(){return RI}const OI=new Pr(Ye.comparator);function SE(){return OI}const kI=new Xn(Ye.comparator);function fn(...n){let e=kI;for(const t of n)e=e.add(t);return e}const AE=new Xn(Gt);function Nf(){return AE}class Qo{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Kg.createSynthesizedTargetChangeForCurrentChange(e,t)),new Qo(Tt.min(),r,Nf(),Vs(),fn())}}class Kg{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Kg(Gn.EMPTY_BYTE_STRING,t,fn(),fn(),fn())}}class Ty{constructor(e,t,r,o){this.$=e,this.removedTargetIds=t,this.key=r,this.O=o}}class Rd{constructor(e,t){this.targetId=e,this.M=t}}class VA{constructor(e,t,r=Gn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Dy{constructor(){this.F=0,this.L=ME(),this.B=Gn.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=fn(),t=fn(),r=fn();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:tt()}}),new Kg(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=ME()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class IO{constructor(e){this.et=e,this.nt=new Map,this.st=Vs(),this.it=xE(),this.rt=new Xn(Gt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,o)=>{this.lt(o)&&t(o)})}dt(e){const t=e.targetId,r=e.M.count,o=this.wt(t);if(o){const l=o.target;if(Ug(l))if(0===r){const h=new Ye(l.path);this.at(t,h,In.newNoDocument(h,Tt.min()))}else dt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&Ug(m.target)){const b=new Ye(m.target.path);null!==this.st.get(b)||this.yt(h,b)||this.at(h,b,In.newNoDocument(b,e))}l.j&&(t.set(h,l.G()),l.H())}});let r=fn();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(b=>{const C=this.wt(b);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const o=new Qo(e,t,this.rt,this.st,r);return this.st=Vs(),this.it=xE(),this.rt=new Xn(Gt),o}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const o=this.ht(e);this.yt(e,t)?o.J(t,1):o.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new Dy,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Xn(Gt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new Dy),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function xE(){return new Pr(Ye.comparator)}function ME(){return new Pr(Ye.comparator)}const TO={asc:"ASCENDING",desc:"DESCENDING"},ct={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class BA{constructor(e,t){this.databaseId=e,this.C=t}}function Yg(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PI(n,e){return n.C?e.toBase64():e.toUint8Array()}function Sy(n,e){return Yg(n,e.toTimestamp())}function Zr(n){return dt(!!n),Tt.fromTimestamp(function(e){const t=Ba(e);return new qr(t.seconds,t.nanos)}(n))}function Ff(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Qg(n){const e=en.fromString(n);return dt(LE(e)),e}function Tn(n,e){return Ff(n.databaseId,e.path)}function Uc(n,e){const t=Qg(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(RE(t))}function Ay(n,e){return Ff(n.databaseId,e)}function xy(n){const e=Qg(n);return 4===e.length?en.emptyPath():RE(e)}function Jg(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RE(n){return dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OE(n,e,t){return{name:Tn(n,e),fields:t.value.mapValue.fields}}function kE(n,e,t){const r=Uc(n,e.name),o=Zr(e.updateTime),l=new pi({mapValue:{fields:e.fields}}),h=In.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function My(n,e){let t;if(e instanceof Zg)t={update:OE(n,e.key,e.value)};else if(e instanceof Wg)t={delete:Tn(n,e.key)};else if(e instanceof nu)t={update:OE(n,e.key,e.data),updateMask:BI(e.fieldMask)};else{if(!(e instanceof TE))return tt();t={verify:Tn(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof Pf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof eu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ja)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Md)return{fieldPath:l.field.canonicalString(),increment:h.N};throw tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Sy(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:tt()),t;var o}function FI(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?lr.updateTime(Zr(o.updateTime)):void 0!==o.exists?lr.exists(o.exists):lr.none():lr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(dt("REQUEST_TIME"===h.setToServerValue),m=new Pf):"appendMissingElements"in h?m=new eu(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new ja(h.removeAllFromArray.values||[]):"increment"in h?m=new Md(l,h.increment):tt();const b=Or.fromServerFormat(h.fieldPath);return new tu(b,m)}(n,o)):[];var o;if(e.update){const o=Uc(n,e.update.name),l=new pi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Tf((e.updateMask.fieldPaths||[]).map(C=>Or.fromServerFormat(C)));return new nu(o,l,h,t,r)}return new Zg(o,l,t,r)}if(e.delete){const o=Uc(n,e.delete);return new Wg(o,t)}if(e.verify){const o=Uc(n,e.verify);return new TE(o,t)}return tt()}function LI(n,e){return{documents:[Ay(n,e.path)]}}function UI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Ay(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ay(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const b=m.map(C=>function(M){if("=="===M.op){if(_E(M.value))return{unaryFilter:{field:Ha(M.field),op:"IS_NAN"}};if(_y(M.value))return{unaryFilter:{field:Ha(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(_E(M.value))return{unaryFilter:{field:Ha(M.field),op:"IS_NOT_NAN"}};if(_y(M.value))return{unaryFilter:{field:Ha(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(M.field),op:em(M.op),value:M.value}}}(C));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(m){if(0!==m.length)return m.map(b=>{return{field:Ha((C=b).field),direction:HA(C.dir)};var C})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(b=e.limit,n.C||Af(b)?b:{value:b});var b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=NE(e.startAt)),e.endAt&&(t.structuredQuery.endAt=NE(e.endAt)),t}function VI(n){let e=xy(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){dt(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let l=[];t.where&&(l=PE(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(M=>{return new Rf(Lf((O=M).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(M){let O;return O="object"==typeof M?M.value:M,Af(O)?null:O}(t.limit));let b=null;t.startAt&&(b=FE(t.startAt));let C=null;return t.endAt&&(C=FE(t.endAt)),hI(e,o,h,l,m,"F",b,C)}function PE(n){return n?void 0!==n.unaryFilter?[zA(n)]:void 0!==n.fieldFilter?[$A(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>PE(e)).reduce((e,t)=>e.concat(t)):tt():[]}function NE(n){return{before:n.before,values:n.position}}function FE(n){return new Vg(n.values||[],!!n.before)}function HA(n){return TO[n]}function em(n){return ct[n]}function Ha(n){return{fieldPath:n.canonicalString()}}function Lf(n){return Or.fromServerFormat(n.fieldPath)}function $A(n){return Mi.create(Lf(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function zA(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Lf(n.unaryFilter.field);return Mi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Lf(n.unaryFilter.field);return Mi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Lf(n.unaryFilter.field);return Mi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lf(n.unaryFilter.field);return Mi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function BI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Eo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=UE(e)),e=GA(n.get(t),e);return UE(e)}function GA(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function UE(n){return n+"\x01\x01"}function Vc(n){const e=n.length;if(dt(e>=2),2===e)return dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&tt(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:tt()}l=h+2}return new en(r)}class qA{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class wo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}wo.store="owner",wo.key="owner";class Od{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Od.store="mutationQueues",Od.keyPath="userId";class jn{constructor(e,t,r,o,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}jn.store="mutations",jn.keyPath="batchId",jn.userMutationsIndex="userMutationsIndex",jn.userMutationsKeyPath=["userId","batchId"];class es{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Eo(t)]}static key(e,t,r){return[e,Eo(t),r]}}es.store="documentMutations",es.PLACEHOLDER=new es;class jI{constructor(e,t){this.path=e,this.readTime=t}}class Oy{constructor(e,t){this.path=e,this.version=t}}class er{constructor(e,t,r,o,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=h}}er.store="remoteDocuments",er.readTimeIndex="readTimeIndex",er.readTimeIndexPath="readTime",er.collectionReadTimeIndex="collectionReadTimeIndex",er.collectionReadTimeIndexPath=["parentPath","readTime"];class $a{constructor(e){this.byteSize=e}}$a.store="remoteDocumentGlobal",$a.key="remoteDocumentGlobalKey";class ts{constructor(e,t,r,o,l,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}ts.store="targets",ts.keyPath="targetId",ts.queryTargetsIndexName="queryTargetsIndex",ts.queryTargetsKeyPath=["canonicalId","targetId"];class ur{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}ur.store="targetDocuments",ur.keyPath=["targetId","path"],ur.documentTargetsIndex="documentTargetsIndex",ur.documentTargetsKeyPath=["path","targetId"];class Bs{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Bs.key="targetGlobalKey",Bs.store="targetGlobal";class kd{constructor(e,t){this.collectionId=e,this.parent=t}}kd.store="collectionParents",kd.keyPath=["collectionId","parent"];class Bc{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}Bc.store="clientMetadata",Bc.keyPath="clientId";class Uf{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Uf.store="bundles",Uf.keyPath="bundleId";class Vf{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Vf.store="namedQueries",Vf.keyPath="name";const HI=[Od.store,jn.store,es.store,er.store,ts.store,wo.store,Bs.store,ur.store,Bc.store,$a.store,kd.store,Uf.store,Vf.store],$I="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,r)=>{t(e)})}static reject(e){return new Te((t,r)=>{r(e)})}static waitFor(e){return new Te((t,r)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},b=>r(b))}),h=!0,l===o&&t()})}static or(e){let t=Te.resolve(!1);for(const r of e)t=t.next(o=>o?Te.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class ky{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new fi,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Bf(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=VE(r.target.error);this.It.reject(new Bf(e,o))}}static open(e,t,r,o){try{return new ky(t,e.transaction(o,r))}catch(l){throw new Bf(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new GI(t)}}class Co{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===Co.bt((0,Bt.z$)())&&gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),Nd(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Bt.hl)())return!1;if(Co.vt())return!0;const e=(0,Bt.z$)(),t=Co.bt(e),r=0<t&&t<10,o=Co.Vt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,_e.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new Bf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Me(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Bf(e,m))},l.onupgradeneeded=h=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,_e.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Ct(e);const b=ky.open(l.db,e,h?"readonly":"readwrite",r),C=o(b).catch(M=>(b.abort(M),Te.reject(M))).toPromise();return C.catch(()=>{}),yield b.At,C}catch(b){const C="FirebaseError"!==b.name&&m<3;if(ke("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),l.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ZA{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Nd(this.$t.delete())}}class Bf extends Me{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pd(n){return"IndexedDbTransactionError"===n.name}class GI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Nd(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),Nd(this.store.add(e))}get(e){return Nd(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),Nd(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),Nd(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Ut(r,(l,h)=>{o.push(h)}).next(()=>o)}qt(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(l,h,m)=>m.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Ut(o,t)}Qt(e){const t=this.cursor({});return new Te((r,o)=>{t.onerror=l=>{const h=VE(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new Te((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new ZA(m),C=t(m.primaryKey,m.value,b);if(C instanceof Te){const M=C.catch(O=>(b.done(),Te.reject(O)));r.push(M)}b.isDone?o():null===b.Ft?m.continue():m.continue(b.Ft)}}).next(()=>Te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nd(n){return new Te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=VE(r.target.error);t(o)}})}let Py=!1;function VE(n){const e=Co.bt((0,Bt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Py||(Py=!0,setTimeout(()=>{throw r},0)),r}}return n}class BE extends zI{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function ns(n,e){const t=Le(n);return Co.Dt(t.Wt,e)}class jE{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&EI(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&wy(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&wy(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Tt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&Cf(this.mutations,e.mutations,(t,r)=>CI(t,r))&&Cf(this.baseMutations,e.baseMutations,(t,r)=>CI(t,r))}}class HE{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){dt(e.mutations.length===r.length);let o=SE();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new HE(e,t,r,o)}}class ru{constructor(e,t,r,o,l=Tt.min(),h=Tt.min(),m=Gn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ny{constructor(e){this.Gt=e}}function $E(n,e){if(e.document)return kE(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Ye.fromSegments(e.noDocument.path),r=Hf(e.noDocument.readTime),o=In.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=Ye.fromSegments(e.unknownDocument.path),r=Hf(e.unknownDocument.version);return In.newUnknownDocument(t,r)}return tt()}function zE(n,e,t){const r=GE(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:Tn(m=n.Gt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Yg(m,b.version.toTimestamp())};return new er(null,null,l,e.hasCommittedMutations,r,o)}var m,b;if(e.isNoDocument()){const l=e.key.path.toArray(),h=jf(e.version),m=e.hasCommittedMutations;return new er(null,new jI(l,h),null,m,r,o)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=jf(e.version);return new er(new Oy(l,h),null,null,!0,r,o)}return tt()}function GE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function qI(n){const e=new qr(n[0],n[1]);return Tt.fromTimestamp(e)}function jf(n){const e=n.toTimestamp();return new qA(e.seconds,e.nanoseconds)}function Hf(n){const e=new qr(n.seconds,n.nanoseconds);return Tt.fromTimestamp(e)}function $f(n,e){const t=(e.baseMutations||[]).map(l=>FI(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>FI(n.Gt,l)),o=qr.fromMillis(e.localWriteTimeMs);return new jE(e.batchId,o,t,r)}function tm(n){const e=Hf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Hf(n.lastLimboFreeSnapshotVersion):Tt.min();let r;var o;return void 0!==n.query.documents?(dt(1===(o=n.query).documents.length),r=vo(xd(xy(o.documents[0])))):r=vo(VI(n.query)),new ru(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Gn.fromBase64String(n.resumeToken))}function ZI(n,e){const t=jf(e.snapshotVersion),r=jf(e.lastLimboFreeSnapshotVersion);let o;o=Ug(e.target)?LI(n.Gt,e.target):UI(n.Gt,e.target);const l=e.resumeToken.toBase64();return new ts(e.targetId,Mf(e.target),t,l,e.sequenceNumber,r,o)}function qE(n){const e=VI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?pI(e,e.limit,"L"):e}class WI{getBundleMetadata(e,t){return ZE(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Hf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return ZE(e).put({bundleId:(r=t).id,createTime:jf(Zr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return KI(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:qE(o.bundledQuery),readTime:Hf(o.readTime)};var o})}saveNamedQuery(e,t){return KI(e).put({name:(r=t).name,readTime:jf(Zr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ZE(n){return ns(n,Uf.store)}function KI(n){return ns(n,Vf.store)}class WA{constructor(){this.zt=new Fy}addToCollectionParentIndex(e,t){return this.zt.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.zt.getEntries(t))}}class Fy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Xn(en.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Xn(en.comparator)).toArray()}}class KA{constructor(){this.Ht=new Fy}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:r,parent:Eo(o)};return YI(e).put(l)}return Te.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[oI(t),""],!1,!0);return YI(e).Bt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(Vc(h.parent))}return r})}}function YI(n){return ns(n,kd.store)}const QI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ri{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ly(n,e,t){const r=n.store(jn.store),o=n.store(es.store),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const b=r.jt({range:h},(M,O,H)=>(m++,H.delete()));l.push(b.next(()=>{dt(1===m)}));const C=[];for(const M of t.mutations){const O=es.key(e,M.key.path,t.batchId);l.push(o.delete(O)),C.push(M.key)}return Te.waitFor(l).next(()=>C)}function nm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(41943040,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);class rm{constructor(e,t,r,o){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(e,t,r,o){dt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new rm(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).jt({index:jn.userMutationsIndex,range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=su(e),h=iu(e);return h.add({}).next(m=>{dt("number"==typeof m);const b=new jE(m,t,r,o),C=function(H,z,J){const me=J.baseMutations.map(He=>My(H.Gt,He)),Ae=J.mutations.map(He=>My(H.Gt,He));return new jn(z,J.batchId,J.localWriteTime.toMillis(),me,Ae)}(this.k,this.userId,b),M=[];let O=new Xn((H,z)=>Gt(H.canonicalString(),z.canonicalString()));for(const H of o){const z=es.key(this.userId,H.key.path,m);O=O.add(H.key.path.popLast()),M.push(h.put(C)),M.push(l.put(z,es.PLACEHOLDER))}return O.forEach(H=>{M.push(this.Jt.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.Yt[m]=b.keys()}),Te.waitFor(M).next(()=>b)})}lookupMutationBatch(e,t){return iu(e).get(t).next(r=>r?(dt(r.userId===this.userId),$f(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Te.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Yt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return iu(e).jt({index:jn.userMutationsIndex,range:o},(h,m,b)=>{m.userId===this.userId&&(dt(m.batchId>=r),l=$f(this.k,m)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return iu(e).jt({index:jn.userMutationsIndex,range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).Bt(jn.userMutationsIndex,t).next(r=>r.map(o=>$f(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=es.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return su(e).jt({range:o},(h,m,b)=>{const[C,M,O]=h,H=Vc(M);if(C===this.userId&&t.path.isEqual(H))return iu(e).get(O).next(z=>{if(!z)throw tt();dt(z.userId===this.userId),l.push($f(this.k,z))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xn(Gt);const o=[];return t.forEach(l=>{const h=es.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),b=su(e).jt({range:m},(C,M,O)=>{const[H,z,J]=C,me=Vc(z);H===this.userId&&l.path.isEqual(me)?r=r.add(J):O.done()});o.push(b)}),Te.waitFor(o).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=es.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new Xn(Gt);return su(e).jt({range:h},(b,C,M)=>{const[O,H,z]=b,J=Vc(H);O===this.userId&&r.isPrefixOf(J)?J.length===o&&(m=m.add(z)):M.done()}).next(()=>this.te(e,m))}te(e,t){const r=[],o=[];return t.forEach(l=>{o.push(iu(e).get(l).next(h=>{if(null===h)throw tt();dt(h.userId===this.userId),r.push($f(this.k,h))}))}),Te.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Ly(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Te.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Te.resolve();const r=IDBKeyRange.lowerBound(es.prefixForUser(this.userId)),o=[];return su(e).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const b=Vc(l[1]);o.push(b)}else m.done()}).next(()=>{dt(0===o.length)})})}containsKey(e,t){return JI(e,this.userId,t)}ne(e){return XI(e).get(this.userId).next(t=>t||new Od(this.userId,-1,""))}}function JI(n,e,t){const r=es.prefixForPath(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return su(n).jt({range:l,Kt:!0},(m,b,C)=>{const[M,O,H]=m;M===e&&O===o&&(h=!0),C.done()}).next(()=>h)}function iu(n){return ns(n,jn.store)}function su(n){return ns(n,es.store)}function XI(n){return ns(n,Od.store)}class ou{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ou(0)}static re(){return new ou(-1)}}class YA{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new ou(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Tt.fromTimestamp(new qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.ce(e,o)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Fd(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(dt(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Fd(e).jt((h,m)=>{const b=tm(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,l.push(this.removeTargetData(e,b)))}).next(()=>Te.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Fd(e).jt((r,o)=>{const l=tm(o);t(l)})}oe(e){return WE(e).get(Bs.key).next(t=>(dt(null!==t),t))}ce(e,t){return WE(e).put(Bs.key,t)}ae(e,t){return Fd(e).put(ZI(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Mf(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Fd(e).jt({range:o,index:ts.queryTargetsIndexName},(h,m,b)=>{const C=tm(m);Lg(t,C.target)&&(l=C,b.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=jc(e);return t.forEach(h=>{const m=Eo(h.path);o.push(l.put(new ur(r,m))),o.push(this.referenceDelegate.addReference(e,r,h))}),Te.waitFor(o)}removeMatchingKeys(e,t,r){const o=jc(e);return Te.forEach(t,l=>{const h=Eo(l.path);return Te.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=jc(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=jc(e);let l=fn();return o.jt({range:r,Kt:!0},(h,m,b)=>{const C=Vc(h[1]),M=new Ye(C);l=l.add(M)}).next(()=>l)}containsKey(e,t){const r=Eo(t.path),o=IDBKeyRange.bound([r],[oI(r)],!1,!0);let l=0;return jc(e).jt({index:ur.documentTargetsIndex,Kt:!0,range:o},([h,m],b,C)=>{0!==h&&(l++,C.done())}).next(()=>l>0)}Et(e,t){return Fd(e).get(t).next(r=>r?tm(r):null)}}function Fd(n){return ns(n,ts.store)}function WE(n){return ns(n,Bs.store)}function jc(n){return ns(n,ur.store)}function zf(n){return KE.apply(this,arguments)}function KE(){return(KE=(0,_e.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==$I)throw n;ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Ld([n,e],[t,r]){const o=Gt(n,t);return 0===o?Gt(e,r):o}class DO{constructor(e){this.he=e,this.buffer=new Xn(Ld),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ld(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YE{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;ke("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,_e.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Pd(o)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield zf(o)}yield t.me(e)}))}}class Uy{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Te.resolve(xi.I);const r=new DO(t);return this.ge.forEachTarget(e,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(e,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(QI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QI):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,o,l,h,m,b,C;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,h=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(l=O,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(C=Date.now(),rI()<=Na.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-M}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(b-m)+`ms\n\tRemoved ${O} documents in `+(C-b)+`ms\nTotal Duration: ${C-M}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:O})))}}class QA{constructor(e,t){this.db=e,this.garbageCollector=new Uy(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,o)=>t(o))}addReference(e,t,r){return Hc(e,r)}removeReference(e,t,r){return Hc(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Hc(e,t)}Ae(e,t){return function(r,o){let l=!1;return XI(r).Qt(h=>JI(r,h,o).next(m=>(m&&(l=!0),Te.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ie(e,(h,m)=>{if(m<=t){const b=this.Ae(e,h).next(C=>{if(!C)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),jc(e).delete([0,Eo(h.path)])))});o.push(b)}}).next(()=>Te.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Hc(e,t)}Ie(e,t){const r=jc(e);let o,l=xi.I;return r.jt({index:ur.documentTargetsIndex},([h,m],{path:b,sequenceNumber:C})=>{0===h?(l!==xi.I&&t(new Ye(Vc(o)),l),l=C,o=b):l=xi.I}).next(()=>{l!==xi.I&&t(new Ye(Vc(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hc(n,e){return jc(n).put((r=n.currentSequenceNumber,new ur(0,Eo(e.path),r)));var r}class Gf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){Id(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return gE(this.inner)}}class JA{constructor(){this.changes=new Gf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Tt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:In.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Te.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XA{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return Ud(e).put(Vd(t),r)}removeEntry(e,t){const r=Ud(e),o=Vd(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return Ud(e).get(Vd(t)).next(r=>this.be(t,r))}Pe(e,t){return Ud(e).get(Vd(t)).next(r=>({document:this.be(t,r),size:nm(r)}))}getEntries(e,t){let r=Vs();return this.ve(e,t,(o,l)=>{const h=this.be(o,l);r=r.insert(o,h)}).next(()=>r)}Ve(e,t){let r=Vs(),o=new Pr(Ye.comparator);return this.ve(e,t,(l,h)=>{const m=this.be(l,h);r=r.insert(l,m),o=o.insert(l,nm(h))}).next(()=>({documents:r,Se:o}))}ve(e,t,r){if(t.isEmpty())return Te.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return Ud(e).jt({range:o},(m,b,C)=>{const M=Ye.fromSegments(m);for(;h&&Ye.comparator(h,M)<0;)r(h,null),h=l.getNext();h&&h.isEqual(M)&&(r(h,b),h=l.hasNext()?l.getNext():null),h?C.Lt(h.path.toArray()):C.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=Vs();const l=t.path.length+1,h={};if(r.isEqual(Tt.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),b=GE(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=er.collectionReadTimeIndex}return Ud(e).jt(h,(m,b,C)=>{if(m.length!==l)return;const M=$E(this.k,b);t.path.isPrefixOf(M.key.path)?Of(t,M)&&(o=o.insert(M.key,M)):C.done()}).next(()=>o)}newChangeBuffer(e){return new za(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return QE(e).get($a.key).next(t=>(dt(!!t),t))}Re(e,t){return QE(e).put($a.key,t)}be(e,t){if(t){const r=$E(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Tt.min()))return r}return In.newInvalidDocument(e)}}class za extends JA{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Gf(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Xn((l,h)=>Gt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const b=zE(this.De.k,h.document,this.getReadTime(l));o=o.add(l.path.popLast()),r+=nm(b)-m,t.push(this.De.addEntry(e,l,b))}else if(r-=m,this.trackRemovals){const b=zE(this.De.k,In.newNoDocument(l,Tt.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,b))}else t.push(this.De.removeEntry(e,l))}),o.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,r)),Te.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:o})=>(o.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function QE(n){return ns(n,$a.store)}function Ud(n){return ns(n,er.store)}function Vd(n){return n.path.toArray()}class ex{constructor(e){this.k=e}Nt(e,t,r,o){dt(r<o&&r>=0&&o<=11);const l=new ky("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(wo.store),(m=e).createObjectStore(Od.store,{keyPath:Od.keyPath}),m.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(es.store),eT(e),function(m){m.createObjectStore(er.store)}(e));let h=Te.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(ur.store),m.deleteObjectStore(ts.store),m.deleteObjectStore(Bs.store)}(e),eT(e)),h=h.next(()=>function(m){const b=m.store(Bs.store),C=new Bs(0,0,Tt.min().toTimestamp(),0);return b.put(Bs.key,C)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(jn.store).Bt().next(C=>{m.deleteObjectStore(jn.store),m.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0});const M=b.store(jn.store),O=C.map(H=>M.put(H));return Te.waitFor(O)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore(Bc.store,{keyPath:Bc.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ne(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore($a.store)}(e),this.ke(l)))),r<7&&o>=7&&(h=h.next(()=>this.xe(l))),r<8&&o>=8&&(h=h.next(()=>this.$e(e,l))),r<9&&o>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const b=m.objectStore(er.store);b.createIndex(er.readTimeIndex,er.readTimeIndexPath,{unique:!1}),b.createIndex(er.collectionReadTimeIndex,er.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.Oe(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(Uf.store,{keyPath:Uf.keyPath})})(e),function(m){m.createObjectStore(Vf.store,{keyPath:Vf.keyPath})}(e)})),h}ke(e){let t=0;return e.store(er.store).jt((r,o)=>{t+=nm(o)}).next(()=>{const r=new $a(t);return e.store($a.store).put($a.key,r)})}Ne(e){const t=e.store(Od.store),r=e.store(jn.store);return t.Bt().next(o=>Te.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(jn.userMutationsIndex,h).next(m=>Te.forEach(m,b=>{dt(b.userId===l.userId);const C=$f(this.k,b);return Ly(e,l.userId,C).next(()=>{})}))}))}xe(e){const t=e.store(ur.store),r=e.store(er.store);return e.store(Bs.store).get(Bs.key).next(o=>{const l=[];return r.jt((h,m)=>{const b=new en(h),C=[0,Eo(b)];l.push(t.get(C).next(M=>M?Te.resolve():t.put(new ur(0,Eo(b),o.highestListenSequenceNumber))))}).next(()=>Te.waitFor(l))})}$e(e,t){e.createObjectStore(kd.store,{keyPath:kd.keyPath});const r=t.store(kd.store),o=new Fy,l=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:Eo(b)})}};return t.store(er.store).jt({Kt:!0},(h,m)=>{const b=new en(h);return l(b.popLast())}).next(()=>t.store(es.store).jt({Kt:!0},([h,m,b],C)=>{const M=Vc(m);return l(M.popLast())}))}Oe(e){const t=e.store(ts.store);return t.jt((r,o)=>{const l=tm(o),h=ZI(this.k,l);return t.put(h)})}}function eT(n){n.createObjectStore(ur.store,{keyPath:ur.keyPath}).createIndex(ur.documentTargetsIndex,ur.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(ts.store,{keyPath:ts.keyPath}).createIndex(ts.queryTargetsIndexName,ts.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Bs.store)}const tT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class JE{constructor(e,t,r,o,l,h,m,b,C,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=l,this.window=h,this.document=m,this.Fe=C,this.Le=M,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=O=>Promise.resolve(),!JE.Pt())throw new Me(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QA(this,o),this.Ge=t+"main",this.k=new Ny(b),this.ze=new Co(this.Ge,11,new ex(this.k)),this.He=new YA(this.referenceDelegate,this.k),this.Jt=new KA,this.Je=new XA(this.k,this.Jt),this.Ye=new WI,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===M&&gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(pe.FAILED_PRECONDITION,tT);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new xi(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,_e.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vy(e).put(new Bc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Pd(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return im(e).get(wo.key).next(t=>Te.resolve(this.un(t)))}hn(e){return Vy(e).delete(this.clientId)}ln(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ns(r,Bc.store);return o.Bt().next(l=>{const h=e.dn(l,18e5),m=l.filter(b=>-1===h.indexOf(b));return Te.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Te.resolve(!0):im(e).get(wo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Me(pe.FAILED_PRECONDITION,tT);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vy(e).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[wo.store,Bc.store],t=>{const r=new BE(t,xi.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Vy(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return rm.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let l;return ke("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",HI,h=>(l=new BE(h,this.Be?this.Be.next():xi.I),"readwrite-primary"===t?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Me(pe.FAILED_PRECONDITION,$I);return r(l)}).next(m=>this.an(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(e){return im(e).get(wo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(pe.FAILED_PRECONDITION,tT)})}an(e){const t=new wo(this.clientId,this.allowTabSynchronization,Date.now());return im(e).put(wo.key,t)}static Pt(){return Co.Pt()}cn(e){const t=im(e);return t.get(wo.key).next(r=>this.un(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete(wo.key)):Te.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(gr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Bt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){gr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function im(n){return ns(n,wo.store)}function Vy(n){return ns(n,Bc.store)}function sm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nT{constructor(e,t){this.progress=e,this.In=t}}class By{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Pn(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return Ye.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(e,t.path):$g(t)?this.Dn(e,t,r):this.Cn(e,t,r);var o}Sn(e,t){return this.Rn(e,new Ye(t)).next(r=>{let o=Iy();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(e,t,r){const o=t.collectionGroup;let l=Iy();return this.Jt.getCollectionParents(e,o).next(h=>Te.forEach(h,m=>{const b=(C=t,M=m.child(o),new Lc(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.Cn(e,b,r).next(C=>{C.forEach((M,O)=>{l=l.insert(M,O)})})}).next(()=>l))}Cn(e,t,r){let o,l;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Nn(e,l,o).next(m=>{o=m;for(const b of l)for(const C of b.mutations){const M=C.key;let O=o.get(M);null==O&&(O=In.newInvalidDocument(M),o=o.insert(M,O)),wy(C,O,b.localWriteTime),O.isFoundDocument()||(o=o.remove(M))}}))).next(()=>(o.forEach((h,m)=>{Of(t,m)||(o=o.remove(h))}),o))}Nn(e,t,r){let o=fn();for(const h of t)for(const m of h.mutations)m instanceof nu&&null===r.get(m.key)&&(o=o.add(m.key));let l=r;return this.Je.getEntries(e,o).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(l=l.insert(m,b))}),l))}}class jy{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=o}static $n(e,t){let r=fn(),o=fn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new jy(e,t.fromCache,r,o)}}class rT{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Tt.min())?this.Fn(e,t):this.Mn.vn(e,o).next(l=>{const h=this.Ln(t,l);return(by(t)||jg(t))&&this.Bn(t.limitType,h,o,r)?this.Fn(e,t):(rI()<=Na.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Us(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var l}Ln(e,t){let r=new Xn(EE(e));return t.forEach((o,l)=>{Of(e,l)&&(r=r.add(l))}),r}Bn(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Fn(e,t){return rI()<=Na.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Us(t)),this.Mn.getDocumentsMatchingQuery(e,t,Tt.min())}}class SO{constructor(e,t,r,o){this.persistence=e,this.Un=t,this.k=o,this.qn=new Pr(Gt),this.Kn=new Gf(l=>Mf(l),Lg),this.jn=Tt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new By(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function iT(n,e,t,r){return new SO(n,e,t,r)}function sT(n,e){return XE.apply(this,arguments)}function XE(){return(XE=(0,_e.Z)(function*(n,e){const t=Le(n);let r=t.An,o=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.An.getAllMutationBatches(h).next(b=>(m=b,r=t.persistence.getMutationQueue(e),o=new By(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const C=[],M=[];let O=fn();for(const H of m){C.push(H.batchId);for(const z of H.mutations)O=O.add(z.key)}for(const H of b){M.push(H.batchId);for(const z of H.mutations)O=O.add(z.key)}return o.vn(h,O).next(H=>({Gn:H,removedBatchIds:C,addedBatchIds:M}))})});return t.An=r,t.Wn=o,t.Un.On(t.Wn),l})).apply(this,arguments)}function oT(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,C){const M=b.batch,O=M.keys();let H=Te.resolve();return O.forEach(z=>{H=H.next(()=>C.getEntry(m,z)).next(J=>{const me=b.docVersions.get(z);dt(null!==me),J.version.compareTo(me)<0&&(M.applyToRemoteDocument(J,b),J.isValidDocument()&&C.addEntry(J,b.commitVersion))})}),H.next(()=>h.An.removeMutationBatch(m,M))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,o))})}function ew(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function aT(n,e){const t=Le(n),r=e.snapshotVersion;let o=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});o=t.qn;const m=[];e.targetChanges.forEach((C,M)=>{const O=o.get(M);if(!O)return;m.push(t.He.removeMatchingKeys(l,C.removedDocuments,M).next(()=>t.He.addMatchingKeys(l,C.addedDocuments,M)));let H=O.withSequenceNumber(l.currentSequenceNumber);var z,J,me;e.targetMismatches.has(M)?H=H.withResumeToken(Gn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):C.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(C.resumeToken,r)),o=o.insert(M,H),J=H,me=C,(0===(z=O).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&m.push(t.He.updateTargetData(l,H))});let b=Vs();if(e.documentUpdates.forEach((C,M)=>{e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),m.push(cT(l,h,e.documentUpdates,r,void 0).next(C=>{b=C})),!r.isEqual(Tt.min())){const C=t.He.getLastRemoteSnapshotVersion(l).next(M=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(C)}return Te.waitFor(m).next(()=>h.apply(l)).next(()=>t.Wn.Vn(l,b)).next(()=>b)}).then(l=>(t.qn=o,l))}function cT(n,e,t,r,o){let l=fn();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let m=Vs();return t.forEach((b,C)=>{const M=h.get(b),O=(null==o?void 0:o.get(b))||r;C.isNoDocument()&&C.version.isEqual(Tt.min())?(e.removeEntry(b,O),m=m.insert(b,C)):!M.isValidDocument()||C.version.compareTo(M.version)>0||0===C.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(C,O),m=m.insert(b,C)):ke("LocalStore","Ignoring outdated watch update for ",b,". Current version:",M.version," Watch version:",C.version)}),m})}function tx(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Bd(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.He.getTargetData(r,e).next(l=>l?(o=l,Te.resolve(o)):t.He.allocateTargetId(r).next(h=>(o=new ru(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function $c(n,e,t){return tw.apply(this,arguments)}function tw(){return(tw=(0,_e.Z)(function*(n,e,t){const r=Le(n),o=r.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Pd(h))throw h;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(o.target)})).apply(this,arguments)}function om(n,e,t){const r=Le(n);let o=Tt.min(),l=fn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,C){const M=Le(m),O=M.Kn.get(C);return void 0!==O?Te.resolve(M.qn.get(O)):M.He.getTargetData(b,C)}(r,h,vo(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(b=>{l=b})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?o:Tt.min(),t?l:fn())).next(m=>({documents:m,zn:l})))}function am(n,e){const t=Le(n),r=Le(t.He),o=t.qn.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function cm(n){const e=Le(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,l){const h=Le(r);let m=Vs(),b=GE(l);const C=Ud(o),M=IDBKeyRange.lowerBound(b,!0);return C.jt({index:er.readTimeIndex,range:M},(O,H)=>{const z=$E(h.k,H);m=m.insert(z.key,z),b=H.readTime}).next(()=>({In:m,readTime:qI(b)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function nw(){return(nw=(0,_e.Z)(function*(n){const e=Le(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=Ud(r);let l=Tt.min();return o.jt({index:er.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(l=qI(m.readTime)),b.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function lT(){return(lT=(0,_e.Z)(function*(n,e,t,r){const o=Le(n);let l=fn(),h=Vs(),m=SE();for(const M of t){const O=e.Hn(M.metadata.name);M.document&&(l=l.add(O)),h=h.insert(O,e.Jn(M)),m=m.insert(O,e.Yn(M.metadata.readTime))}const b=o.Qn.newChangeBuffer({trackRemovals:!0}),C=yield Bd(o,(M=r,vo(xd(en.fromString(`__bundle__/docs/${M}`)))));var M;return o.persistence.runTransaction("Apply bundle documents","readwrite",M=>cT(M,b,h,Tt.min(),m).next(O=>(b.apply(M),O)).next(O=>o.He.removeMatchingKeysForTargetId(M,C.targetId).next(()=>o.He.addMatchingKeys(M,l,C.targetId)).next(()=>o.Wn.Vn(M,O)).next(()=>O)))})).apply(this,arguments)}function rx(n,e){return rw.apply(this,arguments)}function rw(){return(rw=(0,_e.Z)(function*(n,e,t=fn()){const r=yield Bd(n,vo(qE(e.bundledQuery))),o=Le(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=Zr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ye.saveNamedQuery(l,e);const m=r.withResumeToken(Gn.EMPTY_BYTE_STRING,h);return o.qn=o.qn.insert(m.targetId,m),o.He.updateTargetData(l,m).next(()=>o.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.He.addMatchingKeys(l,t,r.targetId)).next(()=>o.Ye.saveNamedQuery(l,e))})})).apply(this,arguments)}class ix{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Te.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:Zr(r.createTime)}),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:qE(r.bundledQuery),readTime:Zr(r.readTime)}),Te.resolve();var r}}class iw{constructor(){this.ts=new Xn(Wr.es),this.ns=new Xn(Wr.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Wr(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Wr(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new Ye(new en([])),r=new Wr(t,e),o=new Wr(t,e+1),l=[];return this.ns.forEachInRange([r,o],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Ye(new en([])),r=new Wr(t,e),o=new Wr(t,e+1);let l=fn();return this.ns.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Wr(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Wr{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Ye.comparator(e.key,t.key)||Gt(e.fs,t.fs)}static ss(e,t){return Gt(e.fs,t.fs)||Ye.comparator(e.key,t.key)}}class sx{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Xn(Wr.es)}checkEmpty(e){return Te.resolve(0===this.An.length)}addMutationBatch(e,t,r,o){const l=this.ds;this.ds++;const h=new jE(l,t,r,o);this.An.push(h);for(const m of o)this.ws=this.ws.add(new Wr(m.key,l)),this.Jt.addToCollectionParentIndex(e,m.key.path.popLast());return Te.resolve(h)}lookupMutationBatch(e,t){return Te.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.gs(t+1),l=o<0?0:o;return Te.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Te.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wr(t,0),o=new Wr(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,o],h=>{const m=this._s(h.fs);l.push(m)}),Te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xn(Gt);return t.forEach(o=>{const l=new Wr(o,0),h=new Wr(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),Te.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Ye.isDocumentKey(l)||(l=l.child(""));const h=new Wr(new Ye(l),0);let m=new Xn(Gt);return this.ws.forEachWhile(b=>{const C=b.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(b.fs)),!0)},h),Te.resolve(this.ys(m))}ys(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){dt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Te.forEach(t.mutations,o=>{const l=new Wr(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Wr(t,0),o=this.ws.firstAfterOrEqual(r);return Te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Te.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class ox{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Pr(Ye.comparator),this.size=0}addEntry(e,t,r){const o=t.key,l=this.docs.get(o),h=l?l.size:0,m=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Te.resolve(r?r.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let r=Vs();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():In.newInvalidDocument(o))}),Te.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=Vs();const l=new Ye(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:b,readTime:C}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;C.compareTo(r)<=0||Of(t,b)&&(o=o.insert(b.key,b.mutableCopy()))}return Te.resolve(o)}Es(e,t){return Te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ax(this)}getSize(e){return Te.resolve(this.size)}}class ax extends JA{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.De.addEntry(e,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),Te.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class cx{constructor(e){this.persistence=e,this.Is=new Gf(t=>Mf(t),Lg),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.As=0,this.Rs=new iw,this.targetCount=0,this.bs=ou.ie()}forEachTarget(e,t){return this.Is.forEach((r,o)=>t(o)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Te.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new ou(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.ae(t),Te.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Te.waitFor(l).next(()=>o)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Te.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Te.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Te.resolve(r)}containsKey(e,t){return Te.resolve(this.Rs.containsKey(t))}}class AO{constructor(e,t){this.Ps={},this.Be=new xi(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new cx(this),this.Jt=new WA,this.Je=new ox(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new Ny(t),this.Ye=new ix(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new sx(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const o=new lx(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(l=>this.referenceDelegate.Ss(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ds(e,t){return Te.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class lx extends zI{constructor(e){super(),this.currentSequenceNumber=e}}class jd{constructor(e){this.persistence=e,this.Cs=new iw,this.Ns=null}static ks(e){return new jd(e)}get xs(){if(this.Ns)return this.Ns;throw tt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Te.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.xs,r=>{const o=Ye.fromPath(r);return this.$s(e,o).next(l=>{l||t.removeEntry(o)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Te.or([()=>Te.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function uT(n,e){return`firestore_clients_${n}_${e}`}function dT(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function sw(n,e){return`firestore_targets_${n}_${e}`}class Hd{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Os(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Me(o.error.code,o.error.message))),h?new Hd(e,t,o.state,l):(gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jo{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Me(r.error.code,r.error.message))),l?new Jo(e,r.state,o):(gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class um{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=Nf();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=mE(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new um(e,l):(gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ow{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ow(t.clientId,t.onlineState):(gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class hT{constructor(){this.activeTargetIds=Nf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aw{constructor(e,t,r,o,l){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Pr(Gt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=uT(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new hT),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Tn();for(const o of t){if(o===e.Bs)continue;const l=e.getItem(uT(e.persistenceKey,o));if(l){const h=um.Os(o,l);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const o=e.Zs(r);o&&e.ti(o)}for(const o of e.js)e.qs(o);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(sw(this.persistenceKey,e));if(r){const o=Jo.Os(e,r);o&&(t=o.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sw(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.si(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const o=t.ai(r.key);return t.ui(o,null)}{const o=t.hi(r.key,r.newValue);if(o)return t.ui(o.clientId,o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.li(r.key,r.newValue);if(o)return t.fi(o)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const o=t.di(r.key,r.newValue);if(o)return t.wi(o)}}else if(r.key===t.Js){if(null!==r.newValue){const o=t.Zs(r.newValue);if(o)return t.ti(o)}}else if(r.key===t.Ws){const o=function(l){let h=xi.I;if(null!=l)try{const m=JSON.parse(l);dt("number"==typeof m),h=m}catch(m){gr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==xi.I&&t.sequenceNumberHandler(o)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const o=new Hd(this.currentUser,e,t,r),l=dT(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Ms())}si(e){const t=dT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const o=sw(this.persistenceKey,e),l=new Jo(e,t,r);this.setItem(o,l.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return um.Os(r,t)}li(e,t){const r=this.zs.exec(e),o=Number(r[1]);return Hd.Os(new Ai(void 0!==r[2]?r[2]:null),o,t)}di(e,t){const r=this.Hs.exec(e),o=Number(r[1]);return Jo.Os(o,t)}Zs(e){return ow.Os(e)}fi(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),o=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{l.has(b)||m.push(b)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Nf();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class dm{constructor(){this.pi=new hT,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new hT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class ux{Ei(e){}shutdown(){}}class fT{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const pT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class gT{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class cw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,o,l){const h=this.Ui(e,t);ke("RestConnection","Sending: ",h,r);const m={};return this.qi(m,o,l),this.Ki(e,h,m,r).then(b=>(ke("RestConnection","Received: ",b),b),b=>{throw uy("RestConnection",`${e} failed with error: `,b,"url: ",h,"request:",r),b})}ji(e,t,r,o,l){return this.Bi(e,t,r,o,l)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ef,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}Ui(e,t){return`${this.Fi}/v1/${t}:${pT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,o){return new Promise((l,h)=>{const m=new TA;m.listenOnce(yO.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case cE.NO_ERROR:const C=m.getResponseJson();ke("Connection","XHR received:",JSON.stringify(C)),l(C);break;case cE.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),h(new Me(pe.DEADLINE_EXCEEDED,"Request time out"));break;case cE.HTTP_ERROR:const M=m.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',M,"response text:",m.getResponseText()),M>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const H=function(z){const J=z.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(J)>=0?J:pe.UNKNOWN}(O.status);h(new Me(H,O.message))}else h(new Me(pe.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Me(pe.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}Qi(e,t,r){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=eI(),h=tI(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new IA({})),this.qi(m.initMessageHeaders,t,r),(0,Bt.uI)()||(0,Bt.b$)()||(0,Bt.d)()||(0,Bt.w1)()||(0,Bt.Mn)()||(0,Bt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");ke("Connection","Creating WebChannel: "+b,m);const C=l.createWebChannel(b,m);let M=!1,O=!1;const H=new gT({Vi:J=>{O?ke("Connection","Not sending because WebChannel is closed:",J):(M||(ke("Connection","Opening WebChannel transport."),C.open(),M=!0),ke("Connection","WebChannel sending:",J),C.send(J))},Si:()=>C.close()}),z=(J,me,Ae)=>{J.listen(me,He=>{try{Ae(He)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return z(C,kg.EventType.OPEN,()=>{O||ke("Connection","WebChannel transport opened.")}),z(C,kg.EventType.CLOSE,()=>{O||(O=!0,ke("Connection","WebChannel transport closed"),H.Oi())}),z(C,kg.EventType.ERROR,J=>{O||(O=!0,uy("Connection","WebChannel transport errored:",J),H.Oi(new Me(pe.UNAVAILABLE,"The operation could not be completed")))}),z(C,kg.EventType.MESSAGE,J=>{var me;if(!O){const Ae=J.data[0];dt(!!Ae);const He=Ae,Xe=He.error||(null===(me=He[0])||void 0===me?void 0:me.error);if(Xe){ke("Connection","WebChannel received error:",Xe);const Mt=Xe.status;let it=function(vr){const Jr=mr[vr];if(void 0!==Jr)return xI(Jr)}(Mt),yn=Xe.message;void 0===it&&(it=pe.INTERNAL,yn="Unknown error status: "+Mt+" with message "+Xe.message),O=!0,H.Oi(new Me(it,yn)),C.close()}else ke("Connection","WebChannel received:",Ae),H.Mi(Ae)}}),z(h,CA.STAT_EVENT,J=>{J.stat===lE.PROXY?ke("Connection","Detected buffering proxy"):J.stat===lE.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.$i()},0),H}}function lw(){return"undefined"!=typeof window?window:null}function hm(){return"undefined"!=typeof document?document:null}function fm(n){return new BA(n,!0)}class uw{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=o,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,t-r);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class dw{constructor(e,t,r,o,l,h,m,b){this.Me=e,this.nr=r,this.sr=o,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new uw(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,_e.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,_e.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===t&&this.Ir(r,o)},r=>{e(()=>{const o=new Me(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var e=this;this.state=5,this.ur.Zi((0,_e.Z)(function*(){e.state=0,e.start()}))}Ar(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dx extends dw{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:tt(),o=e.targetChange.targetIds||[],l=function(b,C){return b.C?(dt(void 0===C||"string"==typeof C),Gn.fromBase64String(C||"")):(dt(void 0===C||C instanceof Uint8Array),Gn.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(b){const C=void 0===b.code?pe.UNKNOWN:xI(b.code);return new Me(C,b.message||"")}(h);t=new VA(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Uc(n,r.document.name),l=Zr(r.document.updateTime),h=new pi({mapValue:{fields:r.document.fields}}),m=In.newFoundDocument(o,l,h);t=new Ty(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Uc(n,r.document),l=r.readTime?Zr(r.readTime):Tt.min(),h=In.newNoDocument(o,l);t=new Ty([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Uc(n,r.document);t=new Ty([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return tt();{const r=e.filter,l=new UA(r.count||0);t=new Rd(r.targetId,l)}}var b;return t}(this.k,e),r=function(o){if(!("targetChange"in o))return Tt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Tt.min():l.readTime?Zr(l.readTime):Tt.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=Jg(this.k),t.addTarget=function(o,l){let h;const m=l.target;return h=Ug(m)?{documents:LI(o,m)}:{query:UI(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=PI(o,l.resumeToken):l.snapshotVersion.compareTo(Tt.min())>0&&(h.readTime=Yg(o,l.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=Jg(this.k),t.removeTarget=e,this.gr(t)}}class mT extends dw{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(dt(void 0!==e),n.map(t=>function(r,o){let l=Zr(r.updateTime?r.updateTime:o);return l.isEqual(Tt.min())&&(l=Zr(o)),new bI(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.Cr(r,t)}return dt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Jg(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>My(this.k,r))};this.gr(t)}}class Hy extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=o,this.$r=!1}Or(){if(this.$r)throw new Me(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.Bi(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(pe.UNKNOWN,o.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.ji(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(pe.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class $y{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(gr(t),this.Lr=!1):ke("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class xO{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,_e.Z)(function*(){var b;$d(h)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,_e.Z)(function*(C){const M=Le(C);M.Gr.add(4),yield js(M),M.Jr.set("Unknown"),M.Gr.delete(4),yield zc(M)}),function(C){return b.apply(this,arguments)})(h))}))}),this.Jr=new $y(r,o)}}function zc(n){return on.apply(this,arguments)}function on(){return(on=(0,_e.Z)(function*(n){if($d(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function js(n){return au.apply(this,arguments)}function au(){return(au=(0,_e.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function cu(n,e){const t=Le(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),Gc(t)?pm(t):qd(t).lr()&&yt(t,e))}function zy(n,e){const t=Le(n),r=qd(t);t.Wr.delete(e),r.lr()&&Hs(t,e),0===t.Wr.size&&(r.lr()?r._r():$d(t)&&t.Jr.set("Unknown"))}function yt(n,e){n.Yr.X(e.targetId),qd(n).Pr(e)}function Hs(n,e){n.Yr.X(e),qd(n).vr(e)}function pm(n){n.Yr=new IO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),qd(n).start(),n.Jr.Br()}function Gc(n){return $d(n)&&!qd(n).hr()&&n.Wr.size>0}function $d(n){return 0===Le(n).Gr.size}function hw(n){n.Yr=void 0}function _T(n){return yT.apply(this,arguments)}function yT(){return(yT=(0,_e.Z)(function*(n){n.Wr.forEach((e,t)=>{yt(n,e)})})).apply(this,arguments)}function hx(n,e){return fw.apply(this,arguments)}function fw(){return(fw=(0,_e.Z)(function*(n,e){hw(n),Gc(n)?(n.Jr.Kr(e),pm(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function Io(n,e,t){return xn.apply(this,arguments)}function xn(){return(xn=(0,_e.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof VA&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.Wr.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Wr.delete(m),o.Yr.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Es(n,r)}else if(e instanceof Ty?n.Yr.ot(e):e instanceof Rd?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Tt.min()))try{const r=yield ew(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.Yr.gt(l);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.Wr.get(b);C&&o.Wr.set(b,C.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const b=o.Wr.get(m);if(!b)return;o.Wr.set(m,b.withResumeToken(Gn.EMPTY_BYTE_STRING,b.snapshotVersion)),Hs(o,m);const C=new ru(b.target,m,1,b.sequenceNumber);yt(o,C)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield Es(n,r)}var r})).apply(this,arguments)}function Es(n,e,t){return Gy.apply(this,arguments)}function Gy(){return(Gy=(0,_e.Z)(function*(n,e,t){if(!Pd(e))throw e;n.Gr.add(1),yield js(n),n.Jr.set("Offline"),t||(t=()=>ew(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield zc(n)}))})).apply(this,arguments)}function vT(n,e){return e().catch(t=>Es(n,t,e))}function zd(n){return gm.apply(this,arguments)}function gm(){return(gm=(0,_e.Z)(function*(n){const e=Le(n),t=qc(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;qf(e);)try{const o=yield tx(e.localStore,r);if(null===o){0===e.Qr.length&&t._r();break}r=o.batchId,mm(e,o)}catch(o){yield Es(e,o)}bT(e)&&lu(e)})).apply(this,arguments)}function qf(n){return $d(n)&&n.Qr.length<10}function mm(n,e){n.Qr.push(e);const t=qc(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function bT(n){return $d(n)&&!qc(n).hr()&&n.Qr.length>0}function lu(n){qc(n).start()}function fx(n){return qy.apply(this,arguments)}function qy(){return(qy=(0,_e.Z)(function*(n){qc(n).kr()})).apply(this,arguments)}function pw(n){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,_e.Z)(function*(n){const e=qc(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function gw(n,e,t){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,_e.Z)(function*(n,e,t){const r=n.Qr.shift(),o=HE.from(r,e,t);yield vT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield zd(n)})).apply(this,arguments)}function Zf(n,e){return mw.apply(this,arguments)}function mw(){return(mw=(0,_e.Z)(function*(n,e){var t;e&&qc(n).Sr&&(yield(t=(0,_e.Z)(function*(r,o){if(AI(l=o.code)&&l!==pe.ABORTED){const h=r.Qr.shift();qc(r).wr(),yield vT(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield zd(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),bT(n)&&lu(n)})).apply(this,arguments)}function Wf(n,e){return Wy.apply(this,arguments)}function Wy(){return(Wy=(0,_e.Z)(function*(n,e){const t=Le(n);e?(t.Gr.delete(2),yield zc(t)):e||(t.Gr.add(2),yield js(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function qd(n){return n.Xr||(n.Xr=function(e,t,r){const o=Le(e);return o.Or(),new dx(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:_T.bind(null,n),Ni:hx.bind(null,n),br:Io.bind(null,n)}),n.zr.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Xr.wr(),Gc(n)?pm(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),hw(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function qc(n){return n.Zr||(n.Zr=function(e,t,r){const o=Le(e);return o.Or(),new mT(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:fx.bind(null,n),Ni:Zf.bind(null,n),Nr:pw.bind(null,n),Cr:gw.bind(null,n)}),n.zr.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Zr.wr(),yield zd(n)):(yield n.Zr.stop(),n.Qr.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class Kf{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,m=new Kf(e,t,h,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yf(n,e){if(gr("AsyncQueue",`${e}: ${n}`),Pd(n))return new Me(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class uu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Iy(),this.sortedSet=new Pr(this.comparator)}static emptySet(e){return new uu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ky{constructor(){this.eo=new Pr(Ye.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):tt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class _m{constructor(e,t,r,o,l,h,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new _m(e,t,uu.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class MO{constructor(){this.so=void 0,this.listeners=[]}}class vt{constructor(){this.queries=new Gf(e=>bo(e),bs),this.onlineState="Unknown",this.io=new Set}}function ET(n,e){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,_e.Z)(function*(n,e){const t=Le(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new MO),o)try{l.so=yield t.onListen(r)}catch(h){const m=Yf(h,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&wT(t)})).apply(this,arguments)}function _w(n,e){return yw.apply(this,arguments)}function yw(){return(yw=(0,_e.Z)(function*(n,e){const t=Le(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function px(n,e){const t=Le(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.oo(o)&&(r=!0);h.so=o}}r&&wT(t)}function RO(n,e,t){const r=Le(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function wT(n){n.io.forEach(e=>{e.next()})}class vw{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new _m(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=_m.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class Oi{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class CT{constructor(e){this.k=e}Hn(e){return Uc(this.k,e)}Jn(e){return e.metadata.exists?kE(this.k,e.document,!1):In.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Zr(e)}}class gx{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=Yy(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new CT(this.k);for(const o of e)if(o.metadata.queries){const l=r.Hn(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||fn()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function(n,e,t,r){return lT.apply(this,arguments)}(e.localStore,new CT(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const o of e.queries)yield rx(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new nT(Object.assign({},e.progress),t)})()}}function Yy(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class IT{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class DT{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=fn(),this.mutatedKeys=fn(),this.Ao=EE(e),this.Ro=new uu(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new Ky,o=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b=by(this.query)&&o.size===this.query.limit?o.last():null,C=jg(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,O)=>{const H=o.get(M),z=Of(this.query,O)?O:null,J=!!H&&this.mutatedKeys.has(H.key),me=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Ae=!1;H&&z?H.data.isEqual(z.data)?J!==me&&(r.track({type:3,doc:z}),Ae=!0):this.Vo(H,z)||(r.track({type:2,doc:z}),Ae=!0,(b&&this.Ao(z,b)>0||C&&this.Ao(z,C)<0)&&(m=!0)):!H&&z?(r.track({type:0,doc:z}),Ae=!0):H&&!z&&(r.track({type:1,doc:H}),Ae=!0,(b||C)&&(m=!0)),Ae&&(z?(h=h.add(z),l=me?l.add(M):l.delete(M)):(h=h.delete(M),l=l.delete(M)))}),by(this.query)||jg(this.query))for(;h.size>this.query.limit;){const M=by(this.query)?h.last():h.first();h=h.delete(M.key),l=l.delete(M.key),r.track({type:1,doc:M})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((C,M)=>function(O,H){const z=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return z(O)-z(H)}(C.type,M.type)||this.Ao(C.doc,M.doc)),this.So(r);const h=t?this.Do():[],m=0===this.Io.size&&this.current?1:0,b=m!==this.Eo;return this.Eo=m,0!==l.length||b?{snapshot:new _m(this.query,e.Ro,o,l,e.mutatedKeys,0===m,b,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Ky,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=fn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new TT(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new IT(r))}),t}ko(e){this.To=e.zn,this.Io=fn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return _m.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class mx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _x{constructor(e){this.key=e,this.$o=!1}}class yx{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new Gf(m=>bo(m),bs),this.Fo=new Map,this.Lo=new Set,this.Bo=new Pr(Ye.comparator),this.Uo=new Map,this.qo=new iw,this.Ko={},this.jo=new Map,this.Qo=ou.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function bw(n,e){return Ew.apply(this,arguments)}function Ew(){return(Ew=(0,_e.Z)(function*(n,e){const t=rv(n);let r,o;const l=t.Mo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.xo();else{const h=yield Bd(t.localStore,vo(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield ww(t,e,r,"current"===m),t.isPrimaryClient&&cu(t.remoteStore,h)}return o})).apply(this,arguments)}function ww(n,e,t,r){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,_e.Z)(function*(n,e,t,r){n.Go=(M,O,H)=>{return(z=(0,_e.Z)(function*(J,me,Ae,He){let Xe=me.view.Po(Ae);Xe.Bn&&(Xe=yield om(J.localStore,me.query,!1).then(({documents:yn})=>me.view.Po(yn,Xe)));const Mt=He&&He.targetChanges.get(me.targetId),it=me.view.applyChanges(Xe,J.isPrimaryClient,Mt);return Mw(J,me.targetId,it.Co),it.snapshot}),function(J,me,Ae,He){return z.apply(this,arguments)})(n,M,O,H);var z};const o=yield om(n.localStore,e,!0),l=new DT(e,o.zn),h=l.Po(o.documents),m=Kg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=l.applyChanges(h,n.isPrimaryClient,m);Mw(n,t,b.Co);const C=new mx(e,t,l);return n.Mo.set(e,C),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),b.snapshot})).apply(this,arguments)}function Cw(n,e){return Iw.apply(this,arguments)}function Iw(){return(Iw=(0,_e.Z)(function*(n,e){const t=Le(n),r=t.Mo.get(e),o=t.Fo.get(r.targetId);if(o.length>1)return t.Fo.set(r.targetId,o.filter(l=>!bs(l,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $c(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),zy(t.remoteStore,r.targetId),Qf(t,r.targetId)}).catch(zf))):(Qf(t,r.targetId),yield $c(t.localStore,r.targetId,!0))})).apply(this,arguments)}function Tw(){return(Tw=(0,_e.Z)(function*(n,e,t){const r=iv(n);try{const o=yield function(l,h){const m=Le(l),b=qr.now(),C=h.reduce((O,H)=>O.add(H.key),fn());let M;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.Wn.vn(O,C).next(H=>{M=H;const z=[];for(const J of h){const me=wI(J,M.get(J.key));null!=me&&z.push(new nu(J.key,me,vy(me.value.mapValue),lr.exists(!0)))}return m.An.addMutationBatch(O,b,z,h)})).then(O=>(O.applyToLocalDocumentSet(M),{batchId:O.batchId,changes:M}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let b=l.Ko[l.currentUser.toKey()];b||(b=new Pr(Gt)),b=b.insert(h,m),l.Ko[l.currentUser.toKey()]=b}(r,o.batchId,t),yield Zc(r,o.changes),yield zd(r.remoteStore)}catch(o){const l=Yf(o,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function ST(n,e){return Dw.apply(this,arguments)}function Dw(){return(Dw=(0,_e.Z)(function*(n,e){const t=Le(n);try{const r=yield aT(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Uo.get(l);h&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.$o=!0:o.modifiedDocuments.size>0?dt(h.$o):o.removedDocuments.size>0&&(dt(h.$o),h.$o=!1))}),yield Zc(t,r,e)}catch(r){yield zf(r)}})).apply(this,arguments)}function AT(n,e,t){const r=Le(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Mo.forEach((l,h)=>{const m=h.view.ro(e);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=Le(l);m.onlineState=h;let b=!1;m.queries.forEach((C,M)=>{for(const O of M.listeners)O.ro(h)&&(b=!0)}),b&&wT(m)}(r.eventManager,e),o.length&&r.Oo.br(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vx(n,e,t){return Sw.apply(this,arguments)}function Sw(){return(Sw=(0,_e.Z)(function*(n,e,t){const r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Uo.get(e),l=o&&o.key;if(l){let h=new Pr(Ye.comparator);h=h.insert(l,In.newNoDocument(l,Tt.min()));const m=fn().add(l),b=new Qo(Tt.min(),new Map,new Xn(Gt),h,m);yield ST(r,b),r.Bo=r.Bo.remove(l),r.Uo.delete(e),ev(r)}else yield $c(r.localStore,e,!1).then(()=>Qf(r,e,t)).catch(zf)})).apply(this,arguments)}function ym(n,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,_e.Z)(function*(n,e){const t=Le(n),r=e.batch.batchId;try{const o=yield oT(t.localStore,e);xw(t,r,null),Xy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Zc(t,o)}catch(o){yield zf(o)}})).apply(this,arguments)}function bx(n,e,t){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,_e.Z)(function*(n,e,t){const r=Le(n);try{const o=yield function(l,h){const m=Le(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let C;return m.An.lookupMutationBatch(b,h).next(M=>(dt(null!==M),C=M.keys(),m.An.removeMutationBatch(b,M))).next(()=>m.An.performConsistencyCheck(b)).next(()=>m.Wn.vn(b,C))})}(r.localStore,e);xw(r,e,t),Xy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Zc(r,o)}catch(o){yield zf(o)}})).apply(this,arguments)}function xT(){return(xT=(0,_e.Z)(function*(n,e){const t=Le(n);$d(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Le(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.jo.get(r)||[];o.push(e),t.jo.set(r,o)}catch(r){const o=Yf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function Xy(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function xw(n,e,t){const r=Le(n);let o=r.Ko[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Ko[r.currentUser.toKey()]=o}}function Qf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||MT(n,r)})}function MT(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(zy(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),ev(n))}function Mw(n,e,t){for(const r of t)r instanceof IT?(n.qo.addReference(r.key,e),Ex(n,r)):r instanceof TT?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||MT(n,r.key)):tt()}function Ex(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.Lo.add(r),ev(n))}function ev(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new Ye(en.fromString(e)),r=n.Qo.next();n.Uo.set(r,new _x(t)),n.Bo=n.Bo.insert(t,r),cu(n.remoteStore,new ru(vo(xd(t.path)),r,2,xi.I))}}function Zc(n,e,t){return Rw.apply(this,arguments)}function Rw(){return(Rw=(0,_e.Z)(function*(n,e,t){const r=Le(n),o=[],l=[],h=[];var m;r.Mo.isEmpty()||(r.Mo.forEach((m,b)=>{h.push(r.Go(b,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),o.push(C);const M=jy.$n(b.targetId,C);l.push(M)}}))}),yield Promise.all(h),r.Oo.br(o),yield(m=(0,_e.Z)(function*(b,C){const M=Le(b);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Te.forEach(C,H=>Te.forEach(H.kn,z=>M.persistence.referenceDelegate.addReference(O,H.targetId,z)).next(()=>Te.forEach(H.xn,z=>M.persistence.referenceDelegate.removeReference(O,H.targetId,z)))))}catch(O){if(!Pd(O))throw O;ke("LocalStore","Failed to update sequence numbers: "+O)}for(const O of C){const H=O.targetId;if(!O.fromCache){const z=M.qn.get(H),me=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);M.qn=M.qn.insert(H,me)}}}),function(b,C){return m.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function kO(n,e){return RT.apply(this,arguments)}function RT(){return(RT=(0,_e.Z)(function*(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield sT(t.localStore,e);t.currentUser=e,(o=t).jo.forEach(h=>{h.forEach(m=>{m.reject(new Me(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Zc(t,r.Gn)}var o})).apply(this,arguments)}function PO(n,e){const t=Le(n),r=t.Uo.get(e);if(r&&r.$o)return fn().add(r.key);{let o=fn();const l=t.Fo.get(e);if(!l)return o;for(const h of l){const m=t.Mo.get(h);o=o.unionWith(m.view.bo)}return o}}function Ow(n,e){return kw.apply(this,arguments)}function kw(){return(kw=(0,_e.Z)(function*(n,e){const t=Le(n),r=yield om(t.localStore,e.query,!0),o=e.view.ko(r);return t.isPrimaryClient&&Mw(t,e.targetId,o.Co),o})).apply(this,arguments)}function wx(n){return Pw.apply(this,arguments)}function Pw(){return(Pw=(0,_e.Z)(function*(n){const e=Le(n);return cm(e.localStore).then(t=>Zc(e,t))})).apply(this,arguments)}function Cx(n,e,t,r){return Nw.apply(this,arguments)}function Nw(){return(Nw=(0,_e.Z)(function*(n,e,t,r){const o=Le(n),l=yield function(h,m){const b=Le(h),C=Le(b.An);return b.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Zt(M,m).next(O=>O?b.Wn.vn(M,O):Te.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield zd(o.remoteStore):"acknowledged"===t||"rejected"===t?(xw(o,e,r||null),Xy(o,e),m=e,Le(Le(o.localStore).An).ee(m)):tt(),yield Zc(o,l)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function tv(){return(tv=(0,_e.Z)(function*(n,e){const t=Le(n);if(rv(t),iv(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield nv(t,r.toArray());t.Wo=!0,yield Wf(t.remoteStore,!0);for(const l of o)cu(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const r=[];let o=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Qf(t,h),$c(t.localStore,h,!0))),zy(t.remoteStore,h)}),yield o,yield nv(t,r),function(l){const h=Le(l);h.Uo.forEach((m,b)=>{zy(h.remoteStore,b)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Pr(Ye.comparator)}(t),t.Wo=!1,yield Wf(t.remoteStore,!1)}})).apply(this,arguments)}function nv(n,e,t){return Fw.apply(this,arguments)}function Fw(){return(Fw=(0,_e.Z)(function*(n,e,t){const r=Le(n),o=[],l=[];for(const h of e){let m;const b=r.Fo.get(h);if(b&&0!==b.length){m=yield Bd(r.localStore,vo(b[0]));for(const C of b){const M=r.Mo.get(C),O=yield Ow(r,M);O.snapshot&&l.push(O.snapshot)}}else{const C=yield am(r.localStore,h);m=yield Bd(r.localStore,C),yield ww(r,Wd(C),h,!1)}o.push(m)}return r.Oo.br(l),o})).apply(this,arguments)}function Wd(n){return hI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ki(n){const e=Le(n);return Le(Le(e.localStore).persistence).Tn()}function OT(n,e,t,r){return $s.apply(this,arguments)}function $s(){return($s=(0,_e.Z)(function*(n,e,t,r){const o=Le(n);if(o.Wo)ke("SyncEngine","Ignoring unexpected query state notification.");else if(o.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield cm(o.localStore),h=Qo.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Zc(o,l,h);break}case"rejected":yield $c(o.localStore,e,!0),Qf(o,e,r);break;default:tt()}})).apply(this,arguments)}function Lw(n,e,t){return Uw.apply(this,arguments)}function Uw(){return(Uw=(0,_e.Z)(function*(n,e,t){const r=rv(n);if(r.Wo){for(const o of e){if(r.Fo.has(o)){ke("SyncEngine","Adding an already active target "+o);continue}const l=yield am(r.localStore,o),h=yield Bd(r.localStore,l);yield ww(r,Wd(l),h.targetId,!1),cu(r.remoteStore,h)}for(const o of t)r.Fo.has(o)&&(yield $c(r.localStore,o,!1).then(()=>{zy(r.remoteStore,o),Qf(r,o)}).catch(zf))}})).apply(this,arguments)}function rv(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ST.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vx.bind(null,e),e.Oo.br=px.bind(null,e.eventManager),e.Oo.zo=RO.bind(null,e.eventManager),e}function iv(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ym.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bx.bind(null,e),e}class PT{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.k=fm(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return iT(this.persistence,new rT,e.initialUser,this.k)}Yo(e){return new AO(jd.ks,this.k)}Jo(e){return new dm}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class NT extends PT{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield function(n){return nw.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield iv(r.tc.syncEngine),yield zd(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return iT(this.persistence,new rT,e.initialUser,this.k)}Xo(e){return new YE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=sm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new JE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,lw(),hm(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new dm}}class Tx extends NT{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const o=r.tc.syncEngine;r.sharedClientState instanceof aw&&(r.sharedClientState.syncEngine={mi:Cx.bind(null,o),gi:OT.bind(null,o),yi:Lw.bind(null,o),Tn:ki.bind(null,o),_i:wx.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,_e.Z)(function*(h){yield function(n,e){return tv.apply(this,arguments)}(r.tc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(e){const t=lw();if(!aw.Pt(t))throw new Me(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=sm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aw(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sv{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>AT(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=kO.bind(null,r.syncEngine),yield Wf(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vt}createDatastore(e){const t=fm(e.databaseInfo.databaseId),r=new cw(e.databaseInfo);return new Hy(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>AT(this.syncEngine,m,0),h=fT.Pt()?new fT:new ux,new xO(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,m,b,C){const M=new yx(r,o,l,h,m,b);return C&&(M.Wo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=Le(t);ke("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield js(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function FT(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Vw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dx{constructor(e,t){this.sc=e,this.k=t,this.metadata=new fi,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),o=Number(r);isNaN(o)&&e.cc(`length string (${r}) is not valid number`);const l=yield e.ac(o);return new Oi(JSON.parse(l),t.length+o)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,_e.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Sx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,_e.Z)(function*(l,h){const m=Le(l),b=Jg(m.k)+"/documents",C={documents:h.map(z=>Tn(m.k,z))},M=yield m.ji("BatchGetDocuments",b,C),O=new Map;M.forEach(z=>{const J=function(n,e){return"found"in e?function(t,r){dt(!!r.found);const o=Uc(t,r.found.name),l=Zr(r.found.updateTime),h=new pi({mapValue:{fields:r.found.fields}});return In.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){dt(!!r.missing),dt(!!r.readTime);const o=Uc(t,r.missing),l=Zr(r.readTime);return In.newNoDocument(o,l)}(n,e):tt()}(m.k,z);O.set(J.key.toString(),J)});const H=[];return h.forEach(z=>{const J=O.get(z.toString());dt(!!J),H.push(J)}),H}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Ye.fromPath(o);e.mutations.push(new TE(l,e.precondition(l)))}),yield(r=(0,_e.Z)(function*(o,l){const h=Le(o),m=Jg(h.k)+"/documents",b={writes:l.map(C=>My(h.k,C))};yield h.Bi("Commit",m,b)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=Tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?lr.updateTime(t):lr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new Me(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lr.updateTime(t)}return lr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Jf{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.lc=5,this.ur=new uw(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,_e.Z)(function*(){const t=new Sx(e.datastore),r=e.dc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.wc(l)}))}).catch(o=>{e.wc(o)})}))}dc(e){try{const t=this.updateFunction(e);return!Af(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!AI(t)}return!1}}class NO{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ai.UNAUTHENTICATED,this.clientId=fE.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,_e.Z)(function*(m){ke("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Yf(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Bw(n,e){return jw.apply(this,arguments)}function jw(){return(jw=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,_e.Z)(function*(l){r.isEqual(l)||(yield sT(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function Ax(n,e){return ov.apply(this,arguments)}function ov(){return(ov=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Hw(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(l=(0,_e.Z)(function*(h,m){const b=Le(h);b.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const C=$d(b);b.Gr.add(3),yield js(b),C&&b.Jr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Gr.delete(3),yield zc(b)}),function(h,m){return l.apply(this,arguments)})(e.remoteStore,o);var l}),n.onlineComponents=e})).apply(this,arguments)}function Hw(n){return bm.apply(this,arguments)}function bm(){return(bm=(0,_e.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield Bw(n,new PT)),n.offlineComponents})).apply(this,arguments)}function Em(n){return av.apply(this,arguments)}function av(){return(av=(0,_e.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield Ax(n,new sv)),n.onlineComponents})).apply(this,arguments)}function LT(n){return Hw(n).then(e=>e.persistence)}function $w(n){return Hw(n).then(e=>e.localStore)}function UT(n){return Em(n).then(e=>e.remoteStore)}function zw(n){return Em(n).then(e=>e.syncEngine)}function Xf(n){return Gw.apply(this,arguments)}function Gw(){return(Gw=(0,_e.Z)(function*(n){const e=yield Em(n),t=e.eventManager;return t.onListen=bw.bind(null,e.syncEngine),t.onUnlisten=Cw.bind(null,e.syncEngine),t})).apply(this,arguments)}function qw(n,e,t={}){const r=new fi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(o,l,h,m,b){const C=new Vw({next:O=>{l.enqueueAndForget(()=>_w(o,M));const H=O.docs.has(h);!H&&O.fromCache?b.reject(new Me(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&m&&"server"===m.source?b.reject(new Me(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(O)},error:O=>b.reject(O)}),M=new vw(xd(h.path),C,{includeMetadataChanges:!0,wo:!0});return ET(o,M)}(yield Xf(n),n.asyncQueue,e,t,r)})),r.promise}function Zw(n,e,t={}){const r=new fi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(o,l,h,m,b){const C=new Vw({next:O=>{l.enqueueAndForget(()=>_w(o,M)),O.fromCache&&"server"===m.source?b.reject(new Me(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(O)},error:O=>b.reject(O)}),M=new vw(h,C,{includeMetadataChanges:!0,wo:!0});return ET(o,M)}(yield Xf(n),n.asyncQueue,e,t,r)})),r.promise}class kx{constructor(e,t,r,o,l,h,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class ep{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ep&&e.projectId===this.projectId&&e.database===this.database}}const HT=new Map;function Ww(n,e,t){if(!t)throw new Me(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $T(n,e,t,r){if(!0===e&&!0===r)throw new Me(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tp(n){if(!Ye.isDocumentKey(n))throw new Me(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function np(n){if(Ye.isDocumentKey(n))throw new Me(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cv(n);throw new Me(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Xo(n,e){if(e<=0)throw new Me(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class zT{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$T("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class du{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zT({}),this._settingsFrozen=!1,e instanceof ep?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Me(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ep(o.options.projectId)}(e))}get app(){if(!this._app)throw new Me(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zT(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new sI;switch(t.type){case"gapi":const r=t.client;return dt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new SA(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=HT.get(e);t&&(ke("ComponentProvider","Removing Datastore"),HT.delete(e),t.terminate())}(this),Promise.resolve()}}class Mn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class rs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class To extends rs{constructor(e,t,r){super(e,t,xd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Ye(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function lv(n,e,...t){if(n=(0,Bt.m9)(n),Ww("collection","path",e),n instanceof du){const r=en.fromString(e,...t);return np(r),new To(n,null,r)}{if(!(n instanceof Mn||n instanceof To))throw new Me(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return np(r),new To(n.firestore,null,r)}}function rp(n,e,...t){if(n=(0,Bt.m9)(n),1===arguments.length&&(e=fE.A()),Ww("doc","path",e),n instanceof du){const r=en.fromString(e,...t);return tp(r),new Mn(n,null,new Ye(r))}{if(!(n instanceof Mn||n instanceof To))throw new Me(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return tp(r),new Mn(n.firestore,n instanceof To?n.converter:null,new Ye(r))}}function uv(n,e){return n=(0,Bt.m9)(n),e=(0,Bt.m9)(e),(n instanceof Mn||n instanceof To)&&(e instanceof Mn||e instanceof To)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function qT(n,e){return n=(0,Bt.m9)(n),e=(0,Bt.m9)(e),n instanceof rs&&e instanceof rs&&n.firestore===e.firestore&&bs(n._query,e._query)&&n.converter===e.converter}class Nx{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new uw(this,"async_queue_retry"),this.bc=()=>{const t=hm();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=hm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=hm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new fi;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!Pd(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,gr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const o=Kf.createAndSchedule(this,e,t,r,l=>this.Sc(l));return this.Tc.push(o),o}Pc(){this.Ec&&tt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function Kw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Fx{constructor(){this._progressObserver={},this._taskCompletionResolver=new fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Rn extends du{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Nx,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Yw(this),this._firestoreClient.terminate()}}function _r(n){return n._firestoreClient||Yw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Yw(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kx(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new NO(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Qw(n,e,t){const r=new fi;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield Bw(n,t),yield Ax(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===pe.FAILED_PRECONDITION||l.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function YT(n){if(n._initialized||n._terminated)throw new Me(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(Gn.fromBase64String(e))}catch(t){throw new Me(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ga(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wc{constructor(e){this._methodName=e}}class hv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const QT=/^__.*__$/;class $x{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new nu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zg(e,this.data,t,this.fieldTransforms)}}class JT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new nu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fv(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class Cm{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=o,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Oc({path:r,Fc:!1});return o.Lc(e),o}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Oc({path:r,Fc:!1});return o.xc(),o}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Tm(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(fv(this.$c)&&QT.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class XT{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||fm(e)}Qc(e,t,r,o=!1){return new Cm({$c:e,methodName:t,jc:r,path:Or.emptyPath(),Fc:!1,Kc:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function qa(n){const e=n._freezeSettings(),t=fm(n._databaseId);return new XT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sp(n,e,t,r,o,l={}){const h=n.Qc(l.merge||l.mergeFields?2:0,e,t,o);_v("Data must be an object, but it was:",h,r);const m=nD(r,h);let b,C;if(l.merge)b=new Tf(h.fieldMask),C=h.fieldTransforms;else if(l.mergeFields){const M=[];for(const O of l.mergeFields){const H=yv(e,O,t);if(!h.contains(H))throw new Me(pe.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);rD(M,H)||M.push(H)}b=new Tf(M),C=h.fieldTransforms.filter(O=>b.covers(O.field))}else b=null,C=h.fieldTransforms;return new $x(new pi(m),b,C)}class pv extends Wc{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pv}}function Jw(n,e,t){return new Cm({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Xw extends Wc{_toFieldTransform(e){return new tu(e.path,new Pf)}isEqual(e){return e instanceof Xw}}class eD extends Wc{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=Jw(this,e,!0),r=this.Wc.map(l=>Kd(l,t)),o=new eu(r);return new tu(e.path,o)}isEqual(e){return this===e}}class gv extends Wc{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=Jw(this,e,!0),r=this.Wc.map(l=>Kd(l,t)),o=new ja(r);return new tu(e.path,o)}isEqual(e){return this===e}}class tD extends Wc{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new Md(e.k,_I(e.k,this.Gc));return new tu(e.path,t)}isEqual(e){return this===e}}function e0(n,e,t,r){const o=n.Qc(1,e,t);_v("Data must be an object, but it was:",o,r);const l=[],h=pi.empty();Id(r,(b,C)=>{const M=vv(e,b,t);C=(0,Bt.m9)(C);const O=o.Bc(M);if(C instanceof pv)l.push(M);else{const H=Kd(C,O);null!=H&&(l.push(M),h.set(M,H))}});const m=new Tf(l);return new JT(h,m,o.fieldTransforms)}function Im(n,e,t,r,o,l){const h=n.Qc(1,e,t),m=[yv(e,r,t)],b=[o];if(l.length%2!=0)throw new Me(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<l.length;H+=2)m.push(yv(e,l[H])),b.push(l[H+1]);const C=[],M=pi.empty();for(let H=m.length-1;H>=0;--H)if(!rD(C,m[H])){const z=m[H];let J=b[H];J=(0,Bt.m9)(J);const me=h.Bc(z);if(J instanceof pv)C.push(z);else{const Ae=Kd(J,me);null!=Ae&&(C.push(z),M.set(z,Ae))}}const O=new Tf(C);return new JT(M,O,h.fieldTransforms)}function mv(n,e,t,r=!1){return Kd(t,n.Qc(r?4:3,e))}function Kd(n,e){if(t0(n=(0,Bt.m9)(n)))return _v("Unsupported field value:",e,n),nD(n,e);if(n instanceof Wc)return function(t,r){if(!fv(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let m=Kd(h,r.Uc(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Bt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _I(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=qr.fromDate(t);return{timestampValue:Yg(r.k,o)}}if(t instanceof qr){const o=new qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yg(r.k,o)}}if(t instanceof hv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ga)return{bytesValue:PI(r.k,t._byteString)};if(t instanceof Mn){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.qc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ff(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${cv(t)}`)}(n,e)}function nD(n,e){const t={};return gE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Id(n,(r,o)=>{const l=Kd(o,e.Mc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function t0(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qr||n instanceof hv||n instanceof Ga||n instanceof Mn||n instanceof Wc)}function _v(n,e,t){if(!t0(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=cv(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function yv(n,e,t){if((e=(0,Bt.m9)(e))instanceof hu)return e._internalPath;if("string"==typeof e)return vv(n,e);throw Tm("Field path arguments must be of type string or ",n,!1,void 0,t)}const zx=new RegExp("[~\\*/\\[\\]]");function vv(n,e,t){if(e.search(zx)>=0)throw Tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hu(...e.split("."))._internalPath}catch(r){throw Tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Tm(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||h)&&(b+=" (found",l&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new Me(pe.INVALID_ARGUMENT,m+n+b)}function rD(n,e){return n.some(t=>t.isEqual(e))}class Dm{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class iD extends Dm{data(){return super.data()}}function bv(n,e){return"string"==typeof e?vv(n,e):e instanceof hu?e._internalPath:e._delegate._internalPath}class fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Za extends Dm{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new op(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class op extends Za{data(e={}){return super.data(e)}}class Kc{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new fu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new op(this._firestore,this._userDataWriter,r.key,r,new fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new op(r._firestore,r._userDataWriter,h.doc.key,h.doc,new fu(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new op(r._firestore,r._userDataWriter,h.doc.key,h.doc,new fu(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,C=-1;return 0!==h.type&&(b=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),C=l.indexOf(h.doc.key)),{type:Gx(h.type),doc:m,oldIndex:b,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function sD(n,e){return n instanceof Za&&e instanceof Za?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Kc&&e instanceof Kc&&n._firestore===e._firestore&&qT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function oD(n){if(jg(n)&&0===n.explicitOrderBy.length)throw new Me(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ap{}function Yd(n,...e){for(const t of e)n=t._apply(n);return n}class LO extends ap{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=qa(e.firestore),r=function(o,l,h,m,b,C,M){let O;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Me(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){Qx(M,C);const z=[];for(const J of M)z.push(Yx(m,o,J));O={arrayValue:{values:z}}}else O=Yx(m,o,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||Qx(M,C),O=mv(h,"where",M,"in"===C||"not-in"===C);const H=Mi.create(b,C,O);return function(z,J){if(J.V()){const Ae=Hg(z);if(null!==Ae&&!Ae.isEqual(J.field))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ae.toString()}' and '${J.field.toString()}'`);const He=fI(z);null!==He&&aD(0,J.field,He)}const me=function(Ae,He){for(const Xe of Ae.filters)if(He.indexOf(Xe.op)>=0)return Xe.op;return null}(z,function(Ae){switch(Ae){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(J.op));if(null!==me)throw new Me(pe.INVALID_ARGUMENT,me===J.op?`Invalid query. You cannot use more than one '${J.op.toString()}' filter.`:`Invalid query. You cannot use '${J.op.toString()}' filters with '${me.toString()}' filters.`)}(o,H),H}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new rs(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Lc(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class VO extends ap{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Me(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Rf(o,l);return function(m,b){if(null===fI(m)){const C=Hg(m);null!==C&&aD(0,C,b.field)}}(r,h),h}(e._query,this.zc,this.Yc);return new rs(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Lc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class qx extends ap{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new rs(e.firestore,e.converter,pI(e._query,this.Xc,this.Zc))}}class Zx extends ap{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=Kx(e,this.type,this.ta,this.ea);return new rs(e.firestore,e.converter,(o=t,new Lc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class Wx extends ap{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=Kx(e,this.type,this.ta,this.ea);return new rs(e.firestore,e.converter,(o=t,new Lc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Kx(n,e,t,r){if(t[0]=(0,Bt.m9)(t[0]),t[0]instanceof Dm)return function(o,l,h,m,b){if(!m)throw new Me(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const M of Xi(o))if(M.field.isKeyField())C.push(py(l,m.key));else{const O=m.data.field(M.field);if(Pg(O))throw new Me(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const H=M.field.canonicalString();throw new Me(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}C.push(O)}return new Vg(C,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=qa(n.firestore);return function(l,h,m,b,C,M){const O=l.explicitOrderBy;if(C.length>O.length)throw new Me(pe.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let z=0;z<C.length;z++){const J=C[z];if(O[z].field.isKeyField()){if("string"!=typeof J)throw new Me(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof J}`);if(!$g(l)&&-1!==J.indexOf("/"))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${J}' contains a slash.`);const me=l.path.child(en.fromString(J));if(!Ye.isDocumentKey(me))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${me}' is not because it contains an odd number of segments.`);const Ae=new Ye(me);H.push(py(h,Ae))}else{const me=mv(m,b,J);H.push(me)}}return new Vg(H,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function Yx(n,e,t){if("string"==typeof(t=(0,Bt.m9)(t))){if(""===t)throw new Me(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$g(e)&&-1!==t.indexOf("/"))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!Ye.isDocumentKey(r))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return py(n,new Ye(r))}if(t instanceof Mn)return py(n,t._key);throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cv(t)}.`)}function Qx(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function aD(n,e,t){if(!t.isEqual(e))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class n0{convertValue(e,t="none"){switch(Td(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Df(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const r={};return Id(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new hv(Jn(e.latitude),Jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}convertTimestamp(e){const t=Ba(e);return new qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);dt(LE(r));const o=new ep(r.get(1),r.get(3)),l=new Ye(r.popFirst(5));return o.isEqual(t)||gr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Ev(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ZO extends n0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}class Jx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qa(e)}set(e,t,r){this._verifyNotCommitted();const o=Qd(e,this._firestore),l=Ev(o.converter,t,r),h=sp(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,lr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Qd(e,this._firestore);let h;return h="string"==typeof(t=(0,Bt.m9)(t))||t instanceof hu?Im(this._dataReader,"WriteBatch.update",l._key,t,r,o):e0(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qd(e,this._firestore);return this._mutations=this._mutations.concat(new Wg(t._key,lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qd(n,e){if((n=(0,Bt.m9)(n)).firestore!==e)throw new Me(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Jd extends n0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function cD(n,e,t){n=qt(n,Mn);const r=qt(n.firestore,Rn),o=Ev(n.converter,e,t);return cp(r,[sp(qa(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,lr.none())])}function tM(n,e,t,...r){n=qt(n,Mn);const o=qt(n.firestore,Rn),l=qa(o);let h;return h="string"==typeof(e=(0,Bt.m9)(e))||e instanceof hu?Im(l,"updateDoc",n._key,e,t,r):e0(l,"updateDoc",n._key,e),cp(o,[h.toMutation(n._key,lr.exists(!0))])}function Xd(n,...e){var t,r,o;n=(0,Bt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Kw(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(Kw(e[h])){const O=e[h];e[h]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[h+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[h+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let b,C,M;if(n instanceof Mn)C=qt(n.firestore,Rn),M=xd(n._key.path),b={next:O=>{e[h]&&e[h](s0(C,n,O))},error:e[h+1],complete:e[h+2]};else{const O=qt(n,rs);C=qt(O.firestore,Rn),M=O._query;const H=new Jd(C);b={next:z=>{e[h]&&e[h](new Kc(C,H,O,z))},error:e[h+1],complete:e[h+2]},oD(n._query)}return function(O,H,z,J){const me=new Vw(J),Ae=new vw(H,me,z);return O.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return ET(yield Xf(O),Ae)})),()=>{me.nc(),O.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return _w(yield Xf(O),Ae)}))}}(_r(C),M,m,b)}function cp(n,e){return function(t,r){const o=new fi;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,e,t){return Tw.apply(this,arguments)}(yield zw(t),r,o)})),o.promise}(_r(n),e)}function s0(n,e,t){const r=t.docs.get(e._key),o=new Jd(n);return new Za(n,o,e._key,r,new fu(t.hasPendingWrites,t.fromCache),e.converter)}class o0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qa(e)}get(e){const t=Qd(e,this._firestore),r=new ZO(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return tt();const l=o[0];if(l.isFoundDocument())return new Dm(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Dm(this._firestore,r,t._key,null,t.converter);throw tt()})}set(e,t,r){const o=Qd(e,this._firestore),l=Ev(o.converter,t,r),h=sp(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=Qd(e,this._firestore);let h;return h="string"==typeof(t=(0,Bt.m9)(t))||t instanceof hu?Im(this._dataReader,"Transaction.update",l._key,t,r,o):e0(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Qd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qd(e,this._firestore),r=new Jd(this._firestore);return super.get(e).then(o=>new Za(this._firestore,r,t._key,o._document,new fu(!1,!1),t.converter))}}function pD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function gD(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function iM(){if("undefined"==typeof atob)throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ef=Oc.SDK_VERSION,(0,Oc._registerComponent)(new ig.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new Rn(o,new DA(t.getProvider("auth-internal")),new AA(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Oc.registerVersion)(nI,"3.4.3",n),(0,Oc.registerVersion)(nI,"3.4.3","esm2017")}();class pu{constructor(e){this._delegate=e}static fromBase64String(e){return iM(),new pu(Ga.fromBase64String(e))}static fromUint8Array(e){return gD(),new pu(Ga.fromUint8Array(e))}toBase64(){return iM(),this._delegate.toBase64()}toUint8Array(){return gD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function a0(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class nk{enableIndexedDbPersistence(e,t){return function(n,e){YT(n=qt(n,Rn));const t=_r(n),r=n._freezeSettings(),o=new sv;return Qw(t,o,new NT(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){YT(n=qt(n,Rn));const e=_r(n),t=n._freezeSettings(),r=new sv;return Qw(e,r,new Tx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Me(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!Co.Pt())return Promise.resolve();const o=r+"main";yield Co.delete(o)}),function(r){return t.apply(this,arguments)})(sm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Cv{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ep||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&uy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const l=(n=qt(n,du))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&uy("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=Ai.MOCK_USER;else{h=(0,Bt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Me(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ai(b)}n._authCredentials=new bO(new iI(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield LT(n),t=yield UT(n);return e.setNetworkEnabled(!0),function(r){const o=Le(r);return o.Gr.delete(0),zc(o)}(t)}))}(_r(n=qt(n,Rn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield LT(n),t=yield UT(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(o){const l=Le(o);l.Gr.add(0),yield js(l),l.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(_r(n=qt(n,Rn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$T("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new fi;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,e){return xT.apply(this,arguments)}(yield zw(e),t)})),t.promise}(_r(n=qt(n,Rn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Vw(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Xf(n),o=t,Le(r).io.add(o),void o.next();var r,o})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Xf(n),o=t,void Le(r).io.delete(o);var r,o}))}}(_r(n=qt(n,Rn)),Kw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gu(this,lv(this._delegate,e))}catch(t){throw is(t,"collection()","Firestore.collection()")}}doc(e){try{return new zs(this,rp(this._delegate,e))}catch(t){throw is(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ss(this,function(n,e){if(n=qt(n,du),Ww("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rs(n,null,(t=e,new Lc(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw is(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new fi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const r=yield(o=n,Em(o).then(l=>l.datastore));var o;new Jf(n.asyncQueue,r,e,t).run()})),t.promise}(_r(n=qt(n,Rn)),t=>e(new o0(n,t)))}(this._delegate,t=>e(new sM(this,t)))}batch(){return _r(this._delegate),new mD(new Jx(this._delegate,e=>cp(this._delegate,e)))}loadBundle(e){return function(n,e){const t=_r(n=qt(n,Rn)),r=new Fx;return function(n,e,t,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,C){if(b instanceof Uint8Array)return FT(b,C);if(b instanceof ArrayBuffer)return FT(new Uint8Array(b),C);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Dx(b,h);var b}(t,fm(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function(n,e,t){const r=Le(n);var o;(o=(0,_e.Z)(function*(l,h,m){try{const b=yield h.getMetadata();if(yield function(H,z){const J=Le(H),me=Zr(z.createTime);return J.persistence.runTransaction("hasNewerBundle","readonly",Ae=>J.Ye.getBundleMetadata(Ae,z.id)).then(Ae=>!!Ae&&Ae.createTime.compareTo(me)>=0)}(l.localStore,b))return yield h.close(),void m._completeWith((H=b,{taskState:"Success",documentsLoaded:H.totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}));m._updateProgress(Yy(b));const C=new gx(b,l.localStore,h.k);let M=yield h.Ho();for(;M;){const H=yield C.yo(M);H&&m._updateProgress(H),M=yield h.Ho()}const O=yield C.complete();yield Zc(l,O.In,void 0),yield function(H,z){const J=Le(H);return J.persistence.runTransaction("Save bundle","readwrite",me=>J.Ye.saveBundleMetadata(me,z))}(l.localStore,b),m._completeWith(O.progress)}catch(b){uy("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var H}),function(l,h,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield zw(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const o=Le(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ye.getNamedQuery(l,r))}(yield $w(n),e)}))}(_r(n=qt(n,Rn)),e).then(t=>t?new rs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ss(this,t):null)}}class Iv extends n0{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(new Ga(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return zs.forKey(t,this.firestore,null)}}class sM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Iv(e)}get(e){const t=eh(e);return this._delegate.get(t).then(r=>new Sm(this._firestore,new Za(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=eh(e);return r?(pD("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=eh(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=eh(e);return this._delegate.delete(t),this}}class mD{constructor(e){this._delegate=e}set(e,t,r){const o=eh(e);return r?(pD("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=eh(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=eh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class lp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new op(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Yc(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=lp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new lp(e,new Iv(e),t),o.set(t,l)),l}}lp.INSTANCES=new WeakMap;class zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Iv(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new zs(t,new Mn(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new zs(t,new Mn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gu(this.firestore,lv(this._delegate,e))}catch(t){throw is(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Bt.m9)(e))instanceof Mn&&uv(this._delegate,e)}set(e,t){t=pD("DocumentReference.set",t);try{return t?cD(this._delegate,e,t):cD(this._delegate,e)}catch(r){throw is(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?tM(this._delegate,e):tM(this._delegate,e,t,...r)}catch(o){throw is(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return cp(qt(n.firestore,Rn),[new Wg(n._key,lr.none())])}(this._delegate)}onSnapshot(...e){const t=oM(e),r=aM(e,o=>new Sm(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return Xd(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=qt(n,Mn);const e=qt(n.firestore,Rn),t=_r(e),r=new Jd(e);return function(n,e){const t=new fi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(o,l,h){try{const m=yield function(b,C){const M=Le(b);return M.persistence.runTransaction("read document","readonly",O=>M.Wn.Rn(O,C))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Me(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Yf(m,`Failed to get document '${l} from cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield $w(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Za(e,r,n._key,o,new fu(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=qt(n,Mn);const e=qt(n.firestore,Rn);return qw(_r(e),n._key,{source:"server"}).then(t=>s0(e,n,t))}(this._delegate):function(n){n=qt(n,Mn);const e=qt(n.firestore,Rn);return qw(_r(e),n._key).then(t=>s0(e,n,t))}(this._delegate),t.then(r=>new Sm(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new zs(this.firestore,this._delegate.withConverter(e?lp.getInstance(this.firestore,e):null))}}function is(n,e,t){return n.message=n.message.replace(e,t),n}function oM(n){for(const e of n)if("object"==typeof e&&!a0(e))return e;return{}}function aM(n,e){var t,r;let o;return o=a0(n[0])?n[0]:a0(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Sm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new zs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sD(this._delegate,e._delegate)}}class Yc extends Sm{data(e){const t=this._delegate.data(e);return function(n,e){n||tt()}(void 0!==t),t}}class ss{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Iv(e)}where(e,t,r){try{return new ss(this.firestore,Yd(this._delegate,function(n,e,t){const r=e,o=bv("where",n);return new LO(o,r,t)}(e,t,r)))}catch(o){throw is(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ss(this.firestore,Yd(this._delegate,function(n,e="asc"){const t=e,r=bv("orderBy",n);return new VO(r,t)}(e,t)))}catch(r){throw is(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ss(this.firestore,Yd(this._delegate,function(n){return Xo("limit",n),new qx("limit",n,"F")}(e)))}catch(t){throw is(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ss(this.firestore,Yd(this._delegate,function(n){return Xo("limitToLast",n),new qx("limitToLast",n,"L")}(e)))}catch(t){throw is(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ss(this.firestore,Yd(this._delegate,function(...n){return new Zx("startAt",n,!0)}(...e)))}catch(t){throw is(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ss(this.firestore,Yd(this._delegate,function(...n){return new Zx("startAfter",n,!1)}(...e)))}catch(t){throw is(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ss(this.firestore,Yd(this._delegate,function(...n){return new Wx("endBefore",n,!0)}(...e)))}catch(t){throw is(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ss(this.firestore,Yd(this._delegate,function(...n){return new Wx("endAt",n,!1)}(...e)))}catch(t){throw is(t,"endAt()","Query.endAt()")}}isEqual(e){return qT(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=qt(n,rs);const e=qt(n.firestore,Rn),t=_r(e),r=new Jd(e);return function(n,e){const t=new fi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(o,l,h){try{const m=yield om(o,l,!0),b=new DT(l,m.zn),C=b.Po(m.documents),M=b.applyChanges(C,!1);h.resolve(M.snapshot)}catch(m){const b=Yf(m,`Failed to execute query '${l} against cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield $w(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Kc(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=qt(n,rs);const e=qt(n.firestore,Rn),t=_r(e),r=new Jd(e);return Zw(t,n._query,{source:"server"}).then(o=>new Kc(e,r,n,o))}(this._delegate):function(n){n=qt(n,rs);const e=qt(n.firestore,Rn),t=_r(e),r=new Jd(e);return oD(n._query),Zw(t,n._query).then(o=>new Kc(e,r,n,o))}(this._delegate),t.then(r=>new c0(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=oM(e),r=aM(e,o=>new c0(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return Xd(this._delegate,t,r)}withConverter(e){return new ss(this.firestore,this._delegate.withConverter(e?lp.getInstance(this.firestore,e):null))}}class cM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Yc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class c0{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Yc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new cM(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Yc(this._firestore,r))})}isEqual(e){return sD(this._delegate,e._delegate)}}class gu extends ss{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new zs(this.firestore,e):null}doc(e){try{return new zs(this.firestore,void 0===e?rp(this._delegate):rp(this._delegate,e))}catch(t){throw is(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=qt(n.firestore,Rn),r=rp(n),o=Ev(n.converter,e);return cp(t,[sp(qa(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new zs(this.firestore,t))}isEqual(e){return uv(this._delegate,e._delegate)}withConverter(e){return new gu(this.firestore,this._delegate.withConverter(e?lp.getInstance(this.firestore,e):null))}}function eh(n){return qt(n,Mn)}class os{constructor(...e){this._delegate=new hu(...e)}static documentId(){return new os(Or.keyField().canonicalString())}isEqual(e){return(e=(0,Bt.m9)(e))instanceof hu&&this._delegate._internalPath.isEqual(e._internalPath)}}class th{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Xw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new th(e)}static delete(){const e=new pv("deleteField");return e._methodName="FieldValue.delete",new th(e)}static arrayUnion(...e){const t=function(...n){return new eD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new th(t)}static arrayRemove(...e){const t=function(...n){return new gv("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new th(t)}static increment(e){const t=function(n){return new tD("increment",n)}(e);return t._methodName="FieldValue.increment",new th(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const l0={Firestore:Cv,GeoPoint:hv,Timestamp:qr,Blob:pu,Transaction:sM,WriteBatch:mD,DocumentReference:zs,DocumentSnapshot:Sm,Query:ss,QueryDocumentSnapshot:Yc,QuerySnapshot:c0,CollectionReference:gu,FieldPath:os,FieldValue:th,setLogLevel:function(n){!function(n){Fc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new ig.wA("firestore-compat",t=>((e,t)=>new Cv(e,t,new nk))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},l0)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(vb.Z);var Tv=F(6682),up=F(6136),_D=F(7771),dM=F(8858);class yD extends St.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new vD(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,l=r.length;let h;if(this.closed)throw new ju.N;if(this.isStopped||this.hasError?h=qi.w.EMPTY:(this.observers.push(e),h=new dM.W(this,e)),o&&e.add(e=new up.ht(e,o)),t)for(let m=0;m<l&&!e.closed;m++)e.next(r[m]);else for(let m=0;m<l&&!e.closed;m++)e.next(r[m].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||_D.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,l=o.length;let h=0;for(;h<l&&!(e-o[h].time<r);)h++;return l>t&&(h=Math.max(h,l-t)),h>0&&o.splice(0,h),o}}class vD{constructor(e,t){this.time=e,this.value=t}}function u0(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,l=0,m=!1,b=!1;return function(M){let O;l++,!o||m?(m=!1,o=new yD(n,e,r),O=o.subscribe(this),h=M.subscribe({next(H){o.next(H)},error(H){m=!0,o.error(H)},complete(){b=!0,h=void 0,o.complete()}}),b&&(h=void 0)):O=o.subscribe(this),this.add(()=>{l--,O.unsubscribe(),O=void 0,h&&!b&&t&&0===l&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function Dv(n,e){return e?or(()=>n,e):or(()=>n)}var Sv=F(9673);F(2329);const vM=new Map,ED={activated:!1,tokenObservers:[]},wD={initialized:!1,enabled:!1};function Kr(n){return vM.get(n)||ED}function ea(n,e){vM.set(n,e)}function Am(){return wD}class dk{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Bt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Bt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Pi=new Bt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DD(n){if(!Kr(n).activated)throw Pi.create("use-before-activation",{appName:n.name})}function SD(n,e){return AD.apply(this,arguments)}function AD(){return(AD=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(O){throw Pi.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==h.status)throw Pi.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(O){throw Pi.create("fetch-parse-error",{originalErrorMessage:O.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(b[1]),M=Date.now();return{token:m.attestationToken,expireTimeMillis:M+C,issuedAtTimeMillis:M}})).apply(this,arguments)}function Yr(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const hp="firebase-app-check-store";let rh=null;function RD(){return rh||(rh=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Pi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(hp,{keyPath:"compositeKey"})}}}catch(t){e(Pi.create("storage-open",{originalErrorMessage:t.message}))}}),rh)}function Mm(){return(Mm=(0,_e.Z)(function*(n,e){const r=(yield RD()).transaction(hp,"readwrite"),l=r.objectStore(hp).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=b=>{h()},r.onerror=b=>{var C;m(Pi.create("storage-set",{originalErrorMessage:null===(C=b.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const sh=new Na.Yd("@firebase/app-check");function IM(n,e){return(0,Bt.hl)()?function(n,e){return function(n,e){return Mm.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function DM(){return Am().enabled}function Rm(){return m0.apply(this,arguments)}function m0(){return(m0=(0,_e.Z)(function*(){const n=Am();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gk={error:"UNKNOWN_ERROR"};function mk(n){return Bt.US.encodeString(JSON.stringify(n),!1)}function Mv(n){return _0.apply(this,arguments)}function _0(){return(_0=(0,_e.Z)(function*(n,e=!1){const t=n.app;DD(t);const r=Kr(t);let l,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&Rv(b)&&(o=b)}if(!e&&o&&Rv(o))return{token:o.token};let m,h=!1;if(DM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=SD(Yr(t,yield Rm()),n.platformLoggerProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),h=!0);const b=yield r.exchangeTokenPromise;return yield IM(t,b),ea(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?sh.warn(b.message):sh.error(b),l=b}return o?(m={token:o.token},ea(t,Object.assign(Object.assign({},r),{token:o})),yield IM(t,o)):m=SM(l),h&&UD(t,m),m})).apply(this,arguments)}function v0(n,e){const t=Kr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ea(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function LD(n){const{app:e}=n,t=Kr(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new dk((0,_e.Z)(function*(){let r;if(r=Kr(e).token?yield Mv(n,!0):yield Mv(n),r.error)throw r.error}),()=>!0,()=>{const t=Kr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ea(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function UD(n,e){const t=Kr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Rv(n){return n.expireTimeMillis-Date.now()>0}function SM(n){return{token:mk(gk),error:n}}class yk{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Kr(this.app);for(const t of e)v0(this.app,t.next);return Promise.resolve()}}const zD="app-check-internal";(0,Oc._registerComponent)(new ig.wA("app-check",n=>function(n,e){return new yk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zD).initialize()})),(0,Oc._registerComponent)(new ig.wA(zD,n=>function(n){return{getToken:e=>Mv(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,l=Kr(o),h={next:t,error:r,type:e};if(ea(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&Rv(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),LD(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>LD(n))}(n,"INTERNAL",e),removeTokenListener:e=>v0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oc.registerVersion)("@firebase/app-check","0.5.3");class qD{constructor(){return(0,ui.vb)("app-check")}}"undefined"!=typeof window&&window;var qM=F(7841);const KD=new u.OlP("angularfire2.auth.use-emulator"),Pv=new u.OlP("angularfire2.auth.settings"),YD=new u.OlP("angularfire2.auth.tenant-id"),Ni=new u.OlP("angularfire2.auth.langugage-code"),gp=new u.OlP("angularfire2.auth.use-device-language"),Om=new u.OlP("angularfire.auth.persistence"),D0=(n,e,t,r,o,l,h,m)=>(0,mo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[C,M]of Object.entries(h))b.settings[C]=M;return m&&b.setPersistence(m),b},[t,r,o,l,h,m]);let km=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M,O,H,z){const J=new St.xQ,me=(0,Ve.of)(void 0).pipe((0,up.QV)(h.outsideAngular),or(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8402)))),(0,ot.U)(()=>(0,mo.on)(t,l,r)),(0,ot.U)(Ae=>D0(Ae,l,m,C,M,O,b,H)),u0({bufferSize:1,refCount:!1}));if(al(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ve.of)(null);else{me.pipe(Wn()).subscribe();const He=me.pipe(or(it=>it.getRedirectResult().then(yn=>yn,()=>null)),ui.iC,u0({bufferSize:1,refCount:!1})),Xe=me.pipe(or(it=>new vn.y(yn=>({unsubscribe:l.runOutsideAngular(()=>it.onAuthStateChanged(vr=>yn.next(vr),vr=>yn.error(vr),()=>yn.complete()))})))),Mt=me.pipe(or(it=>new vn.y(yn=>({unsubscribe:l.runOutsideAngular(()=>it.onIdTokenChanged(vr=>yn.next(vr),vr=>yn.error(vr),()=>yn.complete()))}))));this.authState=He.pipe(Dv(Xe),(0,Sv.R)(h.outsideAngular),(0,up.QV)(h.insideAngular)),this.user=He.pipe(Dv(Mt),(0,Sv.R)(h.outsideAngular),(0,up.QV)(h.insideAngular)),this.idToken=this.user.pipe(or(it=>it?(0,gn.D)(it.getIdToken()):(0,Ve.of)(null))),this.idTokenResult=this.user.pipe(or(it=>it?(0,gn.D)(it.getIdTokenResult()):(0,Ve.of)(null))),this.credential=(0,Tv.T)(He,J,this.authState.pipe(Ar(it=>!it))).pipe((0,ot.U)(it=>(null==it?void 0:it.user)?it:null),(0,Sv.R)(h.outsideAngular),(0,up.QV)(h.insideAngular))}return(0,mo.pX)(this,me,l,{spy:{apply:(Ae,He,Xe)=>{(Ae.startsWith("signIn")||Ae.startsWith("createUser"))&&Xe.then(Mt=>J.next(Mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mo.Dh),u.LFG(mo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ui.HU),u.LFG(KD,8),u.LFG(Pv,8),u.LFG(YD,8),u.LFG(Ni,8),u.LFG(gp,8),u.LFG(Om,8),u.LFG(qD,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Pm(n,e){return function(n,e=z_.z){return new vn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function S0(n,e){return Pm(n,e).pipe((0,ot.U)(t=>({payload:t,type:"query"})))}function Nv(n,e){return S0(n,e).pipe(Ta(void 0),G_(),(0,ot.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(M=>M.doc.ref.isEqual(h.ref)),C=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function XD(n,e,t){return Nv(n,t).pipe(Il((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return A0(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return A0(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return A0(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),q_(),(0,ot.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function A0(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function tS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Qc{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Nv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ot.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ta(void 0),G_(),Ar(([r,o])=>o.length>0||!r),(0,ot.U)(([r,o])=>o),ui.iC)}auditTrail(e){return this.stateChanges(e).pipe(Il((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tS(e);return XD(this.query,t,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return S0(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ui.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(ui.iC)}add(e){return this.ref.add(e)}doc(e){return new mp(this.ref.doc(e),this.afs)}}class mp{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=iS(r,t);return new Qc(o,l,this.afs)}snapshotChanges(){return function(n,e){return Pm(n,e).pipe(Ta(void 0),G_(),(0,ot.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,gn.D)(this.ref.get(e)).pipe(ui.iC)}}class x0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Nv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ar(t=>t.length>0),ui.iC):Nv(this.query,this.afs.schedulers.outsideAngular).pipe(ui.iC)}auditTrail(e){return this.stateChanges(e).pipe(Il((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tS(e);return XD(this.query,t,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return S0(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),ui.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(ui.iC)}}const nS=new u.OlP("angularfire2.enableFirestorePersistence"),rS=new u.OlP("angularfire2.firestore.persistenceSettings"),YM=new u.OlP("angularfire2.firestore.settings"),M0=new u.OlP("angularfire2.firestore.use-emulator");function iS(n,e=(t=>t)){return{query:e(n),ref:n}}let Nm=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M,O,H,z,J,me,Ae,He,Xe){this.schedulers=b;const Mt=(0,mo.on)(t,m,r),it=M;O&&D0(Mt,m,H,J,me,Ae,z,He),[this.firestore,this.persistenceEnabled$]=(0,mo.cc)(`${Mt.name}.firestore`,"AngularFirestore",Mt.name,()=>{const yn=m.runOutsideAngular(()=>Mt.firestore());if(l&&yn.settings(l),it&&yn.useEmulator(...it),o&&!al(h)){const vr=()=>{try{return(0,gn.D)(yn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Jr){return"undefined"!=typeof console&&console.warn(Jr),(0,Ve.of)(!1)}};return[yn,m.runOutsideAngular(vr)]}return[yn,(0,Ve.of)(!1)]},[l,it,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=iS(o,r),m=this.schedulers.ngZone.run(()=>l);return new Qc(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new x0(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new mp(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mo.Dh),u.LFG(mo.xv,8),u.LFG(nS,8),u.LFG(YM,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ui.HU),u.LFG(rS,8),u.LFG(M0,8),u.LFG(km,8),u.LFG(KD,8),u.LFG(Pv,8),u.LFG(YD,8),u.LFG(Ni,8),u.LFG(gp,8),u.LFG(Om,8),u.LFG(qD,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sS=(()=>{class n{constructor(){qM.Z.registerVersion("angularfire",ui.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:nS,useValue:!0},{provide:rS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Nm]}),n})(),oS=(()=>{class n{constructor(t){this.db=t,this.dbPath="/events",this.eventRef=t.collection(this.dbPath)}getAll(){return this.eventRef}create(t){return this.eventRef.add(Object.assign({},t))}update(t,r){return this.eventRef.doc(t).update(r)}delete(t){return this.eventRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Nm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),an=(()=>{class n{}return n.TITLE="muaythai360",n.PATH="assets/img/",n.HOME_IMG="assets/img/home.png",n.ABOUT_IMG="assets/img/about.png",n.HEADER_IMG="assets/img/home.png",n.PATH_IMG="assets/img/home.png",n.BOXE_VIDEO="assets/video/boxe.mp4",n.LOGO_IMG="assets/img/logo.png",n.FB_LOGO="assets/img/facebook.png",n.IG_LOGO="assets/img/ig.png",n.GALLERY1="assets/img/gallery1.jpg",n.GALLERY2="assets/img/gallery2.jpg",n.GALLERY3="assets/img/gallery3.jpg",n.GALLERY4="assets/img/gallery4.jpg",n.GALLERY5="assets/img/gallery5.jpg",n.GALLERY6="assets/img/gallery6.jpg",n.GALLERY7="assets/img/gallery7.jpg",n.GALLERY8="assets/img/gallery8.jpg",n.GALLERY9="assets/img/gallery9.jpg",n.GALLERY10="assets/img/gallery10.jpg",n.GALLERY11="assets/img/gallery11.jpg",n.GUANTONI_IMG="assets/img/guantoni.jpeg",n.TEAM_IMG="assets/img/gallery1.jpg",n})();const Pk={TITLE:"muaythai360",PATH:"assets/img/",HOME_IMG:"assets/img/home.png",ABOUT_IMG:"assets/img/about.png",HEADER_IMG:"assets/img/home.png",PATH_IMG:"assets/img/home.png",BOXE_VIDEO:"assets/video/boxe.mp4",LOGO_IMG:"assets/img/logo.png",FB_LOGO:"assets/img/facebook.png",IG_LOGO:"assets/img/ig.png",GALLERY1:"assets/img/gallery1.jpg",GALLERY2:"assets/img/gallery2.jpg",GALLERY3:"assets/img/gallery3.jpg",GALLERY4:"assets/img/gallery4.jpg",GALLERY5:"assets/img/gallery5.jpg",GALLERY6:"assets/img/gallery6.jpg",GALLERY7:"assets/img/gallery7.jpg",GALLERY8:"assets/img/gallery8.jpg",GALLERY9:"assets/img/gallery9.jpg",GALLERY10:"assets/img/gallery10.jpg",GALLERY11:"assets/img/gallery11.jpg",TEAM_IMG:"assets/img/gallery1.jpg",GUANTONI_IMG:"assets/img/guantoni.jpeg",NULLVAL:""};function lS(n){return Pk[n]}const nR={mapperNext:new Map([["MUAY THAI SPORTIVA","MUAY BORAN"],["MUAY BORAN","MUAY THAI BAMBINI"],["MUAY THAI BAMBINI","PERSONAL TRAINING"],["PERSONAL TRAINING","MUAY LERT RIT"]]),mapperPrev:new Map([["MUAY BORAN","MUAY THAI SPORTIVA"],["MUAY THAI BAMBINI","MUAY BORAN"],["PERSONAL TRAINING","MUAY THAI BAMBINI"],["MUAY LERT RIT","PERSONAL TRAINING"]])};function rR(n){return nR[n]}function Nk(n,e){if(1&n&&(u.TgZ(0,"div",3),u._UZ(1,"img",4),u.TgZ(2,"div",5),u.TgZ(3,"ul",6),u.TgZ(4,"li",7),u.TgZ(5,"a",8),u._uU(6,"HOME"),u.qZA(),u.qZA(),u.TgZ(7,"li",7),u.TgZ(8,"a",9),u._uU(9,"CHI SIAMO"),u.qZA(),u.qZA(),u.TgZ(10,"li",7),u.TgZ(11,"a",10),u._uU(12,"ISTRUTTORI"),u.qZA(),u.qZA(),u.TgZ(13,"li",7),u.TgZ(14,"a",11),u._uU(15,"CORSI"),u.qZA(),u.qZA(),u.TgZ(16,"li",7),u.TgZ(17,"a",12),u._uU(18,"EVENTI"),u.qZA(),u.qZA(),u.TgZ(19,"li",7),u.TgZ(20,"a",13),u._uU(21,"ARTICOLI"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.s9C("src",t.logo,u.LSH)}}function Fk(n,e){if(1&n&&(u.TgZ(0,"div",14),u._UZ(1,"img",4),u.TgZ(2,"div",15),u._UZ(3,"input",16),u._UZ(4,"span"),u._UZ(5,"span"),u._UZ(6,"span"),u.TgZ(7,"ul",17),u.TgZ(8,"li",7),u.TgZ(9,"a",8),u._uU(10,"HOME"),u.qZA(),u.qZA(),u.TgZ(11,"li",7),u.TgZ(12,"a",9),u._uU(13,"CHI SIAMO"),u.qZA(),u.qZA(),u.TgZ(14,"li",7),u.TgZ(15,"a",10),u._uU(16,"ISTRUTTORI"),u.qZA(),u.qZA(),u.TgZ(17,"li",7),u.TgZ(18,"a",11),u._uU(19,"CORSI"),u.qZA(),u.qZA(),u.TgZ(20,"li",7),u.TgZ(21,"a",12),u._uU(22,"EVENTI"),u.qZA(),u.qZA(),u.TgZ(23,"li",7),u.TgZ(24,"a",13),u._uU(25,"ARTICOLI"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.s9C("src",t.logo,u.LSH)}}function Lk(n,e){if(1&n&&(u.TgZ(0,"div",18),u._UZ(1,"img",4),u.TgZ(2,"div",19),u._UZ(3,"input",16),u._UZ(4,"span"),u._UZ(5,"span"),u._UZ(6,"span"),u.TgZ(7,"ul",20),u.TgZ(8,"li",7),u.TgZ(9,"a",8),u._uU(10,"HOME"),u.qZA(),u.qZA(),u.TgZ(11,"li",7),u.TgZ(12,"a",9),u._uU(13,"CHI SIAMO"),u.qZA(),u.qZA(),u.TgZ(14,"li",7),u.TgZ(15,"a",10),u._uU(16,"ISTRUTTORI"),u.qZA(),u.qZA(),u.TgZ(17,"li",7),u.TgZ(18,"a",11),u._uU(19,"CORSI"),u.qZA(),u.qZA(),u.TgZ(20,"li",7),u.TgZ(21,"a",12),u._uU(22,"EVENTI"),u.qZA(),u.qZA(),u.TgZ(23,"li",7),u.TgZ(24,"a",13),u._uU(25,"ARTICOLI"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.s9C("src",t.logo,u.LSH)}}let Lv=(()=>{class n{constructor(){this.logo=an.LOGO_IMG,this.isMobile=!1,this.isResponsive=!1}ngOnInit(){this.isMobile=window.matchMedia("only screen and (max-device-width: 992px)").matches,this.isResponsive=this.getBrowserWidth()<660}onResize(){this.isResponsive=this.getBrowserWidth()<660}getBrowser(){return!this.isMobile&&!this.isResponsive}getBrowserResponsive(){return!this.isMobile&&this.isResponsive}getMobile(){return this.isMobile}getBrowserWidth(){return window.innerWidth}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-toolbar"]],hostBindings:function(t,r){1&t&&u.NdJ("resize",function(l){return r.onResize(l)},!1,u.Jf7)},decls:3,vars:3,consts:[["class","toolbar","role","banner",4,"ngIf"],["class","toolbarResp","role","banner",4,"ngIf"],["class","toolbarMobile","role","banner",4,"ngIf"],["role","banner",1,"toolbar"],["width","100","alt","MuayThai360 Logo",3,"src"],[1,"navigation-header"],[1,"navigation-ul"],[1,"navigation-li"],["href","#"],["href","#about"],["href","#team"],["href","#corsi"],["routerLink","/events","routerLinkActive","active"],["routerLink","/articoli","routerLinkActive","active"],["role","banner",1,"toolbarResp"],["id","menuToggleResp"],["type","checkbox"],["id","menuResp"],["role","banner",1,"toolbarMobile"],["id","menuToggle"],["id","menu"]],template:function(t,r){1&t&&(u.YNc(0,Nk,22,1,"div",0),u.YNc(1,Fk,26,1,"div",1),u.YNc(2,Lk,26,1,"div",2)),2&t&&(u.Q6J("ngIf",r.getBrowser()),u.xp6(1),u.Q6J("ngIf",r.getBrowserResponsive()),u.xp6(1),u.Q6J("ngIf",r.getMobile()))},directives:[vi,tf,j_],styles:[".toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:200px;display:inline-grid;align-items:center;background-color:#000;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:25px auto auto}.navigation-header[_ngcontent-%COMP%]{display:inline;margin:auto}.navigation-ul[_ngcontent-%COMP%]{padding:0}.navigation-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;font-size:18px;letter-spacing:-.7px}.navigation-li[_ngcontent-%COMP%]{margin:15px}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{text-transform:none}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold);cursor:pointer}.toolbarMobile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:60px;right:60px;height:130px;width:auto}#menuToggle[_ngcontent-%COMP%]{display:block;position:relative;top:90px;width:90%;left:50px;z-index:1;-webkit-user-select:none;user-select:none}#menuToggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .3s ease}#menuToggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold)}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:40px;height:32px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2;-webkit-touch-callout:none}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:60px;height:9px;margin-bottom:15px;position:relative;background:white;border-radius:3px;z-index:1;transform-origin:0px 4px;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform-origin:0% 0%}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-last-child(2){transform-origin:0% 100%}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(-2px,-1px);background:white}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(3){opacity:0;transform:rotate(0) scale(.2)}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg) translateY(-1px)}#menu[_ngcontent-%COMP%]{width:100%;position:absolute;margin:-100px 0 0 -50px;padding:125px 50px 50px;background:black;list-style-type:none;-webkit-font-smoothing:antialiased;transform-origin:0% 0%;transform:translateY(-100%);transition:transform .5s cubic-bezier(.77,.2,.05,1)}#menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px 0;font-size:40px;letter-spacing:.14em}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ ul[_ngcontent-%COMP%]{transform:none}.toolbarResp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:45px;right:60px;height:80px;width:auto}#menuToggleResp[_ngcontent-%COMP%]{display:block;position:relative;top:70px;width:90%;left:50px;z-index:1;-webkit-user-select:none;user-select:none}#menuToggleResp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .3s ease}#menuToggleResp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold)}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:39px;height:30px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:38px;height:4px;margin-bottom:7px;position:relative;background:white;z-index:1;transform-origin:0px 4px;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform-origin:0% 0%}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-last-child(2){transform-origin:0% 100%}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(-2px,-1px);background:white}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(3){opacity:0;transform:rotate(0) scale(.2)}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg) translateY(-1px)}#menuResp[_ngcontent-%COMP%]{width:100%;position:absolute;margin:-100px 0 0 -50px;padding:125px 50px 50px;background:black;list-style-type:none;-webkit-font-smoothing:antialiased;transform-origin:0% 0%;transform:translateY(-100%);transition:transform .5s cubic-bezier(.77,.2,.05,1)}#menuResp[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px 0;font-size:17px;letter-spacing:.14em}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ ul[_ngcontent-%COMP%]{transform:none}"]}),n})();const Uk=function(n){return{"background-image":n}};let O0=(()=>{class n{constructor(){this.logo=an.LOGO_IMG,this.facebookLogo=an.FB_LOGO,this.igLogo=an.IG_LOGO}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:16,vars:5,consts:[["id","domande","role","main",1,"domande"],[1,"domande-container"],[1,"domande-element",2,"margin-left","16%"],[1,"domande-title"],[1,"domande-subtitle"],[1,"domande-text"],["href","https://www.facebook.com/Muaythai360TeamPiacente"],[2,"width","50px",3,"src"],["href","https://www.instagram.com/muaythai360sansalvo/"],[2,"width","36px","position","relative","bottom","6px","padding-left","10px",3,"src"],[1,"domande-element","domande-logo",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","26%","padding-left","11%",3,"ngStyle"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"h1",3),u._uU(4,"CONTATTI"),u.qZA(),u.TgZ(5,"p",4),u._uU(6,"Contattaci o chiamaci per avere maggiori informazioni"),u.qZA(),u.TgZ(7,"p",5),u._uU(8,"muaythai360sansalvo@gmail.it"),u._UZ(9,"br"),u._uU(10," +393460161427 | 3209799635 | 3395067102"),u.qZA(),u.TgZ(11,"a",6),u._UZ(12,"img",7),u.qZA(),u.TgZ(13,"a",8),u._UZ(14,"img",9),u.qZA(),u.qZA(),u._UZ(15,"div",10),u.qZA(),u.qZA()),2&t&&(u.xp6(12),u.s9C("src",r.facebookLogo,u.LSH),u.xp6(2),u.s9C("src",r.igLogo,u.LSH),u.xp6(1),u.Q6J("ngStyle",u.VKq(3,Uk,"url("+r.logo+")")))},directives:[Bi],styles:[".domande[_ngcontent-%COMP%]{position:relative;top:500px;left:0;right:0;height:330px}.domande-container[_ngcontent-%COMP%]{display:flex}.domande-element[_ngcontent-%COMP%]{width:33%}.domande-title[_ngcontent-%COMP%]{line-height:normal;font-size:40px;color:var(--gold);letter-spacing:.4em}.domande-subtitle[_ngcontent-%COMP%]{line-height:1.3em;font-size:26px;color:#fff;letter-spacing:normal;width:60%;padding-top:50px}.domande-text[_ngcontent-%COMP%]{font-size:18px;color:#fff;letter-spacing:normal;padding-top:20px;line-height:30px}.domande-input-1[_ngcontent-%COMP%]{background-color:#000;width:90%;margin-left:40px;border:2px solid white;height:33px;margin-bottom:6px;font-size:17px;color:#fff}.domande-input-2[_ngcontent-%COMP%]{background-color:#000;width:90%;margin-left:40px;border:2px solid white;height:133px;font-size:17px;margin-bottom:6px;color:#fff}.domande-submit[_ngcontent-%COMP%]{background-color:var(--gold);width:30%;float:right;border:2px solid var(--gold);height:33px;font-size:18px;margin-bottom:6px;color:#000}@media screen and (max-device-width: 992px){.domande-title[_ngcontent-%COMP%]{font-size:45px}.domande-subtitle[_ngcontent-%COMP%]{font-size:32px}.domande-text[_ngcontent-%COMP%]{font-size:20px}.domande-logo[_ngcontent-%COMP%]{background-size:35%!important;padding-left:150px!important;margin-top:-60px}}@media screen and (max-width: 762px){.domande[_ngcontent-%COMP%]{top:600px}}"]}),n})();function s(n){return Array.isArray(n)?n:[n]}function a(n){return null==n?"":"string"==typeof n?n:`${n}px`}function c(n){return n instanceof u.SBq?n.nativeElement:n}var f=F(9105);function v(n,e,t,r){return(0,f.m)(t)&&(r=t,t=void 0),r?v(n,e,t).pipe((0,ot.U)(o=>(0,_c.k)(o)?r(...o):r(o))):new vn.y(o=>{w(n,e,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,t)})}function w(n,e,t,r,o){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(e,t,o),l=()=>h.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(e,t),l=()=>h.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(e,t),l=()=>h.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,m=n.length;h<m;h++)w(n[h],e,t,r,o)}r.add(l)}var N=F(6465),Y=F(6102);new class extends Y.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,o=-1,l=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++o<l&&(e=t.shift()));if(this.active=!1,r){for(;++o<l&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends N.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});F(4581);class jt{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Nr(e,this.durationSelector))}}class Nr extends Ti.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:o}=this;t=o(e)}catch(o){return this.destination.error(o)}const r=(0,Ti.ft)(t,new Ti.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var qs=F(6561);function yp(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function _u(n,e=z_.P){return function(n){return function(t){return t.lift(new jt(n))}}(()=>function(n=0,e,t){let r=-1;return(0,qs.k)(e)?r=Number(e)<1?1:Number(e):(0,Ms.K)(e)&&(t=e),(0,Ms.K)(t)||(t=z_.P),new vn.y(o=>{const l=(0,qs.k)(n)?n:+n-t.now();return t.schedule(yp,l,{index:0,period:r,subscriber:o})})}(n,e))}function Ka(n){return e=>e.lift(new k0(n))}class k0{constructor(e){this.notifier=e}call(e,t){const r=new P0(e),o=(0,Ti.ft)(this.notifier,new Ti.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class P0 extends Ti.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Vm;try{Vm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Vm=!1}let N0,Bm,sR,Jc,tr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.Lbi))},token:n,providedIn:"root"}),n})(),vp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function iR(n){return function(){if(null==N0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>N0=!0}))}finally{N0=N0||!1}return N0}()?n:!!n.capture}function Bk(){if(null==Bm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Bm=!1,Bm;if("scrollBehavior"in document.documentElement.style)Bm=!0;else{const n=Element.prototype.scrollTo;Bm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Bm}function dS(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function jm(n){return n.composedPath?n.composedPath()[0]:n.target}function oR(){return void 0!==Jc.__karma__&&!!Jc.__karma__||void 0!==Jc.jasmine&&!!Jc.jasmine||void 0!==Jc.jest&&!!Jc.jest||void 0!==Jc.Mocha&&!!Jc.Mocha}Jc="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};const jk=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,u.f3M)(re)}});let Hm=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const o=t.documentElement?t.documentElement.dir:null,l=(t.body?t.body.dir:null)||o;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jk,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(jk,8))},token:n,providedIn:"root"}),n})(),L0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),hS=(()=>{class n{constructor(t,r,o){this._ngZone=t,this._platform=r,this._scrolled=new St.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new vn.y(r=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(_u(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ve.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const o=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ar(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,t)&&r.push(l)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let o=c(r),l=t.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>v(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(tr),u.LFG(re,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(tr),u.LFG(re,8))},token:n,providedIn:"root"}),n})(),U0=(()=>{class n{constructor(t,r,o){this._platform=t,this._change=new St.xQ,this._changeListener=l=>{this._change.next(l)},this._document=o,r.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),o=t.documentElement,l=o.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||r.scrollY||o.scrollTop||0,left:-l.left||t.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(_u(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tr),u.LFG(u.R0b),u.LFG(re,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(tr),u.LFG(u.R0b),u.LFG(re,8))},token:n,providedIn:"root"}),n})(),qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Zk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[L0,vp,qk],L0,qk]}),n})();class aR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class cR extends aR{constructor(e,t,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=o}}class fS extends aR{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class PN extends aR{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class lR{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof cR?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof fS?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof PN?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class NN extends lR{constructor(e,t,r,o,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=h=>{const m=h.element,b=this._document.createComment("dom-portal");m.parentNode.insertBefore(b,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(m,b)})},this._document=l}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let o;return e.viewContainerRef?(o=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=r.create(e.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=e,o}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(r);-1!==o&&t.remove(o)}),this._attachedPortal=e,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let pS=(()=>{class n extends lR{constructor(t,r,o){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(m,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=o}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,l=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),h=r.createComponent(l,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=t,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(re))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Qk=Bk();class qN{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=a(-this._previousScrollPosition.left),e.style.top=a(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,o=this._document.body.style,l=r.scrollBehavior||"",h=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Qk&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Qk&&(r.scrollBehavior=l,o.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class ZN{constructor(e,t,r,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Jk{enable(){}disable(){}attach(){}}function dR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Xk(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class WN{constructor(e,t,r,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();dR(t,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let KN=(()=>{class n{constructor(t,r,o,l){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Jk,this.close=h=>new ZN(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new qN(this._viewportRuler,this._document),this.reposition=h=>new WN(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hS),u.LFG(U0),u.LFG(u.R0b),u.LFG(re))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(hS),u.LFG(U0),u.LFG(u.R0b),u.LFG(re))},token:n,providedIn:"root"}),n})();class hR{constructor(e){if(this.scrollStrategy=new Jk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class YN{constructor(e,t,r,o,l){this.offsetX=r,this.offsetY=o,this.panelClass=l,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class QN{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let eP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(re))},token:n,providedIn:"root"}),n})(),JN=(()=>{class n extends eP{constructor(t){super(t),this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){o[l]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(re))},token:n,providedIn:"root"}),n})(),XN=(()=>{class n extends eP{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=jm(o)},this._clickListener=o=>{const l=jm(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let b=m.length-1;b>-1;b--){const C=m[b];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(l)||C.overlayElement.contains(h))break;C._outsidePointerEvents.next(o)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(tr))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(re),u.LFG(tr))},token:n,providedIn:"root"}),n})(),V0=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||oR()){const o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].parentNode.removeChild(o[l])}const r=this._document.createElement("div");r.classList.add(t),oR()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(tr))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(re),u.LFG(tr))},token:n,providedIn:"root"}),n})();class eF{constructor(e,t,r,o,l,h,m,b,C){this._portalOutlet=e,this._host=t,this._pane=r,this._config=o,this._ngZone=l,this._keyboardDispatcher=h,this._document=m,this._location=b,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new St.xQ,this._attachments=new St.xQ,this._detachments=new St.xQ,this._locationChanges=qi.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new St.xQ,this._outsidePointerEvents=new St.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(co(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=a(this._config.width),e.height=a(this._config.height),e.minWidth=a(this._config.minWidth),e.minHeight=a(this._config.minHeight),e.maxWidth=a(this._config.maxWidth),e.maxHeight=a(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const o=e.classList;s(t).forEach(l=>{l&&(r?o.add(l):o.remove(l))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ka((0,Tv.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const tP="cdk-overlay-connected-position-bounding-box",tF=/([A-Za-z%]+)$/;class nP{constructor(e,t,r,o,l){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new St.xQ,this._resizeSubscription=qi.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(tP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,o=[];let l;for(let h of this._preferredPositions){let m=this._getOriginPoint(e,h),b=this._getOverlayPoint(m,t,h),C=this._getOverlayFit(b,t,r,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(C,b,r)?o.push({position:h,origin:m,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!l||l.overlayFit.visibleArea<C.visibleArea)&&(l={overlayFit:C,overlayPoint:b,originPoint:m,position:h,overlayRect:t})}if(o.length){let h=null,m=-1;for(const b of o){const C=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);C>m&&(m=C,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$m(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,o;if("center"==t.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==t.originX?l:h}return o="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:o}}_getOverlayPoint(e,t,r){let o,l;return o="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+o,y:e.y+l}}_getOverlayFit(e,t,r,o){const l=iP(t);let{x:h,y:m}=e,b=this._getOffset(o,"x"),C=this._getOffset(o,"y");b&&(h+=b),C&&(m+=C);let H=0-m,z=m+l.height-r.height,J=this._subtractOverflows(l.width,0-h,h+l.width-r.width),me=this._subtractOverflows(l.height,H,z),Ae=J*me;return{visibleArea:Ae,isCompletelyWithinViewport:l.width*l.height===Ae,fitsInViewportVertically:me===l.height,fitsInViewportHorizontally:J==l.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const o=r.bottom-t.y,l=r.right-t.x,h=rP(this._overlayRef.getConfig().minHeight),m=rP(this._overlayRef.getConfig().minWidth),C=e.fitsInViewportHorizontally||null!=m&&m<=l;return(e.fitsInViewportVertically||null!=h&&h<=o)&&C}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const o=iP(t),l=this._viewportRect,h=Math.max(e.x+o.width-l.width,0),m=Math.max(e.y+o.height-l.height,0),b=Math.max(l.top-r.top-e.y,0),C=Math.max(l.left-r.left-e.x,0);let M=0,O=0;return M=o.width<=l.width?C||-h:e.x<this._viewportMargin?l.left-r.left-e.x:0,O=o.height<=l.height?b||-m:e.y<this._viewportMargin?l.top-r.top-e.y:0,this._previousPushAmount={x:M,y:O},{x:e.x+M,y:e.y+O}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),o=new QN(e,r);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,o=this._isRtl();let l,h,m,M,O,H;if("top"===t.overlayY)h=e.y,l=r.height-h+this._viewportMargin;else if("bottom"===t.overlayY)m=r.height-e.y+2*this._viewportMargin,l=r.height-m+this._viewportMargin;else{const z=Math.min(r.bottom-e.y+r.top,e.y),J=this._lastBoundingBoxSize.height;l=2*z,h=e.y-z,l>J&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.y-J/2)}if("end"===t.overlayX&&!o||"start"===t.overlayX&&o)H=r.width-e.x+this._viewportMargin,M=e.x-this._viewportMargin;else if("start"===t.overlayX&&!o||"end"===t.overlayX&&o)O=e.x,M=r.right-e.x;else{const z=Math.min(r.right-e.x+r.left,e.x),J=this._lastBoundingBoxSize.width;M=2*z,O=e.x-z,M>J&&!this._isInitialRender&&!this._growAfterOpen&&(O=e.x-J/2)}return{top:h,left:O,bottom:m,right:H,width:M,height:l}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;o.height=a(r.height),o.top=a(r.top),o.bottom=a(r.bottom),o.width=a(r.width),o.left=a(r.left),o.right=a(r.right),o.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",o.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=a(l)),h&&(o.maxWidth=a(h))}this._lastBoundingBoxSize=r,$m(this._boundingBox.style,o)}_resetBoundingBoxStyles(){$m(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$m(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(o){const M=this._viewportRuler.getViewportScrollPosition();$m(r,this._getExactOverlayY(t,e,M)),$m(r,this._getExactOverlayX(t,e,M))}else r.position="static";let m="",b=this._getOffset(t,"x"),C=this._getOffset(t,"y");b&&(m+=`translateX(${b}px) `),C&&(m+=`translateY(${C}px)`),r.transform=m.trim(),h.maxHeight&&(o?r.maxHeight=a(h.maxHeight):l&&(r.maxHeight="")),h.maxWidth&&(o?r.maxWidth=a(h.maxWidth):l&&(r.maxWidth="")),$m(this._pane.style,r)}_getExactOverlayY(e,t,r){let o={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===e.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=a(l.y),o}_getExactOverlayX(e,t,r){let h,o={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),h=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===h?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=a(l.x),o}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Xk(e,r),isOriginOutsideView:dR(e,r),isOverlayClipped:Xk(t,r),isOverlayOutsideView:dR(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,o)=>r-Math.max(o,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&s(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function $m(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function rP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(tF);return t&&"px"!==t?null:parseFloat(e)}return n||null}function iP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class nF{constructor(e,t,r,o,l,h,m){this._preferredPositions=[],this._positionStrategy=new nP(r,o,l,h,m).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,r,o){const l=new YN(e,t,r,o);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const sP="cdk-global-overlay-wrapper";class rF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(sP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:h,maxHeight:m}=r,b=!("100%"!==o&&"100vw"!==o||h&&"100%"!==h&&"100vw"!==h),C=!("100%"!==l&&"100vh"!==l||m&&"100%"!==m&&"100vh"!==m);e.position=this._cssPosition,e.marginLeft=b?"0":this._leftOffset,e.marginTop=C?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,b?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(sP),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let iF=(()=>{class n{constructor(t,r,o,l){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=l}global(){return new rF}connectedTo(t,r,o){return new nF(r,o,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new nP(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(U0),u.LFG(re),u.LFG(tr),u.LFG(V0))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(U0),u.LFG(re),u.LFG(tr),u.LFG(V0))},token:n,providedIn:"root"}),n})(),sF=0,Bv=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M,O,H){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=m,this._ngZone=b,this._document=C,this._directionality=M,this._location=O,this._outsideClickDispatcher=H}create(t){const r=this._createHostElement(),o=this._createPaneElement(r),l=this._createPortalOutlet(o),h=new hR(t);return h.direction=h.direction||this._directionality.value,new eF(l,r,o,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+sF++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new NN(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(KN),u.LFG(V0),u.LFG(u._Vd),u.LFG(iF),u.LFG(JN),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(re),u.LFG(Hm),u.LFG(Rt),u.LFG(XN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const cF={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Bv],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let lF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Bv,cF],imports:[[L0,Kk,Zk],Zk]}),n})();class dF{constructor(e){this.total=e}call(e,t){return t.subscribe(new hF(e,this.total))}}class hF extends dn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let uP=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===hP(r)||!this.isVisible(r)))return!1;let o=t.nodeName.toLowerCase(),l=hP(t);return t.hasAttribute("contenteditable")?-1!==l:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===o?!!t.hasAttribute("controls")&&-1!==l:"video"===o?-1!==l&&(null!==l||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||dP(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tr))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(tr))},token:n,providedIn:"root"}),n})();function dP(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function hP(n){if(!dP(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class MF{constructor(e,t,r,o,l=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let o=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(o)return o}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let o=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(o)return o}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(co(1)).subscribe(e)}}let fP=(()=>{class n{constructor(t,r,o){this._checker=t,this._ngZone=r,this._document=o}create(t,r=!1){return new MF(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uP),u.LFG(u.R0b),u.LFG(re))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(uP),u.LFG(u.R0b),u.LFG(re))},token:n,providedIn:"root"}),n})();"undefined"!=typeof Element&&Element;const mP=new u.OlP("cdk-input-modality-detector-options"),NF={ignoreKeys:[18,17,224,91,16]},jv=iR({passive:!0,capture:!0});let yP=(()=>{class n{constructor(t,r,o,l){this._platform=t,this._mostRecentTarget=null,this._modality=new Sr(null),this._lastTouchMs=0,this._onKeydown=h=>{var m,b;(null===(b=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===b?void 0:b.some(C=>C===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=jm(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(n){return 0===n.offsetX&&0===n.offsetY}(h)?"keyboard":"mouse"),this._mostRecentTarget=jm(h))},this._onTouchstart=h=>{!function(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(h)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=jm(h)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},NF),l),this.modalityDetected=this._modality.pipe(e=>e.lift(new dF(1))),this.modalityChanged=this.modalityDetected.pipe(q_()),t.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,jv),o.addEventListener("mousedown",this._onMousedown,jv),o.addEventListener("touchstart",this._onTouchstart,jv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jv),document.removeEventListener("mousedown",this._onMousedown,jv),document.removeEventListener("touchstart",this._onTouchstart,jv))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tr),u.LFG(u.R0b),u.LFG(re),u.LFG(mP,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(tr),u.LFG(u.R0b),u.LFG(re),u.LFG(mP,8))},token:n,providedIn:"root"}),n})();const EP=new u.OlP("cdk-focus-monitor-default-options"),gS=iR({passive:!0,capture:!0});let wP=(()=>{class n{constructor(t,r,o,l,h){this._ngZone=t,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new St.xQ,this._rootNodeFocusAndBlurListener=m=>{const b=jm(m),C="focus"===m.type?this._onFocus:this._onBlur;for(let M=b;M;M=M.parentElement)C.call(this,m,M)},this._document=l,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(t,r=!1){const o=c(t);if(!this._platform.isBrowser||1!==o.nodeType)return(0,Ve.of)(null);const l=function(n){if(function(){if(null==sR){const n="undefined"!=typeof document?document.head:null;sR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sR}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return r&&(h.checkChildren=!0),h.subject;const m={checkChildren:r,subject:new St.xQ,rootNode:l};return this._elementInfo.set(o,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const r=c(t),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(t,r,o){const l=c(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([m,b])=>this._originChanged(m,r,b)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,r,o){o?t.classList.add(r):t.classList.remove(r)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){this._toggleClass(t,"cdk-focused",!!r),this._toggleClass(t,"cdk-touch-focused","touch"===r),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(t,"cdk-mouse-focused","mouse"===r),this._toggleClass(t,"cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const o=this._elementInfo.get(r),l=jm(t);!o||!o.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),o)}_onBlur(t,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(o.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,gS),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,gS)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ka(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gS),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gS),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,o){this._setClasses(t,r),this._emitOrigin(o.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((o,l)=>{(l===t||o.checkChildren&&l.contains(t))&&r.push([l,o])}),r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(tr),u.LFG(yP),u.LFG(re,8),u.LFG(EP,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(tr),u.LFG(yP),u.LFG(re,8),u.LFG(EP,8))},token:n,providedIn:"root"}),n})();const CP="cdk-high-contrast-black-on-white",IP="cdk-high-contrast-white-on-black",pR="cdk-high-contrast-active";let TP=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(pR),t.remove(CP),t.remove(IP),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(pR),t.add(CP)):2===r&&(t.add(pR),t.add(IP))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tr),u.LFG(re))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(tr),u.LFG(re))},token:n,providedIn:"root"}),n})();const DP=new u.GfV("12.2.12");class SP{}const oh="*";function VF(n,e){return{type:7,name:n,definitions:e,options:{}}}function AP(n,e=null){return{type:4,styles:e,timings:n}}function xP(n,e=null){return{type:2,steps:n,options:e}}function Hv(n){return{type:6,styles:n,offset:null}}function MP(n,e,t){return{type:0,name:n,styles:e,options:t}}function RP(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function OP(n){Promise.resolve(null).then(n)}class $v{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){OP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class kP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const l=this.players.length;0==l?OP(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function PP(){return"undefined"!=typeof window&&void 0!==window.document}function mR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function bp(n){switch(n.length){case 0:return new $v;case 1:return n[0];default:return new kP(n)}}function NP(n,e,t,r,o={},l={}){const h=[],m=[];let b=-1,C=null;if(r.forEach(M=>{const O=M.offset,H=O==b,z=H&&C||{};Object.keys(M).forEach(J=>{let me=J,Ae=M[J];if("offset"!==J)switch(me=e.normalizePropertyName(me,h),Ae){case"!":Ae=o[J];break;case oh:Ae=l[J];break;default:Ae=e.normalizeStyleValue(J,me,Ae,h)}z[me]=Ae}),H||m.push(z),C=z,b=O}),h.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${h.join(M)}`)}return m}function _R(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&yR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&yR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&yR(t,"destroy",n)))}}function yR(n,e,t){const r=t.totalTime,l=vR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function vR(n,e,t,r,o="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:l,disabled:!!h}}function ra(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function FP(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let bR=(n,e)=>!1,ER=(n,e)=>!1,LP=(n,e,t)=>[];const UP=mR();(UP||"undefined"!=typeof Element)&&(bR=PP()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),ER=(()=>{if(UP||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):ER}})(),LP=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let l=0;l<o.length;l++)r.push(o[l])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let zm=null,VP=!1;function wR(n){zm||(zm=("undefined"!=typeof document?document.body:null)||{},VP=!!zm.style&&"WebkitAppearance"in zm.style);let e=!0;return zm.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in zm.style,!e&&VP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in zm.style)),e}const CR=ER,IR=bR,TR=LP;function BP(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let jP=(()=>{class n{validateStyleProperty(t){return wR(t)}matchesElement(t,r){return CR(t,r)}containsElement(t,r){return IR(t,r)}query(t,r,o){return TR(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,l,h,m=[],b){return new $v(o,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),DR=(()=>{class n{}return n.NOOP=new jP,n})();const SR="ng-enter",mS="ng-leave",_S="ng-trigger",yS=".ng-trigger",$P="ng-animating",AR=".ng-animating";function Gm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:xR(parseFloat(e[1]),e[2])}function xR(n,e){switch(e){case"s":return 1e3*n;default:return n}}function vS(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,l=0,h="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=xR(parseFloat(m[1]),m[2]);const b=m[3];null!=b&&(l=xR(parseFloat(b),m[4]));const C=m[5];C&&(h=C)}else o=n;if(!t){let m=!1,b=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),m=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&e.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:l,easing:h}}(n,e,t)}function zv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ep(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else zv(n,t);return t}function GP(n,e,t){return t?e+":"+t+";":""}function qP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=GP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=GP(0,ZF(t),n.style[t]));n.setAttribute("style",e)}function yu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=RR(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),mR()&&qP(n))}function qm(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=RR(t);n.style[r]=""}),mR()&&qP(n))}function B0(n){return Array.isArray(n)?1==n.length?n[0]:xP(n):n}const MR=new RegExp("{{\\s*(.+?)\\s*}}","g");function ZP(n){let e=[];if("string"==typeof n){let t;for(;t=MR.exec(n);)e.push(t[1]);MR.lastIndex=0}return e}function bS(n,e,t){const r=n.toString(),o=r.replace(MR,(l,h)=>{let m=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),m=""),m.toString()});return o==r?n:o}function ES(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const qF=/-+([a-z0-9])/g;function RR(n){return n.replace(qF,(...e)=>e[1].toUpperCase())}function ZF(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function WP(n,e){return 0===n||0===e}function KP(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(m=>{l.hasOwnProperty(m)||h.push(m),l[m]=t[m]}),h.length)for(var o=1;o<e.length;o++){let m=e[o];h.forEach(function(b){m[b]=OR(n,b)})}}return e}function ia(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function OR(n,e){return window.getComputedStyle(n)[e]}function WF(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const b=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof b)return void e.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],l=r[2],h=r[3];e.push(YP(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&e.push(YP(h,o))}(r,t,e)):t.push(n),t}const CS=new Set(["true","1"]),IS=new Set(["false","0"]);function YP(n,e){const t=CS.has(n)||IS.has(n),r=CS.has(e)||IS.has(e);return(o,l)=>{let h="*"==n||n==o,m="*"==e||e==l;return!h&&t&&"boolean"==typeof o&&(h=o?CS.has(n):IS.has(n)),!m&&r&&"boolean"==typeof l&&(m=l?CS.has(e):IS.has(e)),h&&m}}const QF=new RegExp("s*:selfs*,?","g");function kR(n,e,t){return new JF(n).build(e,t)}class JF{constructor(e){this._driver=e}build(e,t){const r=new tL(t);return this._resetContextStyleTimingState(r),ia(this,B0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const b=m,C=b.name;C.toString().split(/\s*,\s*/).forEach(M=>{b.name=M,l.push(this.visitState(b,t))}),b.name=C}else if(1==m.type){const b=this.visitTransition(m,t);r+=b.queryCount,o+=b.depCount,h.push(b)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=o||{};if(r.styles.forEach(m=>{if(TS(m)){const b=m;Object.keys(b).forEach(C=>{ZP(b[C]).forEach(M=>{h.hasOwnProperty(M)||l.add(M)})})}}),l.size){const m=ES(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ia(this,B0(e.animation),t);return{type:1,matchers:WF(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Zm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ia(this,r,t)),options:Zm(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const l=e.steps.map(h=>{t.currentTime=r;const m=ia(this,h,t);return o=Math.max(o,t.currentTime),m});return t.currentTime=o,{type:3,steps:l,options:Zm(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return PR(vS(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=PR(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||vS(r,e),PR(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,l=e.styles?e.styles:Hv({});if(5==l.type)o=this.visitKeyframes(l,t);else{let h=e.styles,m=!1;if(!h){m=!0;const C={};r.easing&&(C.easing=r.easing),h=Hv(C)}t.currentTime+=r.duration+r.delay;const b=this.visitStyle(h,t);b.isEmptyStep=m,o=b}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==oh?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let o=!1,l=null;return r.forEach(h=>{if(TS(h)){const m=h,b=m.easing;if(b&&(l=b,delete m.easing),!o)for(let C in m)if(m[C].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const b=t.collectedStyles[t.currentQuerySelector],C=b[m];let M=!0;C&&(l!=o&&l>=C.startTime&&o<=C.endTime&&(t.errors.push(`The CSS property "${m}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${o}ms"`),M=!1),l=C.startTime),M&&(b[m]={startTime:l,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=ZP(n);o.length&&o.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let m=!1,b=!1,C=0;const M=e.steps.map(He=>{const Xe=this._makeStyleAst(He,t);let Mt=null!=Xe.offset?Xe.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(TS(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(TS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Xe.styles),it=0;return null!=Mt&&(l++,it=Xe.offset=Mt),b=b||it<0||it>1,m=m||it<C,C=it,h.push(it),Xe});b&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&t.errors.push("Please ensure that all keyframe offsets are in order");const O=e.steps.length;let H=0;l>0&&l<O?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(H=1/(O-1));const z=O-1,J=t.currentTime,me=t.currentAnimateTimings,Ae=me.duration;return M.forEach((He,Xe)=>{const Mt=H>0?Xe==z?1:H*Xe:h[Xe],it=Mt*Ae;t.currentTime=J+me.delay+it,me.duration=it,this._validateStyleAst(He,t),He.offset=Mt,r.styles.push(He)}),r}visitReference(e,t){return{type:8,animation:ia(this,B0(e.animation),t),options:Zm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Zm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Zm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(QF,"")),[n=n.replace(/@\*/g,yS).replace(/@\w+/g,t=>yS+"-"+t.substr(1)).replace(/:animating/g,AR),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,ra(t.collectedStyles,t.currentQuerySelector,{});const m=ia(this,B0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:m,originalSelector:e.selector,options:Zm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:vS(e.timings,t.errors,!0);return{type:12,animation:ia(this,B0(e.animation),t),timings:r,options:null}}}class tL{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function TS(n){return!Array.isArray(n)&&"object"==typeof n}function Zm(n){return n?(n=zv(n)).params&&(n.params=function(n){return n?zv(n):null}(n.params)):n={},n}function PR(n,e,t){return{duration:n,delay:e,easing:t}}function NR(n,e,t,r,o,l,h=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:m}}class DS{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const oL=new RegExp(":enter","g"),cL=new RegExp(":leave","g");function FR(n,e,t,r,o,l={},h={},m,b,C=[]){return(new lL).buildKeyframes(n,e,t,r,o,l,h,m,b,C)}class lL{buildKeyframes(e,t,r,o,l,h,m,b,C,M=[]){C=C||new DS;const O=new LR(e,t,C,o,l,M,[]);O.options=b,O.currentTimeline.setStyles([h],null,O.errors,b),ia(this,r,O);const H=O.timelines.filter(z=>z.containsAnimation());if(H.length&&Object.keys(m).length){const z=H[H.length-1];z.allowOnlyTimelineStyles()||z.setStyles([m],null,O.errors,b)}return H.length?H.map(z=>z.buildKeyframes()):[NR(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?Gm(r.duration):null,m=null!=r.delay?Gm(r.delay):null;return 0!==h&&e.forEach(b=>{const C=t.appendInstructionToTimeline(b,h,m);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),ia(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const l=e.options;if(l&&(l.params||l.delay)&&(o=t.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=SS);const h=Gm(l.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>ia(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Gm(e.options.delay):0;e.steps.forEach(h=>{const m=t.createSubContext(e.options);l&&m.delayNextStep(l),ia(this,h,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return vS(t.params?bS(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,l=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(b=>{m.forwardTime((b.offset||0)*l),m.setStyles(b.styles,b.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(o+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},l=o.delay?Gm(o.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=SS);let h=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=m.length;let b=null;m.forEach((C,M)=>{t.currentQueryIndex=M;const O=t.createSubContext(e.options,C);l&&O.delayNextStep(l),C===t.element&&(b=O.currentTimeline),ia(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),m=h*(t.currentQueryTotal-1);let b=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":b=m-b;break;case"full":b=r.currentStaggerTime}const M=t.currentTimeline;b&&M.delayNextStep(b);const O=M.currentTime;ia(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-O+(o.startTime-r.currentTimeline.startTime)}}const SS={};class LR{constructor(e,t,r,o,l,h,m,b){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=SS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new AS(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Gm(r.duration)),null!=r.delay&&(o.delay=Gm(r.delay));const l=r.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(m=>{(!t||!h.hasOwnProperty(m))&&(h[m]=bS(l[m],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,l=new LR(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=SS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new uL(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,l,h){let m=[];if(o&&m.push(this.element),e.length>0){e=(e=e.replace(oL,"."+this._enterClassName)).replace(cL,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),m.push(...C)}return!l&&0==m.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),m}}class AS{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new AS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||oh,this._currentKeyframe[t]=oh}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const l=o&&o.params||{},h=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(l=>{t[l]=oh})):Ep(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const b=bS(h[m],l,r);this._pendingStyles[m]=b,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:oh),this._updateStyle(m,b)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,b)=>{const C=Ep(m,!0);Object.keys(C).forEach(M=>{const O=C[M];"!"==O?e.add(M):O==oh&&t.add(M)}),r||(C.offset=b/this.duration),o.push(C)});const l=e.size?ES(e.values()):[],h=t.size?ES(t.values()):[];if(r){const m=o[0],b=zv(m);m.offset=0,b.offset=1,o=[m,b]}return NR(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class uL extends AS{constructor(e,t,r,o,l,h,m=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,m=t/h,b=Ep(e[0],!1);b.offset=0,l.push(b);const C=Ep(e[0],!1);C.offset=XP(m),l.push(C);const M=e.length-1;for(let O=1;O<=M;O++){let H=Ep(e[O],!1);H.offset=XP((t+H.offset*r)/h),l.push(H)}r=h,t=0,o="",e=l}return NR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function XP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class UR{}class hL extends UR{normalizePropertyName(e,t){return RR(e)}normalizeStyleValue(e,t,r,o){let l="";const h=r.toString().trim();if(fL[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const fL=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function e1(n,e,t,r,o,l,h,m,b,C,M,O,H){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:m,queriedElements:b,preStyleProps:C,postStyleProps:M,totalTime:O,errors:H}}const VR={};class t1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(l=>l(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],l=this._stateStyles[e],h=o?o.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,o,l,h,m,b,C,M){const O=[],H=this.ast.options&&this.ast.options.params||VR,J=this.buildStyles(r,m&&m.params||VR,O),me=b&&b.params||VR,Ae=this.buildStyles(o,me,O),He=new Set,Xe=new Map,Mt=new Map,it="void"===o,yn={params:Object.assign(Object.assign({},H),me)},vr=M?[]:FR(e,t,this.ast.animation,l,h,J,Ae,yn,C,O);let Jr=0;if(vr.forEach(lh=>{Jr=Math.max(lh.duration+lh.delay,Jr)}),O.length)return e1(t,this._triggerName,r,o,it,J,Ae,[],[],Xe,Mt,Jr,O);vr.forEach(lh=>{const uh=lh.element,cN=ra(Xe,uh,{});lh.preStyleProps.forEach(Ym=>cN[Ym]=!0);const Z0=ra(Mt,uh,{});lh.postStyleProps.forEach(Ym=>Z0[Ym]=!0),uh!==t&&He.add(uh)});const ch=ES(He.values());return e1(t,this._triggerName,r,o,it,J,Ae,vr,ch,Xe,Mt,Jr)}}class mL{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=zv(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(o[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(m=>{let b=h[m];b.length>1&&(b=bS(b,o,t));const C=this.normalizer.normalizePropertyName(m,t);b=this.normalizer.normalizeStyleValue(m,C,b,t),r[C]=b})}}),r}}class yL{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new mL(o.style,o.options&&o.options.params||{},r)}),n1(this.states,"true","1"),n1(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new t1(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new t1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(h=>h.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function n1(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const bL=new DS;class EL{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=kR(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,l=NP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],l=this._animations[e];let h;const m=new Map;if(l?(h=FR(this._driver,t,l,SR,mS,{},{},r,bL,o),h.forEach(M=>{const O=ra(m,M.element,{});M.postStyleProps.forEach(H=>O[H]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),h=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);m.forEach((M,O)=>{Object.keys(M).forEach(H=>{M[H]=this._driver.computeStyle(O,H,oh)})});const C=bp(h.map(M=>{const O=m.get(M.element);return this._buildPlayer(M,{},O)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const l=vR(t,"","","");return _R(this._getPlayer(e),r,l,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const r1="ng-animate-queued",i1="ng-animate-disabled",s1=".ng-animate-disabled",TL=[],o1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ya="__ng_removed";class BR{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const l=zv(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const j0="void",jR=new BR(j0);class SL{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qa(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const l=ra(this._elementListeners,e,[]),h={name:t,phase:r,callback:o};l.push(h);const m=ra(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(Qa(e,_S),Qa(e,_S+"-"+t),m[t]=jR),()=>{this._engine.afterFlush(()=>{const b=l.indexOf(h);b>=0&&l.splice(b,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const l=this._getTrigger(t),h=new HR(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Qa(e,_S),Qa(e,_S+"-"+t),this._engine.statesByElement.set(e,m={}));let b=m[t];const C=new BR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&C.absorbOptions(b.options),m[t]=C,b||(b=jR),C.value!==j0&&b.value===C.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const l=t[o];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(b.params,C.params)){const me=[],Ae=l.matchStyles(b.value,b.params,me),He=l.matchStyles(C.value,C.params,me);me.length?this._engine.reportError(me):this._engine.afterFlush(()=>{qm(e,Ae),yu(e,He)})}return}const H=ra(this._engine.playersByElement,e,[]);H.forEach(me=>{me.namespaceId==this.id&&me.triggerName==t&&me.queued&&me.destroy()});let z=l.matchTransition(b.value,C.value,e,C.params),J=!1;if(!z){if(!o)return;z=l.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:z,fromState:b,toState:C,player:h,isFallbackTransition:J}),J||(Qa(e,r1),h.onStart(()=>{Gv(e,r1)})),h.onDone(()=>{let me=this.players.indexOf(h);me>=0&&this.players.splice(me,1);const Ae=this._engine.playersByElement.get(e);if(Ae){let He=Ae.indexOf(h);He>=0&&Ae.splice(He,1)}}),this.players.push(h),H.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,yS,!0);r.forEach(o=>{if(o[Ya])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(m=>{if(this._triggers[m]){const b=this.trigger(e,m,j0,o);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&bp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const b=this._triggers[h].fallbackTransition,C=r[h]||jR,M=new BR(j0),O=new HR(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:b,fromState:C,toState:M,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Ya];(!l||l===o1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Qa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(m=>{if(m.name==r.triggerName){const b=vR(l,r.triggerName,r.fromState.value,r.toState.value);b._data=e,_R(r.player,m.phase,b,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const l=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class AL{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new SL(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let l=0;l<o.length;l++){const h=r[o[l]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&t.add(m)}}}return t}trigger(e,t,r,o){if(xS(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!xS(t))return;const l=t[Ya];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qa(e,i1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Gv(e,i1))}removeNode(e,t,r,o){if(xS(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[Ya]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,l){return xS(t)?this._fetchNamespace(e).listen(t,r,o,l):()=>{}}_buildInstruction(e,t,r,o,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,yS,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,AR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return bp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ya];if(t&&t.setForRemoval){if(e[Ya]=o1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,s1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,s1,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Qa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?bp(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new DS,o=[],l=new Map,h=[],m=new Map,b=new Map,C=new Map,M=new Set;this.disabledNodes.forEach(Qe=>{M.add(Qe);const lt=this.driver.query(Qe,".ng-animate-queued",!0);for(let Dt=0;Dt<lt.length;Dt++)M.add(lt[Dt])});const O=this.bodyNode,H=Array.from(this.statesByElement.keys()),z=l1(H,this.collectedEnterElements),J=new Map;let me=0;z.forEach((Qe,lt)=>{const Dt=SR+me++;J.set(lt,Dt),Qe.forEach(ln=>Qa(ln,Dt))});const Ae=[],He=new Set,Xe=new Set;for(let Qe=0;Qe<this.collectedLeaveElements.length;Qe++){const lt=this.collectedLeaveElements[Qe],Dt=lt[Ya];Dt&&Dt.setForRemoval&&(Ae.push(lt),He.add(lt),Dt.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(ln=>He.add(ln)):Xe.add(lt))}const Mt=new Map,it=l1(H,Array.from(He));it.forEach((Qe,lt)=>{const Dt=mS+me++;Mt.set(lt,Dt),Qe.forEach(ln=>Qa(ln,Dt))}),e.push(()=>{z.forEach((Qe,lt)=>{const Dt=J.get(lt);Qe.forEach(ln=>Gv(ln,Dt))}),it.forEach((Qe,lt)=>{const Dt=Mt.get(lt);Qe.forEach(ln=>Gv(ln,Dt))}),Ae.forEach(Qe=>{this.processLeaveNode(Qe)})});const yn=[],vr=[];for(let Qe=this._namespaceList.length-1;Qe>=0;Qe--)this._namespaceList[Qe].drainQueuedTransitions(t).forEach(Dt=>{const ln=Dt.player,Fi=Dt.element;if(yn.push(ln),this.collectedEnterElements.length){const Eu=Fi[Ya];if(Eu&&Eu.setForMove)return void ln.destroy()}const bu=!O||!this.driver.containsElement(O,Fi),sa=Mt.get(Fi),Cp=J.get(Fi),br=this._buildInstruction(Dt,r,Cp,sa,bu);if(br.errors&&br.errors.length)vr.push(br);else{if(bu)return ln.onStart(()=>qm(Fi,br.fromStyles)),ln.onDestroy(()=>yu(Fi,br.toStyles)),void o.push(ln);if(Dt.isFallbackTransition)return ln.onStart(()=>qm(Fi,br.fromStyles)),ln.onDestroy(()=>yu(Fi,br.toStyles)),void o.push(ln);br.timelines.forEach(Eu=>Eu.stretchStartingKeyframe=!0),r.append(Fi,br.timelines),h.push({instruction:br,player:ln,element:Fi}),br.queriedElements.forEach(Eu=>ra(m,Eu,[]).push(ln)),br.preStyleProps.forEach((Eu,W0)=>{const jS=Object.keys(Eu);if(jS.length){let Qm=b.get(W0);Qm||b.set(W0,Qm=new Set),jS.forEach(nO=>Qm.add(nO))}}),br.postStyleProps.forEach((Eu,W0)=>{const jS=Object.keys(Eu);let Qm=C.get(W0);Qm||C.set(W0,Qm=new Set),jS.forEach(nO=>Qm.add(nO))})}});if(vr.length){const Qe=[];vr.forEach(lt=>{Qe.push(`@${lt.triggerName} has failed due to:\n`),lt.errors.forEach(Dt=>Qe.push(`- ${Dt}\n`))}),yn.forEach(lt=>lt.destroy()),this.reportError(Qe)}const Jr=new Map,ch=new Map;h.forEach(Qe=>{const lt=Qe.element;r.has(lt)&&(ch.set(lt,lt),this._beforeAnimationBuild(Qe.player.namespaceId,Qe.instruction,Jr))}),o.forEach(Qe=>{const lt=Qe.element;this._getPreviousPlayers(lt,!1,Qe.namespaceId,Qe.triggerName,null).forEach(ln=>{ra(Jr,lt,[]).push(ln),ln.destroy()})});const lh=Ae.filter(Qe=>d1(Qe,b,C)),uh=new Map;c1(uh,this.driver,Xe,C,oh).forEach(Qe=>{d1(Qe,b,C)&&lh.push(Qe)});const Z0=new Map;z.forEach((Qe,lt)=>{c1(Z0,this.driver,new Set(Qe),b,"!")}),lh.forEach(Qe=>{const lt=uh.get(Qe),Dt=Z0.get(Qe);uh.set(Qe,Object.assign(Object.assign({},lt),Dt))});const Ym=[],lN=[],uN={};h.forEach(Qe=>{const{element:lt,player:Dt,instruction:ln}=Qe;if(r.has(lt)){if(M.has(lt))return Dt.onDestroy(()=>yu(lt,ln.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(ln.totalTime),void o.push(Dt);let Fi=uN;if(ch.size>1){let sa=lt;const Cp=[];for(;sa=sa.parentNode;){const br=ch.get(sa);if(br){Fi=br;break}Cp.push(sa)}Cp.forEach(br=>ch.set(br,Fi))}const bu=this._buildAnimation(Dt.namespaceId,ln,Jr,l,Z0,uh);if(Dt.setRealPlayer(bu),Fi===uN)Ym.push(Dt);else{const sa=this.playersByElement.get(Fi);sa&&sa.length&&(Dt.parentPlayer=bp(sa)),o.push(Dt)}}else qm(lt,ln.fromStyles),Dt.onDestroy(()=>yu(lt,ln.toStyles)),lN.push(Dt),M.has(lt)&&o.push(Dt)}),lN.forEach(Qe=>{const lt=l.get(Qe.element);if(lt&&lt.length){const Dt=bp(lt);Qe.setRealPlayer(Dt)}}),o.forEach(Qe=>{Qe.parentPlayer?Qe.syncPlayerEvents(Qe.parentPlayer):Qe.destroy()});for(let Qe=0;Qe<Ae.length;Qe++){const lt=Ae[Qe],Dt=lt[Ya];if(Gv(lt,mS),Dt&&Dt.hasAnimation)continue;let ln=[];if(m.size){let bu=m.get(lt);bu&&bu.length&&ln.push(...bu);let sa=this.driver.query(lt,AR,!0);for(let Cp=0;Cp<sa.length;Cp++){let br=m.get(sa[Cp]);br&&br.length&&ln.push(...br)}}const Fi=ln.filter(bu=>!bu.destroyed);Fi.length?OL(this,lt,Fi):this.processLeaveNode(lt)}return Ae.length=0,Ym.forEach(Qe=>{this.players.push(Qe),Qe.onDone(()=>{Qe.destroy();const lt=this.players.indexOf(Qe);this.players.splice(lt,1)}),Qe.play()}),Ym}elementContainsData(e,t){let r=!1;const o=t[Ya];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,l){let h=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(h=m)}else{const m=this.playersByElement.get(e);if(m){const b=!l||l==j0;m.forEach(C=>{C.queued||!b&&C.triggerName!=o||h.push(C)})}}return(r||o)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const C=b.element,M=C!==l,O=ra(r,C,[]);this._getPreviousPlayers(C,M,h,m,t.toState).forEach(z=>{const J=z.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),z.destroy(),O.push(z)})}qm(l,t.fromStyles)}_buildAnimation(e,t,r,o,l,h){const m=t.triggerName,b=t.element,C=[],M=new Set,O=new Set,H=t.timelines.map(J=>{const me=J.element;M.add(me);const Ae=me[Ya];if(Ae&&Ae.removedBeforeQueried)return new $v(J.duration,J.delay);const He=me!==b,Xe=function(n){const e=[];return u1(n,e),e}((r.get(me)||TL).map(Jr=>Jr.getRealPlayer())).filter(Jr=>!!Jr.element&&Jr.element===me),Mt=l.get(me),it=h.get(me),yn=NP(0,this._normalizer,0,J.keyframes,Mt,it),vr=this._buildPlayer(J,yn,Xe);if(J.subTimeline&&o&&O.add(me),He){const Jr=new HR(e,m,me);Jr.setRealPlayer(vr),C.push(Jr)}return vr});C.forEach(J=>{ra(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,J.element,J))}),M.forEach(J=>Qa(J,$P));const z=bp(H);return z.onDestroy(()=>{M.forEach(J=>Gv(J,$P)),yu(b,t.toStyles)}),O.forEach(J=>{ra(o,J,[]).push(z)}),z}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new $v(e.duration,e.delay)}}class HR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new $v,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>_R(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ra(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function xS(n){return n&&1===n.nodeType}function a1(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function c1(n,e,t,r,o){const l=[];t.forEach(b=>l.push(a1(b)));const h=[];r.forEach((b,C)=>{const M={};b.forEach(O=>{const H=M[O]=e.computeStyle(C,O,o);(!H||0==H.length)&&(C[Ya]=DL,h.push(C))}),n.set(C,M)});let m=0;return t.forEach(b=>a1(b,l[m++])),h}function l1(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const o=new Set(e),l=new Map;function h(m){if(!m)return 1;let b=l.get(m);if(b)return b;const C=m.parentNode;return b=t.has(C)?C:o.has(C)?1:h(C),l.set(m,b),b}return e.forEach(m=>{const b=h(m);1!==b&&t.get(b).push(m)}),t}const MS="$$classes";function Qa(n,e){if(n.classList)n.classList.add(e);else{let t=n[MS];t||(t=n[MS]={}),t[e]=!0}}function Gv(n,e){if(n.classList)n.classList.remove(e);else{let t=n[MS];t&&delete t[e]}}function OL(n,e,t){bp(t).onDone(()=>n.processLeaveNode(e))}function u1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof kP?u1(r.players,e):e.push(r)}}function d1(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(l=>o.add(l)):e.set(n,r),t.delete(n),!0}class RS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new AL(e,t,r),this._timelineEngine=new EL(e,t,r),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(e,t,r,o,l){const h=e+"-"+o;let m=this._triggerCache[h];if(!m){const b=[],C=kR(this._driver,l,b);if(b.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);m=function(n,e,t){return new yL(n,e,t)}(o,C,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(t,o,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[l,h]=FP(r);this._timelineEngine.command(l,t,h,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,l){if("@"==r.charAt(0)){const[h,m]=FP(r);return this._timelineEngine.listen(h,t,m,l)}return this._transitionEngine.listen(e,t,r,o,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function h1(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=$R(e[0]),e.length>1&&(r=$R(e[e.length-1]))):e&&(t=$R(e)),t||r?new NL(n,t,r):null}let NL=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&yu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yu(this._element,this._initialStyles),this._endStyles&&(yu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qm(this._element,this._endStyles),this._endStyles=null),yu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $R(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];FL(o)&&(e=e||{},e[o]=n[o])}return e}function FL(n){return"display"===n||"position"===n}const f1="animation",p1="animationend";class VL{constructor(e,t,r,o,l,h,m){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=l,this._fillMode=h,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,e){const t=GR(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),OS(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),_1(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){g1(this._element,this._name,"paused")}resume(){g1(this._element,this._name,"running")}setPosition(e){const t=m1(this._element,this._name);this._position=e*this._duration,OS(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),_1(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=GR(n,"").split(","),o=zR(r,e);o>=0&&(r.splice(o,1),OS(n,"",r.join(",")))}(this._element,this._name))}}function g1(n,e,t){OS(n,"PlayState",t,m1(n,e))}function m1(n,e){const t=GR(n,"");return t.indexOf(",")>0?zR(t.split(","),e):zR([t],e)}function zR(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function _1(n,e,t){t?n.removeEventListener(p1,e):n.addEventListener(p1,e)}function OS(n,e,t,r){const o=f1+e;if(null!=r){const l=n.style[o];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[o]=t}function GR(n,e){return n.style[f1+e]||""}class y1{constructor(e,t,r,o,l,h,m,b){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=l,this._finalStyles=m,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=o+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new VL(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:OR(this.element,r))})}this.currentSnapshot=e}}class GL extends $v{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=BP(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class b1{constructor(){this._count=0}validateStyleProperty(e){return wR(e)}matchesElement(e,t){return CR(e,t)}containsElement(e,t){return IR(e,t)}query(e,t,r){return TR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(m=>BP(m));let o=`@keyframes ${t} {\n`,l="";r.forEach(m=>{l=" ";const b=parseFloat(m.offset);o+=`${l}${100*b}% {\n`,l+=" ",Object.keys(m).forEach(C=>{const M=m[C];switch(C){case"offset":return;case"easing":return void(M&&(o+=`${l}animation-timing-function: ${M};\n`));default:return void(o+=`${l}${C}: ${M};\n`)}}),o+=`${l}}\n`}),o+="}\n";const h=document.createElement("style");return h.textContent=o,h}animate(e,t,r,o,l,h=[],m){const b=h.filter(Ae=>Ae instanceof y1),C={};WP(r,o)&&b.forEach(Ae=>{let He=Ae.currentSnapshot;Object.keys(He).forEach(Xe=>C[Xe]=He[Xe])});const M=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=KP(e,t,C));if(0==r)return new GL(e,M);const O="gen_css_kf_"+this._count++,H=this.buildKeyframeElement(e,O,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(H);const J=h1(e,t),me=new y1(e,t,O,r,o,l,M,J);return me.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(H)),me}}class w1{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:OR(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class YL{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(C1().toString()),this._cssKeyframesDriver=new b1}validateStyleProperty(e){return wR(e)}matchesElement(e,t){return CR(e,t)}containsElement(e,t){return IR(e,t)}query(e,t,r){return TR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,l,h=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,l,h);const M={duration:r,delay:o,fill:0==o?"both":"forwards"};l&&(M.easing=l);const O={},H=h.filter(J=>J instanceof w1);WP(r,o)&&H.forEach(J=>{let me=J.currentSnapshot;Object.keys(me).forEach(Ae=>O[Ae]=me[Ae])});const z=h1(e,t=KP(e,t=t.map(J=>Ep(J,!1)),O));return new w1(e,t,M,z)}}function C1(){return PP()&&Element.prototype.animate||{}}let JL=(()=>{class n extends SP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?xP(t):t;return I1(this._renderer,null,r,"register",[o]),new XL(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class XL extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new e2(this._id,e,t||{},this._renderer)}}class e2{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return I1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function I1(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const T1="@.disabled";let t2=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let M=this._rendererCache.get(l);return M||(M=new D1("",l,this.engine),this._rendererCache.set(l,M)),M}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const b=M=>{Array.isArray(M)?M.forEach(b):this.engine.registerTrigger(h,m,t,M.name,M)};return r.data.animation.forEach(b),new n2(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,m]=l;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(RS),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class D1{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==T1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class n2 extends D1{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==T1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let o2=(()=>{class n extends RS{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(DR),u.LFG(UR))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const PS=new u.OlP("AnimationModuleType"),S1=[{provide:SP,useClass:JL},{provide:UR,useFactory:function(){return new hL}},{provide:RS,useClass:o2},{provide:u.FYo,useFactory:function(n,e,t){return new t2(n,e,t)},deps:[wi,RS,u.R0b]}],A1=[{provide:DR,useFactory:function(){return"function"==typeof C1()?new YL:new b1}},{provide:PS,useValue:"BrowserAnimations"},...S1],x1=[{provide:DR,useClass:jP},{provide:PS,useValue:"NoopAnimations"},...S1];let u2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?x1:A1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:A1,imports:[Vu]}),n})();const M1=new u.GfV("12.2.12"),_2=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Wm,vu=(()=>{class n{constructor(t,r,o){this._hasDoneGlobalChecks=!1,this._document=o,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,u.X6Q)()||oR())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&M1.full!==DP.full&&console.warn("The Angular Material version ("+M1.full+") does not match the Angular CDK version ("+DP.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(TP),u.LFG(_2,8),u.LFG(re))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[L0],L0]}),n})();function v2(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}try{Wm="undefined"!=typeof Intl}catch(n){Wm=!1}function q2(n,e){}class $0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Z2={dialogContainer:VF("dialogContainer",[MP("void, exit",Hv({opacity:0,transform:"scale(0.7)"})),MP("enter",Hv({transform:"none"})),RP("* => enter",AP("150ms cubic-bezier(0, 0, 0.2, 1)",Hv({transform:"none",opacity:1}))),RP("* => void, * => exit",AP("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Hv({opacity:0})))])};let W2=(()=>{class n extends lR{constructor(t,r,o,l,h,m){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=o,this._config=h,this._focusMonitor=m,this._animationStateChanged=new u.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(b)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=dS(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=dS())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=dS();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(fP),u.Y36(u.sBO),u.Y36(re,8),u.Y36($0),u.Y36(wP))},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&u.Gf(pS,7),2&t){let o;u.iGM(o=u.CRH())&&(r._portalOutlet=o.first)}},features:[u.qOj]}),n})(),K2=(()=>{class n extends W2{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&u.WFA("@dialogContainer.start",function(l){return r._onAnimationStart(l)})("@dialogContainer.done",function(l){return r._onAnimationDone(l)}),2&t&&(u.Ikx("id",r._id),u.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),u.d8E("@dialogContainer",r._state))},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&u.YNc(0,q2,0,0,"ng-template",0)},directives:[pS],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Z2.dialogContainer]}}),n})(),Y2=0;class ZR{constructor(e,t,r="mat-dialog-"+Y2++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new St.xQ,this._afterClosed=new St.xQ,this._beforeClosed=new St.xQ,this._state=0,t._id=r,t._animationStateChanged.pipe(Ar(o=>"opened"===o.state),co(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Ar(o=>"closed"===o.state),co(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Ar(o=>27===o.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(o))).subscribe(o=>{o.preventDefault(),WR(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():WR(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ar(t=>"closing"===t.state),co(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function WR(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const KR=new u.OlP("MatDialogData"),Q2=new u.OlP("mat-dialog-default-options"),U1=new u.OlP("mat-dialog-scroll-strategy"),X2={provide:U1,deps:[Bv],useFactory:function(n){return()=>n.scrollStrategies.block()}};let eU=(()=>{class n{constructor(t,r,o,l,h,m,b,C,M){this._overlay=t,this._injector=r,this._defaultOptions=o,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=b,this._dialogContainerType=C,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new St.xQ,this._afterOpenedAtThisLevel=new St.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Ii(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ta(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){(r=function(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new $0)).id&&this.getDialogById(r.id);const o=this._createOverlay(r),l=this._attachDialogContainer(o,r),h=this._attachDialogContent(t,l,o,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new hR({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const l=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:$0,useValue:r}]}),h=new cR(this._dialogContainerType,r.viewContainerRef,l,r.componentFactoryResolver);return t.attach(h).instance}_attachDialogContent(t,r,o,l){const h=new this._dialogRefConstructor(o,r,l.id);if(t instanceof u.Rgc)r.attachTemplatePortal(new fS(t,null,{$implicit:l.data,dialogRef:h}));else{const m=this._createInjector(l,h,r),b=r.attachComponentPortal(new cR(t,l.viewContainerRef,m));h.componentInstance=b.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(t,r,o){const l=t&&t.viewContainerRef&&t.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!l||!l.get(Hm,null,u.XFs.Optional))&&h.push({provide:Hm,useValue:{value:t.direction,change:(0,Ve.of)()}}),u.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let o=r.length-1;o>-1;o--){let l=r[o];l!==t&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Bv),u.Y36(u.zs3),u.Y36(void 0),u.Y36(void 0),u.Y36(V0),u.Y36(void 0),u.Y36(u.DyG),u.Y36(u.DyG),u.Y36(u.OlP))},n.\u0275dir=u.lG2({type:n}),n})(),z0=(()=>{class n extends eU{constructor(t,r,o,l,h,m,b){super(t,r,l,m,b,h,ZR,K2,KR)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Bv),u.LFG(u.zs3),u.LFG(Rt,8),u.LFG(Q2,8),u.LFG(U1),u.LFG(n,12),u.LFG(V0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[z0,X2],imports:[[lF,Kk,vu],vu]}),n})();function iU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){return u.CHM(t),u.oxw(2).openModal()}),u._uU(1," Continua a leggere... "),u.qZA()}}function sU(n,e){if(1&n&&(u.TgZ(0,"div"),u.TgZ(1,"p",8),u.TgZ(2,"span",9),u._uU(3),u.qZA(),u.qZA(),u._UZ(4,"p",10,11),u.YNc(6,iU,2,0,"button",12),u.qZA()),2&n){const t=u.MAs(5),r=u.oxw();u.xp6(3),u.Oqu(r.title),u.xp6(1),u.Q6J("innerHTML",r.description,u.oJD),u.xp6(2),u.Q6J("ngIf",r.checkOverflow(t))}}function oU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){return u.CHM(t),u.oxw(2).openModal()}),u._uU(1," Continua a leggere... "),u.qZA()}}function aU(n,e){if(1&n&&(u.TgZ(0,"div"),u.TgZ(1,"p",8),u.TgZ(2,"span",9),u._uU(3),u.qZA(),u.qZA(),u._UZ(4,"p",10,14),u.YNc(6,oU,2,0,"button",12),u.qZA()),2&n){const t=u.MAs(5),r=u.oxw();u.xp6(3),u.Oqu(r.title),u.xp6(1),u.Q6J("innerHTML",r.description,u.oJD),u.xp6(2),u.Q6J("ngIf",r.checkOverflow(t))}}const B1='.event-triple[_ngcontent-%COMP%]{display:inline-flex;position:relative;top:0px;width:100%}.event-element[_ngcontent-%COMP%]{width:22vw;padding:35px 35px 90px}.event-container[_ngcontent-%COMP%]{width:80%;margin:-110px auto auto}.white-line[_ngcontent-%COMP%]{content:"";position:absolute;z-index:-1;top:0;bottom:0;left:50%;border-left:8px solid var(--gold);transform:translate(-50%)}.p-event[_ngcontent-%COMP%]{color:#fff}.p-event-title[_ngcontent-%COMP%]{margin-top:0}.span-event-title[_ngcontent-%COMP%]{margin-top:0;font-size:50px;color:var(--gold);letter-spacing:15px;font-family:"DIN",Fallback,sans-serif!important}.backdropBackground[_ngcontent-%COMP%]{background:rgba(255,255,255,.288);opacity:.2}.transparent[_ngcontent-%COMP%]{background:rgba(0,0,0,0)}.moreButton[_ngcontent-%COMP%]{border:none;background:none;color:#fff;margin:0;padding:0}@media screen and (max-width: 1000px){.event-element[_ngcontent-%COMP%]{width:20vw;padding:35px 35px 90px}.span-event-title[_ngcontent-%COMP%]{font-size:4vw}}@media screen and (max-width: 800px){.event-element[_ngcontent-%COMP%]{width:20vw;padding:35px 35px 90px}.white-line[_ngcontent-%COMP%]{display:none}.img[_ngcontent-%COMP%]{width:50%}.even[_ngcontent-%COMP%]{width:50%}.odd[_ngcontent-%COMP%]{display:none}}@media screen and (max-device-width: 992px){.span-event-title[_ngcontent-%COMP%]{font-size:55px}.p-event[_ngcontent-%COMP%]{font-size:40px;letter-spacing:5px}.event-element[_ngcontent-%COMP%]{width:20vw;padding:35px 35px 90px}.white-line[_ngcontent-%COMP%]{display:none}.img[_ngcontent-%COMP%]{width:50%}.even[_ngcontent-%COMP%]{width:50%}.odd[_ngcontent-%COMP%]{display:none}.moreButton[_ngcontent-%COMP%]{font-size:30px}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{top:-7%!important}}';let cU=(()=>{class n{constructor(t){this.matDialog=t,this.showVal=!1,this.pathImage="",this.heightval="",this.top="",this.isResponsive=!1,this.isMobile=!1}ngOnInit(){this.isMobile=window.matchMedia("only screen and (max-device-width: 992px)").matches;let t=250,r=250;null!=this.height&&(t*=this.height),null!=this.height&&null!=this.toppos&&(r+=this.toppos),this.heightval=t+"px",this.top=r+"px",console.log(this.heightval),console.log(this.top),this.pathImage=an.PATH+this.image,console.log(this.pathImage)}styleObject(){return null==this.toppos||0==this.toppos?{height:this.heightval,top:"250px"}:{height:this.heightval,top:this.top}}getSingleEvent(){return null!=this.type&&"Single"==this.type}getDoubleEvent(){return null!=this.type&&"Double"==this.type}getShowEvent(){return this.showVal}showEvent(){this.showVal=!0}getEven(){return null!=this.index&&(this.index%2==0||this.isResponsive||this.isMobile)}getOdds(){return null!=this.index&&this.index%2==1&&!this.isResponsive&&!this.isMobile}onResize(){this.isResponsive=this.getBrowserWidth()<800}getBrowserWidth(){return window.innerWidth}getMobile(){return this.isMobile}checkOverflow(t){return t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth}openModal(){new $0;let r=this.description;this.matDialog.open(j1,this.isMobile?{disableClose:!1,id:"modal-event",width:"80%",height:"60%",backdropClass:"backdropBackground",hasBackdrop:!0,data:{text:r}}:{disableClose:!1,id:"modal-event",width:"50%",height:"50%",backdropClass:"backdropBackground",hasBackdrop:!0,data:{text:r}})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(z0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-single-event"]],hostBindings:function(t,r){1&t&&u.NdJ("resize",function(l){return r.onResize(l)},!1,u.Jf7)},inputs:{height:"height",toppos:"toppos",type:"type",image:"image",title:"title",description:"description",index:"index"},decls:9,vars:3,consts:[[1,"event-container"],[1,"event-triple"],[1,"event-element","even"],[4,"ngIf"],[1,"event-element","img"],[1,"white-line"],["alt","event-image","width","100%",3,"src"],[1,"event-element","odd"],[1,"p-event-title"],[1,"span-event-title"],[1,"p-event",2,"max-height","20vw","overflow","hidden",3,"innerHTML"],["ev",""],["class","moreButton",3,"click",4,"ngIf"],[1,"moreButton",3,"click"],["ev2",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.YNc(3,sU,7,3,"div",3),u.qZA(),u.TgZ(4,"div",4),u._UZ(5,"div",5),u._UZ(6,"img",6),u.qZA(),u.TgZ(7,"div",7),u.YNc(8,aU,7,3,"div",3),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngIf",r.getEven()),u.xp6(3),u.s9C("src",r.pathImage,u.LSH),u.xp6(2),u.Q6J("ngIf",r.getOdds()))},directives:[vi],styles:[B1]}),n})(),j1=(()=>{class n{constructor(t){this.data=t}ngOnInit(){this.desc=this.data.text}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(KR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["modal-event-dialog"]],decls:2,vars:1,consts:[[2,"font-size","45px","padding","35px","text-align","justify","letter-spacing","1px"]],template:function(t,r){1&t&&(u.TgZ(0,"p",0),u._uU(1),u.qZA()),2&t&&(u.xp6(1),u.Oqu(r.desc))},styles:[B1]}),n})();function lU(n,e){if(1&n&&(u.TgZ(0,"div"),u.TgZ(1,"div",2),u._UZ(2,"app-single-event",3),u.qZA(),u.qZA()),2&n){const t=e.$implicit,r=e.index,o=u.oxw();u.xp6(2),u.Q6J("index",r)("height",2)("toppos",0)("type",o.double)("image",t.immagine)("title",t.title)("description",t.description)}}let uU=(()=>{class n{constructor(t){this.eventService=t,this.single="Single",this.double="Double",this.event=new uC,this.submitted=!1}ngOnInit(){this.retrieveTutorials()}retrieveTutorials(){this.eventService.getAll().snapshotChanges().pipe((0,ot.U)(t=>t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())))).subscribe(t=>{this.events=t,this.events.sort(function(r,o){return r.order-o.order})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(oS))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-events"]],decls:5,vars:1,consts:[[1,"events-title"],["style","",4,"ngFor","ngForOf"],[1,"event-style"],[3,"index","height","toppos","type","image","title","description"]],template:function(t,r){1&t&&(u._UZ(0,"app-toolbar"),u.TgZ(1,"p",0),u._uU(2,"I NOSTRI EVENTI"),u.qZA(),u.YNc(3,lU,3,7,"div",1),u._UZ(4,"app-footer")),2&t&&(u.xp6(3),u.Q6J("ngForOf",r.events))},directives:[Lv,Zt,O0,cU],styles:[".events-title[_ngcontent-%COMP%]{color:#fff;position:relative;top:300px;width:-moz-fit-content;width:fit-content;font-size:75px;margin:auto;letter-spacing:20px;text-align:center}.event-style[_ngcontent-%COMP%]{margin-bottom:100px;position:relative;top:500px}"]}),n})(),H1=(()=>{class n{constructor(t){this.db=t,this.dbPath="/articoli",this.eventRef=t.collection(this.dbPath)}getAll(){return this.eventRef}create(t){return this.eventRef.add(Object.assign({},t))}update(t,r){return this.eventRef.doc(t).update(r)}delete(t){return this.eventRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Nm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dU(n,e){if(1&n&&(u.TgZ(0,"div",1),u.TgZ(1,"div",2),u.TgZ(2,"div",3),u._UZ(3,"img",4),u.qZA(),u.TgZ(4,"div",5),u._UZ(5,"p",6),u.qZA(),u.qZA(),u.TgZ(6,"div",7),u.TgZ(7,"div",8),u.TgZ(8,"p",9),u._uU(9),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.xp6(3),u.s9C("src",t.pathImage,u.LSH),u.xp6(2),u.Q6J("innerHTML",t.description,u.oJD),u.xp6(4),u.Oqu(t.title)}}function hU(n,e){if(1&n&&(u.TgZ(0,"div",1),u.TgZ(1,"div",7),u.TgZ(2,"div",8),u.TgZ(3,"p",9),u._uU(4),u.qZA(),u.qZA(),u.qZA(),u.TgZ(5,"div",2),u.TgZ(6,"div",3),u._UZ(7,"img",4),u.qZA(),u.TgZ(8,"div",5),u._UZ(9,"p",6),u.qZA(),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.xp6(4),u.Oqu(t.title),u.xp6(3),u.s9C("src",t.pathImage,u.LSH),u.xp6(2),u.Q6J("innerHTML",t.description,u.oJD)}}let fU=(()=>{class n{constructor(){this.pathImage=""}ngOnInit(){this.pathImage=an.PATH+this.image}getEven(){return null!=this.index&&this.index%2==0}getOdd(){return null!=this.index&&this.index%2==1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-single-articolo"]],inputs:{image:"image",title:"title",description:"description",index:"index"},decls:2,vars:2,consts:[["class","articolo-container",4,"ngIf"],[1,"articolo-container"],[1,"articolo-box"],[1,"articolo-element"],["alt","","width","100%","height","100%",3,"src"],[1,"articolo-element",2,"border","1px solid rgb(255,255,255, 0.1)"],[1,"p-articolo",3,"innerHTML"],[1,"articolo-box-title"],[1,"articolo-line"],[1,"articolo-title"]],template:function(t,r){1&t&&(u.YNc(0,dU,10,3,"div",0),u.YNc(1,hU,10,3,"div",0)),2&t&&(u.Q6J("ngIf",r.getEven()),u.xp6(1),u.Q6J("ngIf",r.getOdd()))},directives:[vi],styles:['.articolo-container[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:100px;display:inline-flex;width:100%}.articolo-box[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:300px}.articolo-element[_ngcontent-%COMP%]{width:33vw}.articolo-line[_ngcontent-%COMP%]{width:100%;border:4px solid var(--gold);height:0px;margin:auto 0 auto auto}.articolo-box-title[_ngcontent-%COMP%]{width:100%;height:300px;display:inline-flex}.articolo-title[_ngcontent-%COMP%]{position:relative;top:-60px;font-size:45px;margin:auto;width:-moz-fit-content;width:fit-content;color:var(--gold);font-family:"DIN",Fallback,sans-serif!important}.p-articolo[_ngcontent-%COMP%]{color:#fff;font-size:17px;letter-spacing:1px;margin:25px}']}),n})();function pU(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"app-single-articolo",7),u.qZA()),2&n){const t=e.$implicit,r=e.index;u.xp6(1),u.Q6J("index",r)("image",t.immagine)("title",t.title)("description",t.description)}}const gU=function(n){return{"background-image":n}};let mU=(()=>{class n{constructor(t){this.articoloService=t,this.header=an.HEADER_IMG,this.pathImage=an.PATH_IMG}ngOnInit(){this.retrieveArticoli()}retrieveArticoli(){this.articoloService.getAll().snapshotChanges().pipe((0,ot.U)(t=>t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())))).subscribe(t=>{this.articoli=t,this.articoli.sort(function(r,o){return r.order-o.order})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(H1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-articoli"]],decls:14,vars:4,consts:[[1,"header-articoli"],[1,"header-img",3,"ngStyle"],[1,"header-text"],[1,"home-buttom"],[1,"home-text"],["href","#",1,"home-link"],["style","",4,"ngFor","ngForOf"],[3,"index","image","title","description"]],template:function(t,r){1&t&&(u._UZ(0,"app-toolbar"),u.TgZ(1,"div",0),u.TgZ(2,"div",1),u.TgZ(3,"p",2),u._uU(4,"Scopri gli ultimi articoli di "),u._UZ(5,"br"),u._uU(6,"MUAY THAI 360"),u.qZA(),u.qZA(),u.TgZ(7,"div",3),u.TgZ(8,"span",4),u.TgZ(9,"a",5),u._uU(10,"HOME"),u.qZA(),u._uU(11," | BLOG"),u.qZA(),u.qZA(),u.qZA(),u.YNc(12,pU,2,4,"div",6),u._UZ(13,"app-footer")),2&t&&(u.xp6(2),u.Q6J("ngStyle",u.VKq(2,gU,"url("+r.header+")")),u.xp6(10),u.Q6J("ngForOf",r.articoli))},directives:[Lv,Bi,Zt,O0,fU],styles:['.header-img[_ngcontent-%COMP%]{width:inherit;height:300px;margin-top:200px}.header-articoli[_ngcontent-%COMP%]{width:100%}.home-buttom[_ngcontent-%COMP%]{width:100px;height:36px;position:relative;top:-22px;margin:auto;background:var(--gold);color:#000;text-align:center}.home-link[_ngcontent-%COMP%]{color:#000;text-decoration:none}.home-link[_ngcontent-%COMP%]:visited{text-transform:none;text-decoration:none}.home-link[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.home-text[_ngcontent-%COMP%]{position:relative;top:10px}.header-text[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto;font-size:5.3vw;color:#fff;text-align:center;padding-top:50px;font-family:"DIN",Fallback,sans-serif!important}']}),n})(),$1=(()=>{class n{constructor(t){this.db=t,this.dbPath="/corso",this.corsoRef=t.collection(this.dbPath)}get(t){return this.db.collection("corsi").doc(t).ref.get().then(r=>r.exists?(console.log(r.data()),r.data()):"Doc does not exits").catch(r=>{console.error(r)})}create(t){return this.corsoRef.add(Object.assign({},t))}update(t,r){return this.corsoRef.doc(t).update(r)}delete(t){return this.corsoRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Nm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_U=(()=>{class n{constructor(t,r){this.route=t,this.corsoService=r}ngOnInit(){this.id=this.route.snapshot.queryParamMap.get("titolo"),this.retrieveCorso()}retrieveCorso(){console.log(this.corsoService.get(this.id)),this.corsoService.get(this.id).then(t=>{var r,o,l;this.corso=t,this.immagine=lS(null===(r=this.corso)||void 0===r?void 0:r.Immagine),this.body=null===(o=this.corso)||void 0===o?void 0:o.Descrizione,this.title=null===(l=this.corso)||void 0===l?void 0:l.Titolo,console.log(this.corso),console.log(this.immagine),console.log(this.body),console.log(this.title)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Dc),u.Y36($1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-pagina-corsi"]],decls:13,vars:3,consts:[[1,"gold-block-cont"],[1,"gold-block"],[1,"container"],[2,"display","flex","padding-top","60px"],[1,"title"],[1,"img-corso",3,"src"],[1,"body"]],template:function(t,r){1&t&&(u._UZ(0,"app-toolbar"),u.TgZ(1,"section"),u.TgZ(2,"div",0),u._UZ(3,"div",1),u.qZA(),u.TgZ(4,"div",2),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u._uU(7),u.qZA(),u._UZ(8,"img",5),u.qZA(),u.TgZ(9,"div"),u.TgZ(10,"div",6),u._uU(11),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(12,"app-footer")),2&t&&(u.xp6(7),u.Oqu(r.title),u.xp6(1),u.s9C("src",r.immagine,u.LSH),u.xp6(3),u.hij(" ",r.body," "))},directives:[Lv,O0],styles:[".title[_ngcontent-%COMP%]{color:var(--gold);transform:rotate(270deg);font-size:85px;width:271px;margin-left:38px;margin-top:80px}.img-corso[_ngcontent-%COMP%]{width:60%}.body[_ngcontent-%COMP%]{margin:50px auto auto;width:90%;color:#fff;padding-bottom:150px;font-size:40px;text-align:justify;letter-spacing:-1px}.container[_ngcontent-%COMP%]{position:relative;background:black;width:90%;margin:auto;height:max-content;box-shadow:0 15px 80px #242424,0 11px 20px #242424}.gold-block-cont[_ngcontent-%COMP%]{width:100%;height:150px;margin-top:250px}.gold-block[_ngcontent-%COMP%]{width:5%;margin:auto;background:var(--gold);height:inherit}"]}),n})(),yU=(()=>{class n{constructor(){this.about=an.ABOUT_IMG}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-about"]],decls:57,vars:1,consts:[["id","about","role","main",1,"about"],[1,"center-about"],[1,"title-about"],[2,"color","var(--gold)"],[2,"color","white"],[1,"container-about"],[1,"p-about"],[1,"img-about",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"span",3),u._uU(4,"LA NOSTRA"),u.qZA(),u._UZ(5,"br"),u.TgZ(6,"span",4),u._uU(7,"STORIA"),u.qZA(),u.qZA(),u.TgZ(8,"div",5),u.TgZ(9,"p",6),u.TgZ(10,"b"),u.TgZ(11,"span",3),u._uU(12,"TEAM PIACENTE"),u.qZA(),u.qZA(),u._UZ(13,"br"),u._UZ(14,"br"),u._uU(15," Il Team \xe8 nato a San Salvo (CH) ufficialmente nel "),u.TgZ(16,"span",3),u.TgZ(17,"b"),u._uU(18,"1996"),u.qZA(),u.qZA(),u._uU(19,", fondato dal maestro Vincenzo Piacente."),u._UZ(20,"br"),u._uU(21," E' stato premiato come "),u.TgZ(22,"b"),u._uU(23,"miglior Team Nazionale nell\u2019anno 1999"),u.qZA(),u._uU(24,"."),u._UZ(25,"br"),u._uU(26," Numerosi i successi ottenuti negli anni dai vari atleti a livello nazionale."),u._UZ(27,"br"),u._uU(28," Vanta successi sia in competizioni dilettantistiche che "),u.TgZ(29,"span",3),u._uU(30,"PRO"),u.qZA(),u._uU(31,"."),u._UZ(32,"br"),u._UZ(33,"br"),u._uU(34," Nel "),u.TgZ(35,"span",3),u._uU(36,"2019"),u.qZA(),u._uU(37," il maestro Piacente passa le redini al suo allievo direttissimo Marco Catalano che con la nuova gestione rinomina la nuova sede con il nome di:"),u._UZ(38,"br"),u.TgZ(39,"span",3),u.TgZ(40,"b"),u._uU(41,"-Muay Thai 360-"),u.qZA(),u.qZA(),u._UZ(42,"br"),u._UZ(43,"br"),u.TgZ(44,"span",3),u.TgZ(45,"b"),u._uU(46,"Muay thai 360 perch\xe8?"),u.qZA(),u.qZA(),u._UZ(47,"br"),u._uU(48," Per fornire una conoscenza a 360 gradi della millenaria arte thailandese, con le sue mille sfaccettature ed applicazioni sportive tradizionali e militari."),u._UZ(49,"br"),u._UZ(50,"br"),u._uU(51," Nella nostra scuola \xe8 possibile praticare vari sport da combattimento e arti marziali."),u._UZ(52,"br"),u.TgZ(53,"span",3),u._uU(54,"I corsi sono accessibili a tutti "),u.qZA(),u._uU(55,"poich\xe9 le attivit\xe0 vengono suddivise in modo specifico, a seconda che siano donne o bambini, principianti o agonisti, oppure persone gi\xe0 allenate. Effettuiamo, inoltre, lezioni private e allenamenti liberi."),u.qZA(),u._UZ(56,"img",7),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(56),u.s9C("src",r.about,u.LSH))},styles:['.about[_ngcontent-%COMP%]{position:relative;background-color:#000;top:200px;left:0;right:0}.center-about[_ngcontent-%COMP%]{margin:auto;padding:100px 0 0 200px}.title-about[_ngcontent-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;letter-spacing:22px;font-size:6vw}.p-about[_ngcontent-%COMP%]{width:452px;color:#fff;font-size:16px;line-height:25px;margin-bottom:120px}.container-about[_ngcontent-%COMP%]{display:inline-flex}.img-about[_ngcontent-%COMP%]{width:425px;height:485px;padding-left:130px}@media screen and (max-device-width: 992px){.img-about[_ngcontent-%COMP%]{padding-left:0;padding-top:33%}.center-about[_ngcontent-%COMP%]{padding:100px 0 0 85px}.p-about[_ngcontent-%COMP%]{font-size:30px;line-height:35px}.title-about[_ngcontent-%COMP%]{font-size:9vw}}@media screen and (max-width: 692px){.center-about[_ngcontent-%COMP%]{padding:100px 0 0 20px}}']}),n})();const vU=function(n){return{"background-image":n}};let bU=(()=>{class n{constructor(){this.team=an.TEAM_IMG}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-team"]],decls:35,vars:3,consts:[["id","team","role","main",1,"team"],[1,"team-container"],[1,"team-element",2,"background-image","url(assets/img/gallery1.jpg)","background-repeat","no-repeat","background-size","cover",3,"ngStyle"],[1,"team-title"],[1,"team-text"],[1,"team-element",2,"background-color","var(--gold)"],[1,"team-text2"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u._uU(4,"IL TEAM"),u.qZA(),u.TgZ(5,"div",4),u.TgZ(6,"b"),u._uU(7,"ISTRUTTORI:"),u.qZA(),u._UZ(8,"br"),u._UZ(9,"br"),u.TgZ(10,"b"),u._uU(11,"Vincenzo Piacente"),u.qZA(),u._UZ(12,"br"),u._uU(13," (12\xb0 khan Instructor IMBA)"),u._UZ(14,"br"),u._UZ(15,"br"),u.TgZ(16,"b"),u._uU(17,"Marco Catalano"),u.qZA(),u._UZ(18,"br"),u._uU(19," (11\xb0khan Trainer Instructor scuola Oltrecorpo di Fabio Siciliani,3 titoli italiani dilettanti Kombat league, 1 titolo italiano PRO Fight 1) Tecnico Federkombat ."),u._UZ(20,"br"),u._UZ(21,"br"),u.TgZ(22,"b"),u._uU(23,"Michele Zizzari"),u.qZA(),u._UZ(24,"br"),u._uU(25," (11\xb0 khan advance Trainer Instructor IMBA)"),u._UZ(26,"br"),u._UZ(27,"br"),u.TgZ(28,"b"),u._uU(29,"Felice Nozzi"),u.qZA(),u._UZ(30,"br"),u._uU(31," (11\xb0 khan advance Trainer Instructor IMBA)"),u.qZA(),u.qZA(),u.TgZ(32,"div",5),u.TgZ(33,"div",6),u._uU(34,"Il nostro staff ha una preparazione approfondita di tutte le discipline praticate nella nostra scuola. Il team \xe8 formato da professionisti che ti affiancheranno durante il tuo allenamento o il tuo percorso di preparazione atletica. "),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngStyle",u.VKq(1,vU,"url("+r.team+")")))},directives:[Bi],styles:['.team[_ngcontent-%COMP%]{position:relative;background-color:#000;top:200px;left:0;right:0}.team-container[_ngcontent-%COMP%]{display:inline-flex;width:100%}.team-element[_ngcontent-%COMP%]{width:50%;height:550px}.team-title[_ngcontent-%COMP%]{color:var(--gold);letter-spacing:.15em;font-size:5vw;float:right;text-align:right;padding-right:5vw;width:228px;line-height:65px;padding-top:6vw}.team-text[_ngcontent-%COMP%]{font-family:"DINLIG",Fallback,sans-serif!important;color:#fff;font-size:13px;float:right;text-align:right;padding-right:6vw;width:26vw;padding-top:1vw;letter-spacing:-.3px}.team-text2[_ngcontent-%COMP%]{font-size:19px;line-height:1.8em;font-family:open sans condensed,sans-serif;letter-spacing:-1px;padding-top:10vw;width:25vw;font-weight:lighter;padding-left:8vw}@media screen and (max-device-width: 992px){.team-title[_ngcontent-%COMP%]{color:var(--gold);letter-spacing:.15em;font-size:65px;float:left;text-align:left;padding-right:70px;width:250px;line-height:65px;padding-top:95px;padding-left:90px}.team-text[_ngcontent-%COMP%]{font-family:"DINLIG",Fallback,sans-serif!important;color:#fff;font-size:28px;float:right;text-align:left;padding-right:80px;width:52%;position:relative;letter-spacing:-.3px;top:-65px}.team-container[_ngcontent-%COMP%]{display:block}.team-element[_ngcontent-%COMP%]{width:100%;height:820px}.team-text2[_ngcontent-%COMP%]{font-size:32px;line-height:1.8em;font-family:open sans condensed,sans-serif;letter-spacing:-1px;padding-top:185px;margin:auto;width:50%;font-weight:lighter;padding-left:0}}@media screen and (max-width: 660px){.team-text2[_ngcontent-%COMP%]{font-size:17px}}']}),n})();var EU=F(205),wU=F(1555);function FS(n,e){return new vn.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let l=0,h=0;for(let m=0;m<r;m++){const b=(0,gn.D)(n[m]);let C=!1;t.add(b.subscribe({next:M=>{C||(C=!0,h++),o[m]=M},error:M=>t.error(M),complete:()=>{l++,(l===r||!C)&&(h===r&&t.next(e?e.reduce((M,O,H)=>(M[O]=o[H],M),{}):o),t.complete())}}))}})}var IU=F(8819);class z1{}class ah{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),l=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ah?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ah;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ah?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const l=e.value;if(l){let h=this.headers.get(t);if(!h)return;h=h.filter(m=>-1===l.indexOf(m)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class TU{encodeKey(e){return q1(e)}encodeValue(e){return q1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const SU=/%(\d[a-f0-9])/gi,AU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function q1(n){return encodeURIComponent(n).replace(SU,(e,t)=>{var r;return null!==(r=AU[t])&&void 0!==r?r:e})}function Z1(n){return`${n}`}class wp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new TU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[h,m]=-1==l?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,l)),e.decodeValue(o.slice(l+1))],b=t.get(h)||[];b.push(m),t.set(h,b)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new wp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Z1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Z1(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class xU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function W1(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function K1(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Y1(n){return"undefined"!=typeof FormData&&n instanceof FormData}class G0{constructor(e,t,r,o){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,l=o):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new ah),this.context||(this.context=new xU),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+h}}else this.params=new wp,this.urlWithParams=t}serializeBody(){return null===this.body?null:W1(this.body)||K1(this.body)||Y1(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof wp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Y1(this.body)?null:K1(this.body)?this.body.type||null:W1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,l=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,b=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,M=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((H,z)=>H.set(z,e.setHeaders[z]),C)),e.setParams&&(M=Object.keys(e.setParams).reduce((H,z)=>H.set(z,e.setParams[z]),M)),new G0(r,o,h,{params:M,headers:C,context:O,reportProgress:b,responseType:l,withCredentials:m})}}var Qr=(()=>((Qr=Qr||{})[Qr.Sent=0]="Sent",Qr[Qr.UploadProgress=1]="UploadProgress",Qr[Qr.ResponseHeader=2]="ResponseHeader",Qr[Qr.DownloadProgress=3]="DownloadProgress",Qr[Qr.Response=4]="Response",Qr[Qr.User=5]="User",Qr))();class LS extends class{constructor(e,t=200,r="OK"){this.headers=e.headers||new ah,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Qr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new LS({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function JR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let US=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let l;if(t instanceof G0)l=t;else{let b,C;b=o.headers instanceof ah?o.headers:new ah(o.headers),o.params&&(C=o.params instanceof wp?o.params:new wp({fromObject:o.params})),l=new G0(t,r,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:C,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=(0,Ve.of)(l).pipe(Tl(b=>this.handler.handle(b)));if(t instanceof G0||"events"===o.observe)return h;const m=h.pipe(Ar(b=>b instanceof LS));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,ot.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return m.pipe((0,ot.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return m.pipe((0,ot.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));case"json":default:return m.pipe((0,ot.U)(b=>b.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new wp).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,JR(o,r))}post(t,r,o={}){return this.request("POST",t,JR(o,r))}put(t,r,o={}){return this.request("PUT",t,JR(o,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(z1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const UU=["*"];function nN(n){return Error(`Unable to find icon with the name "${n}"`)}function rN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function iN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Km{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let VS=(()=>{class n{constructor(t,r,o,l){this._httpClient=t,this._sanitizer=r,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(t,r,o){return this.addSvgIconInNamespace("",t,r,o)}addSvgIconLiteral(t,r,o){return this.addSvgIconLiteralInNamespace("",t,r,o)}addSvgIconInNamespace(t,r,o,l){return this._addSvgIconConfig(t,r,new Km(o,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,o,l){const h=this._sanitizer.sanitize(u.q3G.HTML,o);if(!h)throw iN(o);return this._addSvgIconConfig(t,r,new Km("",h,l))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,o){return this._addSvgIconSetConfig(t,new Km(r,null,o))}addSvgIconSetLiteralInNamespace(t,r,o){const l=this._sanitizer.sanitize(u.q3G.HTML,r);if(!l)throw iN(r);return this._addSvgIconSetConfig(t,new Km("",l,o))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw rN(t);const o=this._cachedIconsByUrl.get(r);return o?(0,Ve.of)(BS(o)):this._loadSvgIconFromConfig(new Km(t,null)).pipe((0,Sn.b)(l=>this._cachedIconsByUrl.set(r,l)),(0,ot.U)(l=>BS(l)))}getNamedSvgIcon(t,r=""){const o=sN(r,t);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(r,t),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(t,h):(0,EU._)(nN(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,Ve.of)(BS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ot.U)(r=>BS(r)))}_getSvgFromIconSetConfigs(t,r){const o=this._extractIconWithNameFromAnySet(t,r);return o?(0,Ve.of)(o):function(...n){if(1===n.length){const e=n[0];if((0,_c.k)(e))return FS(e,null);if((0,wU.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return FS(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return FS(n=1===n.length&&(0,_c.k)(n[0])?n[0]:n,null).pipe((0,ot.U)(t=>e(...t)))}return FS(n,null)}(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(Os(m=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,h.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(C)),(0,Ve.of)(null)})))).pipe((0,ot.U)(()=>{const h=this._extractIconWithNameFromAnySet(t,r);if(!h)throw nN(t);return h}))}_extractIconWithNameFromAnySet(t,r){for(let o=r.length-1;o>=0;o--){const l=r[o];if(l.svgText&&l.svgText.indexOf(t)>-1){const h=this._svgElementFromConfig(l),m=this._extractSvgIconFromSet(h,t,l.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Sn.b)(r=>t.svgText=r),(0,ot.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,Ve.of)(null):this._fetchIcon(t).pipe((0,Sn.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,o){const l=t.querySelector(`[id="${r}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const m=this._svgElementFromString("<svg></svg>");return m.appendChild(h),this._setSvgAttributes(m,o)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){const r=this._svgElementFromString("<svg></svg>"),o=t.attributes;for(let l=0;l<o.length;l++){const{name:h,value:m}=o[l];"id"!==h&&r.setAttribute(h,m)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[l].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:o,options:l}=t,h=null!==(r=null==l?void 0:l.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const m=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,o);if(!m)throw rN(o);const b=this._inProgressUrlFetches.get(m);if(b)return b;const C=this._httpClient.get(m,{responseType:"text",withCredentials:h}).pipe(Bh(()=>this._inProgressUrlFetches.delete(m)),(0,IU.B)());return this._inProgressUrlFetches.set(m,C),C}_addSvgIconConfig(t,r,o){return this._svgIconConfigs.set(sN(t,r),o),this}_addSvgIconSetConfig(t,r){const o=this._iconSetConfigs.get(t);return o?o.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](r,t);if(l)return jU(l)?new Km(l.url,null,l.options):new Km(l,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(US,8),u.LFG(no),u.LFG(re,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(US,8),u.LFG(no),u.LFG(re,8),u.LFG(u.qLn))},token:n,providedIn:"root"}),n})();function BS(n){return n.cloneNode(!0)}function sN(n,e){return n+":"+e}function jU(n){return!(!n.url||!n.options)}const HU=v2(class{constructor(n){this._elementRef=n}}),$U=new u.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,u.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),oN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qU=oN.map(n=>`[${n}]`).join(", "),ZU=/^url\(['"]?#(.*?)['"]?\)$/;let WU=(()=>{class n extends HU{constructor(t,r,o,l,h){super(t),this._iconRegistry=r,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=qi.w.EMPTY,o||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=function(n){return null!=n&&"false"!=`${n}`}(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let l=0;l<r.length;l++)r[l].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=t.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&t.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((o,l)=>{o.forEach(h=>{l.setAttribute(h.name,`url('${t}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(qU),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<r.length;l++)oN.forEach(h=>{const m=r[l],b=m.getAttribute(h),C=b?b.match(ZU):null;if(C){let M=o.get(m);M||(M=[],o.set(m,M)),M.push({name:h,value:C[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,o]=this._splitIconName(t);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(co(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(VS),u.$8M("aria-hidden"),u.Y36($U),u.Y36(u.qLn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:UU,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),KU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[vu],vu]}),n})();function YU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){return u.CHM(t),u.oxw().goNext()}),u.TgZ(1,"mat-icon"),u._uU(2,"arrow_forward_ios"),u.qZA(),u.qZA()}}function QU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){return u.CHM(t),u.oxw().goPrev()}),u.TgZ(1,"mat-icon"),u._uU(2,"arrow_back_ios"),u.qZA(),u.qZA()}}let JU=(()=>{class n{constructor(t,r){this.data=t,this.corsoService=r}ngOnInit(){console.log(this.data),this.id=this.data.header,this.retrieveCorso()}retrieveCorso(){console.log(this.corsoService.get(this.id)),this.corsoService.get(this.id).then(t=>{var r,o,l;this.corso=t,this.immagine=lS(null===(r=this.corso)||void 0===r?void 0:r.Immagine),this.body=null===(o=this.corso)||void 0===o?void 0:o.Descrizione,this.title=null===(l=this.corso)||void 0===l?void 0:l.Titolo,console.log(this.corso),console.log(this.immagine),console.log(this.body),console.log(this.title)})}isFirst(){return"MUAY THAI SPORTIVA"!==this.id}isLast(){return"MUAY LERT RIT"!==this.id}goNext(){this.id=rR("mapperNext").get(this.id),this.retrieveCorso()}goPrev(){this.id=rR("mapperPrev").get(this.id),this.retrieveCorso()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(KR),u.Y36($1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-modal-corso"]],decls:15,vars:5,consts:[["class","right-arrow",3,"click",4,"ngIf"],["class","left-arrow",3,"click",4,"ngIf"],[1,"gold-block-cont"],[1,"gold-block"],[1,"gold-block",2,"border-bottom-left-radius","100%","height","12px","border-bottom-right-radius","100%"],[1,"hole"],[1,"container"],[2,"display","flex","padding-top","90px","width","80%"],[1,"title"],[1,"img-corso",3,"src"],[1,"body"],[1,"right-arrow",3,"click"],[1,"left-arrow",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"section"),u.YNc(1,YU,3,0,"button",0),u.YNc(2,QU,3,0,"button",1),u.TgZ(3,"div",2),u._UZ(4,"div",3),u._UZ(5,"div",4),u._UZ(6,"div",5),u.qZA(),u.TgZ(7,"div",6),u.TgZ(8,"div",7),u.TgZ(9,"div",8),u._uU(10),u.qZA(),u._UZ(11,"img",9),u.qZA(),u.TgZ(12,"div"),u.TgZ(13,"div",10),u._uU(14),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngIf",r.isLast()),u.xp6(1),u.Q6J("ngIf",r.isFirst()),u.xp6(8),u.Oqu(r.title),u.xp6(1),u.s9C("src",r.immagine,u.LSH),u.xp6(3),u.hij(" ",r.body," "))},directives:[vi,WU],styles:[".title[_ngcontent-%COMP%]{color:var(--gold);transform:rotate(270deg);font-size:3.3vw;width:26%;margin-left:10vw;margin-top:8vw}.img-corso[_ngcontent-%COMP%]{width:34vw;height:23vw}.body[_ngcontent-%COMP%]{margin:50px auto auto;width:70%;color:#fff;padding-bottom:28px;font-size:20px;text-align:justify;letter-spacing:-1px}.container[_ngcontent-%COMP%]{position:relative;background:black;width:90%;margin:auto;z-index:0;height:max-content;box-shadow:0 15px 80px #242424,0 11px 20px #242424;top:-60px}.gold-block-cont[_ngcontent-%COMP%]{width:100%;height:100px;margin-top:-25px}.gold-block[_ngcontent-%COMP%]{width:3%;margin:auto;background:var(--gold);height:inherit;z-index:2;position:relative}.hole[_ngcontent-%COMP%]{position:sticky;width:4vw;height:4vw;background-color:#fff;margin:-5.2% auto auto;z-index:1;overflow:hidden;border-radius:100%}.right-arrow[_ngcontent-%COMP%]{top:50%;position:absolute;background:none;cursor:pointer;border:none;right:10vw}.left-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;border:none;background:none;cursor:pointer;left:10vW}"]}),n})();function XU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){return u.CHM(t),u.oxw().openModal("MUAY THAI SPORTIVA")}),u.TgZ(1,"td",11),u._uU(2," MUAY THAI SPORTIVA "),u.qZA(),u.qZA()}}const q0=function(){return["/corsi"]},eV=function(){return{titolo:"-MUAY THAI SPORTIVA"}};function tV(n,e){1&n&&(u.TgZ(0,"a",12),u.TgZ(1,"td",11),u._uU(2," MUAY THAI SPORTIVA "),u.qZA(),u.qZA()),2&n&&u.Q6J("routerLink",u.DdM(2,q0))("queryParams",u.DdM(3,eV))}function nV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){return u.CHM(t),u.oxw().openModal("MUAY BORAN")}),u.TgZ(1,"td",11),u._uU(2," MUAY BORAN "),u.qZA(),u.qZA()}}const rV=function(){return{titolo:"-MUAY BORAN"}};function iV(n,e){1&n&&(u.TgZ(0,"a",12),u.TgZ(1,"td",11),u._uU(2," MUAY BORAN "),u.qZA(),u.qZA()),2&n&&u.Q6J("routerLink",u.DdM(2,q0))("queryParams",u.DdM(3,rV))}function sV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){return u.CHM(t),u.oxw().openModal("MUAY THAI BAMBINI")}),u.TgZ(1,"td",11),u._uU(2," MUAY THAI BAMBINI "),u.qZA(),u.qZA()}}const oV=function(){return{titolo:"-MUAY THAI BAMBINI"}};function aV(n,e){1&n&&(u.TgZ(0,"a",12),u.TgZ(1,"td",11),u._uU(2," MUAY THAI BAMBINI "),u.qZA(),u.qZA()),2&n&&u.Q6J("routerLink",u.DdM(2,q0))("queryParams",u.DdM(3,oV))}function cV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){return u.CHM(t),u.oxw().openModal("PERSONAL TRAINING")}),u.TgZ(1,"td",13),u._uU(2," PERSONAL TRAINING "),u.qZA(),u.qZA()}}const lV=function(){return{titolo:"PERSONAL TRAINING"}};function uV(n,e){1&n&&(u.TgZ(0,"a",12),u.TgZ(1,"td",13),u._uU(2," PERSONAL TRAINING "),u.qZA(),u.qZA()),2&n&&u.Q6J("routerLink",u.DdM(2,q0))("queryParams",u.DdM(3,lV))}function dV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){return u.CHM(t),u.oxw().openModal("MUAY LERT RIT")}),u.TgZ(1,"td",13),u._uU(2," MUAY LERT RIT "),u.qZA(),u.qZA()}}const hV=function(){return{titolo:"-MUAY LERT RIT"}};function fV(n,e){1&n&&(u.TgZ(0,"a",12),u.TgZ(1,"td",13),u._uU(2," MUAY LERT RIT "),u.qZA(),u.qZA()),2&n&&u.Q6J("routerLink",u.DdM(2,q0))("queryParams",u.DdM(3,hV))}let pV=(()=>{class n{constructor(t){this.matDialog=t,this.boxe=an.BOXE_VIDEO,this.isMobile=!1,this.isResponsive=!1}ngOnInit(){this.isMobile=window.matchMedia("only screen and (max-device-width: 992px)").matches,this.isResponsive=this.getBrowserWidth()<660}getBrowserWidth(){return window.innerWidth}onResize(){this.isResponsive=this.getBrowserWidth()<660}getBrowser(){return!this.isMobile}getMobile(){return this.isMobile}openModal(t){new $0,this.matDialog.open(JU,{disableClose:!1,id:"modal-component",height:"95%",width:"100%",data:{header:t,body:"body",footer:"footer",image:""}})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(z0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-corsi"]],hostBindings:function(t,r){1&t&&u.NdJ("resize",function(l){return r.onResize(l)},!1,u.Jf7)},decls:28,vars:11,consts:[["id","corsi","role","main",1,"corsi"],[1,"video-opacity"],["autoplay","","muted","","loop","","playsinline","","id","myVideo","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"video-corsi"],["type","video/mp4",3,"src"],[1,"corsi-text-container"],[1,"corsi-title"],[1,"corsi-subtitle"],[1,"corsi-table"],["class","corso-link","mat-raised-button","","id","logout-button",3,"click",4,"ngIf"],["class","corso-link",3,"routerLink","queryParams",4,"ngIf"],["mat-raised-button","","id","logout-button",1,"corso-link",3,"click"],[1,"corso-td"],[1,"corso-link",3,"routerLink","queryParams"],[1,"corso-td",2,"padding-top","8vw"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"div",1),u.TgZ(2,"video",2),u._UZ(3,"source",3),u._uU(4," Your browser does not support HTML5 video. "),u.qZA(),u.TgZ(5,"div",4),u.TgZ(6,"h1",5),u._uU(7,"I NOSTRI CORSI"),u.qZA(),u.TgZ(8,"p",6),u._uU(9,"I corsi che proponiamo presso la nostra palestra ti permetteranno di raggiungere un benessere fisico e mentale. Grazie ai nostri allenamenti potrai migliorare la forza fisica, l'equilibrio, la coordinazione e l'armonia nei movimenti. Potrai, inoltre, ottenere una muscolatura pi\xf9 tonica ed elastica."),u.qZA(),u.TgZ(10,"table",7),u.TgZ(11,"tr"),u.YNc(12,XU,3,0,"a",8),u.YNc(13,tV,3,4,"a",9),u._UZ(14,"td"),u.YNc(15,nV,3,0,"a",8),u.YNc(16,iV,3,4,"a",9),u._UZ(17,"td"),u.YNc(18,sV,3,0,"a",8),u.YNc(19,aV,3,4,"a",9),u.qZA(),u.TgZ(20,"tr"),u._UZ(21,"td"),u.YNc(22,cV,3,0,"a",8),u.YNc(23,uV,3,4,"a",9),u._UZ(24,"td"),u.YNc(25,dV,3,0,"a",8),u.YNc(26,fV,3,4,"a",9),u._UZ(27,"td"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.s9C("src",r.boxe,u.LSH),u.xp6(9),u.Q6J("ngIf",r.getBrowser()),u.xp6(1),u.Q6J("ngIf",r.getMobile()),u.xp6(2),u.Q6J("ngIf",r.getBrowser()),u.xp6(1),u.Q6J("ngIf",r.getMobile()),u.xp6(2),u.Q6J("ngIf",r.getBrowser()),u.xp6(1),u.Q6J("ngIf",r.getMobile()),u.xp6(3),u.Q6J("ngIf",r.getBrowser()),u.xp6(1),u.Q6J("ngIf",r.getMobile()),u.xp6(2),u.Q6J("ngIf",r.getBrowser()),u.xp6(1),u.Q6J("ngIf",r.getMobile()))},directives:[vi,tf],styles:[".corsi[_ngcontent-%COMP%]{position:relative;background-color:#000;top:300px;left:0;right:0}.video-corsi[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;bottom:0;left:0;right:0;z-index:1}.video-opacity[_ngcontent-%COMP%]{z-index:2;background-color:#000;opacity:.6;position:absolute;top:0;bottom:-110px;left:0;right:0;height:57vw}.corsi-text-container[_ngcontent-%COMP%]{width:100%;z-index:2}.corsi-title[_ngcontent-%COMP%]{margin:auto;width:100%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:center;font-size:7vw;letter-spacing:.25em;padding-top:3vw}.corsi-subtitle[_ngcontent-%COMP%]{margin:auto;width:60%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:center;font-size:1vw;letter-spacing:.25em;padding-top:10px}.corsi-table[_ngcontent-%COMP%]{margin:auto;width:80%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:left;font-size:2.5vw;letter-spacing:.25em;padding-top:10vw}.corsi-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:20%}.corso-link[_ngcontent-%COMP%]{color:var(--gold);text-transform:none;text-decoration:none}.corso-link[_ngcontent-%COMP%]:visited{text-transform:none;text-decoration:none}.corso-link[_ngcontent-%COMP%]:hover{cursor:pointer}.corso-td[_ngcontent-%COMP%]{background-image:linear-gradient(var(--gold),var(--gold));background-size:0% 1px;background-repeat:no-repeat;transition:background-size .5s;background-position:0 calc(100% - 0px)}.corso-td[_ngcontent-%COMP%]:hover{background-size:100% 1px}@media screen and (max-device-width: 992px){.corsi[_ngcontent-%COMP%]{top:300px}.video-opacity[_ngcontent-%COMP%]{bottom:150px}}"]}),n})(),gV=(()=>{class n{constructor(){this.box1="assets/img/home.png",this.box2="assets/img/home.png",this.box3="assets/img/home.png",this.box4="assets/img/home.png",this.box5="assets/img/home.png",this.box6="assets/img/home.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-bo"]],decls:3,vars:0,consts:[["id","bo","role","main",1,"bo"],[1,"bo-lezioni"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u.TgZ(1,"div",1),u._uU(2," INIZIA LE TUE LEZIONI DA OGGI "),u.qZA(),u.qZA())},styles:[".bo[_ngcontent-%COMP%]{position:relative;background-color:#000;top:450px;left:0;right:0;height:300px}.bo-table[_ngcontent-%COMP%]{margin:auto;width:92%}.bo-td[_ngcontent-%COMP%]{width:33%;height:240px;cursor:pointer}.bo-td[_ngcontent-%COMP%]:hover{transform:scale(.97)}.bo-div[_ngcontent-%COMP%]{background-color:#96969599;width:100%;height:100%;display:table;cursor:pointer}.bo-p[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;text-align:center;font-size:35px;color:#000}.bo-div[_ngcontent-%COMP%]:hover{visibility:hidden}.bo-lezioni[_ngcontent-%COMP%]{padding-top:160px;letter-spacing:.4em;line-height:normal;text-align:center;font-size:40px;color:#fff}"]}),n})();const Xc=function(n){return{"background-image":n}};let mV=(()=>{class n{constructor(){this.gallery1=an.GALLERY1,this.gallery2=an.GALLERY2,this.gallery3=an.GALLERY3,this.gallery4=an.GALLERY4,this.gallery5=an.GALLERY5,this.gallery6=an.GALLERY6,this.gallery7=an.GALLERY7,this.gallery8=an.GALLERY8,this.gallery9=an.GALLERY9,this.gallery10=an.GALLERY10,this.gallery11=an.GALLERY11}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-galleria"]],decls:24,vars:33,consts:[["id","galleria","role","main",1,"galleria"],[1,"galleria-div"],["cellspacing","0","cellpadding","0",1,"galleria-table"],[1,"galleria-td"],[1,"galleria-element",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","cover",3,"ngStyle"],[1,"galleria-td-container"],[1,"galleria-td-element",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","cover",3,"ngStyle"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u.TgZ(1,"div",1),u.TgZ(2,"table",2),u.TgZ(3,"tr"),u.TgZ(4,"td",3),u._UZ(5,"div",4),u.qZA(),u.TgZ(6,"td",3),u.TgZ(7,"div",5),u._UZ(8,"div",6),u._UZ(9,"div",6),u.qZA(),u.TgZ(10,"div",5),u._UZ(11,"div",6),u._UZ(12,"div",6),u.qZA(),u.qZA(),u.TgZ(13,"td",3),u._UZ(14,"div",4),u.qZA(),u.TgZ(15,"td",3),u.TgZ(16,"div",5),u._UZ(17,"div",6),u._UZ(18,"div",6),u.qZA(),u.TgZ(19,"div",5),u._UZ(20,"div",6),u._UZ(21,"div",6),u.qZA(),u.qZA(),u.TgZ(22,"td",3),u._UZ(23,"div",4),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(5),u.Q6J("ngStyle",u.VKq(11,Xc,"url("+r.gallery1+")")),u.xp6(3),u.Q6J("ngStyle",u.VKq(13,Xc,"url("+r.gallery2+")")),u.xp6(1),u.Q6J("ngStyle",u.VKq(15,Xc,"url("+r.gallery3+")")),u.xp6(2),u.Q6J("ngStyle",u.VKq(17,Xc,"url("+r.gallery4+")")),u.xp6(1),u.Q6J("ngStyle",u.VKq(19,Xc,"url("+r.gallery5+")")),u.xp6(2),u.Q6J("ngStyle",u.VKq(21,Xc,"url("+r.gallery6+")")),u.xp6(3),u.Q6J("ngStyle",u.VKq(23,Xc,"url("+r.gallery7+")")),u.xp6(1),u.Q6J("ngStyle",u.VKq(25,Xc,"url("+r.gallery8+")")),u.xp6(2),u.Q6J("ngStyle",u.VKq(27,Xc,"url("+r.gallery9+")")),u.xp6(1),u.Q6J("ngStyle",u.VKq(29,Xc,"url("+r.gallery10+")")),u.xp6(2),u.Q6J("ngStyle",u.VKq(31,Xc,"url("+r.gallery11+")")))},directives:[Bi],styles:[".galleria[_ngcontent-%COMP%]{position:relative;background-color:#000;top:500px;left:0;right:0;height:700px}.galleria-table[_ngcontent-%COMP%]{width:max-content}.galleria-td[_ngcontent-%COMP%]{width:650px;height:500px;overflow-x:scroll}.galleria-element[_ngcontent-%COMP%]{width:650px;height:500px;cursor:pointer}.galleria-element[_ngcontent-%COMP%]:hover{opacity:.5}.galleria-div[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.galleria-td-element[_ngcontent-%COMP%]{width:323px;height:248px;cursor:pointer}.galleria-td-element[_ngcontent-%COMP%]:hover{opacity:.5}.galleria-td-container[_ngcontent-%COMP%]{display:flex}"]}),n})();const _V=function(n){return{"background-image":n}};let yV=(()=>{class n{constructor(){this.guantoni=an.GUANTONI_IMG}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-location"]],decls:17,vars:3,consts:[["id","location","role","main",1,"location"],[1,"location-fixed",3,"ngStyle"],[1,"location-title"],[1,"location-subtitle"],[1,"location-text"],[1,"location-text",2,"padding-bottom","60px"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u.TgZ(1,"div"),u.TgZ(2,"div",1),u.TgZ(3,"h1",2),u._uU(4,"DOVE TROVARCI"),u.qZA(),u.TgZ(5,"p",3),u._uU(6,"INDIRIZZO"),u.qZA(),u.TgZ(7,"p",4),u._uU(8,"Centro Sportivo Selva, Contrada Vallone della Selva, Cupello, 66051 Cupello CH San Salvo, 66050 "),u._UZ(9,"br"),u._uU(10," (zona kartodromo)"),u.qZA(),u.TgZ(11,"p",3),u._uU(12,"ORARI"),u.qZA(),u.TgZ(13,"p",4),u._uU(14,"LUNED\xcc- SABATO"),u.qZA(),u.TgZ(15,"p",5),u._uU(16,"6:30AM - 7:00PM"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngStyle",u.VKq(1,_V,"url("+r.guantoni+")")))},directives:[Bi],styles:[".location[_ngcontent-%COMP%]{position:relative;top:350px;left:0;right:0;height:700px}.location-fixed[_ngcontent-%COMP%]{min-height:700px;background-size:cover;background-attachment:fixed;background-repeat:no-repeat;background-position:center center}.location-title[_ngcontent-%COMP%]{line-height:1.2em;text-align:center;font-size:88px;letter-spacing:.25em;color:#fff;padding-top:70px;text-shadow:2px 2px grey}.location-subtitle[_ngcontent-%COMP%]{line-height:normal;text-align:center;font-size:32px;letter-spacing:.4em;color:#fff;padding-top:30px;text-shadow:2px 2px grey}.location-text[_ngcontent-%COMP%]{font-size:26px;line-height:1.5em;text-align:center;letter-spacing:normal;color:#fff;padding-top:10px;text-shadow:2px 2px grey}"]}),n})();const vV=function(n){return{"background-image":n}},bV=[{path:"",component:(()=>{class n{constructor(){this.logo=an.LOGO_IMG,this.home=an.HOME_IMG,this.guantoni=an.GUANTONI_IMG,this.facebookLogo=an.FB_LOGO,this.igLogo=an.IG_LOGO,this.about=an.ABOUT_IMG,this.boxe=an.BOXE_VIDEO,this.team=an.TEAM_IMG,this.title=an.TITLE,this.lastScrollTop=0,this.sizeNum=1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:18,vars:3,consts:[["id","home","role","main",1,"content",3,"ngStyle"],[1,"center"],[1,"home-title"],[1,"home-subtitle"],[1,"home-button-div"],["onclick","window.location.href='#about'",1,"home-button"]],template:function(t,r){1&t&&(u._UZ(0,"app-toolbar"),u.TgZ(1,"section",0),u.TgZ(2,"div",1),u.TgZ(3,"h1",2),u._uU(4,"MUAY THAI 360"),u.qZA(),u.TgZ(5,"p",3),u._uU(6,"Fight your limits"),u.qZA(),u.TgZ(7,"div",4),u.TgZ(8,"button",5),u.TgZ(9,"b"),u._uU(10,"Scopri di pi\xf9"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(11,"app-about"),u._UZ(12,"app-team"),u._UZ(13,"app-corsi"),u._UZ(14,"app-bo"),u._UZ(15,"app-galleria"),u._UZ(16,"app-location"),u._UZ(17,"app-footer")),2&t&&(u.xp6(1),u.Q6J("ngStyle",u.VKq(1,vV,"url("+r.home+")")))},directives:[Lv,Bi,yU,bU,pV,gV,mV,yV,O0],styles:['.spacer[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]{position:relative;top:200px;left:0;right:0;background-position:center center;background-repeat:no-repeat;background-attachment:inherit;background-size:cover;height:500px;opacity:.87}.center[_ngcontent-%COMP%]{margin:auto;width:100%;padding:180px 0 0}.home-title[_ngcontent-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;text-align:center;font-size:50px;letter-spacing:15px;color:#fff}.home-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:25px;line-height:normal;letter-spacing:.42em;color:#fff}.home-button-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto}.home-button[_ngcontent-%COMP%]{background-color:#000c;border:none;text-align:center;font-size:20px;color:#fff;height:45px;width:160px;cursor:pointer;margin:auto;width:100%}.home-button[_ngcontent-%COMP%]:hover{background-color:var(--gold-opacity);border:none;text-align:center;font-size:20px;color:#000;height:45px;width:160px;cursor:pointer;margin:auto;width:100%}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:1;font-size:17px;padding:5px;position:absolute}@media screen and (max-device-width: 992px){.center[_ngcontent-%COMP%]{padding:480px 0 0}.content[_ngcontent-%COMP%]{height:1675px;top:250px}}']}),n})()},{path:"events",component:uU},{path:"articoli",component:mU},{path:"corsi",component:_U}];let EV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mb.forRoot(bV)],mb]}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[nf],styles:[':root{--gold: rgb(242, 199, 130);--gold-opacity: rgb(242, 199, 130, .8)}@font-face{font-family:"DINLig";src:url(DINNeuzeitGroteskStdBdCond.6baec9697c755a121a39.otf) format("opentype")}@font-face{font-family:"DIN";src:url(DINNeuzeitGroteskStdBdCond.6baec9697c755a121a39.otf) format("opentype")}  body{background-color:#000;overflow-x:hidden}[_nghost-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#000}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}']}),n})();const aN_firebaseConfig={apiKey:"AIzaSyDIfM5NFchUe69d3s4InyVMfPvnlAr6tCA",authDomain:"muaythai360-321e1.firebaseapp.com",projectId:"muaythai360-321e1",storageBucket:"muaythai360-321e1.appspot.com",messagingSenderId:"874368303618",appId:"1:874368303618:web:2375857a941d50164b5d1b",measurementId:"G-VSZKM2F51S"};let CV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[wV]}),n.\u0275inj=u.cJS({providers:[oS,H1],imports:[[Vu,EV,u2,mo.hO.initializeApp(aN_firebaseConfig),sS,rU,KU]]}),n})();(0,u.G48)(),io().bootstrapModule(CV).catch(n=>console.error(n))},3394:(qe,Ee,F)=>{"use strict";F.d(Ee,{Z:()=>De});var u=F(3854),ne=F(3910),U=F(8026),ue=F(5422);class ae{constructor(fe,oe){this._delegate=fe,this.firebase=oe,(0,U._addComponent)(fe,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(fe,oe=U._DEFAULT_ENTRY_NAME){var ye;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(fe);return!Pe.isInitialized()&&"EXPLICIT"===(null===(ye=Pe.getComponent())||void 0===ye?void 0:ye.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:oe})}_removeServiceInstance(fe,oe=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(oe)}_addComponent(fe){(0,U._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,U._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function X(){const ve=function(ve){const fe={},oe={__esModule:!0,initializeApp:function(Et,bn={}){const wt=U.initializeApp(Et,bn);if((0,u.r3)(fe,wt.name))return fe[wt.name];const ft=new ve(wt,oe);return fe[wt.name]=ft,ft},app:Pe,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(Et){const bn=Et.name,wt=bn.replace("-compat","");if(U._registerComponent(Et)&&"PUBLIC"===Et.type){const ft=(Kt=Pe())=>{if("function"!=typeof Kt[wt])throw re.create("invalid-app-argument",{appName:bn});return Kt[wt]()};void 0!==Et.serviceProps&&(0,u.ZB)(ft,Et.serviceProps),oe[wt]=ft,ve.prototype[wt]=function(...Kt){return this._getService.bind(this,bn).apply(this,Et.multipleInstances?Kt:[])}}return"PUBLIC"===Et.type?oe[wt]:null},removeApp:function(Et){delete fe[Et]},useAsService:function(Et,bn){return"serverAuth"===bn?null:bn},modularAPIs:U}};function Pe(Et){if(!(0,u.r3)(fe,Et=Et||U._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Et});return fe[Et]}return oe.default=oe,Object.defineProperty(oe,"apps",{get:function(){return Object.keys(fe).map(Et=>fe[Et])}}),Pe.App=ve,oe}(ae);return ve.INTERNAL=Object.assign(Object.assign({},ve.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(oe){(0,u.ZB)(ve,oe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ve}(),j=new ue.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ve=self.firebase.SDK_VERSION;ve&&ve.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=L;(0,U.registerVersion)("@firebase/app-compat","0.1.14",undefined)},8026:(qe,Ee,F)=>{"use strict";F.r(Ee),F.d(Ee,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>oa,_DEFAULT_ENTRY_NAME:()=>Ws,_addComponent:()=>Cs,_addOrOverwriteComponent:()=>Do,_apps:()=>Ht,_clearComponents:()=>En,_components:()=>$t,_getProvider:()=>un,_registerComponent:()=>Is,_removeServiceInstance:()=>Ja,deleteApp:()=>rr,getApp:()=>as,getApps:()=>Se,initializeApp:()=>Li,onLog:()=>zt,registerVersion:()=>Ze,setLogLevel:()=>Ui});var u=F(8239),ne=F(3910),U=F(5422),ue=F(3854);class ae{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(Ot=>{if(function(nt){const rt=nt.getComponent();return"VERSION"===(null==rt?void 0:rt.type)}(Ot)){const kt=Ot.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(Ot=>Ot).join(" ")}}const re="@firebase/app",X=new U.Yd("@firebase/app"),Ws="[DEFAULT]",tl={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ht=new Map,$t=new Map;function Cs(nt,rt){try{nt.container.addComponent(rt)}catch(Ot){X.debug(`Component ${rt.name} failed to register with FirebaseApp ${nt.name}`,Ot)}}function Do(nt,rt){nt.container.addOrOverwriteComponent(rt)}function Is(nt){const rt=nt.name;if($t.has(rt))return X.debug(`There were multiple attempts to register component ${rt}.`),!1;$t.set(rt,nt);for(const Ot of Ht.values())Cs(Ot,nt);return!0}function un(nt,rt){return nt.container.getProvider(rt)}function Ja(nt,rt,Ot=Ws){un(nt,rt).clearInstance(Ot)}function En(){$t.clear()}const Ut=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class wn{constructor(rt,Ot,kt){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},Ot),this._name=Ot.name,this._automaticDataCollectionEnabled=Ot.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw Ut.create("app-deleted",{appName:this._name})}}const oa="9.6.3";function Li(nt,rt={}){"object"!=typeof rt&&(rt={name:rt});const Ot=Object.assign({name:Ws,automaticDataCollectionEnabled:!1},rt),kt=Ot.name;if("string"!=typeof kt||!kt)throw Ut.create("bad-app-name",{appName:String(kt)});const ei=Ht.get(kt);if(ei){if((0,ue.vZ)(nt,ei.options)&&(0,ue.vZ)(Ot,ei.config))return ei;throw Ut.create("duplicate-app",{appName:kt})}const Yt=new ne.H0(kt);for(const et of $t.values())Yt.addComponent(et);const Ne=new wn(nt,Ot,Yt);return Ht.set(kt,Ne),Ne}function as(nt=Ws){const rt=Ht.get(nt);if(!rt)throw Ut.create("no-app",{appName:nt});return rt}function Se(){return Array.from(Ht.values())}function rr(nt){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(nt){const rt=nt.name;Ht.has(rt)&&(Ht.delete(rt),yield Promise.all(nt.container.getProviders().map(Ot=>Ot.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function Ze(nt,rt,Ot){var kt;let ei=null!==(kt=tl[nt])&&void 0!==kt?kt:nt;Ot&&(ei+=`-${Ot}`);const Yt=ei.match(/\s|\//),Ne=rt.match(/\s|\//);if(Yt||Ne){const et=[`Unable to register library "${ei}" with version "${rt}":`];return Yt&&et.push(`library name "${ei}" contains illegal characters (whitespace or "/")`),Yt&&Ne&&et.push("and"),Ne&&et.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),void X.warn(et.join(" "))}Is(new ne.wA(`${ei}-version`,()=>({library:ei,version:rt}),"VERSION"))}function zt(nt,rt){if(null!==nt&&"function"!=typeof nt)throw Ut.create("invalid-log-argument");(0,U.Am)(nt,rt)}function Ui(nt){(0,U.Ub)(nt)}Is(new ne.wA("platform-logger",rt=>new ae(rt),"PRIVATE")),Ze(re,"0.7.13",""),Ze(re,"0.7.13","esm2017"),Ze("fire-js","")},3910:(qe,Ee,F)=>{"use strict";F.d(Ee,{wA:()=>U,H0:()=>ee});var u=F(8239),ne=F(3854);class U{constructor(L,j,V){this.name=L,this.instanceFactory=j,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const ue="[DEFAULT]";class ae{constructor(L,j){this.name=L,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const j=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(j)){const V=new ne.BH;if(this.instancesDeferred.set(j,V),this.isInitialized(j)||this.shouldAutoInitialize())try{const se=this.getOrInitializeService({instanceIdentifier:j});se&&V.resolve(se)}catch(se){}}return this.instancesDeferred.get(j).promise}getImmediate(L){var j;const V=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),se=null!==(j=null==L?void 0:L.optional)&&void 0!==j&&j;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(ge){if(se)return null;throw ge}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch(j){}for(const[j,V]of this.instancesDeferred.entries()){const se=this.normalizeInstanceIdentifier(j);try{const ge=this.getOrInitializeService({instanceIdentifier:se});V.resolve(ge)}catch(ge){}}}}clearInstance(L=ue){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,u.Z)(function*(){const j=Array.from(L.instances.values());yield Promise.all([...j.filter(V=>"INTERNAL"in V).map(V=>V.INTERNAL.delete()),...j.filter(V=>"_delete"in V).map(V=>V._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=ue){return this.instances.has(L)}getOptions(L=ue){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:j={}}=L,V=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(V))throw Error(`${this.name}(${V}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const se=this.getOrInitializeService({instanceIdentifier:V,options:j});for(const[ge,De]of this.instancesDeferred.entries())V===this.normalizeInstanceIdentifier(ge)&&De.resolve(se);return se}onInit(L,j){var V;const se=this.normalizeInstanceIdentifier(j),ge=null!==(V=this.onInitCallbacks.get(se))&&void 0!==V?V:new Set;ge.add(L),this.onInitCallbacks.set(se,ge);const De=this.instances.get(se);return De&&L(De,se),()=>{ge.delete(L)}}invokeOnInitCallbacks(L,j){const V=this.onInitCallbacks.get(j);if(V)for(const se of V)try{se(L,j)}catch(ge){}}getOrInitializeService({instanceIdentifier:L,options:j={}}){let V=this.instances.get(L);if(!V&&this.component&&(V=this.component.instanceFactory(this.container,{instanceIdentifier:(X=L,X===ue?void 0:X),options:j}),this.instances.set(L,V),this.instancesOptions.set(L,j),this.invokeOnInitCallbacks(V,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,V)}catch(se){}var X;return V||null}normalizeInstanceIdentifier(L=ue){return this.component?this.component.multipleInstances?L:ue:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const j=this.getProvider(L.name);if(j.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);j.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const j=new ae(L,this);return this.providers.set(L,j),j}getProviders(){return Array.from(this.providers.values())}}},5422:(qe,Ee,F)=>{"use strict";F.d(Ee,{in:()=>ne,Yd:()=>re,Ub:()=>ee,Am:()=>X});const u=[];var ne=(()=>{return(L=ne||(ne={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",ne;var L})();const U={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ue=ne.INFO,ae={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Q=(L,j,...V)=>{if(j<L.logLevel)return;const se=(new Date).toISOString(),ge=ae[j];if(!ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ge](`[${se}]  ${L.name}:`,...V)};class re{constructor(j){this.name=j,this._logLevel=ue,this._logHandler=Q,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ne))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?U[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...j),this._logHandler(this,ne.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...j),this._logHandler(this,ne.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...j),this._logHandler(this,ne.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...j),this._logHandler(this,ne.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...j),this._logHandler(this,ne.ERROR,...j)}}function ee(L){u.forEach(j=>{j.setLogLevel(L)})}function X(L,j){for(const V of u){let se=null;j&&j.level&&(se=U[j.level]),V.userLogHandler=null===L?null:(ge,De,...ve)=>{const fe=ve.map(oe=>{if(null==oe)return null;if("string"==typeof oe)return oe;if("number"==typeof oe||"boolean"==typeof oe)return oe.toString();if(oe instanceof Error)return oe.message;try{return JSON.stringify(oe)}catch(ye){return null}}).filter(oe=>oe).join(" ");De>=(null!=se?se:ge.logLevel)&&L({level:ne[De].toLowerCase(),message:fe,args:ve,type:ge.name})}}}},8239:(qe,Ee,F)=>{"use strict";function u(U,ue,ae,Q,re,ee,X){try{var L=U[ee](X),j=L.value}catch(V){return void ae(V)}L.done?ue(j):Promise.resolve(j).then(Q,re)}function ne(U){return function(){var ue=this,ae=arguments;return new Promise(function(Q,re){var ee=U.apply(ue,ae);function X(j){u(ee,Q,re,X,L,"next",j)}function L(j){u(ee,Q,re,X,L,"throw",j)}X(void 0)})}}F.d(Ee,{Z:()=>ne})}},qe=>{qe(qe.s=548)}]);
(self.webpackChunkmuaythai360=self.webpackChunkmuaythai360||[]).push([[179],{8255:Xe=>{function be(L){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+L+"'");throw f.code="MODULE_NOT_FOUND",f})}be.keys=()=>[],be.resolve=be,be.id=8255,Xe.exports=be},3018:(Xe,be,L)=>{"use strict";L.d(be,{deG:()=>Pc,tb:()=>SC,AFp:()=>CC,ip1:()=>yb,CZH:()=>tp,hGG:()=>aR,z2F:()=>am,sBO:()=>wA,Sil:()=>Go,_Vd:()=>Hu,EJc:()=>vb,SBq:()=>qo,qLn:()=>Tu,vpe:()=>xn,gxx:()=>Ru,tBr:()=>Nc,XFs:()=>Se,OlP:()=>en,zs3:()=>fn,ZZ4:()=>u_,aQg:()=>Gf,soG:()=>sm,YKP:()=>DT,v3s:()=>Li,h0i:()=>pl,PXZ:()=>$x,R0b:()=>xs,FiY:()=>Yi,Lbi:()=>xx,g9A:()=>DC,Qsj:()=>r_,FYo:()=>fl,JOm:()=>D,Tiy:()=>h0,q3G:()=>hn,tp0:()=>Ea,EAV:()=>Kx,Rgc:()=>qu,dDg:()=>B_,DyG:()=>Oc,q4F:()=>i_,GfV:()=>f0,s_b:()=>h_,ifc:()=>wt,eFA:()=>xr,G48:()=>W1,X6Q:()=>kC,_c5:()=>nR,VLi:()=>Bx,c2e:()=>L_,zSh:()=>gf,wAp:()=>$e,vHH:()=>fe,EiD:()=>Up,mCW:()=>Ql,qzn:()=>gi,JVY:()=>Op,pB0:()=>qm,eBb:()=>hv,L6k:()=>Hm,LAX:()=>Uc,cg1:()=>HE,Tjo:()=>eR,kL8:()=>$f,yhl:()=>Lc,dqk:()=>H,sIi:()=>Cf,CqO:()=>wg,QGY:()=>Af,F4k:()=>Vy,RDi:()=>hs,AaK:()=>Y,z3N:()=>bs,TTD:()=>oc,xp6:()=>oS,uIk:()=>Ny,Suo:()=>pC,Xpm:()=>yo,lG2:()=>oh,Yz7:()=>St,cJS:()=>Pr,oAB:()=>Xo,Yjl:()=>Fs,Y36:()=>_d,_UZ:()=>nl,qZA:()=>Ye,TgZ:()=>Uy,Ikx:()=>Gy,LFG:()=>Mn,$8M:()=>Fr,NdJ:()=>By,CRH:()=>gC,oxw:()=>Sn,Q6J:()=>vd,s9C:()=>SE,VKq:()=>Zd,iGM:()=>hC,Jf7:()=>ef,oJD:()=>Jm,LSH:()=>Ji,kYT:()=>vo,YNc:()=>pI,_uU:()=>nr,Oqu:()=>Lf});var f=L(9765),ee=L(5319),k=L(7574),le=L(6682),ne=L(2441);var ce=L(1307);function te(){return new f.xQ}function U(r){for(let s in r)if(r[s]===U)return s;throw Error("Could not find renamed property on target object.")}function Y(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Y).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function ae(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const we=U({__forward_ref__:U});function he(r){return r.__forward_ref__=he,r.toString=function(){return Y(this())},r}function W(r){return function(r){return"function"==typeof r&&r.hasOwnProperty(we)&&r.__forward_ref__===he}(r)?r():r}class fe extends Error{constructor(s,o){super(function(r,s){return`${r?`NG0${r}: `:""}${s}`}(s,o)),this.code=s}}function ke(r){return"string"==typeof r?r:null==r?"":String(r)}function Ot(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ke(r)}function Tt(r,s){const o=s?` in ${s}`:"";throw new fe("201",`No provider for ${Ot(r)} found${o}`)}function gn(r,s){null==r&&function(r,s,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,r,null,"!=")}function St(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Pr(r){return{providers:r.providers||[],imports:r.imports||[]}}function Er(r){return De(r,Lt)||De(r,go)}function De(r,s){return r.hasOwnProperty(s)?r[s]:null}function bi(r){return r&&(r.hasOwnProperty(zr)||r.hasOwnProperty(nt))?r[zr]:null}const Lt=U({\u0275prov:U}),zr=U({\u0275inj:U}),go=U({ngInjectableDef:U}),nt=U({ngInjectorDef:U});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let $t;function wn(r){const s=$t;return $t=r,s}function Ut(r,s,o){const u=Er(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Se.Optional?null:void 0!==s?s:void Tt(Y(r),"Injector")}function Ge(r){return{toString:r}.toString()}var Or=(()=>((Or=Or||{})[Or.OnPush=0]="OnPush",Or[Or.Default=1]="Default",Or))(),wt=(()=>((wt=wt||{})[wt.Emulated=0]="Emulated",wt[wt.None=2]="None",wt[wt.ShadowDom=3]="ShadowDom",wt))();const br="undefined"!=typeof globalThis&&globalThis,ic="undefined"!=typeof window&&window,Z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H=br||"undefined"!=typeof global&&global||ic||Z,Ve={},Ue=[],Kt=U({\u0275cmp:U}),$n=U({\u0275dir:U}),mn=U({\u0275pipe:U}),Mr=U({\u0275mod:U}),Ft=U({\u0275loc:U}),ln=U({\u0275fac:U}),Ui=U({__NG_ELEMENT_ID__:U});let Sl=0;function yo(r){return Ge(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Or.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ue,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||wt.Emulated,id:"c",styles:r.styles||Ue,_:null,setInput:null,schemas:r.schemas||null,tView:null},l=r.directives,d=r.features,m=r.pipes;return u.id+=Sl++,u.inputs=ea(r.inputs,o),u.outputs=ea(r.outputs),d&&d.forEach(v=>v(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(_o):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(xl):null,u})}function _o(r){return Hn(r)||function(r){return r[$n]||null}(r)}function xl(r){return function(r){return r[mn]||null}(r)}const ui={};function Xo(r){return Ge(()=>{const s={type:r.type,bootstrap:r.bootstrap||Ue,declarations:r.declarations||Ue,imports:r.imports||Ue,exports:r.exports||Ue,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ui[r.id]=r.type),s})}function vo(r,s){return Ge(()=>{const o=or(r,!0);o.declarations=s.declarations||Ue,o.imports=s.imports||Ue,o.exports=s.exports||Ue})}function ea(r,s){if(null==r)return Ve;const o={};for(const u in r)if(r.hasOwnProperty(u)){let l=r[u],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),o[l]=u,s&&(s[l]=d)}return o}const oh=yo;function Fs(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Hn(r){return r[Kt]||null}function or(r,s){const o=r[Mr]||null;if(!o&&!0===s)throw new Error(`Type ${Y(r)} does not have '\u0275mod' property.`);return o}function Bi(r){return Array.isArray(r)&&"object"==typeof r[1]}function Tn(r){return Array.isArray(r)&&!0===r[1]}function Vs(r){return 0!=(8&r.flags)}function Za(r){return 2==(2&r.flags)}function ia(r){return 1==(1&r.flags)}function li(r){return null!==r.template}function Rl(r){return 0!=(512&r[2])}function Cn(r,s){return r.hasOwnProperty(ln)?r[ln]:null}class ji{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function oc(){return Wa}function Wa(r){return r.type.prototype.ngOnChanges&&(r.setInput=hp),yh}function yh(){const r=Ka(this),s=null==r?void 0:r.current;if(s){const o=r.previous;if(o===Ve)r.previous=s;else for(let u in s)o[u]=s[u];r.current=null,this.ngOnChanges(s)}}function hp(r,s,o,u){const l=Ka(r)||function(r,s){return r[Nl]=s}(r,{previous:Ve,current:null}),d=l.current||(l.current={}),m=l.previous,v=this.declaredInputs[o],w=m[v];d[v]=new ji(w&&w.currentValue,s,m===Ve),r[u]=s}oc.ngInherit=!0;const Nl="__ngSimpleChanges__";function Ka(r){return r[Nl]||null}let Ya;function hs(r){Ya=r}function Gr(){return void 0!==Ya?Ya:"undefined"!=typeof document?document:void 0}function Xt(r){return!!r.listen}const Qa={createRenderer:(r,s)=>Gr()};function At(r){for(;Array.isArray(r);)r=r[0];return r}function Nr(r,s){return At(s[r.index])}function Hi(r,s){return r.data[s]}function ar(r,s){const o=s[r];return Bi(o)?o:o[0]}function cc(r){return 4==(4&r[2])}function ca(r){return 128==(128&r[2])}function fs(r,s){return null==s?null:r[s]}function Xa(r){r[18]=0}function lc(r,s){r[5]+=s;let o=r,u=r[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const ot={lFrame:vc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function dc(){return ot.bindingsEnabled}function Ie(){return ot.lFrame.lView}function Ct(){return ot.lFrame.tView}function Dn(){let r=fc();for(;null!==r&&64===r.type;)r=r.parent;return r}function fc(){return ot.lFrame.currentTNode}function di(r,s){const o=ot.lFrame;o.currentTNode=r,o.isParent=s}function eu(){return ot.lFrame.isParent}function qi(){return ot.isInCheckNoChangesMode}function Zi(r){ot.isInCheckNoChangesMode=r}function qs(){return ot.lFrame.bindingIndex++}function mc(r,s){const o=ot.lFrame;o.bindingIndex=o.bindingRootIndex=r,yc(s)}function yc(r){ot.lFrame.currentDirectiveIndex=r}function Ih(){return ot.lFrame.currentQueryIndex}function _c(r){ot.lFrame.currentQueryIndex=r}function pp(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function Th(r,s,o){if(o&Se.SkipSelf){let l=s,d=r;for(;!(l=l.parent,null!==l||o&Se.Host||(l=pp(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;s=l,r=d}const u=ot.lFrame=Ch();return u.currentTNode=s,u.lView=r,!0}function ms(r){const s=Ch(),o=r[1];ot.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Ch(){const r=ot.lFrame,s=null===r?null:r.child;return null===s?vc(r):s}function vc(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function tu(){const r=ot.lFrame;return ot.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Am=tu;function Ec(){const r=tu();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function kr(){return ot.lFrame.selectedIndex}function Wr(r){ot.lFrame.selectedIndex=r}function yn(){const r=ot.lFrame;return Hi(r.tView,r.selectedIndex)}function bc(r,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:T,ngOnDestroy:A}=d;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),v&&((r.contentHooks||(r.contentHooks=[])).push(o,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,v)),w&&(r.viewHooks||(r.viewHooks=[])).push(-o,w),T&&((r.viewHooks||(r.viewHooks=[])).push(o,T),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,T)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(o,A)}}function iu(r,s,o){So(r,s,3,o)}function su(r,s,o,u){(3&r[2])===o&&So(r,s,o,u)}function wc(r,s){let o=r[2];(3&o)===s&&(o&=2047,o+=1,r[2]=o)}function So(r,s,o,u){const d=null!=u?u:-1,m=s.length-1;let v=0;for(let w=void 0!==u?65535&r[18]:0;w<m;w++)if("number"==typeof s[w+1]){if(v=s[w],null!=u&&v>=u)break}else s[w]<0&&(r[18]+=65536),(v<d||-1==d)&&(Ic(r,o,s,w),r[18]=(4294901760&r[18])+w+2),w++}function Ic(r,s,o,u){const l=o[u]<0,d=o[u+1],v=r[l?-o[u]:o[u]];if(l){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{d.call(v)}finally{}}}else try{d.call(v)}finally{}}class Ao{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function ou(r,s,o){const u=Xt(r);let l=0;for(;l<o.length;){const d=o[l];if("number"==typeof d){if(0!==d)break;l++;const m=o[l++],v=o[l++],w=o[l++];u?r.setAttribute(s,v,w,m):s.setAttributeNS(m,v,w)}else{const m=d,v=o[++l];Cc(m)?u&&r.setProperty(s,m,v):u?r.setAttribute(s,m,v):s.setAttribute(m,v),l++}}return l}function Tc(r){return 3===r||4===r||6===r}function Cc(r){return 64===r.charCodeAt(0)}function Di(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const l=s[u];"number"==typeof l?o=l:0===o||Dc(r,o,l,null,-1===o||2===o?s[++u]:null)}}return r}function Dc(r,s,o,u,l){let d=0,m=r.length;if(-1===s)m=-1;else for(;d<r.length;){const v=r[d++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=d-1;break}}}for(;d<r.length;){const v=r[d];if("number"==typeof v)break;if(v===o){if(null===u)return void(null!==l&&(r[d+1]=l));if(u===r[d+1])return void(r[d+2]=l)}d++,null!==u&&d++,null!==l&&d++}-1!==m&&(r.splice(m,0,s),d=m+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==l&&r.splice(d++,0,l)}function Sc(r){return-1!==r}function au(r){return 32767&r}function uu(r,s){let o=function(r){return r>>16}(r),u=s;for(;o>0;)u=u[15],o--;return u}let Ac=!0;function Ro(r){const s=Ac;return Ac=r,s}let et=0;function Po(r,s){const o=zs(r,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(r.injectorIndex=s.length,Ir(u.data,r),Ir(s,null),Ir(u.blueprint,null));const l=xc(r,s),d=r.injectorIndex;if(Sc(l)){const m=au(l),v=uu(l,s),w=v[1].data;for(let T=0;T<8;T++)s[d+T]=v[m+T]|w[m+T]}return s[d+8]=l,d}function Ir(r,s){r.push(0,0,0,0,0,0,0,0,s)}function zs(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function xc(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,l=s;for(;null!==l;){const d=l[1],m=d.type;if(u=2===m?d.declTNode:1===m?l[6]:null,null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function an(r,s,o){!function(r,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Ui)&&(u=o[Ui]),null==u&&(u=o[Ui]=et++);const l=255&u;s.data[r+(l>>5)]|=1<<l}(r,s,o)}function Ep(r,s,o){if(o&Se.Optional)return r;Tt(s,"NodeInjector")}function pa(r,s,o,u){if(o&Se.Optional&&void 0===u&&(u=null),0==(o&(Se.Self|Se.Host))){const l=r[9],d=wn(void 0);try{return l?l.get(s,u,o&Se.Optional):Ut(s,u,o&Se.Optional)}finally{wn(d)}}return Ep(u,s,o)}function Si(r,s,o,u=Se.Default,l){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Ui)?r[Ui]:void 0;return"number"==typeof s?s>=0?255&s:Ul:s}(o);if("function"==typeof d){if(!Th(s,r,u))return u&Se.Host?Ep(l,o,u):pa(s,o,u,l);try{const m=d(u);if(null!=m||u&Se.Optional)return m;Tt(o)}finally{Am()}}else if("number"==typeof d){let m=null,v=zs(r,s),w=-1,T=u&Se.Host?s[16][6]:null;for((-1===v||u&Se.SkipSelf)&&(w=-1===v?xc(r,s):s[v+8],-1!==w&&Gs(u,!1)?(m=s[1],v=au(w),s=uu(w,s)):v=-1);-1!==v;){const A=s[1];if(bp(d,v,A.data)){const M=Rc(v,s,o,m,u,T);if(M!==Pn)return M}w=s[v+8],-1!==w&&Gs(u,s[1].data[v+8]===T)&&bp(d,v,s)?(m=A,v=au(w),s=uu(w,s)):v=-1}}}return pa(s,o,u,l)}const Pn={};function Ul(){return new _s(Dn(),Ie())}function Rc(r,s,o,u,l,d){const m=s[1],v=m.data[r+8],A=ga(v,m,o,null==u?Za(v)&&Ac:u!=m&&0!=(3&v.type),l&Se.Host&&d===v);return null!==A?Oo(s,m,A,v):Pn}function ga(r,s,o,u,l){const d=r.providerIndexes,m=s.data,v=1048575&d,w=r.directiveStart,A=d>>20,N=l?v+A:r.directiveEnd;for(let B=u?v:v+A;B<N;B++){const z=m[B];if(B<w&&o===z||B>=w&&z.type===o)return B}if(l){const B=m[w];if(B&&li(B)&&B.type===o)return w}return null}function Oo(r,s,o,u){let l=r[o];const d=s.data;if(function(r){return r instanceof Ao}(l)){const m=l;m.resolving&&function(r,s){throw new fe("200",`Circular dependency in DI detected for ${r}`)}(Ot(d[o]));const v=Ro(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?wn(m.injectImpl):null;Th(r,u,Se.Default);try{l=r[o]=m.factory(void 0,d,r,u),s.firstCreatePass&&o>=u.directiveStart&&function(r,s,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:d}=s.type.prototype;if(u){const m=Wa(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,l),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],s)}finally{null!==w&&wn(w),Ro(v),m.resolving=!1,Am()}}return l}function bp(r,s,o){return!!(o[s+(r>>5)]&1<<r)}function Gs(r,s){return!(r&Se.Self||r&Se.Host&&s)}class _s{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return Si(this._tNode,this._lView,s,u,o)}}function Fr(r){return function(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const d=o[l];if(Tc(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(d===s)return o[l+1];l+=2}}}return null}(Dn(),r)}const Ws="__parameters__";function ya(r,s,o){return Ge(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const l in u)this[l]=u[l]}}}(s);function l(...d){if(this instanceof l)return u.apply(this,d),this;const m=new l(...d);return v.annotation=m,v;function v(w,T,A){const M=w.hasOwnProperty(Ws)?w[Ws]:Object.defineProperty(w,Ws,{value:[]})[Ws];for(;M.length<=A;)M.push(null);return(M[A]=M[A]||[]).push(m),w}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}class en{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=St({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Pc=new en("AnalyzeForEntryComponents"),Oc=Function;function fi(r,s){void 0===s&&(s=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(s===r&&(s=r.slice(0,o)),fi(u,s)):s!==r&&s.push(u)}return s}function pi(r,s){r.forEach(o=>Array.isArray(o)?pi(o,s):s(o))}function Wi(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function Mo(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}const Qs={},No="__NG_DI_FLAG__",Ki="ngTempTokenPath",ko=/\n/gm,ql="__source",fu=U({provide:String,useValue:U});let pu;function Mc(r){const s=pu;return pu=r,s}function Dp(r,s=Se.Default){if(void 0===pu)throw new Error("inject() must be called from an injection context");return null===pu?Ut(r,void 0,s):pu.get(r,s&Se.Optional?null:void 0,s)}function Mn(r,s=Se.Default){return($t||Dp)(W(r),s)}function Fo(r){const s=[];for(let o=0;o<r.length;o++){const u=W(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let l,d=Se.Default;for(let m=0;m<u.length;m++){const v=u[m],w=iw(v);"number"==typeof w?-1===w?l=v.token:d|=w:l=v}s.push(Mn(l,d))}else s.push(Mn(u))}return s}function gu(r,s){return r[No]=s,r.prototype[No]=s,r}function iw(r){return r[No]}function dr(r,s,o,u){const l=r[Ki];throw s[ql]&&l.unshift(s[ql]),r.message=function(r,s,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let l=Y(s);if(Array.isArray(s))l=s.map(Y).join(" -> ");else if("object"==typeof s){let d=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];d.push(m+":"+("string"==typeof v?JSON.stringify(v):Y(v)))}l=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${r.replace(ko,"\n  ")}`}("\n"+r.message,l,o,u),r.ngTokenPath=l,r[Ki]=null,r}const Nc=gu(ya("Inject",r=>({token:r})),-1),Yi=gu(ya("Optional"),8),Ea=gu(ya("SkipSelf"),4);let Lo,Uh;function Ta(r){var s;return(null===(s=function(){if(void 0===Lo&&(Lo=null,H.trustedTypes))try{Lo=H.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Lo}())||void 0===s?void 0:s.createHTML(r))||r}function Bm(r){var s;return(null===(s=function(){if(void 0===Uh&&(Uh=null,H.trustedTypes))try{Uh=H.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Uh}())||void 0===s?void 0:s.createHTML(r))||r}class yu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class lv extends yu{getTypeName(){return"HTML"}}class dv extends yu{getTypeName(){return"Style"}}class Rp extends yu{getTypeName(){return"Script"}}class $m extends yu{getTypeName(){return"URL"}}class Pp extends yu{getTypeName(){return"ResourceURL"}}function bs(r){return r instanceof yu?r.changingThisBreaksApplicationSecurity:r}function gi(r,s){const o=Lc(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function Lc(r){return r instanceof yu&&r.getTypeName()||null}function Op(r){return new lv(r)}function Hm(r){return new dv(r)}function hv(r){return new Rp(r)}function Uc(r){return new $m(r)}function qm(r){return new Pp(r)}class Bh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Ta(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class jh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ta(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Ta(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let l=o.length-1;0<l;l--){const m=o.item(l).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Np=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ql(r){return(r=String(r)).match(Np)||r.match(Yl)?r:"unsafe:"+r}function Qi(r){const s={};for(const o of r.split(","))s[o]=!0;return s}function Jl(...r){const s={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const zm=Qi("area,br,col,hr,img,wbr"),Gm=Qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$h=Qi("rp,rt"),Bc=Jl(zm,Jl(Gm,Qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jl($h,Qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jl($h,Gm)),kp=Qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_u=Qi("srcset"),Hh=Jl(kp,_u,Qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Km=Qi("script,style,template");class qh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!Bc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Km.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let l=0;l<u.length;l++){const d=u.item(l),m=d.name,v=m.toLowerCase();if(!Hh.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=d.value;kp[v]&&(w=Ql(w)),_u[v]&&(r=w,w=(r=String(r)).split(",").map(s=>Ql(s.trim())).join(", ")),this.buf.push(" ",m,'="',Ym(w),'"')}var r;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();Bc.hasOwnProperty(o)&&!zm.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Ym(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Fp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lp=/([^\#-~ |!])/g;function Ym(r){return r.replace(/&/g,"&amp;").replace(Fp,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Lp,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xl;function Up(r,s){let o=null;try{Xl=Xl||function(r){const s=new jh(r);return function(){try{return!!(new window.DOMParser).parseFromString(Ta(""),"text/html")}catch(r){return!1}}()?new Bh(s):s}(r);let u=s?String(s):"";o=Xl.getInertBodyElement(u);let l=5,d=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=d,d=o.innerHTML,o=Xl.getInertBodyElement(u)}while(u!==d);return Ta((new qh).sanitizeChildren(Vp(o)||o))}finally{if(o){const u=Vp(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Vp(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var hn=(()=>((hn=hn||{})[hn.NONE=0]="NONE",hn[hn.HTML=1]="HTML",hn[hn.STYLE=2]="STYLE",hn[hn.SCRIPT=3]="SCRIPT",hn[hn.URL=4]="URL",hn[hn.RESOURCE_URL=5]="RESOURCE_URL",hn))();function Jm(r){const s=jc();return s?Bm(s.sanitize(hn.HTML,r)||""):gi(r,"HTML")?Bm(bs(r)):Up(Gr(),ke(r))}function Ji(r){const s=jc();return s?s.sanitize(hn.URL,r)||"":gi(r,"URL")?bs(r):Ql(ke(r))}function jc(){const r=Ie();return r&&r[12]}const Eu="__ngContext__";function un(r,s){r[Eu]=s}function Wh(r){const s=function(r){return r[Eu]||null}(r);return s?Array.isArray(s)?s:s.lView:null}function td(r){return r.ngOriginalError}function eo(r,...s){r.error(...s)}class Tu{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=this._findContext(s),l=(r=s)&&r.ngErrorLogger||eo;var r;l(this._console,"ERROR",s),o&&l(this._console,"ORIGINAL ERROR",o),u&&l(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(td(s)):null}_findOriginalError(s){let o=s&&td(s);for(;o&&td(o);)o=td(o);return o||null}}const uy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function ef(r){return r.ownerDocument.defaultView}function to(r){return r instanceof Function?r():r}var D=(()=>((D=D||{})[D.Important=1]="Important",D[D.DashCase=2]="DashCase",D))();function $(r,s){return undefined(r,s)}function Ae(r){const s=r[3];return Tn(s)?s[3]:s}function xt(r){return Bo(r[13])}function Zn(r){return Bo(r[4])}function Bo(r){for(;null!==r&&!Tn(r);)r=r[4];return r}function Ca(r,s,o,u,l){if(null!=u){let d,m=!1;Tn(u)?d=u:Bi(u)&&(m=!0,u=u[0]);const v=At(u);0===r&&null!==o?null==l?dy(s,o,v):Sa(s,o,v,l||null,!0):1===r&&null!==o?Sa(s,o,v,l||null,!0):2===r?function(r,s,o){const u=Yp(r,s);u&&function(r,s,o,u){Xt(r)?r.removeChild(s,o,u):s.removeChild(o)}(r,u,s,o)}(s,v,m):3===r&&s.destroyNode(v),null!=d&&function(r,s,o,u,l){const d=o[7];d!==At(o)&&Ca(s,r,u,d,l);for(let v=10;v<o.length;v++){const w=o[v];Jp(w[1],w,r,s,u,d)}}(s,r,d,o,l)}}function nf(r,s,o){return Xt(r)?r.createElement(s,o):null===o?r.createElement(s):r.createElementNS(o,s)}function uw(r,s){const o=r[9],u=o.indexOf(s),l=s[3];1024&s[2]&&(s[2]&=-1025,lc(l,-1)),o.splice(u,1)}function Tv(r,s){if(r.length<=10)return;const o=10+s,u=r[o];if(u){const l=u[17];null!==l&&l!==r&&uw(l,u),s>0&&(r[o-1][4]=u[4]);const d=Mo(r,10+s);!function(r,s){Jp(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function cw(r,s){if(!(256&s[2])){const o=s[11];Xt(o)&&o.destroyNode&&Jp(r,s,o,3,null,null),function(r){let s=r[13];if(!s)return ly(r[1],r);for(;s;){let o=null;if(Bi(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==r;)Bi(s)&&ly(s[1],s),s=s[3];null===s&&(s=r),Bi(s)&&ly(s[1],s),o=s&&s[4]}s=o}}(s)}}function ly(r,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const l=s[o[u]];if(!(l instanceof Ao)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const v=l[d[m]],w=d[m+1];try{w.call(v)}finally{}}else try{d.call(l)}finally{}}}}(r,s),function(r,s){const o=r.cleanup,u=s[7];let l=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],v="function"==typeof m?m(s):At(s[m]),w=u[l=o[d+2]],T=o[d+3];"boolean"==typeof T?v.removeEventListener(o[d],w,T):T>=0?u[l=T]():u[l=-T].unsubscribe(),d+=2}else{const m=u[l=o[d+1]];o[d].call(m)}if(null!==u){for(let d=l+1;d<u.length;d++)u[d]();s[7]=null}}(r,s),1===s[1].type&&Xt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Tn(s[3])){o!==s[3]&&uw(o,s);const u=s[19];null!==u&&u.detachView(r)}}}function Ri(r,s,o){return function(r,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const l=r.data[u.directiveStart].encapsulation;if(l===wt.None||l===wt.Emulated)return null}return Nr(u,o)}(r,s.parent,o)}function Sa(r,s,o,u,l){Xt(r)?r.insertBefore(s,o,u,l):s.insertBefore(o,u,l)}function dy(r,s,o){Xt(r)?r.appendChild(s,o):s.appendChild(o)}function Kp(r,s,o,u,l){null!==u?Sa(r,s,o,u,l):dy(r,s,o)}function Yp(r,s){return Xt(r)?r.parentNode(s):s.parentNode}let Cv=function(r,s,o){return 40&r.type?Nr(r,o):null};function Qp(r,s,o,u){const l=Ri(r,u,s),d=s[11],v=function(r,s,o){return Cv(r,s,o)}(u.parent||s[6],u,s);if(null!=l)if(Array.isArray(o))for(let w=0;w<o.length;w++)Kp(d,l,o[w],v,!1);else Kp(d,l,o,v,!1)}function sf(r,s){if(null!==s){const o=s.type;if(3&o)return Nr(s,r);if(4&o)return Cu(-1,r[s.index]);if(8&o){const u=s.child;if(null!==u)return sf(r,u);{const l=r[s.index];return Tn(l)?Cu(-1,l):At(l)}}if(32&o)return $(s,r)()||At(r[s.index]);{const u=YD(r,s);return null!==u?Array.isArray(u)?u[0]:sf(Ae(r[16]),u):sf(r,s.next)}}return null}function YD(r,s){return null!==s?r[16][6].projection[s.projection]:null}function Cu(r,s){const o=10+r+1;if(o<s.length){const u=s[o],l=u[1].firstChild;if(null!==l)return sf(u,l)}return s[7]}function xv(r,s,o,u,l,d,m){for(;null!=o;){const v=u[o.index],w=o.type;if(m&&0===s&&(v&&un(At(v),u),o.flags|=4),64!=(64&o.flags))if(8&w)xv(r,s,o.child,u,l,d,!1),Ca(s,r,l,v,d);else if(32&w){const T=$(o,u);let A;for(;A=T();)Ca(s,r,l,A,d);Ca(s,r,l,v,d)}else 16&w?Rv(r,s,u,o,l,d):Ca(s,r,l,v,d);o=m?o.projectionNext:o.next}}function Jp(r,s,o,u,l,d){xv(o,u,r.firstChild,s,l,d,!1)}function Rv(r,s,o,u,l,d){const m=o[16],w=m[6].projection[u.projection];if(Array.isArray(w))for(let T=0;T<w.length;T++)Ca(s,r,l,w[T],d);else xv(r,s,w,m[3],l,d,!0)}function hw(r,s,o){Xt(r)?r.setAttribute(s,"style",o):s.style.cssText=o}function fy(r,s,o){Xt(r)?""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o):s.className=o}function fw(r,s,o){let u=r.length;for(;;){const l=r.indexOf(s,o);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const d=s.length;if(l+d===u||r.charCodeAt(l+d)<=32)return l}o=l+1}}const pw="ng-template";function Pv(r,s,o){let u=0;for(;u<r.length;){let l=r[u++];if(o&&"class"===l){if(l=r[u],-1!==fw(l.toLowerCase(),s,0))return!0}else if(1===l){for(;u<r.length&&"string"==typeof(l=r[u++]);)if(l.toLowerCase()===s)return!0;return!1}}return!1}function gw(r){return 4===r.type&&r.value!==pw}function eS(r,s,o){return s===(4!==r.type||o?r.value:pw)}function mw(r,s,o){let u=4;const l=r.attrs||[],d=function(r){for(let s=0;s<r.length;s++)if(Tc(r[s]))return s;return r.length}(l);let m=!1;for(let v=0;v<s.length;v++){const w=s[v];if("number"!=typeof w){if(!m)if(4&u){if(u=2|1&u,""!==w&&!eS(r,w,o)||""===w&&1===s.length){if(jo(u))return!1;m=!0}}else{const T=8&u?w:s[++v];if(8&u&&null!==r.attrs){if(!Pv(r.attrs,T,o)){if(jo(u))return!1;m=!0}continue}const M=r1(8&u?"class":w,l,gw(r),o);if(-1===M){if(jo(u))return!1;m=!0;continue}if(""!==T){let N;N=M>d?"":l[M+1].toLowerCase();const B=8&u?N:null;if(B&&-1!==fw(B,T,0)||2&u&&T!==N){if(jo(u))return!1;m=!0}}}}else{if(!m&&!jo(u)&&!jo(w))return!1;if(m&&jo(w))continue;m=!1,u=w|1&u}}return jo(u)||m}function jo(r){return 0==(1&r)}function r1(r,s,o,u){if(null===s)return-1;let l=0;if(u||!o){let d=!1;for(;l<s.length;){const m=s[l];if(m===r)return l;if(3===m||6===m)d=!0;else{if(1===m||2===m){let v=s[++l];for(;"string"==typeof v;)v=s[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=d?1:2}return-1}return function(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,r)}function yw(r,s,o=!1){for(let u=0;u<s.length;u++)if(mw(r,s[u],o))return!0;return!1}function _w(r,s){return r?":not("+s.trim()+")":s}function rS(r){let s=r[0],o=1,u=2,l="",d=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const v=r[++o];l+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?l+="."+m:4&u&&(l+=" "+m);else""!==l&&!jo(m)&&(s+=_w(d,l),l=""),u=m,d=d||!jo(u);o++}return""!==l&&(s+=_w(d,l)),s}const st={};function oS(r){vw(Ct(),Ie(),kr()+r,qi())}function vw(r,s,o,u){if(!u)if(3==(3&s[2])){const d=r.preOrderCheckHooks;null!==d&&iu(s,d,o)}else{const d=r.preOrderHooks;null!==d&&su(s,d,0,o)}Wr(o)}function _y(r,s){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],d=o[u+1];if(-1!==d){const m=r.data[d];_c(l),m.contentQueries(2,s[d],d)}}}function ng(r,s,o,u,l,d,m,v,w,T){const A=s.blueprint.slice();return A[0]=l,A[2]=140|u,Xa(A),A[3]=A[15]=r,A[8]=o,A[10]=m||r&&r[10],A[11]=v||r&&r[11],A[12]=w||r&&r[12]||null,A[9]=T||r&&r[9]||null,A[6]=d,A[16]=2==s.type?r[16]:A,A}function Gc(r,s,o,u,l){let d=r.data[s];if(null===d)d=function(r,s,o,u,l){const d=fc(),m=eu(),w=r.data[s]=function(r,s,o,u,l,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,s,u,l);return null===r.firstChild&&(r.firstChild=w),null!==d&&(m?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w)),w}(r,s,o,u,l),ot.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=l;const m=function(){const r=ot.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return di(d,!0),d}function uf(r,s,o,u){if(0===o)return-1;const l=s.length;for(let d=0;d<o;d++)s.push(u),r.blueprint.push(u),r.data.push(null);return l}function rg(r,s,o){ms(s);try{const u=r.viewQuery;null!==u&&Sy(1,u,o);const l=r.template;null!==l&&Rw(r,s,l,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&_y(r,s),r.staticViewQueries&&Sy(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,s){for(let o=0;o<s.length;o++)bS(r,s[o])}(s,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[2]&=-5,Ec()}}function er(r,s,o,u){const l=s[2];if(256==(256&l))return;ms(s);const d=qi();try{Xa(s),function(r){ot.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Rw(r,s,o,2,u);const m=3==(3&l);if(!d)if(m){const T=r.preOrderCheckHooks;null!==T&&iu(s,T,null)}else{const T=r.preOrderHooks;null!==T&&su(s,T,0,null),wc(s,0)}if(function(r){for(let s=xt(r);null!==s;s=Zn(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const l=o[u],d=l[3];0==(1024&l[2])&&lc(d,1),l[2]|=1024}}}(s),function(r){for(let s=xt(r);null!==s;s=Zn(s))for(let o=10;o<s.length;o++){const u=s[o],l=u[1];ca(u)&&er(l,u,l.template,u[8])}}(s),null!==r.contentQueries&&_y(r,s),!d)if(m){const T=r.contentCheckHooks;null!==T&&iu(s,T)}else{const T=r.contentHooks;null!==T&&su(s,T,1),wc(s,1)}!function(r,s){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Wr(~l);else{const d=l,m=o[++u],v=o[++u];mc(m,d),v(2,s[d])}}}finally{Wr(-1)}}(r,s);const v=r.components;null!==v&&function(r,s){for(let o=0;o<s.length;o++)qw(r,s[o])}(s,v);const w=r.viewQuery;if(null!==w&&Sy(2,w,u),!d)if(m){const T=r.viewCheckHooks;null!==T&&iu(s,T)}else{const T=r.viewHooks;null!==T&&su(s,T,2),wc(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,lc(s[3],-1))}finally{Ec()}}function ig(r,s,o,u){const l=s[10],d=!qi(),m=cc(s);try{d&&!m&&l.begin&&l.begin(),m&&rg(r,s,u),er(r,s,o,u)}finally{d&&!m&&l.end&&l.end()}}function Rw(r,s,o,u,l){const d=kr(),m=2&u;try{Wr(-1),m&&s.length>20&&vw(r,s,20,qi()),o(u,l)}finally{Wr(d)}}function Bv(r,s,o){!dc()||(function(r,s,o,u){const l=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||Po(o,s),un(u,s);const m=o.initialInputs;for(let v=l;v<d;v++){const w=r.data[v],T=li(w);T&&ES(s,o,w);const A=Oo(s,r,v,o);un(A,s),null!==m&&zv(0,v-l,A,w,0,m),T&&(ar(o.index,s)[8]=A)}}(r,s,o,Nr(o,s)),128==(128&o.flags)&&function(r,s,o){const u=o.directiveStart,l=o.directiveEnd,m=o.index,v=ot.lFrame.currentDirectiveIndex;try{Wr(m);for(let w=u;w<l;w++){const T=r.data[w],A=s[w];yc(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Bw(T,A)}}finally{Wr(-1),yc(v)}}(r,s,o))}function jv(r,s,o=Nr){const u=s.localNames;if(null!==u){let l=s.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],v=-1===m?o(s,r):r[m];r[l++]=v}}}function sg(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=sd(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function sd(r,s,o,u,l,d,m,v,w,T){const A=20+u,M=A+l,N=function(r,s){const o=[];for(let u=0;u<s;u++)o.push(u<r?null:st);return o}(A,M),B="function"==typeof T?T():T;return N[1]={type:r,blueprint:N,template:o,queries:null,viewQuery:v,declTNode:s,data:N.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:B,incompleteFirstPass:!1}}function Hv(r,s,o,u){const l=ff(s);null===o?l.push(u):(l.push(o),r.firstCreatePass&&cg(r).push(u,l.length-1))}function Mw(r,s,o){for(let u in r)if(r.hasOwnProperty(u)){const l=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,l):o[u]=[s,l]}return o}function Pi(r,s,o,u,l,d,m,v){const w=Nr(s,o);let A,T=s.inputs;!v&&null!=T&&(A=T[u])?(Kv(r,o,A,u,l),Za(s)&&function(r,s){const o=ar(s,r);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),l=null!=m?m(l,s.value||"",u):l,Xt(d)?d.setProperty(w,u,l):Cc(u)||(w.setProperty?w.setProperty(u,l):w[u]=l))}function lf(r,s,o,u){let l=!1;if(dc()){const d=function(r,s,o){const u=r.directiveRegistry;let l=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];yw(o,m.selectors,!1)&&(l||(l=[]),an(Po(o,s),r,m.type),li(m)?(Ty(r,o),l.unshift(m)):l.push(m))}return l}(r,s,o),m=null===u?null:{"":-1};if(null!==d){l=!0,Cy(o,r.data.length,d.length);for(let A=0;A<d.length;A++){const M=d[A];M.providersResolver&&M.providersResolver(M)}let v=!1,w=!1,T=uf(r,s,d.length,null);for(let A=0;A<d.length;A++){const M=d[A];o.mergedAttrs=Di(o.mergedAttrs,M.hostAttrs),Zv(r,o,s,T,M),vS(T,M,m),null!==M.contentQueries&&(o.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(o.flags|=128);const N=M.type.prototype;!v&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),v=!0),!w&&(N.ngOnChanges||N.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),w=!0),T++}!function(r,s){const u=s.directiveEnd,l=r.data,d=s.attrs,m=[];let v=null,w=null;for(let T=s.directiveStart;T<u;T++){const A=l[T],M=A.inputs,N=null===d||gw(s)?null:jw(M,d);m.push(N),v=Mw(M,T,v),w=Mw(A.outputs,T,w)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=v,s.outputs=w}(r,o)}m&&function(r,s,o){if(s){const u=r.localNames=[];for(let l=0;l<s.length;l+=2){const d=o[s[l+1]];if(null==d)throw new fe("301",`Export of name '${s[l+1]}' not found!`);u.push(s[l],d)}}}(o,u,m)}return o.mergedAttrs=Di(o.mergedAttrs,o.attrs),l}function Iy(r,s,o,u,l,d){const m=d.hostBindings;if(m){let v=r.hostBindingOpCodes;null===v&&(v=r.hostBindingOpCodes=[]);const w=~s.index;(function(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(v)!=w&&v.push(w),v.push(u,l,m)}}function Bw(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Ty(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function vS(r,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=r;li(s)&&(o[""]=r)}}function Cy(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}function Zv(r,s,o,u,l){r.data[u]=l;const d=l.factory||(l.factory=Cn(l.type)),m=new Ao(d,li(l),null);r.blueprint[u]=m,o[u]=m,Iy(r,s,0,u,uf(r,o,l.hostVars,st),l)}function ES(r,s,o){const u=Nr(s,r),l=sg(o),d=r[10],m=Au(r,ng(r,l,null,o.onPush?64:16,u,s,d,d.createRenderer(u,o),null,null));r[s.index]=m}function Is(r,s,o,u,l,d){const m=Nr(r,s);!function(r,s,o,u,l,d,m){if(null==d)Xt(r)?r.removeAttribute(s,l,o):s.removeAttribute(l);else{const v=null==m?ke(d):m(d,u||"",l);Xt(r)?r.setAttribute(s,l,v,o):o?s.setAttributeNS(o,l,v):s.setAttribute(l,v)}}(s[11],m,d,r.value,o,u,l)}function zv(r,s,o,u,l,d){const m=d[s];if(null!==m){const v=u.setInput;for(let w=0;w<m.length;){const T=m[w++],A=m[w++],M=m[w++];null!==v?u.setInput(o,M,T,A):o[A]=M}}}function jw(r,s){let o=null,u=0;for(;u<s.length;){const l=s[u];if(0!==l)if(5!==l){if("number"==typeof l)break;r.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,r[l],s[u+1])),u+=2}else u+=2;else u+=4}return o}function df(r,s,o,u){return new Array(r,!0,!1,s,null,0,u,o,null,null)}function qw(r,s){const o=ar(s,r);if(ca(o)){const u=o[1];80&o[2]?er(u,o,u.template,o[8]):o[5]>0&&hf(o)}}function hf(r){for(let u=xt(r);null!==u;u=Zn(u))for(let l=10;l<u.length;l++){const d=u[l];if(1024&d[2]){const m=d[1];er(m,d,m.template,d[8])}else d[5]>0&&hf(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=ar(o[u],r);ca(l)&&l[5]>0&&hf(l)}}function bS(r,s){const o=ar(s,r),u=o[1];(function(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])})(u,o),rg(u,o,o[8])}function Au(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function Gv(r){for(;r;){r[2]|=64;const s=Ae(r);if(Rl(r)&&!s)return r;r=s}return null}function Dy(r,s,o){const u=s[10];u.begin&&u.begin();try{er(r,s,r.template,o)}catch(l){throw Ay(s,l),l}finally{u.end&&u.end()}}function ag(r){!function(r){for(let s=0;s<r.components.length;s++){const o=r.components[s],u=Wh(o),l=u[1];ig(l,u,l.template,o)}}(r[8])}function Sy(r,s,o){_c(0),s(r,o)}const zw=(()=>Promise.resolve(null))();function ff(r){return r[7]||(r[7]=[])}function cg(r){return r.cleanup||(r.cleanup=[])}function Ay(r,s){const o=r[9],u=o?o.get(Tu,null):null;u&&u.handleError(s)}function Kv(r,s,o,u,l){for(let d=0;d<o.length;){const m=o[d++],v=o[d++],w=s[m],T=r.data[m];null!==T.setInput?T.setInput(w,l,u,v):w[v]=l}}function xa(r,s,o){const u=function(r,s){return At(s[r])}(s,r);!function(r,s,o){Xt(r)?r.setValue(s,o):s.textContent=o}(r[11],u,o)}function Wc(r,s,o){let u=o?r.styles:null,l=o?r.classes:null,d=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?d=v:1==d?l=ae(l,v):2==d&&(u=ae(u,v+": "+s[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=l:r.classesWithoutHost=l}const Ru=new en("INJECTOR",-1);class pf{get(s,o=Qs){if(o===Qs){const u=new Error(`NullInjectorError: No provider for ${Y(s)}!`);throw u.name="NullInjectorError",u}return o}}const gf=new en("Set Injector scope."),lg={},Jv={};let mf;function xy(){return void 0===mf&&(mf=new pf),mf}function Xv(r,s=null,o=null,u){return new Kw(r,o,s||xy(),u)}class Kw{constructor(s,o,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&pi(o,v=>this.processProvider(v,s,o)),pi([s],v=>this.processInjectorType(v,[],d)),this.records.set(Ru,Ra(void 0,this));const m=this.records.get(gf);this.scope=null!=m?m.value:null,this.source=l||("object"==typeof s?null:Y(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Qs,u=Se.Default){this.assertNotDestroyed();const l=Mc(this),d=wn(void 0);try{if(!(u&Se.SkipSelf)){let v=this.records.get(s);if(void 0===v){const w=("function"==typeof(r=s)||"object"==typeof r&&r instanceof en)&&Er(s);v=w&&this.injectableDefInScope(w)?Ra(eE(s),lg):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(u&Se.Self?xy():this.parent).get(s,o=u&Se.Optional&&o===Qs?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Ki]=m[Ki]||[]).unshift(Y(s)),l)throw m;return dr(m,s,"R3InjectorError",this.source)}throw m}finally{wn(d),Mc(l)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,l)=>s.push(Y(l))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,u){if(!(s=W(s)))return!1;let l=bi(s);const d=null==l&&s.ngModule||void 0,m=void 0===d?s:d,v=-1!==u.indexOf(m);if(void 0!==d&&(l=bi(d)),null==l)return!1;if(null!=l.imports&&!v){let A;u.push(m);try{pi(l.imports,M=>{this.processInjectorType(M,o,u)&&(void 0===A&&(A=[]),A.push(M))})}finally{}if(void 0!==A)for(let M=0;M<A.length;M++){const{ngModule:N,providers:B}=A[M];pi(B,z=>this.processProvider(z,N,B||Ue))}}this.injectorDefTypes.add(m);const w=Cn(m)||(()=>new m);this.records.set(m,Ra(w,lg));const T=l.providers;if(null!=T&&!v){const A=s;pi(T,M=>this.processProvider(M,A,T))}return void 0!==d&&void 0!==s.providers}processProvider(s,o,u){let l=Yc(s=W(s))?s:W(s&&s.provide);const d=Kc(r=s)?Ra(void 0,r.useValue):Ra(function(r,s,o){let u;if(Yc(r)){const l=W(r);return Cn(l)||eE(l)}if(Kc(r))u=()=>W(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Fo(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>Mn(W(r.useExisting));else{const l=W(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Cn(l)||eE(l);u=()=>new l(...Fo(r.deps))}return u}(r),lg);var r;if(Yc(s)||!0!==s.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=Ra(void 0,lg,!0),m.factory=()=>Fo(m.multi),this.records.set(l,m)),l=s,m.multi.push(s)}this.records.set(l,d)}hydrate(s,o){return o.value===lg&&(o.value=Jv,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(s){if(!s.providedIn)return!1;const o=W(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function eE(r){const s=Er(r),o=null!==s?s.factory:Cn(r);if(null!==o)return o;if(r instanceof en)throw new Error(`Token ${Y(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const s=r.length;if(s>0){const u=function(r,s){const o=[];for(let u=0;u<r;u++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${Y(r)}: (${u.join(", ")}).`)}const o=function(r){const s=r&&(r[Lt]||r[go]);if(s){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function Ra(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function Kc(r){return null!==r&&"object"==typeof r&&fu in r}function Yc(r){return"function"==typeof r}const Pa=function(r,s,o){return function(r,s=null,o=null,u){const l=Xv(r,s,o,u);return l._resolveInjectorDefTypes(),l}({name:o},s,r,o)};let fn=(()=>{class r{static create(o,u){return Array.isArray(o)?Pa(o,u,""):Pa(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=Qs,r.NULL=new pf,r.\u0275prov=St({token:r,providedIn:"any",factory:()=>Mn(Ru)}),r.__NG_ELEMENT_ID__=-1,r})();function fr(r,s){bc(Wh(r)[1],Dn())}let mg=null;function Tf(){if(!mg){const r=H.Symbol;if(r&&r.iterator)mg=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(mg=u)}}}return mg}function Cf(r){return!!My(r)&&(Array.isArray(r)||!(r instanceof Map)&&Tf()in r)}function My(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function mi(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function Ny(r,s,o,u){const l=Ie();return mi(l,qs(),s)&&(Ct(),Is(yn(),l,r,s,o,u)),Ny}function tl(r,s,o,u){return mi(r,qs(),o)?s+ke(o)+u:st}function pI(r,s,o,u,l,d,m,v){const w=Ie(),T=Ct(),A=r+20,M=T.firstCreatePass?function(r,s,o,u,l,d,m,v,w){const T=s.consts,A=Gc(s,r,4,m||null,fs(T,v));lf(s,o,A,fs(T,w)),bc(s,A);const M=A.tViews=sd(2,A,u,l,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,A),M.queries=s.queries.embeddedTView(A)),A}(A,T,w,s,o,u,l,d,m):T.data[A];di(M,!1);const N=w[11].createComment("");Qp(T,w,N,M),un(N,w),Au(w,w[A]=df(N,w,N,M)),ia(M)&&Bv(T,w,M),null!=m&&jv(w,M,v)}function _d(r,s=Se.Default){const o=Ie();return null===o?Mn(r,s):Si(Dn(),o,W(r),s)}function vd(r,s,o){const u=Ie();return mi(u,qs(),s)&&Pi(Ct(),yn(),u,r,s,u[11],o,!1),vd}function ku(r,s,o,u,l){const m=l?"class":"style";Kv(r,o,s.inputs[m],m,u)}function Uy(r,s,o,u){const l=Ie(),d=Ct(),m=20+r,v=l[11],w=l[m]=nf(v,s,ot.lFrame.currentNamespace),T=d.firstCreatePass?function(r,s,o,u,l,d,m){const v=s.consts,T=Gc(s,r,2,l,fs(v,d));return lf(s,o,T,fs(v,m)),null!==T.attrs&&Wc(T,T.attrs,!1),null!==T.mergedAttrs&&Wc(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(m,d,l,0,s,o,u):d.data[m];di(T,!0);const A=T.mergedAttrs;null!==A&&ou(v,w,A);const M=T.classes;null!==M&&fy(v,w,M);const N=T.styles;null!==N&&hw(v,w,N),64!=(64&T.flags)&&Qp(d,l,w,T),0===ot.lFrame.elementDepthCount&&un(w,l),ot.lFrame.elementDepthCount++,ia(T)&&(Bv(d,l,T),function(r,s,o){if(Vs(s)){const l=s.directiveEnd;for(let d=s.directiveStart;d<l;d++){const m=r.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}(d,T,l)),null!==u&&jv(l,T)}function Ye(){let r=Dn();eu()?ot.lFrame.isParent=!1:(r=r.parent,di(r,!1));const s=r;ot.lFrame.elementDepthCount--;const o=Ct();o.firstCreatePass&&(bc(o,r),Vs(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(s)&&ku(o,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(s)&&ku(o,s,Ie(),s.stylesWithoutHost,!1)}function nl(r,s,o,u){Uy(r,s,o,u),Ye()}function Af(r){return!!r&&"function"==typeof r.then}function Vy(r){return!!r&&"function"==typeof r.subscribe}const wg=Vy;function By(r,s,o,u){const l=Ie(),d=Ct(),m=Dn();return function(r,s,o,u,l,d,m,v){const w=ia(u),A=r.firstCreatePass&&cg(r),M=s[8],N=ff(s);let B=!0;if(3&u.type||v){const J=Nr(u,s),Ce=v?v(J):J,_e=N.length,Qe=v?ht=>v(At(ht[u.index])):u.index;if(Xt(o)){let ht=null;if(!v&&w&&(ht=function(r,s,o,u){const l=r.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const m=l[d];if(m===o&&l[d+1]===u){const v=s[7],w=l[d+2];return v.length>w?v[w]:null}"string"==typeof m&&(d+=2)}return null}(r,s,l,u.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=d,ht.__ngLastListenerFn__=d,B=!1;else{d=$y(u,s,M,d,!1);const Mt=o.listen(Ce,l,d);N.push(d,Mt),A&&A.push(l,Qe,_e,_e+1)}}else d=$y(u,s,M,d,!0),Ce.addEventListener(l,d,m),N.push(d),A&&A.push(l,Qe,_e,m)}else d=$y(u,s,M,d,!1);const z=u.outputs;let oe;if(B&&null!==z&&(oe=z[l])){const J=oe.length;if(J)for(let Ce=0;Ce<J;Ce+=2){const qr=s[oe[Ce]][oe[Ce+1]].subscribe(d),Ps=N.length;N.push(d,qr),A&&A.push(l,u.index,Ps,-(Ps+1))}}}(d,l,l[11],m,r,s,!!o,u),By}function ti(r,s,o,u){try{return!1!==o(u)}catch(l){return Ay(r,l),!1}}function $y(r,s,o,u,l){return function d(m){if(m===Function)return u;const v=2&r.flags?ar(r.index,s):s;0==(32&s[2])&&Gv(v);let w=ti(s,0,u,m),T=d.__ngNextListenerFn__;for(;T;)w=ti(s,0,T,m)&&w,T=T.__ngNextListenerFn__;return l&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function Sn(r=1){return function(r){return(ot.lFrame.contextLView=function(r,s){for(;r>0;)s=s[15],r--;return s}(r,ot.lFrame.contextLView))[8]}(r)}function SE(r,s,o){return Rf(r,"",s,"",o),SE}function Rf(r,s,o,u,l){const d=Ie(),m=tl(d,s,o,u);return m!==st&&Pi(Ct(),yn(),d,r,m,d[11],l,!1),Rf}function nr(r,s=""){const o=Ie(),u=Ct(),l=r+20,d=u.firstCreatePass?Gc(u,l,1,s,null):u.data[l],m=o[l]=function(r,s){return Xt(r)?r.createText(s):r.createTextNode(s)}(o[11],s);Qp(u,o,m,d),di(d,!1)}function Lf(r){return Uf("",r,""),Lf}function Uf(r,s,o){const u=Ie(),l=tl(u,r,s,o);return l!==st&&xa(u,kr(),l),Uf}function Gy(r,s,o){const u=Ie();return mi(u,qs(),s)&&Pi(Ct(),yn(),u,r,s,u[11],o,!0),Gy}const il=void 0;var GI=["en",[["a","p"],["AM","PM"],il],[["AM","PM"],il,il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",il,"{1} 'at' {0}",il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const s=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let Id={};function HE(r){const s=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=qE(s);if(o)return o;const u=s.split("-")[0];if(o=qE(u),o)return o;if("en"===u)return GI;throw new Error(`Missing locale data for the locale "${r}".`)}function $f(r){return HE(r)[$e.PluralCase]}function qE(r){return r in Id||(Id[r]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[r]),Id[r]}var $e=(()=>(($e=$e||{})[$e.LocaleId=0]="LocaleId",$e[$e.DayPeriodsFormat=1]="DayPeriodsFormat",$e[$e.DayPeriodsStandalone=2]="DayPeriodsStandalone",$e[$e.DaysFormat=3]="DaysFormat",$e[$e.DaysStandalone=4]="DaysStandalone",$e[$e.MonthsFormat=5]="MonthsFormat",$e[$e.MonthsStandalone=6]="MonthsStandalone",$e[$e.Eras=7]="Eras",$e[$e.FirstDayOfWeek=8]="FirstDayOfWeek",$e[$e.WeekendRange=9]="WeekendRange",$e[$e.DateFormat=10]="DateFormat",$e[$e.TimeFormat=11]="TimeFormat",$e[$e.DateTimeFormat=12]="DateTimeFormat",$e[$e.NumberSymbols=13]="NumberSymbols",$e[$e.NumberFormats=14]="NumberFormats",$e[$e.CurrencyCode=15]="CurrencyCode",$e[$e.CurrencySymbol=16]="CurrencySymbol",$e[$e.CurrencyName=17]="CurrencyName",$e[$e.Currencies=18]="Currencies",$e[$e.Directionality=19]="Directionality",$e[$e.PluralCase=20]="PluralCase",$e[$e.ExtraData=21]="ExtraData",$e))();const Ds="en-US";let GE=Ds;function WE(r){gn(r,"Expected localeId to be defined"),"string"==typeof r&&(GE=r.toLowerCase().replace(/_/g,"-"))}class u0{}const mT="ngComponent";class fA{resolveComponentFactory(s){throw function(r){const s=Error(`No component factory found for ${Y(r)}. Did you add it to @NgModule.entryComponents?`);return s[mT]=r,s}(s)}}let Hu=(()=>{class r{}return r.NULL=new fA,r})();function t_(...r){}function Rd(r,s){return new qo(Nr(r,s))}const gA=function(){return Rd(Dn(),Ie())};let qo=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=gA,r})();function n_(r){return r instanceof qo?r.nativeElement:r}class fl{}let r_=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>_T(),r})();const _T=function(){const r=Ie(),o=ar(Dn().index,r);return function(r){return r[11]}(Bi(o)?o:r)};let h0=(()=>{class r{}return r.\u0275prov=St({token:r,providedIn:"root",factory:()=>null}),r})();class f0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const i_=new f0("12.2.13");class s_{constructor(){}supports(s){return Cf(s)}create(s){return new _A(s)}}const mA=(r,s)=>s;class _A{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||mA}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,l=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<Od(u,l,d)?o:u,v=Od(m,l,d),w=m.currentIndex;if(m===u)l--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{d||(d=[]);const T=v-l,A=w-l;if(T!=A){for(let N=0;N<T;N++){const B=N<d.length?d[N]:d[N]=0,z=B+N;A<=z&&z<T&&(d[N]=B+1)}d[m.previousIndex]=A-T}}v!==w&&s(m,v,w)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Cf(s))throw new Error(`Error trying to diff '${Y(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l,d,m,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)d=s[v],m=this._trackByFn(v,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,v)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,v),u=!0),o=o._next}else l=0,function(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[Tf()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,v=>{m=this._trackByFn(l,v),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,v,m,l)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,l){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,l)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,l)):s=this._addAfter(new ET(o,u),d,l),s}_verifyReinsertion(s,o,u,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?s=this._reinsertAfter(d,s._prev,l):s.currentIndex!=l&&(s.currentIndex=l,this._addToMoves(s,l)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const l=s._prevRemoved,d=s._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const l=null===o?this._itHead:o._next;return s._next=l,s._prev=o,null===l?this._itTail=s:l._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Pd),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pd),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ET{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vA{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Pd{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new vA,this.map.set(o,u)),u.add(s)}get(s,o){const l=this.map.get(s);return l?l.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Od(r,s,o){const u=r.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+s+l}class o_{constructor(){}supports(s){return s instanceof Map||My(s)}create(){return new a_}}class a_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||My(s)))throw new Error(`Error trying to diff '${Y(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const l=this._records.get(s);this._maybeAddToChanges(l,o);const d=l._prev,m=l._next;return d&&(d._next=m),m&&(m._prev=d),l._next=null,l._prev=null,l}const u=new bT(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class bT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function p0(){return new u_([new s_])}let u_=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||p0()),deps:[[r,new Ea,new Yi]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=St({token:r,providedIn:"root",factory:p0}),r})();function wT(){return new Gf([new o_])}let Gf=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||wT()),deps:[[r,new Ea,new Yi]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=St({token:r,providedIn:"root",factory:wT}),r})();function c_(r,s,o,u,l=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&u.push(At(d)),Tn(d))for(let v=10;v<d.length;v++){const w=d[v],T=w[1].firstChild;null!==T&&c_(w[1],w,T,u)}const m=o.type;if(8&m)c_(r,s,o.child,u);else if(32&m){const v=$(o,s);let w;for(;w=v();)u.push(w)}else if(16&m){const v=YD(s,o);if(Array.isArray(v))u.push(...v);else{const w=Ae(s[16]);c_(w[1],w,v,u,!0)}}o=l?o.projectionNext:o.next}return u}class Md{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return c_(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Tn(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(Tv(s,u),Mo(o,u))}this._attachedToViewContainer=!1}cw(this._lView[1],this._lView)}onDestroy(s){Hv(this._lView[1],this._lView,null,s)}markForCheck(){Gv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,s,o){Zi(!0);try{Dy(r,s,o)}finally{Zi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Jp(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class EA extends Md{constructor(s){super(s),this._view=s}detectChanges(){ag(this._view)}checkNoChanges(){!function(r){Zi(!0);try{ag(r)}finally{Zi(!1)}}(this._view)}get context(){return null}}const bA=function(r){return function(r,s,o){if(Za(r)&&!o){const u=ar(r.index,s);return new Md(u,u)}return 47&r.type?new Md(s[16],s):null}(Dn(),Ie(),16==(16&r))};let wA=(()=>{class r{}return r.__NG_ELEMENT_ID__=bA,r})();const CA=[new o_],y0=new u_([new s_]),IT=new Gf(CA),l_=function(){return Wf(Dn(),Ie())};let qu=(()=>{class r{}return r.__NG_ELEMENT_ID__=l_,r})();const d_=qu,_0=class extends d_{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=ng(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),rg(o,u,s),new Md(u)}};function Wf(r,s){return 4&r.type?new _0(s,r,Rd(r,s)):null}class pl{}class DT{}const SA=function(){return xT(Dn(),Ie())};let h_=(()=>{class r{}return r.__NG_ELEMENT_ID__=SA,r})();const f_=h_,Kf=class extends f_{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Rd(this._hostTNode,this._hostLView)}get injector(){return new _s(this._hostTNode,this._hostLView)}get parentInjector(){const s=xc(this._hostTNode,this._hostLView);if(Sc(s)){const o=uu(s,this._hostLView),u=au(s);return new _s(o[1].data[u+8],o)}return new _s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=p_(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const l=s.createEmbeddedView(o||{});return this.insert(l,u),l}createComponent(s,o,u,l,d){const m=u||this.parentInjector;if(!d&&null==s.ngModule&&m){const w=m.get(pl,null);w&&(d=w)}const v=s.create(m,l,void 0,d);return this.insert(v.hostView,o),v}insert(s,o){const u=s._lView,l=u[1];if(Tn(u[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const M=u[3],N=new Kf(M,M[6],M[3]);N.detach(N.indexOf(s))}}const d=this._adjustIndex(o),m=this._lContainer;!function(r,s,o,u){const l=10+u,d=o.length;u>0&&(o[l-1][4]=s),u<d-10?(s[4]=o[l],Wi(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(r,s){const o=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===o?r[9]=[s]:o.push(s)}(m,s);const v=s[19];null!==v&&v.insertView(r),s[2]|=128}(l,u,m,d);const v=Cu(d,m),w=u[11],T=Yp(w,m[7]);return null!==T&&function(r,s,o,u,l,d){u[0]=l,u[6]=s,Jp(r,u,o,1,l,d)}(l,m[6],w,u,T,v),s.attachToViewContainerRef(),Wi(g_(m),d,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=p_(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=Tv(this._lContainer,o);u&&(Mo(g_(this._lContainer),o),cw(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=Tv(this._lContainer,o);return u&&null!=Mo(g_(this._lContainer),o)?new Md(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function p_(r){return r[8]}function g_(r){return r[8]||(r[8]=[])}function xT(r,s){let o;const u=s[r.index];if(Tn(u))o=u;else{let l;if(8&r.type)l=At(u);else{const d=s[11];l=d.createComment("");const m=Nr(r,s);Sa(d,Yp(d,m),l,function(r,s){return Xt(r)?r.nextSibling(s):s.nextSibling}(d,m),!1)}s[r.index]=o=df(u,s,l,r),Au(s,o)}return new Kf(o,r,s)}const yl={};class b_ extends Hu{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Hn(s);return new XT(o,this.ngModule)}}function G0(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}const zA=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>uy});class XT extends u0{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(rS).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return G0(this.componentDef.inputs)}get outputs(){return G0(this.componentDef.outputs)}create(s,o,u,l){const d=(l=l||this.ngModule)?function(r,s){return{get:(o,u,l)=>{const d=r.get(o,yl,l);return d!==yl||u===yl?d:s.get(o,u,l)}}}(s,l.injector):s,m=d.get(fl,Qa),v=d.get(h0,null),w=m.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=u?function(r,s,o){if(Xt(r))return r.selectRootElement(s,o===wt.ShadowDom);let u="string"==typeof s?r.querySelector(s):s;return u.textContent="",u}(w,u,this.componentDef.encapsulation):nf(m.createRenderer(null,this.componentDef),T,function(r){const s=r.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(T)),M=this.componentDef.onPush?576:528,N=function(r,s){return{components:[],scheduler:r||uy,clean:zw,playerHandler:s||null,flags:0}}(),B=sd(0,null,null,1,0,null,null,null,null,null),z=ng(null,B,N,M,null,null,m,w,v,d);let oe,J;ms(z);try{const Ce=function(r,s,o,u,l,d){const m=o[1];o[20]=r;const w=Gc(m,20,2,"#host",null),T=w.mergedAttrs=s.hostAttrs;null!==T&&(Wc(w,T,!0),null!==r&&(ou(l,r,T),null!==w.classes&&fy(l,r,w.classes),null!==w.styles&&hw(l,r,w.styles)));const A=u.createRenderer(r,s),M=ng(o,sg(s),null,s.onPush?64:16,o[20],w,u,A,d||null,null);return m.firstCreatePass&&(an(Po(w,o),m,s.type),Ty(m,w),Cy(w,o.length,1)),Au(o,M),o[20]=M}(A,this.componentDef,z,m,w);if(A)if(u)ou(w,A,["ng-version",i_.full]);else{const{attrs:_e,classes:Qe}=function(r){const s=[],o=[];let u=1,l=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===l?""!==d&&s.push(d,r[++u]):8===l&&o.push(d);else{if(!jo(l))break;l=d}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);_e&&ou(w,A,_e),Qe&&Qe.length>0&&fy(w,A,Qe.join(" "))}if(J=Hi(B,20),void 0!==o){const _e=J.projection=[];for(let Qe=0;Qe<this.ngContentSelectors.length;Qe++){const ht=o[Qe];_e.push(null!=ht?Array.from(ht):null)}}oe=function(r,s,o,u,l){const d=o[1],m=function(r,s,o){const u=Dn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Zv(r,u,s,uf(r,s,1,null),o));const l=Oo(s,r,u.directiveStart,u);un(l,s);const d=Nr(u,s);return d&&un(d,s),l}(d,o,s);if(u.components.push(m),r[8]=m,l&&l.forEach(w=>w(m,s)),s.contentQueries){const w=Dn();s.contentQueries(1,m,w.directiveStart)}const v=Dn();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Wr(v.index),Iy(o[1],v,0,v.directiveStart,v.directiveEnd,s),Bw(s,m)),m}(Ce,this.componentDef,z,N,[fr]),rg(B,z,null)}finally{Ec()}return new W0(this.componentType,oe,Rd(J,z),z,J)}}class W0 extends class{}{constructor(s,o,u,l,d){super(),this.location=u,this._rootLView=l,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new EA(l),this.componentType=s}get injector(){return new _s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const _l=new Map;class Y0 extends pl{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new b_(this);const u=or(s),l=s[Ft]||null;l&&WE(l),this._bootstrapComponents=to(u.bootstrap),this._r3Injector=Xv(s,o,[{provide:pl,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver}],Y(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=fn.THROW_IF_NOT_FOUND,u=Se.Default){return s===fn||s===pl||s===Ru?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class C_ extends DT{constructor(s){super(),this.moduleType=s,null!==or(s)&&function(r){const s=new Set;!function o(u){const l=or(u,!0),d=l.id;null!==d&&(function(r,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${r} - ${Y(s)} vs ${Y(s.name)}`)}(d,_l.get(d),u),_l.set(d,u));const m=to(l.imports);for(const v of m)s.has(v)||(s.add(v),o(v))}(r)}(s)}create(s){return new Y0(this.moduleType,s)}}function Zd(r,s,o,u){return function(r,s,o,u,l,d){const m=s+o;return mi(r,m,l)?function(r,s,o){return r[s]=o}(r,m+1,d?u.call(d,l):u(l)):function(r,s){const o=r[s];return o===st?void 0:o}(r,m+1)}(Ie(),function(){const r=ot.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}(),r,s,o,u)}function pn(r){return s=>{setTimeout(r,void 0,s)}}const xn=class extends f.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var l,d,m;let v=s,w=o||(()=>null),T=u;if(s&&"object"==typeof s){const M=s;v=null===(l=M.next)||void 0===l?void 0:l.bind(M),w=null===(d=M.error)||void 0===d?void 0:d.bind(M),T=null===(m=M.complete)||void 0===m?void 0:m.bind(M)}this.__isAsync&&(w=pn(w),v&&(v=pn(v)),T&&(T=pn(T)));const A=super.subscribe({next:v,error:w,complete:T});return s instanceof ee.w&&s.add(A),A}};function Va(){return this._results[Tf()]()}class Qg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Tf(),u=Qg.prototype;u[o]||(u[o]=Va)}get changes(){return this._changes||(this._changes=new xn)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const l=fi(s);(this._changesDetected=!function(r,s,o){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let l=r[u],d=s[u];if(o&&(l=o(l),d=o(d)),d!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class A_{constructor(s){this.queryList=s,this.matches=null}clone(){return new A_(this.queryList)}setDirty(){this.queryList.setDirty()}}class tb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,l=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);l.push(this.queries[m.indexInDeclarationView].clone())}return new tb(l)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==yC(s,o).matches&&this.queries[o].setDirty()}}class x_{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class nb{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(s,l);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new nb(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class rb{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new rb(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const d=u[l];this.matchTNodeWithReadOption(s,o,jn(o,d)),this.matchTNodeWithReadOption(s,o,ga(o,s,d,!1,!1))}else u===qu?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,ga(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===qo||l===h_||l===qu&&4&o.type)this.addMatch(o.index,-2);else{const d=ga(o,s,l,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function jn(r,s){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function R1(r,s,o,u){return-1===o?function(r,s){return 11&r.type?Rd(r,s):4&r.type?Wf(r,s):null}(s,r):-2===o?function(r,s,o){return o===qo?Rd(s,r):o===qu?Wf(s,r):o===h_?xT(s,r):void 0}(r,s,u):Oo(r,r[1],o,s)}function ib(r,s,o,u){const l=s[19].queries[u];if(null===l.matches){const d=r.data,m=o.matches,v=[];for(let w=0;w<m.length;w+=2){const T=m[w];v.push(T<0?null:R1(s,d[T],m[w+1],o.metadata.read))}l.matches=v}return l.matches}function sb(r,s,o,u){const l=r.queries.getByIndex(o),d=l.matches;if(null!==d){const m=ib(r,s,l,o);for(let v=0;v<d.length;v+=2){const w=d[v];if(w>0)u.push(m[v/2]);else{const T=d[v+1],A=s[-w];for(let M=10;M<A.length;M++){const N=A[M];N[17]===N[3]&&sb(N[1],N,T,u)}if(null!==A[9]){const M=A[9];for(let N=0;N<M.length;N++){const B=M[N];sb(B[1],B,T,u)}}}}}return u}function hC(r){const s=Ie(),o=Ct(),u=Ih();_c(u+1);const l=yC(o,u);if(r.dirty&&cc(s)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const d=l.crossesNgTemplate?sb(o,s,u,[]):ib(o,s,l,u);r.reset(d,n_),r.notifyOnChanges()}return!0}return!1}function pC(r,s,o,u){const l=Ct();if(l.firstCreatePass){const d=Dn();(function(r,s,o){null===r.queries&&(r.queries=new nb),r.queries.track(new rb(s,o))})(l,new x_(s,o,u),d.index),function(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(l,r),2==(2&o)&&(l.staticContentQueries=!0)}!function(r,s,o){const u=new Qg(4==(4&o));Hv(r,s,u,u.destroy),null===s[19]&&(s[19]=new tb),s[19].queries.push(new A_(u))}(l,Ie(),o)}function gC(){return r=Ie(),s=Ih(),r[19].queries[s].queryList;var r,s}function yC(r,s){return r.queries.getByIndex(s)}const yb=new en("Application Initializer");let tp=(()=>{class r{constructor(o){this.appInits=o,this.resolve=t_,this.reject=t_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(Af(d))o.push(d);else if(wg(d)){const m=new Promise((v,w)=>{d.subscribe({complete:v,error:w})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Mn(yb,8))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();const CC=new en("AppId"),Ax={provide:CC,useFactory:function(){return`${_b()}${_b()}${_b()}`},deps:[]};function _b(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DC=new en("Platform Initializer"),xx=new en("Platform ID"),SC=new en("appBootstrapListener");let L_=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();const sm=new en("LocaleId"),vb=new en("DefaultCurrencyCode");class Ox{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const ec=function(r){return new C_(r)},ho=ec,xC=function(r){return Promise.resolve(ec(r))},np=function(r){const s=ec(r),u=to(or(r).declarations).reduce((l,d)=>{const m=Hn(d);return m&&l.push(new XT(m)),l},[]);return new Ox(s,u)},Fi=np,rp=function(r){return Promise.resolve(np(r))};let Go=(()=>{class r{constructor(){this.compileModuleSync=ho,this.compileModuleAsync=xC,this.compileModuleAndAllComponentsSync=Fi,this.compileModuleAndAllComponentsAsync=rp}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();const Fx=(()=>Promise.resolve(0))();function bb(r){"undefined"==typeof Zone?Fx.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class xs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xn(!1),this.onMicrotaskEmpty=new xn(!1),this.onStable=new xn(!1),this.onError=new xn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let r=H.requestAnimationFrame,s=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&s){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(r){const s=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(H,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Ib(r),r.isCheckStableRunning=!0,wb(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Ib(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,d,m,v)=>{try{return Tb(r),o.invokeTask(l,d,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&s(),PC(r)}},onInvoke:(o,u,l,d,m,v,w)=>{try{return Tb(r),o.invoke(l,d,m,v,w)}finally{r.shouldCoalesceRunChangeDetection&&s(),PC(r)}},onHasTask:(o,u,l,d)=>{o.hasTask(l,d),u===l&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,Ib(r),wb(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,l,d)=>(o.handleError(l,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,l){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+l,s,om,t_,t_);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const om={};function wb(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Ib(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Tb(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function PC(r){r._nesting--,wb(r)}class OC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xn,this.onMicrotaskEmpty=new xn,this.onStable=new xn,this.onError=new xn}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,l){return s.apply(o,u)}}let B_=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xs.assertNotInAngularZone(),bb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bb(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,l){return[]}}return r.\u0275fac=function(o){return new(o||r)(Mn(xs))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})(),Cb=(()=>{class r{constructor(){this._applications=new Map,MC.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return MC.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();class j_{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function Bx(r){MC=r}let MC=new j_,NC=!0,$_=!1;function kC(){return $_=!0,NC}function W1(){if($_)throw new Error("Cannot enable prod mode after platform setup.");NC=!1}let Wo;const Db=new en("AllowMultipleToken");class $x{constructor(s,o){this.name=s,this.token=o}}function xr(r,s,o=[]){const u=`Platform: ${s}`,l=new en(u);return(d=[])=>{let m=H_();if(!m||m.injector.get(Db,!1))if(r)r(o.concat(d).concat({provide:l,useValue:!0}));else{const v=o.concat(d).concat({provide:l,useValue:!0},{provide:gf,useValue:"platform"});!function(r){if(Wo&&!Wo.destroyed&&!Wo.injector.get(Db,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wo=r.get(FC);const s=r.get(DC,null);s&&s.forEach(o=>o())}(fn.create({providers:v,name:u}))}return function(r){const s=H_();if(!s)throw new Error("No platform exists!");if(!s.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(l)}}function H_(){return Wo&&!Wo.destroyed?Wo:null}let FC=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const v=function(r,s){let o;return o="noop"===r?new OC:("zone.js"===r?void 0:r)||new xs({enableLongStackTrace:kC(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),w=[{provide:xs,useValue:v}];return v.run(()=>{const T=fn.create({providers:w,parent:this.injector,name:o.moduleType.name}),A=o.create(T),M=A.injector.get(Tu,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const N=v.onError.subscribe({next:B=>{M.handleError(B)}});A.onDestroy(()=>{xb(this._modules,A),N.unsubscribe()})}),function(r,s,o){try{const u=o();return Af(u)?u.catch(l=>{throw s.runOutsideAngular(()=>r.handleError(l)),l}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(M,v,()=>{const N=A.injector.get(tp);return N.runInitializers(),N.donePromise.then(()=>(WE(A.injector.get(sm,Ds)||Ds),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const l=Ab({},u);return function(r,s,o){const u=new C_(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(o){const u=o.injector.get(am);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Y(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Mn(fn))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();function Ab(r,s){return Array.isArray(s)?s.reduce(Ab,r):Object.assign(Object.assign({},r),s)}let am=(()=>{class r{constructor(o,u,l,d,m){this._zone=o,this._injector=u,this._exceptionHandler=l,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),w=new k.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{xs.assertNotInAngularZone(),bb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{xs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),M.unsubscribe()}});this.isStable=(0,le.T)(v,w.pipe(r=>(0,ce.x)()(function(r,s){return function(u){let l;l="function"==typeof r?r:function(){return r};const d=Object.create(u,ne.N);return d.source=u,d.subjectFactory=l,d}}(te)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=o instanceof u0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(l.componentType);const d=function(r){return r.isBoundToModule}(l)?void 0:this._injector.get(pl),v=l.create(fn.NULL,[],u||l.selector,d),w=v.location.nativeElement,T=v.injector.get(B_,null),A=T&&v.injector.get(Cb);return T&&A&&A.registerApplication(w,T),v.onDestroy(()=>{this.detachView(v.hostView),xb(this.components,v),A&&A.unregisterApplication(w)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;xb(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(SC,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Mn(xs),Mn(fn),Mn(Tu),Mn(Hu),Mn(tp))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();function xb(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}class Li{}class Ob{}const Wx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Kx=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||Wx}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,l]=o.split("#");return void 0===l&&(l="default"),L(8255)(u).then(d=>d[l]).then(d=>UC(d,u,l)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,l]=o.split("#"),d="NgFactory";return void 0===l&&(l="default",d=""),L(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[l+d]).then(m=>UC(m,u,l))}}return r.\u0275fac=function(o){return new(o||r)(Mn(Go),Mn(Ob,8))},r.\u0275prov=St({token:r,factory:r.\u0275fac}),r})();function UC(r,s,o){if(!r)throw new Error(`Cannot find '${o}' in '${s}'`);return r}const eR=function(r){return null},nR=xr(null,"core",[{provide:xx,useValue:"unknown"},{provide:FC,deps:[fn]},{provide:Cb,deps:[]},{provide:L_,deps:[]}]),sR=[{provide:am,useClass:am,deps:[xs,fn,Tu,Hu,tp]},{provide:zA,deps:[xs],useFactory:function(r){let s=[];return r.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:tp,useClass:tp,deps:[[new Yi,yb]]},{provide:Go,useClass:Go,deps:[]},Ax,{provide:u_,useFactory:function(){return y0},deps:[]},{provide:Gf,useFactory:function(){return IT},deps:[]},{provide:sm,useFactory:function(r){return WE(r=r||"undefined"!=typeof $localize&&$localize.locale||Ds),r},deps:[[new Nc(sm),new Yi,new Ea]]},{provide:vb,useValue:"USD"}];let aR=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Mn(am))},r.\u0275mod=Xo({type:r}),r.\u0275inj=Pr({providers:sR}),r})()},8939:(Xe,be,L)=>{"use strict";L.d(be,{hO:()=>Y,xv:()=>te,Dh:()=>ce,GT:()=>ie,cc:()=>ae,on:()=>F,pX:()=>ne});var f=L(3018),ee=L(7841),k=L(9259);Xe=L.hmd(Xe);const le=["ngOnDestroy"],ne=(ye,ge,fe,Re={})=>new Proxy(ye,{get:(qe,ke)=>fe.runOutsideAngular(()=>{var Ot;if(ye[ke])return(null===(Ot=null==Re?void 0:Re.spy)||void 0===Ot?void 0:Ot.get)&&Re.spy.get(ke,ye[ke]),ye[ke];if(le.indexOf(ke)>-1)return()=>{};const _t=ge.toPromise().then(bn=>{const bt=bn&&bn[ke];return"function"==typeof bt?bt.bind(bn):bt&&bt.then?bt.then(Tt=>fe.run(()=>Tt)):fe.run(()=>bt)});return new Proxy(()=>{},{get:(bn,bt)=>_t[bt],apply:(bn,bt,Tt)=>_t.then(ft=>{var lt;const kt=ft&&ft(...Tt);return(null===(lt=null==Re?void 0:Re.spy)||void 0===lt?void 0:lt.apply)&&Re.spy.apply(ke,Tt,kt),kt})})})}),ie=(ye,ge)=>{ge.forEach(fe=>{Object.getOwnPropertyNames(fe.prototype||fe).forEach(Re=>{Object.defineProperty(ye.prototype,Re,Object.getOwnPropertyDescriptor(fe.prototype||fe,Re))})})};class pe{constructor(ge){return ge}}const ce=new f.OlP("angularfire2.app.options"),te=new f.OlP("angularfire2.app.name");function F(ye,ge,fe){const qe="object"==typeof fe&&fe||{};qe.name=qe.name||"string"==typeof fe&&fe||"[DEFAULT]";const Ot=ee.Z.apps.filter(_t=>_t&&_t.name===qe.name)[0]||ge.runOutsideAngular(()=>ee.Z.initializeApp(ye,qe));try{JSON.stringify(ye)!==JSON.stringify(Ot.options)&&U("error",`${Ot.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(_t){}return new pe(Ot)}const U=(ye,...ge)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ye](...ge)},Q={provide:pe,useFactory:F,deps:[ce,f.R0b,[new f.FiY,te]]};let Y=(()=>{class ye{constructor(fe){ee.Z.registerVersion("angularfire",k.q4.full,"core"),ee.Z.registerVersion("angularfire",k.q4.full,"app-compat"),ee.Z.registerVersion("angular",f.q4F.full,fe.toString())}static initializeApp(fe,Re){return{ngModule:ye,providers:[{provide:ce,useValue:fe},{provide:te,useValue:Re}]}}}return ye.\u0275fac=function(fe){return new(fe||ye)(f.LFG(f.Lbi))},ye.\u0275mod=f.oAB({type:ye}),ye.\u0275inj=f.cJS({providers:[Q]}),ye})();function ae(ye,ge,fe,Re,qe){const[,ke,Ot]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===ye)||[];if(ke)return function(ye,ge){try{return ye.toString()===ge.toString()}catch(fe){return ye===ge}}(qe,Ot)||(W("error",`${ge} was already initialized on the ${fe} Firebase App with different settings.${he?" You may need to reload as Firebase is not HMR aware.":""}`),W("warn",{is:qe,was:Ot})),ke;{const _t=Re();return globalThis.\u0275AngularfireInstanceCache.push([ye,_t,qe]),_t}}const he=!!Xe.hot,W=(ye,...ge)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ye](...ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9259:(Xe,be,L)=>{"use strict";L.d(be,{q4:()=>Ph,iC:()=>lr,HU:()=>pi,vb:()=>du,JM:()=>Oc});var f=L(3018),ee=L(2329),k=L(8239),le=L(8026),ne=L(3854),ie=L(3910),pe=L(5422),ce=L(6676);const te="@firebase/installations",F="0.5.5",Q=`w:${F}`,Y="FIS_v2",ge=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fe(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function Re({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function qe(I){return{token:I.token,requestStatus:2,expiresIn:ft(I.expiresIn),creationTime:Date.now()}}function ke(I,S){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,k.Z)(function*(I,S){const V=(yield S.json()).error;return ge.create("request-failed",{requestName:I,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function _t({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function bn(I,{refreshToken:S}){const P=_t(I);return P.append("Authorization",function(I){return`${Y} ${I}`}(S)),P}function bt(I){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,k.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function ft(I){return Number(I.replace("s","000"))}function kt(I,S){return We.apply(this,arguments)}function We(){return(We=(0,k.Z)(function*(I,{fid:S}){const P=Re(I),ue={method:"POST",headers:_t(I),body:JSON.stringify({fid:S,authVersion:Y,appId:I.appId,sdkVersion:Q})},Te=yield bt(()=>fetch(P,ue));if(Te.ok){const Be=yield Te.json();return{fid:Be.fid||S,registrationStatus:2,refreshToken:Be.refreshToken,authToken:qe(Be.authToken)}}throw yield ke("Create Installation",Te)})).apply(this,arguments)}function ai(I){return new Promise(S=>{setTimeout(S,I)})}const po=/^[cdef][\w-]{21}$/;function kn(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const P=function(I){return function(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return po.test(P)?P:""}catch(I){return""}}function us(I){return`${I.appName}!${I.appId}`}const Ns=new Map;function cs(I,S){const P=us(I);Gn(P,S),function(I,S){const P=(!jt&&"BroadcastChannel"in self&&(jt=new BroadcastChannel("[Firebase] FID Change"),jt.onmessage=I=>{Gn(I.data.key,I.data.fid)}),jt);P&&P.postMessage({key:I,fid:S}),0===Ns.size&&jt&&(jt.close(),jt=null)}(P,S)}function Gn(I,S){const P=Ns.get(I);if(P)for(const V of P)V(S)}let jt=null;const De="firebase-installations-store";let sr=null;function Fn(){return sr||(sr=(0,ce.openDb)("firebase-installations-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(De)}})),sr}function bi(I,S){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,k.Z)(function*(I,S){const P=us(I),K=(yield Fn()).transaction(De,"readwrite"),ue=K.objectStore(De),Te=yield ue.get(P);return yield ue.put(S,P),yield K.complete,(!Te||Te.fid!==S.fid)&&cs(I,S.fid),S})).apply(this,arguments)}function zr(I){return go.apply(this,arguments)}function go(){return(go=(0,k.Z)(function*(I){const S=us(I),V=(yield Fn()).transaction(De,"readwrite");yield V.objectStore(De).delete(S),yield V.complete})).apply(this,arguments)}function nt(I,S){return Se.apply(this,arguments)}function Se(){return(Se=(0,k.Z)(function*(I,S){const P=us(I),K=(yield Fn()).transaction(De,"readwrite"),ue=K.objectStore(De),Te=yield ue.get(P),Be=S(Te);return void 0===Be?yield ue.delete(P):yield ue.put(Be,P),yield K.complete,Be&&(!Te||Te.fid!==Be.fid)&&cs(I,Be.fid),Be})).apply(this,arguments)}function $t(I){return sn.apply(this,arguments)}function sn(){return(sn=(0,k.Z)(function*(I){let S;const P=yield nt(I,V=>{const K=wn(V),ue=Ut(I,K);return S=ue.registrationPromise,ue.installationEntry});return""===P.fid?{installationEntry:yield S}:{installationEntry:P,registrationPromise:S}})).apply(this,arguments)}function wn(I){return wt(I||{fid:kn(),registrationStatus:0})}function Ut(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ge.create("app-offline"))};const P={fid:S.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:P,registrationPromise:function(I,S){return Ge.apply(this,arguments)}(I,P)}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Or(I)}:{installationEntry:S}}function Ge(){return(Ge=(0,k.Z)(function*(I,S){try{return bi(I,yield kt(I,S))}catch(P){throw fe(P)&&409===P.customData.serverCode?yield zr(I):yield bi(I,{fid:S.fid,registrationStatus:0}),P}})).apply(this,arguments)}function Or(I){return mo.apply(this,arguments)}function mo(){return(mo=(0,k.Z)(function*(I){let S=yield Wt(I);for(;1===S.registrationStatus;)yield ai(100),S=yield Wt(I);if(0===S.registrationStatus){const{installationEntry:P,registrationPromise:V}=yield $t(I);return V||P}return S})).apply(this,arguments)}function Wt(I){return nt(I,S=>{if(!S)throw ge.create("installation-not-found");return wt(S)})}function wt(I){return function(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ic(I,S){return Z.apply(this,arguments)}function Z(){return(Z=(0,k.Z)(function*({appConfig:I,platformLoggerProvider:S},P){const V=q(I,P),K=bn(I,P),ue=S.getImmediate({optional:!0});ue&&K.append("x-firebase-client",ue.getPlatformInfoString());const Be={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Q}})},je=yield bt(()=>fetch(V,Be));if(je.ok)return qe(yield je.json());throw yield ke("Generate Auth Token",je)})).apply(this,arguments)}function q(I,{fid:S}){return`${Re(I)}/${S}/authTokens:generate`}function H(I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,k.Z)(function*(I,S=!1){let P;const V=yield nt(I.appConfig,ue=>{if(!mn(ue))throw ge.create("not-registered");const Te=ue.authToken;if(!S&&Mr(Te))return ue;if(1===Te.requestStatus)return P=se(I,S),ue;{if(!navigator.onLine)throw ge.create("app-offline");const Be=ln(ue);return P=Kt(I,Be),Be}});return P?yield P:V.authToken})).apply(this,arguments)}function se(I,S){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,k.Z)(function*(I,S){let P=yield Ue(I.appConfig);for(;1===P.authToken.requestStatus;)yield ai(100),P=yield Ue(I.appConfig);const V=P.authToken;return 0===V.requestStatus?H(I,S):V})).apply(this,arguments)}function Ue(I){return nt(I,S=>{if(!mn(S))throw ge.create("not-registered");return function(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Kt(I,S){return $n.apply(this,arguments)}function $n(){return($n=(0,k.Z)(function*(I,S){try{const P=yield ic(I,S),V=Object.assign(Object.assign({},S),{authToken:P});return yield bi(I.appConfig,V),P}catch(P){if(!fe(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield bi(I.appConfig,V)}else yield zr(I.appConfig);throw P}})).apply(this,arguments)}function mn(I){return void 0!==I&&2===I.registrationStatus}function Mr(I){return 2===I.requestStatus&&!function(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+36e5}(I)}function ln(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}function yo(){return(yo=(0,k.Z)(function*(I){const S=I,{installationEntry:P,registrationPromise:V}=yield $t(S.appConfig);return V?V.catch(console.error):H(S).catch(console.error),P.fid})).apply(this,arguments)}function _o(){return(_o=(0,k.Z)(function*(I,S=!1){const P=I;return yield xl(P.appConfig),(yield H(P,S)).token})).apply(this,arguments)}function xl(I){return ui.apply(this,arguments)}function ui(){return(ui=(0,k.Z)(function*(I){const{registrationPromise:S}=yield $t(I);S&&(yield S)})).apply(this,arguments)}function or(I){return ge.create("missing-app-config-values",{valueName:I})}const ah="installations";(0,le._registerComponent)(new ie.wA(ah,I=>{const S=I.getProvider("app").getImmediate();return{app:S,appConfig:function(I){if(!I||!I.options)throw or("App Configuration");if(!I.name)throw or("App Name");const S=["projectId","apiKey","appId"];for(const P of S)if(!I.options[P])throw or(P);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S),platformLoggerProvider:(0,le._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new ie.wA("installations-internal",I=>{const S=I.getProvider("app").getImmediate(),P=(0,le._getProvider)(S,ah).getImmediate();return{getId:()=>function(I){return yo.apply(this,arguments)}(P),getToken:K=>function(I){return _o.apply(this,arguments)}(P,K)}},"PRIVATE")),(0,le.registerVersion)(te,F),(0,le.registerVersion)(te,F,"esm2017");const In="@firebase/remote-config",Ln=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class lp{constructor(S,P,V,K){this.client=S,this.storage=P,this.storageCache=V,this.logger=K}isCachedDataFresh(S,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-P,K=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${K}.`),K}fetch(S){var P=this;return(0,k.Z)(function*(){const[V,K]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(K&&P.isCachedDataFresh(S.cacheMaxAgeMillis,V))return K;S.eTag=K&&K.eTag;const ue=yield P.client.fetch(S),Te=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Te.push(P.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Te),ue})()}}function Bi(I=navigator){return I.languages&&I.languages[0]||I.language}class Tn{constructor(S,P,V,K,ue,Te){this.firebaseInstallations=S,this.sdkVersion=P,this.namespace=V,this.projectId=K,this.apiKey=ue,this.appId=Te}fetch(S){var P=this;return(0,k.Z)(function*(){const[V,K]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},je={sdk_version:P.sdkVersion,app_instance_id:V,app_instance_id_token:K,app_id:P.appId,language_code:Bi()},Vt={method:"POST",headers:Be,body:JSON.stringify(je)},Zt=fetch(Te,Vt),Qn=new Promise((Es,ko)=>{S.signal.addEventListener(()=>{const vt=new Error("The operation was aborted.");vt.name="AbortError",ko(vt)})});let Jn;try{yield Promise.race([Zt,Qn]),Jn=yield Zt}catch(Es){let ko="fetch-client-network";throw"AbortError"===Es.name&&(ko="fetch-timeout"),Ln.create(ko,{originalErrorMessage:Es.message})}let Xn=Jn.status;const Qs=Jn.headers.get("ETag")||void 0;let No,Ki;if(200===Jn.status){let Es;try{Es=yield Jn.json()}catch(ko){throw Ln.create("fetch-client-parse",{originalErrorMessage:ko.message})}No=Es.entries,Ki=Es.state}if("INSTANCE_STATE_UNSPECIFIED"===Ki?Xn=500:"NO_CHANGE"===Ki?Xn=304:("NO_TEMPLATE"===Ki||"EMPTY_CONFIG"===Ki)&&(No={}),304!==Xn&&200!==Xn)throw Ln.create("fetch-status",{httpStatus:Xn});return{status:Xn,eTag:Qs,config:No}})()}}class ia{constructor(S,P){this.client=S,this.storage=P}fetch(S){var P=this;return(0,k.Z)(function*(){const V=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:P,backoffCount:V}){var K=this;return(0,k.Z)(function*(){yield function(I,S){return new Promise((P,V)=>{const K=Math.max(S-Date.now(),0),ue=setTimeout(P,K);I.addEventListener(()=>{clearTimeout(ue),V(Ln.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,P);try{const ue=yield K.client.fetch(S);return yield K.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ue))throw ue;const Te={throttleEndTimeMillis:Date.now()+(0,ne.$s)(V),backoffCount:V+1};return yield K.storage.setThrottleMetadata(Te),K.attemptFetch(S,Te)}})()}}class Tm{constructor(S,P,V,K,ue){this.app=S,this._client=P,this._storageCache=V,this._storage=K,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sa(I,S){const P=I.target.error||void 0;return Ln.create(S,{originalErrorMessage:P&&P.message})}const wo="app_namespace_store";class Cm{constructor(S,P,V,K=function(){return new Promise((I,S)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=V=>{S(sa(V,"storage-open"))},P.onsuccess=V=>{I(V.target.result)},P.onupgradeneeded=V=>{const K=V.target.result;switch(V.oldVersion){case 0:K.createObjectStore(wo,{keyPath:"compositeKey"})}}}catch(P){S(Ln.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=S,this.appName=P,this.namespace=V,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var P=this;return(0,k.Z)(function*(){const V=yield P.openDbPromise;return new Promise((K,ue)=>{const Be=V.transaction([wo],"readonly").objectStore(wo),je=P.createCompositeKey(S);try{const Vt=Be.get(je);Vt.onerror=Zt=>{ue(sa(Zt,"storage-get"))},Vt.onsuccess=Zt=>{const Qn=Zt.target.result;K(Qn?Qn.value:void 0)}}catch(Vt){ue(Ln.create("storage-get",{originalErrorMessage:Vt&&Vt.message}))}})})()}set(S,P){var V=this;return(0,k.Z)(function*(){const K=yield V.openDbPromise;return new Promise((ue,Te)=>{const je=K.transaction([wo],"readwrite").objectStore(wo),Vt=V.createCompositeKey(S);try{const Zt=je.put({compositeKey:Vt,value:P});Zt.onerror=Qn=>{Te(sa(Qn,"storage-set"))},Zt.onsuccess=()=>{ue()}}catch(Zt){Te(Ln.create("storage-set",{originalErrorMessage:Zt&&Zt.message}))}})})()}delete(S){var P=this;return(0,k.Z)(function*(){const V=yield P.openDbPromise;return new Promise((K,ue)=>{const Be=V.transaction([wo],"readwrite").objectStore(wo),je=P.createCompositeKey(S);try{const Vt=Be.delete(je);Vt.onerror=Zt=>{ue(sa(Zt,"storage-delete"))},Vt.onsuccess=()=>{K()}}catch(Vt){ue(Ln.create("storage-delete",{originalErrorMessage:Vt&&Vt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class hh{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const P=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),K=S.storage.getActiveConfig(),ue=yield P;ue&&(S.lastFetchStatus=ue);const Te=yield V;Te&&(S.lastSuccessfulFetchTimestampMillis=Te);const Be=yield K;Be&&(S.activeConfig=Be)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Ol(){return ph.apply(this,arguments)}function ph(){return(ph=(0,k.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new ie.wA("remote-config",function(S,{instanceIdentifier:P}){const V=S.getProvider("app").getImmediate(),K=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,ne.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:ue,apiKey:Te,appId:Be}=V.options;if(!ue)throw Ln.create("registration-project-id");if(!Te)throw Ln.create("registration-api-key");if(!Be)throw Ln.create("registration-app-id");const je=new Cm(Be,V.name,P=P||"firebase"),Vt=new hh(je),Zt=new pe.Yd(In);Zt.logLevel=pe.in.ERROR;const Qn=new Tn(K,le.SDK_VERSION,P,ue,Te,Be),Jn=new ia(Qn,je),Xn=new lp(Jn,je,Vt,Zt),Qs=new Tm(V,Xn,Vt,je,Zt);return function(I){const S=(0,ne.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Qs),Qs},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(In,"0.3.4"),(0,le.registerVersion)(In,"0.3.4","esm2017");const gh="/firebase-messaging-sw.js",Sm="/firebase-cloud-messaging-push-scope",za="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ga="google.c.a.c_id",oa="google.c.a.c_l",Bs="google.c.a.ts",Ml="google.c.a.e";var Cn=(()=>{return(I=Cn||(Cn={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Cn;var I})();function ji(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oc(I){const P=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(P),K=new Uint8Array(V.length);for(let ue=0;ue<V.length;++ue)K[ue]=V.charCodeAt(ue);return K}const Wa="fcm_token_details_db",hp="fcm_token_object_Store";function Nl(I){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,k.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Wa))return null;let S=null;return(yield(0,ce.openDb)(Wa,5,function(){var V=(0,k.Z)(function*(K){var ue;if(K.oldVersion<2||!K.objectStoreNames.contains(hp))return;const Te=K.transaction.objectStore(hp),Be=yield Te.index("fcmSenderId").get(I);if(yield Te.clear(),Be)if(2===K.oldVersion){const je=Be;if(!je.auth||!je.p256dh||!je.endpoint)return;S={token:je.fcmToken,createTime:null!==(ue=je.createTime)&&void 0!==ue?ue:Date.now(),subscriptionOptions:{auth:je.auth,p256dh:je.p256dh,endpoint:je.endpoint,swScope:je.swScope,vapidKey:"string"==typeof je.vapidKey?je.vapidKey:ji(je.vapidKey)}}}else if(3===K.oldVersion){const je=Be;S={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:ji(je.auth),p256dh:ji(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:ji(je.vapidKey)}}}else if(4===K.oldVersion){const je=Be;S={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:ji(je.auth),p256dh:ji(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:ji(je.vapidKey)}}}});return function(K){return V.apply(this,arguments)}}())).close(),yield(0,ce.deleteDb)(Wa),yield(0,ce.deleteDb)("fcm_vapid_details_db"),yield(0,ce.deleteDb)("undefined"),fp(S)?S:null})).apply(this,arguments)}function fp(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Kn="firebase-messaging-store";let ac=null;function js(){return ac||(ac=(0,ce.openDb)("firebase-messaging-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(Kn)}})),ac}function Ya(I){return hs.apply(this,arguments)}function hs(){return(hs=(0,k.Z)(function*(I){const S=Qa(I),V=yield(yield js()).transaction(Kn).objectStore(Kn).get(S);if(V)return V;{const K=yield Nl(I.appConfig.senderId);if(K)return yield Gr(I,K),K}})).apply(this,arguments)}function Gr(I,S){return $i.apply(this,arguments)}function $i(){return($i=(0,k.Z)(function*(I,S){const P=Qa(I),K=(yield js()).transaction(Kn,"readwrite");return yield K.objectStore(Kn).put(S,P),yield K.complete,S})).apply(this,arguments)}function Xt(I){return uc.apply(this,arguments)}function uc(){return(uc=(0,k.Z)(function*(I){const S=Qa(I),V=(yield js()).transaction(Kn,"readwrite");yield V.objectStore(Kn).delete(S),yield V.complete})).apply(this,arguments)}function Qa({appConfig:I}){return I.appId}const At=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ua(I,S){return vh.apply(this,arguments)}function vh(){return(vh=(0,k.Z)(function*(I,S){const P=yield ar(I),V=ca(S),K={method:"POST",headers:P,body:JSON.stringify(V)};let ue;try{ue=yield(yield fetch(qn(I.appConfig),K)).json()}catch(Te){throw At.create("token-subscribe-failed",{errorInfo:Te})}if(ue.error)throw At.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw At.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function To(I,S){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,k.Z)(function*(I,S){const P=yield ar(I),V=ca(S.subscriptionOptions),K={method:"PATCH",headers:P,body:JSON.stringify(V)};let ue;try{ue=yield(yield fetch(`${qn(I.appConfig)}/${S.token}`,K)).json()}catch(Te){throw At.create("token-update-failed",{errorInfo:Te})}if(ue.error)throw At.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw At.create("token-update-no-token");return ue.token})).apply(this,arguments)}function Eh(I,S){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,k.Z)(function*(I,S){const V={method:"DELETE",headers:yield ar(I)};try{const ue=yield(yield fetch(`${qn(I.appConfig)}/${S}`,V)).json();if(ue.error)throw At.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(K){throw At.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function qn({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function ar(I){return cc.apply(this,arguments)}function cc(){return(cc=(0,k.Z)(function*({appConfig:I,installations:S}){const P=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function ca({p256dh:I,auth:S,endpoint:P,vapidKey:V}){const K={web:{endpoint:P,auth:S,p256dh:I}};return V!==za&&(K.web.applicationPubKey=V),K}const Ja=6048e5;function fs(I){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,k.Z)(function*(I){const S=yield dc(I.swRegistration,I.vapidKey),P={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:ji(S.getKey("auth")),p256dh:ji(S.getKey("p256dh"))},V=yield Ya(I.firebaseDependencies);if(V){if(kl(V.subscriptionOptions,P))return Date.now()>=V.createTime+Ja?bh(I,{token:V.token,createTime:Date.now(),subscriptionOptions:P}):V.token;try{yield Eh(I.firebaseDependencies,V.token)}catch(K){console.warn(K)}return $s(I.firebaseDependencies,P)}return $s(I.firebaseDependencies,P)})).apply(this,arguments)}function lc(I){return ot.apply(this,arguments)}function ot(){return(ot=(0,k.Z)(function*(I){const S=yield Ya(I.firebaseDependencies);S&&(yield Eh(I.firebaseDependencies,S.token),yield Xt(I.firebaseDependencies));const P=yield I.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function bh(I,S){return ps.apply(this,arguments)}function ps(){return(ps=(0,k.Z)(function*(I,S){try{const P=yield To(I.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:P,createTime:Date.now()});return yield Gr(I.firebaseDependencies,V),P}catch(P){throw yield lc(I),P}})).apply(this,arguments)}function $s(I,S){return Co.apply(this,arguments)}function Co(){return(Co=(0,k.Z)(function*(I,S){const V={token:yield ua(I,S),createTime:Date.now(),subscriptionOptions:S};return yield Gr(I,V),V.token})).apply(this,arguments)}function dc(I,S){return gs.apply(this,arguments)}function gs(){return(gs=(0,k.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oc(S)})})).apply(this,arguments)}function kl(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}function Ie(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function(I,S){if(!S.notification)return;I.notification={};const P=S.notification.title;P&&(I.notification.title=P);const V=S.notification.body;V&&(I.notification.body=V);const K=S.notification.image;K&&(I.notification.image=K)}(S,I),function(I,S){!S.data||(I.data=S.data)}(S,I),function(I,S){if(!S.fcmOptions)return;I.fcmOptions={};const P=S.fcmOptions.link;P&&(I.fcmOptions.link=P);const V=S.fcmOptions.analytics_label;V&&(I.fcmOptions.analyticsLabel=V)}(S,I),S}function fc(I){return"object"==typeof I&&!!I&&Ga in I}function Do(I,S){const P=[];for(let V=0;V<I.length;V++)P.push(I.charAt(V)),V<S.length&&P.push(S.charAt(V));return P.join("")}function eu(I){return At.create("missing-app-config-values",{valueName:I})}Do("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Do("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hs{constructor(S,P,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function(I){if(!I||!I.options)throw eu("App Configuration Object");if(!I.name)throw eu("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:P}=I;for(const V of S)if(!P[V])throw eu(V);return{appName:I.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:K,installations:P,analyticsProvider:V}}_delete(){return Promise.resolve()}}function wh(I){return pc.apply(this,arguments)}function pc(){return(pc=(0,k.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(gh,{scope:Sm}),I.swRegistration.update().catch(()=>{})}catch(S){throw At.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function qi(I,S){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,k.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield wh(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function Yn(I,S){return hi.apply(this,arguments)}function hi(){return(hi=(0,k.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=za)})).apply(this,arguments)}function qs(){return(qs=(0,k.Z)(function*(I,S){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield Yn(I,null==S?void 0:S.vapidKey),yield qi(I,null==S?void 0:S.serviceWorkerRegistration),fs(I)})).apply(this,arguments)}function Ci(I,S,P){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,k.Z)(function*(I,S,P){const V=gc(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:P[Ga],message_name:P[oa],message_time:P[Bs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gc(I){switch(I){case Cn.NOTIFICATION_CLICKED:return"notification_open";case Cn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function da(){return(da=(0,k.Z)(function*(I,S){const P=S.data;if(!P.isFirebaseMessaging)return;I.onMessageHandler&&P.messageType===Cn.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Ie(P)):I.onMessageHandler.next(Ie(P)));const V=P.data;fc(V)&&"1"===V[Ml]&&(yield Ci(I,P.messageType,V))})).apply(this,arguments)}const yc="@firebase/messaging";function Th(){return ms.apply(this,arguments)}function ms(){return(ms=(0,k.Z)(function*(){return"undefined"!=typeof window&&(0,ne.hl)()&&(yield(0,ne.eu)())&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new ie.wA("messaging",I=>{const S=new Hs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function(I,S){return da.apply(this,arguments)}(S,P)),S},"PUBLIC")),(0,le._registerComponent)(new ie.wA("messaging-internal",I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:V=>function(I,S){return qs.apply(this,arguments)}(S,V)}},"PRIVATE")),(0,le.registerVersion)(yc,"0.9.6"),(0,le.registerVersion)(yc,"0.9.6","esm2017");const Wr="analytics",yn="firebase_id",ru="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sh="https://www.googletagmanager.com/gtag/js",Un=new pe.Yd("@firebase/analytics");function Ah(I){return Promise.all(I.map(S=>S.catch(P=>P)))}function bc(I,S){const P=document.createElement("script");P.src=`${Sh}?l=${I}&id=${S}`,P.async=!0,document.head.appendChild(P)}function su(I,S,P,V,K,ue){return wc.apply(this,arguments)}function wc(){return(wc=(0,k.Z)(function*(I,S,P,V,K,ue){const Te=V[K];try{if(Te)yield S[Te];else{const je=(yield Ah(P)).find(Vt=>Vt.measurementId===K);je&&(yield S[je.appId])}}catch(Be){Un.error(Be)}I("config",K,ue)})).apply(this,arguments)}function So(I,S,P,V,K){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,k.Z)(function*(I,S,P,V,K){try{let ue=[];if(K&&K.send_to){let Te=K.send_to;Array.isArray(Te)||(Te=[Te]);const Be=yield Ah(P);for(const je of Te){const Vt=Be.find(Qn=>Qn.measurementId===je),Zt=Vt&&S[Vt.appId];if(!Zt){ue=[];break}ue.push(Zt)}}0===ue.length&&(ue=Object.values(S)),yield Promise.all(ue),I("event",V,K||{})}catch(ue){Un.error(ue)}})).apply(this,arguments)}function xm(){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(Sh))return S;return null}const ur=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Pm=new class{constructor(S={},P=1e3){this.throttleMetadata=S,this.intervalMillis=P}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,P){this.throttleMetadata[S]=P}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function av(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function ou(I){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,k.Z)(function*(I){var S;const{appId:P,apiKey:V}=I,K={method:"GET",headers:av(V)},ue=ru.replace("{app-id}",P),Te=yield fetch(ue,K);if(200!==Te.status&&304!==Te.status){let Be="";try{const je=yield Te.json();(null===(S=je.error)||void 0===S?void 0:S.message)&&(Be=je.error.message)}catch(je){}throw ur.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:Be})}return Te.json()})).apply(this,arguments)}function Cc(I){return Di.apply(this,arguments)}function Di(){return(Di=(0,k.Z)(function*(I,S=Pm,P){const{appId:V,apiKey:K,measurementId:ue}=I.options;if(!V)throw ur.create("no-app-id");if(!K){if(ue)return{measurementId:ue,appId:V};throw ur.create("no-api-key")}const Te=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new uu;return setTimeout((0,k.Z)(function*(){Be.abort()}),void 0!==P?P:6e4),Dc({appId:V,apiKey:K,measurementId:ue},Te,Be,S)})).apply(this,arguments)}function Dc(I,S,P){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,k.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:P},V,K=Pm){const{appId:ue,measurementId:Te}=I;try{yield au(V,S)}catch(Be){if(Te)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ue,measurementId:Te};throw Be}try{const Be=yield ou(I);return K.deleteThrottleMetadata(ue),Be}catch(Be){if(!vp(Be)){if(K.deleteThrottleMetadata(ue),Te)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ue,measurementId:Te};throw Be}const je=503===Number(Be.customData.httpStatus)?(0,ne.$s)(P,K.intervalMillis,30):(0,ne.$s)(P,K.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+je,backoffCount:P+1};return K.setThrottleMetadata(ue,Vt),Un.debug(`Calling attemptFetch again in ${je} millis`),Dc(I,Vt,V,K)}})).apply(this,arguments)}function au(I,S){return new Promise((P,V)=>{const K=Math.max(S-Date.now(),0),ue=setTimeout(P,K);I.addEventListener(()=>{clearTimeout(ue),V(ur.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function vp(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}class uu{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Ac(){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,k.Z)(function*(){if(!(0,ne.hl)())return Un.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return Un.warn(ur.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function fa(){return(fa=(0,k.Z)(function*(I,S,P,V,K,ue,Te){var Be;const je=Cc(I);je.then(Xn=>{P[Xn.measurementId]=Xn.appId,I.options.measurementId&&Xn.measurementId!==I.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xn=>Un.error(Xn)),S.push(je);const Vt=Ac().then(Xn=>{if(Xn)return V.getId()}),[Zt,Qn]=yield Promise.all([je,Vt]);xm()||bc(ue,Zt.measurementId),K("js",new Date);const Jn=null!==(Be=null==Te?void 0:Te.config)&&void 0!==Be?Be:{};return Jn.origin="firebase",Jn.update=!0,null!=Qn&&(Jn[yn]=Qn),K("config",Zt.measurementId,Jn),Zt.measurementId})).apply(this,arguments)}class _n{constructor(S){this.app=S}_delete(){return delete et[this.app.options.appId],Promise.resolve()}}let et={},ys=[];const Po={};let xc,an,Ir="dataLayer",Ll=!1;function Si(I,S,P){!function(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((V,K)=>`(${K+1}) ${V}`).join(" "),P=ur.create("invalid-analytics-context",{errorInfo:S});Un.warn(P.message)}}();const V=I.options.appId;if(!V)throw ur.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw ur.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=et[V])throw ur.create("already-exists",{id:V});if(!Ll){!function(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(Ir);const{wrappedGtag:ue,gtagCore:Te}=function(I,S,P,V,K){let ue=function(...Te){window[V].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ue=window[K]),window[K]=function(I,S,P,V){function ue(){return(ue=(0,k.Z)(function*(Te,Be,je){try{"event"===Te?yield So(I,S,P,Be,je):"config"===Te?yield su(I,S,P,V,Be,je):I("set",Be)}catch(Vt){Un.error(Vt)}})).apply(this,arguments)}return function(Te,Be,je){return ue.apply(this,arguments)}}(ue,I,S,P),{gtagCore:ue,wrappedGtag:window[K]}}(et,ys,Po,Ir,"gtag");an=ue,xc=Te,Ll=!0}return et[V]=function(I,S,P,V,K,ue,Te){return fa.apply(this,arguments)}(I,ys,Po,S,xc,Ir,P),new _n(I)}function Ul(){return(Ul=(0,k.Z)(function*(I,S,P,V,K){if(K&&K.global)I("event",P,V);else{const ue=yield S;I("event",P,Object.assign(Object.assign({},V),{send_to:ue}))}})).apply(this,arguments)}function zi(){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,k.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}const wp="@firebase/analytics";(0,le._registerComponent)(new ie.wA(Wr,(S,{options:P})=>Si(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,le._registerComponent)(new ie.wA("analytics-internal",function(S){try{const P=S.getProvider(Wr).getImmediate();return{logEvent:(V,K,ue)=>function(I,S,P,V){I=(0,ne.m9)(I),function(I,S,P,V,K){return Ul.apply(this,arguments)}(an,et[I.app.options.appId],S,P,V).catch(K=>Un.error(K))}(P,V,K,ue)}}catch(P){throw ur.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,le.registerVersion)(wp,"0.7.5"),(0,le.registerVersion)(wp,"0.7.5","esm2017");var Mm=L(7771),en=L(3637),Pc=L(3342),_a=L(3101),Nm=L(309);const Ph=new f.GfV("7.2.0"),jl="__angularfire_symbol__analyticsIsSupported",Ks="__angularfire_symbol__remoteConfigIsSupported",lu="__angularfire_symbol__messagingIsSupported";function Oc(I,S,P){if(S){if(1===S.length)return S[0];const ue=S.filter(Te=>Te.app===P);if(1===ue.length)return ue[0]}return P.container.getProvider(I).getImmediate({optional:!0})}globalThis[jl]||(globalThis[jl]=zi().then(I=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=I)),globalThis[lu]||(globalThis[lu]=Th().then(I=>globalThis.__angularfire_symbol__messagingIsSupportedValue=I)),globalThis[Ks]||(globalThis[Ks]=Ol().then(I=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=I));const du=(I,S)=>{const P=S?[S]:(0,ee.C6)(),V=[];return P.forEach(K=>{K.container.getProvider(I).instances.forEach(Te=>{V.includes(Te)||V.push(Te)})}),V};function hu(){}class Mh{constructor(S,P=Mm.N){this.zone=S,this.delegate=P}now(){return this.delegate.now()}schedule(S,P,V){const K=this.zone;return this.delegate.schedule(function(Te){K.runGuarded(()=>{S.apply(this,[Te])})},P,V)}}class fi{constructor(S){this.zone=S,this.task=null}call(S,P){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hu,{},hu,hu)),P.pipe((0,Pc.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pi=(()=>{class I{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Mh(Zone.current)),this.insideAngular=P.run(()=>new Mh(Zone.current,en.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(P){return new(P||I)(f.LFG(f.R0b))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Wi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function lr(I){return Wi(),function(I){return function(P){return(P=P.lift(new fi(I.ngZone))).pipe((0,_a.R)(I.outsideAngular),(0,Nm.QV)(I.insideAngular))}}(Wi())(I)}},3854:(Xe,be,L)=>{"use strict";L.d(be,{BH:()=>Y,LL:()=>We,ZR:()=>kt,zI:()=>Tt,US:()=>ie,tV:()=>te,$s:()=>Wt,r3:()=>gn,Sg:()=>ae,ne:()=>sr,vZ:()=>jt,ZB:()=>U,pd:()=>Er,m9:()=>ic,z$:()=>we,jU:()=>ye,ru:()=>ge,d:()=>Re,xb:()=>Gn,w1:()=>qe,hl:()=>bn,uI:()=>he,UG:()=>W,b$:()=>fe,G6:()=>_t,Mn:()=>ke,xO:()=>Ha,zd:()=>Pr,eu:()=>bt});const le=function(Z){const q=[];let H=0;for(let Ee=0;Ee<Z.length;Ee++){let se=Z.charCodeAt(Ee);se<128?q[H++]=se:se<2048?(q[H++]=se>>6|192,q[H++]=63&se|128):55296==(64512&se)&&Ee+1<Z.length&&56320==(64512&Z.charCodeAt(Ee+1))?(se=65536+((1023&se)<<10)+(1023&Z.charCodeAt(++Ee)),q[H++]=se>>18|240,q[H++]=se>>12&63|128,q[H++]=se>>6&63|128,q[H++]=63&se|128):(q[H++]=se>>12|224,q[H++]=se>>6&63|128,q[H++]=63&se|128)}return q},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let se=0;se<Z.length;se+=3){const Ve=Z[se],Ue=se+1<Z.length,Kt=Ue?Z[se+1]:0,$n=se+2<Z.length,mn=$n?Z[se+2]:0;let ln=(15&Kt)<<2|mn>>6,Ui=63&mn;$n||(Ui=64,Ue||(ln=64)),Ee.push(H[Ve>>2],H[(3&Ve)<<4|Kt>>4],H[ln],H[Ui])}return Ee.join("")},encodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(Z):this.encodeByteArray(le(Z),q)},decodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(Z):function(Z){const q=[];let H=0,Ee=0;for(;H<Z.length;){const se=Z[H++];if(se<128)q[Ee++]=String.fromCharCode(se);else if(se>191&&se<224){const Ve=Z[H++];q[Ee++]=String.fromCharCode((31&se)<<6|63&Ve)}else if(se>239&&se<365){const $n=((7&se)<<18|(63&Z[H++])<<12|(63&Z[H++])<<6|63&Z[H++])-65536;q[Ee++]=String.fromCharCode(55296+($n>>10)),q[Ee++]=String.fromCharCode(56320+(1023&$n))}else{const Ve=Z[H++],Ue=Z[H++];q[Ee++]=String.fromCharCode((15&se)<<12|(63&Ve)<<6|63&Ue)}}return q.join("")}(this.decodeStringToByteArray(Z,q))},decodeStringToByteArray(Z,q){this.init_();const H=q?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let se=0;se<Z.length;){const Ve=H[Z.charAt(se++)],Kt=se<Z.length?H[Z.charAt(se)]:0;++se;const mn=se<Z.length?H[Z.charAt(se)]:64;++se;const Ft=se<Z.length?H[Z.charAt(se)]:64;if(++se,null==Ve||null==Kt||null==mn||null==Ft)throw Error();Ee.push(Ve<<2|Kt>>4),64!==mn&&(Ee.push(Kt<<4&240|mn>>2),64!==Ft&&Ee.push(mn<<6&192|Ft))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},ce=function(Z){return function(Z){const q=le(Z);return ie.encodeByteArray(q,!0)}(Z).replace(/\./g,"")},te=function(Z){try{return ie.decodeString(Z,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function U(Z,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return q}for(const H in q)!q.hasOwnProperty(H)||!Q(H)||(Z[H]=U(Z[H],q[H]));return Z}function Q(Z){return"__proto__"!==Z}class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,H)=>{this.resolve=q,this.reject=H})}wrapCallback(q){return(H,Ee)=>{H?this.reject(H):this.resolve(Ee),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(H):q(H,Ee))}}}function ae(Z,q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=q||"demo-project",se=Z.iat||0,Ve=Z.sub||Z.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:se,exp:se+3600,auth_time:se,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Ue)),""].join(".")}function we(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function W(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function ye(){return"object"==typeof self&&self.self===self}function ge(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return we().indexOf("Electron/")>=0}function qe(){const Z=we();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function ke(){return we().indexOf("MSAppHost/")>=0}function _t(){return!W()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bn(){return"object"==typeof indexedDB}function bt(){return new Promise((Z,q)=>{try{let H=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ee);se.onsuccess=()=>{se.result.close(),H||self.indexedDB.deleteDatabase(Ee),Z(!0)},se.onupgradeneeded=()=>{H=!1},se.onerror=()=>{var Ve;q((null===(Ve=se.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(H){q(H)}})}function Tt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class kt extends Error{constructor(q,H,Ee){super(H),this.code=q,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(q,H,Ee){this.service=q,this.serviceName=H,this.errors=Ee}create(q,...H){const Ee=H[0]||{},se=`${this.service}/${q}`,Ve=this.errors[q],Ue=Ve?function(Z,q){return Z.replace(Os,(H,Ee)=>{const se=q[Ee];return null!=se?String(se):`<${Ee}?>`})}(Ve,Ee):"Error";return new kt(se,`${this.serviceName}: ${Ue} (${se}).`,Ee)}}const Os=/\{\$([^}]+)}/g;function gn(Z,q){return Object.prototype.hasOwnProperty.call(Z,q)}function Gn(Z){for(const q in Z)if(Object.prototype.hasOwnProperty.call(Z,q))return!1;return!0}function jt(Z,q){if(Z===q)return!0;const H=Object.keys(Z),Ee=Object.keys(q);for(const se of H){if(!Ee.includes(se))return!1;const Ve=Z[se],Ue=q[se];if(St(Ve)&&St(Ue)){if(!jt(Ve,Ue))return!1}else if(Ve!==Ue)return!1}for(const se of Ee)if(!H.includes(se))return!1;return!0}function St(Z){return null!==Z&&"object"==typeof Z}function Ha(Z){const q=[];for(const[H,Ee]of Object.entries(Z))Array.isArray(Ee)?Ee.forEach(se=>{q.push(encodeURIComponent(H)+"="+encodeURIComponent(se))}):q.push(encodeURIComponent(H)+"="+encodeURIComponent(Ee));return q.length?"&"+q.join("&"):""}function Pr(Z){const q={};return Z.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[se,Ve]=Ee.split("=");q[decodeURIComponent(se)]=decodeURIComponent(Ve)}}),q}function Er(Z){const q=Z.indexOf("?");if(!q)return"";const H=Z.indexOf("#",q);return Z.substring(q,H>0?H:void 0)}function sr(Z,q){const H=new Fn(Z,q);return H.subscribe.bind(H)}class Fn{constructor(q,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{q(this)}).catch(Ee=>{this.error(Ee)})}next(q){this.forEachObserver(H=>{H.next(q)})}error(q){this.forEachObserver(H=>{H.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,H,Ee){let se;if(void 0===q&&void 0===H&&void 0===Ee)throw new Error("Missing Observer.");se=function(Z,q){if("object"!=typeof Z||null===Z)return!1;for(const H of["next","error","complete"])if(H in Z&&"function"==typeof Z[H])return!0;return!1}(q)?q:{next:q,error:H,complete:Ee},void 0===se.next&&(se.next=zr),void 0===se.error&&(se.error=zr),void 0===se.complete&&(se.complete=zr);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(Ue){}}),this.observers.push(se),Ve}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,q)}sendOne(q,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{H(this.observers[q])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zr(){}function Wt(Z,q=1e3,H=2){const Ee=q*Math.pow(H,Z),se=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+se)}function ic(Z){return Z&&Z._delegate?Z._delegate:Z}},2329:(Xe,be,L)=>{"use strict";L.d(be,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=L(8026);(0,f.registerVersion)("firebase","9.6.3","app")},7841:(Xe,be,L)=>{"use strict";L.d(be,{Z:()=>f.Z});var f=L(3394);f.Z.registerVersion("firebase","9.6.3","app-compat")},8402:(Xe,be,L)=>{"use strict";L.r(be);var f=L(8239),ee=L(3394),k=L(3854),le=L(8026);function ce(_,p){var g={};for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&p.indexOf(E)<0&&(g[E]=_[E]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(E=Object.getOwnPropertySymbols(_);D<E.length;D++)p.indexOf(E[D])<0&&Object.prototype.propertyIsEnumerable.call(_,E[D])&&(g[E[D]]=_[E[D]])}return g}var kt=L(5422),We=L(3910);const Ns=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},cs=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gn=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gn=new kt.Yd("@firebase/auth");function ks(_,...p){Gn.logLevel<=kt.in.ERROR&&Gn.error(`Auth (${le.SDK_VERSION}): ${_}`,...p)}function jt(_,...p){throw Er(_,...p)}function St(_,...p){return Er(_,...p)}function Ha(_,p,g){const E=Object.assign(Object.assign({},cs()),{[p]:g});return new k.LL("auth","Firebase",E).create(p,{appName:_.name})}function Pr(_,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&jt(_,"argument-error"),Ha(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Er(_,...p){if("string"!=typeof _){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(g,...E)}return gn.create(_,...p)}function De(_,p,...g){if(!_)throw Er(p,...g)}function sr(_){const p="INTERNAL ASSERTION FAILED: "+_;throw ks(p),new Error(p)}function Fn(_,p){_||sr(p)}const bi=new Map;function Lt(_){Fn(_ instanceof Function,"Expected a class definition");let p=bi.get(_);return p?(Fn(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,bi.set(_,p),p)}function nt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Se(){return"http:"===$t()||"https:"===$t()}function $t(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ut{constructor(p,g){this.shortDelay=p,this.longDelay=g,Fn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Se()||(0,k.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ke(_,p){Fn(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Ge{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Or={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mo=new Ut(3e4,6e4);function Wt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function wt(_,p,g,E){return br.apply(this,arguments)}function br(){return(br=(0,f.Z)(function*(_,p,g,E,D={}){return ic(_,D,(0,f.Z)(function*(){let x={},$={};E&&("GET"===p?$=E:x={body:JSON.stringify(E)});const re=(0,k.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),Me=yield _._getAdditionalHeaders();return Me["Content-Type"]="application/json",_.languageCode&&(Me["X-Firebase-Locale"]=_.languageCode),Ge.fetch()(Ee(_,_.config.apiHost,g,re),Object.assign({method:p,headers:Me,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ic(_,p,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,f.Z)(function*(_,p,g){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},Or),p);try{const D=new se(_),x=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const $=yield x.json();if("needConfirmation"in $)throw Ve(_,"account-exists-with-different-credential",$);if(x.ok&&!("errorMessage"in $))return $;{const re=x.ok?$.errorMessage:$.error.message,[Me,Ae]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Me)throw Ve(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===Me)throw Ve(_,"email-already-in-use",$);const Ze=E[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if(Ae)throw Ha(_,Ze,Ae);jt(_,Ze)}}catch(D){if(D instanceof k.ZR)throw D;jt(_,"network-request-failed")}})).apply(this,arguments)}function q(_,p,g,E){return H.apply(this,arguments)}function H(){return(H=(0,f.Z)(function*(_,p,g,E,D={}){const x=yield wt(_,p,g,E,D);return"mfaPendingCredential"in x&&jt(_,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Ee(_,p,g,E){const D=`${p}${g}?${E}`;return _.config.emulator?Ke(_.config,D):`${_.config.apiScheme}://${D}`}class se{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(St(this.auth,"timeout")),mo.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ve(_,p,g){const E={appName:_.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const D=St(_,p,E);return D.customData._tokenResponse=g,D}function Kt(){return(Kt=(0,f.Z)(function*(_,p){return wt(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function $n(_,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(_,p){return wt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Mr(_,p){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,f.Z)(function*(_,p){return wt(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ln(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function yo(){return(yo=(0,f.Z)(function*(_,p=!1){const g=(0,k.m9)(_),E=yield g.getIdToken(p),D=_o(E);De(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const x="object"==typeof D.firebase?D.firebase:void 0,$=null==x?void 0:x.sign_in_provider;return{claims:D,token:E,authTime:ln(Al(D.auth_time)),issuedAtTime:ln(Al(D.iat)),expirationTime:ln(Al(D.exp)),signInProvider:$||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function Al(_){return 1e3*Number(_)}function _o(_){const[p,g,E]=_.split(".");if(void 0===p||void 0===g||void 0===E)return ks("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,k.tV)(g);return D?JSON.parse(D):(ks("Failed to decode base64 JWT payload"),null)}catch(D){return ks("Caught error parsing JWT payload as JSON",D),null}}function ui(_,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,f.Z)(function*(_,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof k.ZR&&vo(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function vo({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class ea{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,f.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class oh{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ln(this.lastLoginAt),this.creationTime=ln(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fs(_){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,f.Z)(function*(_){var p;const g=_.auth,E=yield _.getIdToken(),D=yield ui(_,Mr(g,{idToken:E}));De(null==D?void 0:D.users.length,g,"internal-error");const x=D.users[0];_._notifyReloadListener(x);const $=(null===(p=x.providerUserInfo)||void 0===p?void 0:p.length)?ah(x.providerUserInfo):[],re=or(_.providerData,$),Ze=!!_.isAnonymous&&!(_.email&&x.passwordHash||(null==re?void 0:re.length)),ze={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:re,metadata:new oh(x.createdAt,x.lastLoginAt),isAnonymous:Ze};Object.assign(_,ze)})).apply(this,arguments)}function ls(){return(ls=(0,f.Z)(function*(_){const p=(0,k.m9)(_);yield Fs(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function or(_,p){return[..._.filter(E=>!p.some(D=>D.providerId===E.providerId)),...p]}function ah(_){return _.map(p=>{var{providerId:g}=p,E=ce(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Fe(){return(Fe=(0,f.Z)(function*(_,p){const g=yield ic(_,{},(0,f.Z)(function*(){const E=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:x}=_.config,$=Ee(_,D,"/v1/token",`key=${x}`),re=yield _._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()($,{method:"POST",headers:re,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){De(p.idToken,"internal-error"),De(void 0!==p.idToken,"internal-error"),De(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(_){const p=_o(_);return De(p,"internal-error"),De(void 0!==p.exp,"internal-error"),De(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,f.Z)(function*(){return De(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,f.Z)(function*(){const{accessToken:D,refreshToken:x,expiresIn:$}=yield function(_,p){return Fe.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(D,x,Number($))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:D,expirationTime:x}=g,$=new dt;return E&&(De("string"==typeof E,"internal-error",{appName:p}),$.refreshToken=E),D&&(De("string"==typeof D,"internal-error",{appName:p}),$.accessToken=D),x&&(De("number"==typeof x,"internal-error",{appName:p}),$.expirationTime=x),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new dt,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Ht(_,p){De("string"==typeof _||void 0===_,"internal-error",{appName:p})}class In{constructor(p){var{uid:g,auth:E,stsTokenManager:D}=p,x=ce(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ea(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.metadata=new oh(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,f.Z)(function*(){const E=yield ui(g,g.stsTokenManager.getToken(g.auth,p));return De(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function(_){return yo.apply(this,arguments)}(this,p)}reload(){return function(_){return ls.apply(this,arguments)}(this)}_assign(p){this!==p&&(De(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new In(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,f.Z)(function*(){let D=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),D=!0),g&&(yield Fs(E)),yield E.auth._persistUserIfCurrent(E),D&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,f.Z)(function*(){const g=yield p.getIdToken();return yield ui(p,function(_,p){return Kt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,D,x,$,re,Me,Ae,Ze;const ze=null!==(E=g.displayName)&&void 0!==E?E:void 0,xt=null!==(D=g.email)&&void 0!==D?D:void 0,Zn=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,Bo=null!==($=g.photoURL)&&void 0!==$?$:void 0,zp=null!==(re=g.tenantId)&&void 0!==re?re:void 0,Ca=null!==(Me=g._redirectEventId)&&void 0!==Me?Me:void 0,tf=null!==(Ae=g.createdAt)&&void 0!==Ae?Ae:void 0,nd=null!==(Ze=g.lastLoginAt)&&void 0!==Ze?Ze:void 0,{uid:Gp,emailVerified:nf,isAnonymous:cy,providerData:rd,stsTokenManager:Wp}=g;De(Gp&&Wp,p,"internal-error");const wv=dt.fromJSON(this.name,Wp);De("string"==typeof Gp,p,"internal-error"),Ht(ze,p.name),Ht(xt,p.name),De("boolean"==typeof nf,p,"internal-error"),De("boolean"==typeof cy,p,"internal-error"),Ht(Zn,p.name),Ht(Bo,p.name),Ht(zp,p.name),Ht(Ca,p.name),Ht(tf,p.name),Ht(nd,p.name);const Da=new In({uid:Gp,auth:p,email:xt,emailVerified:nf,displayName:ze,isAnonymous:cy,photoURL:Bo,phoneNumber:Zn,tenantId:zp,stsTokenManager:wv,createdAt:tf,lastLoginAt:nd});return rd&&Array.isArray(rd)&&(Da.providerData=rd.map(Iv=>Object.assign({},Iv))),Ca&&(Da._redirectEventId=Ca),Da}static _fromIdTokenResponse(p,g,E=!1){return(0,f.Z)(function*(){const D=new dt;D.updateFromServerResponse(g);const x=new In({uid:g.localId,auth:p,stsTokenManager:D,isAnonymous:E});return yield Fs(x),x})()}}const on=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,E){var D=this;return(0,f.Z)(function*(){D.storage[g]=E})()}_get(g){var E=this;return(0,f.Z)(function*(){const D=E.storage[g];return void 0===D?null:D})()}_remove(g){var E=this;return(0,f.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return _.type="NONE",_})();function Wn(_,p,g){return`firebase:${_}:${p}:${g}`}class Qt{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:D,name:x}=this.auth;this.fullUserKey=Wn(this.userKey,D.apiKey,x),this.fullPersistenceKey=Wn("persistence",D.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,f.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?In._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,f.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,f.Z)(function*(){if(!g.length)return new Qt(Lt(on),p,E);const D=(yield Promise.all(g.map(function(){var Ae=(0,f.Z)(function*(Ze){if(yield Ze._isAvailable())return Ze});return function(Ze){return Ae.apply(this,arguments)}}()))).filter(Ae=>Ae);let x=D[0]||Lt(on);const $=Wn(E,p.config.apiKey,p.name);let re=null;for(const Ae of g)try{const Ze=yield Ae._get($);if(Ze){const ze=In._fromJSON(p,Ze);Ae!==x&&(re=ze),x=Ae;break}}catch(Ze){}const Me=D.filter(Ae=>Ae._shouldAllowMigration);return x._shouldAllowMigration&&Me.length?(x=Me[0],re&&(yield x._set($,re.toJSON())),yield Promise.all(g.map(function(){var Ae=(0,f.Z)(function*(Ze){if(Ze!==x)try{yield Ze._remove($)}catch(ze){}});return function(Ze){return Ae.apply(this,arguments)}}())),new Qt(x,p,E)):new Qt(x,p,E)})()}}function Ln(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Us(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ta(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(wi(p))return"Blackberry";if(wr(p))return"Webos";if(pt(p))return"Safari";if((p.includes("chrome/")||qa(p))&&!p.includes("edge/"))return"Chrome";if(bo(p))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ta(_=(0,k.z$)()){return/firefox\//i.test(_)}function pt(_=(0,k.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function qa(_=(0,k.z$)()){return/crios\//i.test(_)}function Us(_=(0,k.z$)()){return/iemobile/i.test(_)}function bo(_=(0,k.z$)()){return/android/i.test(_)}function wi(_=(0,k.z$)()){return/blackberry/i.test(_)}function wr(_=(0,k.z$)()){return/webos/i.test(_)}function Vi(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function na(_=(0,k.z$)()){return Vi(_)||bo(_)||wr(_)||wi(_)||/windows phone/i.test(_)||Us(_)}function sc(_,p=[]){let g;switch(_){case"Browser":g=Ln((0,k.z$)());break;case"Worker":g=`${Ln((0,k.z$)())}-${_}`;break;default:g=_}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${E}`}class ch{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ds(this),this.idTokenSubscription=new ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=Lt(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var D,x;if(!E._deleted&&(E.persistenceManager=yield Qt.create(E,p),!E._deleted)){if(null===(D=E._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch($){}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(x=E.currentUser)||void 0===x?void 0:x.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,f.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,f.Z)(function*(){var E;let D=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,$=null==D?void 0:D._redirectEventId,re=yield g.tryRedirectSignIn(p);(!x||x===$)&&(null==re?void 0:re.user)&&(D=re.user)}return D?D._redirectEventId?(De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===D._redirectEventId?g.directlySetCurrentUser(D):g.reloadAndSetCurrentUserOrClear(D)):g.reloadAndSetCurrentUserOrClear(D):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,f.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(D){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,f.Z)(function*(){try{yield Fs(p)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,f.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,f.Z)(function*(){const E=p?(0,k.m9)(p):null;return E&&De(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,f.Z)(function*(){if(!g._deleted)return p&&De(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,f.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,f.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(Lt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,f.Z)(function*(){const D=yield E.getOrInitRedirectPersistenceManager(g);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&Lt(p)||g._popupRedirectResolver;De(E,g,"argument-error"),g.redirectPersistenceManager=yield Qt.create(g,[Lt(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,f.Z)(function*(){var E,D;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,f.Z)(function*(){if(p===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,D){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return De($,this,"internal-error"),$.then(()=>x(this.currentUser)),"function"==typeof g?p.addObserver(g,E,D):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=sc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,f.Z)(function*(){const g={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(g["X-Firebase-gmpid"]=p.app.options.appId),g})()}}function Rn(_){return(0,k.m9)(_)}class ds{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dn(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Bi(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class Vs{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return sr("not implemented")}_getIdTokenResponse(p){return sr("not implemented")}_linkToIdToken(p,g){return sr("not implemented")}_getReauthenticationResolver(p){return sr("not implemented")}}function Za(_,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,f.Z)(function*(_,p){return wt(_,"POST","/v1/accounts:resetPassword",Wt(_,p))})).apply(this,arguments)}function li(_,p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,f.Z)(function*(_,p){return wt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Tm(_,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,f.Z)(function*(_,p){return wt(_,"POST","/v1/accounts:update",Wt(_,p))})).apply(this,arguments)}function lh(){return(lh=(0,f.Z)(function*(_,p){return q(_,"POST","/v1/accounts:signInWithPassword",Wt(_,p))})).apply(this,arguments)}function Pl(_,p){return dh.apply(this,arguments)}function dh(){return(dh=(0,f.Z)(function*(_,p){return wt(_,"POST","/v1/accounts:sendOobCode",Wt(_,p))})).apply(this,arguments)}function Cm(_,p){return hh.apply(this,arguments)}function hh(){return(hh=(0,f.Z)(function*(_,p){return Pl(_,p)})).apply(this,arguments)}function Dm(_,p){return dp.apply(this,arguments)}function dp(){return(dp=(0,f.Z)(function*(_,p){return Pl(_,p)})).apply(this,arguments)}function fh(_,p){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,f.Z)(function*(_,p){return Pl(_,p)})).apply(this,arguments)}function ph(_,p){return gh.apply(this,arguments)}function gh(){return(gh=(0,f.Z)(function*(_,p){return Pl(_,p)})).apply(this,arguments)}function za(){return(za=(0,f.Z)(function*(_,p){return q(_,"POST","/v1/accounts:signInWithEmailLink",Wt(_,p))})).apply(this,arguments)}function Ga(){return(Ga=(0,f.Z)(function*(_,p){return q(_,"POST","/v1/accounts:signInWithEmailLink",Wt(_,p))})).apply(this,arguments)}class oa extends Vs{constructor(p,g,E,D=null){super("password",E),this._email=p,this._password=g,this._tenantId=D}static _fromEmailAndPassword(p,g){return new oa(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new oa(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function(_,p){return lh.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(_,p){return za.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:jt(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return li(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(_,p){return Ga.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:jt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Bs(_,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,f.Z)(function*(_,p){return q(_,"POST","/v1/accounts:signInWithIdp",Wt(_,p))})).apply(this,arguments)}class Cn extends Vs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Cn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):jt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:D}=g,x=ce(g,["providerId","signInMethod"]);if(!E||!D)return null;const $=new Cn(E,D);return $.idToken=x.idToken||void 0,$.accessToken=x.accessToken||void 0,$.secret=x.secret,$.nonce=x.nonce,$.pendingToken=x.pendingToken||null,$}_getIdTokenResponse(p){return Bs(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Bs(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Bs(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,k.xO)(g)}return p}}function ji(_,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,f.Z)(function*(_,p){return wt(_,"POST","/v1/accounts:sendVerificationCode",Wt(_,p))})).apply(this,arguments)}function yh(){return(yh=(0,f.Z)(function*(_,p){return q(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,p))})).apply(this,arguments)}function Nl(){return(Nl=(0,f.Z)(function*(_,p){const g=yield q(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,p));if(g.temporaryProof)throw Ve(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ka={USER_NOT_FOUND:"user-not-found"};function aa(){return(aa=(0,f.Z)(function*(_,p){return q(_,"POST","/v1/accounts:signInWithPhoneNumber",Wt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ka)})).apply(this,arguments)}class Io extends Vs{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Io({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Io({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(_,p){return yh.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(_,p){return Nl.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(_,p){return aa.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:D}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:x}=p;return E||g||D||x?new Io({verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:x}):null}}class js{constructor(p){var g,E,D,x,$,re;const Me=(0,k.zd)((0,k.pd)(p)),Ae=null!==(g=Me.apiKey)&&void 0!==g?g:null,Ze=null!==(E=Me.oobCode)&&void 0!==E?E:null,ze=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Me.mode)&&void 0!==D?D:null);De(Ae&&Ze&&ze,"argument-error"),this.apiKey=Ae,this.operation=ze,this.code=Ze,this.continueUrl=null!==(x=Me.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==($=Me.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(re=Me.tenantId)&&void 0!==re?re:null}static parseLink(p){const g=function(_){const p=(0,k.zd)((0,k.pd)(_)).link,g=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,E=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(E?(0,k.zd)((0,k.pd)(E)).link:null)||E||g||p||_}(p);try{return new js(g)}catch(E){return null}}}let hs=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,E){return oa._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const D=js.parseLink(E);return De(D,"argument-error"),oa._fromEmailAndCode(g,D.code,D.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Gr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class $i extends Gr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Xt extends $i{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return De("providerId"in g&&"signInMethod"in g,"argument-error"),Cn._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return De(p.idToken||p.accessToken,"argument-error"),Cn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Xt.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Xt.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:D,pendingToken:x,nonce:$,providerId:re}=p;if(!E&&!D&&!g&&!x||!re)return null;try{return new Xt(re)._credential({idToken:g,accessToken:E,nonce:$,pendingToken:x})}catch(Me){return null}}}let uc=(()=>{class _ extends $i{constructor(){super("facebook.com")}static credential(g){return Cn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Qa=(()=>{class _ extends $i{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Cn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:D}=g;if(!E&&!D)return null;try{return _.credential(E,D)}catch(x){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),_h=(()=>{class _ extends $i{constructor(){super("github.com")}static credential(g){return Cn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ua extends Vs{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Bs(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Bs(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Bs(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:D,pendingToken:x}=g;return E&&D&&x&&E===D?new ua(E,x):null}static _create(p,g){return new ua(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class To extends Gr{constructor(p){De(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return To.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return To.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=ua.fromJSON(p);return De(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return ua._create(E,g)}catch(D){return null}}}let Nr=(()=>{class _ extends $i{constructor(){super("twitter.com")}static credential(g,E){return Cn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:D}=g;if(!E||!D)return null;try{return _.credential(E,D)}catch(x){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Eh(_,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,f.Z)(function*(_,p){return q(_,"POST","/v1/accounts:signUp",Wt(_,p))})).apply(this,arguments)}class qn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,D=!1){return(0,f.Z)(function*(){const x=yield In._fromIdTokenResponse(p,E,D),$=ar(E);return new qn({user:x,providerId:$,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,f.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const D=ar(E);return new qn({user:p,providerId:D,_tokenResponse:E,operationType:g})})()}}function ar(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ca(){return(ca=(0,f.Z)(function*(_){var p;const g=Rn(_);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new qn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield Eh(g,{returnSecureToken:!0}),D=yield qn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ja extends k.ZR{constructor(p,g,E,D){var x;super(g.code,g.message),this.operationType=E,this.user=D,Object.setPrototypeOf(this,Ja.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,D){return new Ja(p,g,E,D)}}function fs(_,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Ja._fromErrorAndOperation(_,x,p,E):x})}function Xa(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function ot(){return(ot=(0,f.Z)(function*(_,p){const g=(0,k.m9)(_);yield $s(!0,g,p);const{providerUserInfo:E}=yield $n(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),D=Xa(E||[]);return g.providerData=g.providerData.filter(x=>D.has(x.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function bh(_,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,f.Z)(function*(_,p,g=!1){const E=yield ui(_,p._linkToIdToken(_.auth,yield _.getIdToken()),g);return qn._forOperation(_,"link",E)})).apply(this,arguments)}function $s(_,p,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(_,p,g){yield Fs(p);const D=!1===_?"provider-already-linked":"no-such-provider";De(Xa(p.providerData).has(g)===_,p.auth,D)})).apply(this,arguments)}function dc(_,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,f.Z)(function*(_,p,g=!1){const{auth:E}=_,D="reauthenticate";try{const x=yield ui(_,fs(E,D,p,_),g);De(x.idToken,E,"internal-error");const $=_o(x.idToken);De($,E,"internal-error");const{sub:re}=$;return De(_.uid===re,E,"user-mismatch"),qn._forOperation(_,D,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&jt(E,"user-mismatch"),x}})).apply(this,arguments)}function kl(_,p){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,f.Z)(function*(_,p,g=!1){const E="signIn",D=yield fs(_,E,p),x=yield qn._fromIdTokenResponse(_,E,D);return g||(yield _._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Ct(_,p){return hc.apply(this,arguments)}function hc(){return(hc=(0,f.Z)(function*(_,p){return kl(Rn(_),p)})).apply(this,arguments)}function Dn(_,p){return fc.apply(this,arguments)}function fc(){return(fc=(0,f.Z)(function*(_,p){const g=(0,k.m9)(_);return yield $s(!1,g,p.providerId),bh(g,p)})).apply(this,arguments)}function Do(_,p){return di.apply(this,arguments)}function di(){return(di=(0,f.Z)(function*(_,p){return dc((0,k.m9)(_),p)})).apply(this,arguments)}function eu(_,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,f.Z)(function*(_,p){return q(_,"POST","/v1/accounts:signInWithCustomToken",Wt(_,p))})).apply(this,arguments)}function pc(){return(pc=(0,f.Z)(function*(_,p){const g=Rn(_),E=yield eu(g,{token:p,returnSecureToken:!0}),D=yield qn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class qi{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Zi._fromServerResponse(p,g):jt(p,"internal-error")}}class Zi extends qi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Zi(g)}}function Yn(_,p,g){var E;De((null===(E=g.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),De(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function la(){return(la=(0,f.Z)(function*(_,p,g){const E=(0,k.m9)(_),D={requestType:"PASSWORD_RESET",email:p};g&&Yn(E,D,g),yield Dm(E,D)})).apply(this,arguments)}function Ci(){return(Ci=(0,f.Z)(function*(_,p,g){yield Za((0,k.m9)(_),{oobCode:p,newPassword:g})})).apply(this,arguments)}function gc(){return(gc=(0,f.Z)(function*(_,p){yield Tm((0,k.m9)(_),{oobCode:p})})).apply(this,arguments)}function mc(_,p){return da.apply(this,arguments)}function da(){return(da=(0,f.Z)(function*(_,p){const g=(0,k.m9)(_),E=yield Za(g,{oobCode:p}),D=E.requestType;switch(De(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(E.mfaInfo,g,"internal-error");default:De(E.email,g,"internal-error")}let x=null;return E.mfaInfo&&(x=qi._fromServerResponse(Rn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:x},operation:D}})).apply(this,arguments)}function ha(){return(ha=(0,f.Z)(function*(_,p){const{data:g}=yield mc((0,k.m9)(_),p);return g.email})).apply(this,arguments)}function _c(){return(_c=(0,f.Z)(function*(_,p,g){const E=Rn(_),D=yield Eh(E,{returnSecureToken:!0,email:p,password:g}),x=yield qn._fromIdTokenResponse(E,"signIn",D);return yield E._updateCurrentUser(x.user),x})).apply(this,arguments)}function ms(){return(ms=(0,f.Z)(function*(_,p,g){const E=(0,k.m9)(_),D={requestType:"EMAIL_SIGNIN",email:p};De(g.handleCodeInApp,E,"argument-error"),g&&Yn(E,D,g),yield fh(E,D)})).apply(this,arguments)}function tu(){return(tu=(0,f.Z)(function*(_,p,g){const E=(0,k.m9)(_),D=hs.credentialWithLink(p,g||nt());return De(D._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ct(E,D)})).apply(this,arguments)}function Am(_,p){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,f.Z)(function*(_,p){return wt(_,"POST","/v1/accounts:createAuthUri",Wt(_,p))})).apply(this,arguments)}function gp(){return(gp=(0,f.Z)(function*(_,p){const E={identifier:p,continueUri:Se()?nt():"http://localhost"},{signinMethods:D}=yield Am((0,k.m9)(_),E);return D||[]})).apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(_,p){const g=(0,k.m9)(_),D={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&Yn(g.auth,D,p);const{email:x}=yield Cm(g.auth,D);x!==_.email&&(yield _.reload())})).apply(this,arguments)}function nu(){return(nu=(0,f.Z)(function*(_,p,g){const E=(0,k.m9)(_),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};g&&Yn(E.auth,x,g);const{email:$}=yield ph(E.auth,x);$!==_.email&&(yield _.reload())})).apply(this,arguments)}function mp(_,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,f.Z)(function*(_,p){return wt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(_,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,k.m9)(_),x={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},$=yield ui(E,mp(E.auth,x));E.displayName=$.displayName||null,E.photoURL=$.photoUrl||null;const re=E.providerData.find(({providerId:Me})=>"password"===Me);re&&(re.displayName=E.displayName,re.photoURL=E.photoURL),yield E._updateTokensIfNecessary($)})).apply(this,arguments)}function iu(_,p,g){return su.apply(this,arguments)}function su(){return(su=(0,f.Z)(function*(_,p,g){const{auth:E}=_,x={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(x.email=p),g&&(x.password=g);const $=yield ui(_,li(E,x));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class So{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class Ic extends So{constructor(p,g,E,D){super(p,g,E),this.username=D}}class Zs extends So{constructor(p,g){super(p,"facebook.com",g)}}class Ao extends Ic{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class xm extends So{constructor(p,g){super(p,"google.com",g)}}class yp extends Ic{constructor(p,g,E){super(p,"twitter.com",g,E)}}function ur(_){const{user:p,_tokenResponse:g}=_;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(_){var p,g;if(!_)return null;const{providerId:E}=_,D=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},x=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const $=null===(g=null===(p=_o(_.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new So(x,"anonymous"!==$&&"custom"!==$?$:null)}if(!E)return null;switch(E){case"facebook.com":return new Zs(x,D);case"github.com":return new Ao(x,D);case"google.com":return new xm(x,D);case"twitter.com":return new yp(x,D,_.screenName||null);case"custom":case"anonymous":return new So(x,null);default:return new So(x,E,D)}}(g)}class Di{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Di("enroll",p)}static _fromMfaPendingCredential(p){return new Di("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Di._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return Di._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Dc{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=Rn(p),D=g.customData._serverResponse,x=(D.mfaInfo||[]).map(re=>qi._fromServerResponse(E,re));De(D.mfaPendingCredential,E,"internal-error");const $=Di._fromMfaPendingCredential(D.mfaPendingCredential);return new Dc($,x,function(){var re=(0,f.Z)(function*(Me){const Ae=yield Me._process(E,$);delete D.mfaInfo,delete D.mfaPendingCredential;const Ze=Object.assign(Object.assign({},D),{idToken:Ae.idToken,refreshToken:Ae.refreshToken});switch(g.operationType){case"signIn":const ze=yield qn._fromIdTokenResponse(E,g.operationType,Ze);return yield E._updateCurrentUser(ze.user),ze;case"reauthenticate":return De(g.user,E,"internal-error"),qn._forOperation(g.user,g.operationType,Ze);default:jt(E,"internal-error")}});return function(Me){return re.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,f.Z)(function*(){return g.signInResolver(p)})()}}function au(_,p){return wt(_,"POST","/v2/accounts/mfaEnrollment:start",Wt(_,p))}class Ac{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>qi._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Ac(p)}getSession(){var p=this;return(0,f.Z)(function*(){return Di._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var E=this;return(0,f.Z)(function*(){const D=p,x=yield E.getSession(),$=yield ui(E.user,D._process(E.user.auth,x,g));return yield E.user._updateTokensIfNecessary($),E.user.reload()})()}unenroll(p){var g=this;return(0,f.Z)(function*(){const E="string"==typeof p?p:p.uid,D=yield g.user.getIdToken(),x=yield ui(g.user,function(_,p){return wt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(_,p))}(g.user.auth,{idToken:D,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==E),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const Ro=new WeakMap,fa="__sak";class _n{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(fa,"1"),this.storage.removeItem(fa),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const zs=(()=>{class _ extends _n{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,k.z$)();return pt(_)||Vi(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=na(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const D=this.storage.getItem(E),x=this.localCache[E];D!==x&&g(E,x,D)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((re,Me,Ae)=>{this.notifyListeners(re,Ae)});const D=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(D);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!E)return}const x=()=>{const re=this.storage.getItem(D);!E&&this.localCache[D]===re||this.notifyListeners(D,re)},$=this.storage.getItem(D);(0,k.w1)()&&10===document.documentMode&&$!==g.newValue&&g.newValue!==g.oldValue?setTimeout(x,10):x()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const x of Array.from(D))x(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var D=()=>super._set,x=this;return(0,f.Z)(function*(){yield D().call(x,g,E),x.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,D=this;return(0,f.Z)(function*(){const x=yield E().call(D,g);return D.localCache[g]=JSON.stringify(x),x})()}_remove(g){var E=()=>super._remove,D=this;return(0,f.Z)(function*(){yield E().call(D,g),delete D.localCache[g]})()}}return _.type="LOCAL",_})(),an=(()=>{class _ extends _n{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return _.type="SESSION",_})();let Ep=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(x=>x.isListeningto(g));if(E)return E;const D=new _(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,f.Z)(function*(){const D=g,{eventId:x,eventType:$,data:re}=D.data,Me=E.handlersMap[$];if(!(null==Me?void 0:Me.size))return;D.ports[0].postMessage({status:"ack",eventId:x,eventType:$});const Ae=Array.from(Me).map(function(){var ze=(0,f.Z)(function*(xt){return xt(D.origin,re)});return function(xt){return ze.apply(this,arguments)}}()),Ze=yield function(_){return Promise.all(_.map(function(){var p=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(Ae);D.ports[0].postMessage({status:"done",eventId:x,eventType:$,response:Ze})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function pa(_="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return _+g}class Si{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var D=this;return(0,f.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let $,re;return new Promise((Me,Ae)=>{const Ze=pa("",20);x.port1.start();const ze=setTimeout(()=>{Ae(new Error("unsupported_event"))},E);re={messageChannel:x,onMessage(xt){const Zn=xt;if(Zn.data.eventId===Ze)switch(Zn.data.status){case"ack":clearTimeout(ze),$=setTimeout(()=>{Ae(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Me(Zn.data.response);break;default:clearTimeout(ze),clearTimeout($),Ae(new Error("invalid_response"))}}},D.handlers.add(re),x.port1.addEventListener("message",re.onMessage),D.target.postMessage({eventType:p,eventId:Ze,data:g},[x.port2])}).finally(()=>{re&&D.removeMessageHandler(re)})})()}}function Pn(){return window}function Rc(){return void 0!==Pn().WorkerGlobalScope&&"function"==typeof Pn().importScripts}function Oo(){return(Oo=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Gs="firebaseLocalStorageDb",ma="firebaseLocalStorage",cu="fbase_key";class Fr{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function zi(_,p){return _.transaction([ma],p?"readwrite":"readonly").objectStore(ma)}function ct(){const _=indexedDB.open(Gs,1);return new Promise((p,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(ma,{keyPath:cu})}catch(D){g(D)}}),_.addEventListener("success",(0,f.Z)(function*(){const E=_.result;E.objectStoreNames.contains(ma)?p(E):(E.close(),yield function(){const _=indexedDB.deleteDatabase(Gs);return new Fr(_).toPromise()}(),p(yield ct()))}))})}function Gi(_,p,g){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,f.Z)(function*(_,p,g){const E=zi(_,!0).put({[cu]:p,value:g});return new Fr(E).toPromise()})).apply(this,arguments)}function xh(){return(xh=(0,f.Z)(function*(_,p){const g=zi(_,!1).get(p),E=yield new Fr(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function wp(_,p){const g=zi(_,!0).delete(p);return new Fr(g).toPromise()}const en=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield ct()),g.db})()}_withRetries(g){var E=this;return(0,f.Z)(function*(){let D=0;for(;;)try{const x=yield E._openDb();return yield g(x)}catch(x){if(D++>3)throw x;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return Rc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=Ep._getInstance(Rc()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,f.Z)(function*(D,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(D,x){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,f.Z)(function*(D,x){return["keyChanged"]});return function(D,x){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var E,D;if(g.activeServiceWorker=yield function(){return Oo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Si(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(E=x[0])||void 0===E?void 0:E.fulfilled)&&(null===(D=x[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,f.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ct();return yield Gi(g,fa,"1"),yield wp(g,fa),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,f.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var D=this;return(0,f.Z)(function*(){return D._withPendingWrite((0,f.Z)(function*(){return yield D._withRetries(x=>Gi(x,g,E)),D.localCache[g]=E,D.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,f.Z)(function*(){const D=yield E._withRetries(x=>function(_,p){return xh.apply(this,arguments)}(x,g));return E.localCache[g]=D,D})()}_remove(g){var E=this;return(0,f.Z)(function*(){return E._withPendingWrite((0,f.Z)(function*(){return yield E._withRetries(D=>wp(D,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const E=yield g._withRetries($=>{const re=zi($,!1).getAll();return new Fr(re).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const D=[],x=new Set;for(const{fbase_key:$,value:re}of E)x.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(re)&&(g.notifyListeners($,re),D.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!x.has($)&&(g.notifyListeners($,null),D.push($));return D})()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const x of Array.from(D))x(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Pc(_,p){return wt(_,"POST","/v2/accounts/mfaSignIn:start",Wt(_,p))}function Ph(){return(Ph=(0,f.Z)(function*(_){return(yield wt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jl(_){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=p,E.onerror=D=>{const x=St("internal-error");x.customData=D,g(x)},E.type="text/javascript",E.charset="UTF-8",function(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(E)})}function Oh(_){return`__${_}${Math.floor(1e6*Math.random())}`}const lu=1e12;class cr{constructor(p){this.auth=p,this.counter=lu,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new Ys(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||lu;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||lu))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,f.Z)(function*(){var E;return null===(E=g._widgets.get(p||lu))||void 0===E||E.execute(),""})()}}class Ys{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;De(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const On=Oh("rcb"),Oc=new Ut(3e4,6e4);class hu{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Pn().grecaptcha}load(p,g=""){return De((_=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Pn().grecaptcha):new Promise((E,D)=>{const x=Pn().setTimeout(()=>{D(St(p,"network-request-failed"))},Oc.get());Pn()[On]=()=>{Pn().clearTimeout(x),delete Pn()[On];const re=Pn().grecaptcha;if(!re)return void D(St(p,"internal-error"));const Me=re.render;re.render=(Ae,Ze)=>{const ze=Me(Ae,Ze);return this.counter++,ze},this.hostLanguage=g,E(re)},jl(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:On,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),D(St(p,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Pn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fi{load(p){return(0,f.Z)(function*(){return new cr(p)})()}clearedOneInstance(){}}const pi="recaptcha",Wi={theme:"light",type:"image"};class Mo{constructor(p,g=Object.assign({},Wi),E){this.parameters=g,this.type=pi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(E),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;De(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fi:new hu,this.validateStartingState()}verify(){var p=this;return(0,f.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(x=>{const $=re=>{!re||(p.tokenChangeListeners.delete($),x(re))};p.tokenChangeListeners.add($),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=Pn()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,f.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,f.Z)(function*(){De(Se()&&!Rc(),p.auth,"internal-error"),yield function(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(_){return Ph.apply(this,arguments)}(p.auth);De(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $l{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Io._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function lr(){return(lr=(0,f.Z)(function*(_,p,g){const E=Rn(_),D=yield S(E,p,(0,k.m9)(g));return new $l(D,x=>Ct(E,x))})).apply(this,arguments)}function Hl(){return(Hl=(0,f.Z)(function*(_,p,g){const E=(0,k.m9)(_);yield $s(!1,E,"phone");const D=yield S(E.auth,p,(0,k.m9)(g));return new $l(D,x=>Dn(E,x))})).apply(this,arguments)}function I(){return(I=(0,f.Z)(function*(_,p,g){const E=(0,k.m9)(_),D=yield S(E.auth,p,(0,k.m9)(g));return new $l(D,x=>Do(E,x))})).apply(this,arguments)}function S(_,p,g){return P.apply(this,arguments)}function P(){return(P=(0,f.Z)(function*(_,p,g){var E;const D=yield g.verify();try{let x;if(De("string"==typeof D,_,"argument-error"),De(g.type===pi,_,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const $=x.session;if("phoneNumber"in x)return De("enroll"===$.type,_,"internal-error"),(yield au(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{De("signin"===$.type,_,"internal-error");const re=(null===(E=x.multiFactorHint)||void 0===E?void 0:E.uid)||x.multiFactorUid;return De(re,_,"missing-multi-factor-info"),(yield Pc(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield ji(_,{phoneNumber:x.phoneNumber,recaptchaToken:D});return $}}finally{g._reset()}})).apply(this,arguments)}function K(){return(K=(0,f.Z)(function*(_,p){yield bh((0,k.m9)(_),p)})).apply(this,arguments)}let ue=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Rn(g)}verifyPhoneNumber(g,E){return S(this.auth,g,(0,k.m9)(E))}static credential(g,E){return Io._fromVerification(g,E)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:D}=g;return E&&D?Io._fromTokenResponse(E,D):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Te(_,p){return p?Lt(p):(De(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Be extends Vs{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Bs(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Bs(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Bs(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function je(_){return kl(_.auth,new Be(_),_.bypassAuthState)}function Vt(_){const{auth:p,user:g}=_;return De(g,p,"internal-error"),dc(g,new Be(_),_.bypassAuthState)}function Zt(_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(_){const{auth:p,user:g}=_;return De(g,p,"internal-error"),bh(g,new Be(_),_.bypassAuthState)})).apply(this,arguments)}class Jn{constructor(p,g,E,D,x=!1){this.auth=p,this.resolver=E,this.user=D,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,f.Z)(function*(E,D){p.pendingPromise={resolve:E,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(E,D){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,f.Z)(function*(){const{urlResponse:E,sessionId:D,postBody:x,tenantId:$,error:re,type:Me}=p;if(re)return void g.reject(re);const Ae={auth:g.auth,requestUri:E,sessionId:D,tenantId:$||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Me)(Ae))}catch(Ze){g.reject(Ze)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return je;case"linkViaPopup":case"linkViaRedirect":return Zt;case"reauthViaPopup":case"reauthViaRedirect":return Vt;default:jt(this.auth,"internal-error")}}resolve(p){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xn=new Ut(2e3,1e4);function No(){return(No=(0,f.Z)(function*(_,p,g){const E=Rn(_);Pr(_,p,Gr);const D=Te(E,g);return new ql(E,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function Es(){return(Es=(0,f.Z)(function*(_,p,g){const E=(0,k.m9)(_);Pr(E.auth,p,Gr);const D=Te(E.auth,g);return new ql(E.auth,"reauthViaPopup",p,D,E).executeNotNull()})).apply(this,arguments)}function vt(){return(vt=(0,f.Z)(function*(_,p,g){const E=(0,k.m9)(_);Pr(E.auth,p,Gr);const D=Te(E.auth,g);return new ql(E.auth,"linkViaPopup",p,D,E).executeNotNull()})).apply(this,arguments)}let ql=(()=>{class _ extends Jn{constructor(g,E,D,x,$){super(g,E,x,$),this.provider=D,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const E=yield g.execute();return De(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,f.Z)(function*(){Fn(1===g.filter.length,"Popup operations only handle one event");const E=pa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(St(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(St(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,D;this.pollId=(null===(D=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(St(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Xn.get())};g()}}return _.currentPopupAction=null,_})();const fu=new Map;class pu extends Jn{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,f.Z)(function*(){let E=fu.get(g.auth._key());if(!E){try{const x=(yield function(_,p){return Dp.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(x)}catch(D){E=()=>Promise.reject(D)}fu.set(g.auth._key(),E)}return g.bypassAuthState||fu.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,f.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const D=yield E.auth._redirectUserForId(p.eventId);if(D)return E.user=D,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Dp(){return(Dp=(0,f.Z)(function*(_,p){const g=gu(p),E=Fo(_);if(!(yield E._isAvailable()))return!1;const D="true"===(yield E._get(g));return yield E._remove(g),D})).apply(this,arguments)}function Mn(_,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,f.Z)(function*(_,p){return Fo(_)._set(gu(p),"true")})).apply(this,arguments)}function Fo(_){return Lt(_._redirectPersistence)}function gu(_){return Wn("pendingRedirect",_.config.apiKey,_.name)}function xi(){return(xi=(0,f.Z)(function*(_,p,g){const E=Rn(_);Pr(_,p,Gr);const D=Te(E,g);return yield Mn(D,E),D._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(_,p,g){const E=(0,k.m9)(_);Pr(E.auth,p,Gr);const D=Te(E.auth,g);yield Mn(D,E.auth);const x=yield wa(E);return D._openRedirect(E.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function Nh(){return(Nh=(0,f.Z)(function*(_,p,g){const E=(0,k.m9)(_);Pr(E.auth,p,Gr);const D=Te(E.auth,g);yield $s(!1,E,p.providerId),yield Mn(D,E.auth);const x=yield wa(E);return D._openRedirect(E.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function kc(){return(kc=(0,f.Z)(function*(_,p){return yield Rn(_)._initializationPromise,ba(_,p,!1)})).apply(this,arguments)}function ba(_,p){return mu.apply(this,arguments)}function mu(){return(mu=(0,f.Z)(function*(_,p,g=!1){const E=Rn(_),D=Te(E,p),$=yield new pu(E,D,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield E._persistUserIfCurrent($.user),yield E._setRedirectUser(null,p)),$})).apply(this,arguments)}function wa(_){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,f.Z)(function*(_){const p=pa(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class Fc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cv(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!cv(p)){const D=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(St(this.auth,D))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ia(p))}saveEventToCache(p){this.cachedEventUids.add(Ia(p)),this.lastProcessedEventTime=Date.now()}}function Ia(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function cv({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Sp(_){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,f.Z)(function*(_,p={}){return wt(_,"GET","/v1/projects",p)})).apply(this,arguments)}const Fh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gl=/^https?/;function Lo(){return(Lo=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield Sp(_);for(const g of p)try{if(Ap(g))return}catch(E){}jt(_,"unauthorized-domain")})).apply(this,arguments)}function Ap(_){const p=nt(),{protocol:g,hostname:E}=new URL(p);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===E?"chrome-extension:"===g&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===E}if(!Gl.test(g))return!1;if(Fh.test(_))return E===_;const D=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(E)}const Ta=new Ut(3e4,6e4);function Wl(){const _=Pn().___jsl;if(null==_?void 0:_.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Lh=null;function Uh(_){return Lh=Lh||function(_){return new Promise((p,g)=>{var E,D,x;function $(){Wl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Wl(),g(St(_,"network-request-failed"))},timeout:Ta.get()})}if(null===(D=null===(E=Pn().gapi)||void 0===E?void 0:E.iframes)||void 0===D?void 0:D.Iframe)p(gapi.iframes.getContext());else{if(!(null===(x=Pn().gapi)||void 0===x?void 0:x.load)){const re=Oh("iframefcb");return Pn()[re]=()=>{gapi.load?$():g(St(_,"network-request-failed"))},jl(`https://apis.google.com/js/api.js?onload=${re}`).catch(Me=>g(Me))}$()}}).catch(p=>{throw Lh=null,p})}(_),Lh}const xp=new Ut(5e3,15e3),jm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lv(_){const p=_.config;De(p.authDomain,_,"auth-domain-config-required");const g=p.emulator?Ke(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:_.name,v:le.SDK_VERSION},D=yu.get(_.config.apiHost);D&&(E.eid=D);const x=_._getFrameworks();return x.length&&(E.fw=x.join(",")),`${g}?${(0,k.xO)(E).slice(1)}`}function Rp(){return(Rp=(0,f.Z)(function*(_){const p=yield Uh(_),g=Pn().gapi;return De(g,_,"internal-error"),p.open({where:document.body,url:lv(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jm,dontclear:!0},E=>new Promise(function(){var D=(0,f.Z)(function*(x,$){yield E.restyle({setHideOnLeave:!1});const re=St(_,"network-request-failed"),Me=Pn().setTimeout(()=>{$(re)},xp.get());function Ae(){Pn().clearTimeout(Me),x(E)}E.ping(Ae).then(Ae,()=>{$(re)})});return function(x,$){return D.apply(this,arguments)}}()))})).apply(this,arguments)}const $m={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Op{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Vh(_,p,g,E,D,x){De(_.config.authDomain,_,"auth-domain-config-required"),De(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:E,v:le.SDK_VERSION,eventId:D};if(p instanceof Gr){p.setDefaultLanguage(_.languageCode),$.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||($.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Me,Ae]of Object.entries(x||{}))$[Me]=Ae}if(p instanceof $i){const Me=p.getScopes().filter(Ae=>""!==Ae);Me.length>0&&($.scopes=Me.join(","))}_.tenantId&&($.tid=_.tenantId);const re=$;for(const Me of Object.keys(re))void 0===re[Me]&&delete re[Me];return`${function({config:_}){return _.emulator?Ke(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(re).slice(1)}`}const jh="webStorageSupport";class Yl extends class{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return sr("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Yl(p)}_finalizeEnroll(p,g,E){return function(_,p){return wt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(_,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(_,p){return wt(_,"POST","/v2/accounts/mfaSignIn:finalize",Wt(_,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ql=(()=>{class _{constructor(){}static assertion(g){return Yl._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _,Vc="@firebase/auth";class Jl{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{var D;p((null===(D=E)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xs(){return window}function Bc(){return(Bc=(0,f.Z)(function*(_,p,g){var E;const{BuildInfo:D}=Xs();Fn(p.sessionId,"AuthEvent did not contain a session ID");const x=yield qh(p.sessionId),$={};return Vi()?$.ibi=D.packageName:bo()?$.apn=D.packageName:jt(_,"operation-not-supported-in-this-environment"),D.displayName&&($.appDisplayName=D.displayName),$.sessionId=x,Vh(_,g,p.type,void 0,null!==(E=p.eventId)&&void 0!==E?E:void 0,$)})).apply(this,arguments)}function _u(){return(_u=(0,f.Z)(function*(_){const{BuildInfo:p}=Xs(),g={};Vi()?g.iosBundleId=p.packageName:bo()?g.androidPackageName=p.packageName:jt(_,"operation-not-supported-in-this-environment"),yield Sp(_,g)})).apply(this,arguments)}function Hh(){return(Hh=(0,f.Z)(function*(_,p,g){const{cordova:E}=Xs();let D=()=>{};try{yield new Promise((x,$)=>{let re=null;function Me(){var ze;x();const xt=null===(ze=E.plugins.browsertab)||void 0===ze?void 0:ze.close;"function"==typeof xt&&xt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ae(){re||(re=window.setTimeout(()=>{$(St(_,"redirect-cancelled-by-user"))},2e3))}function Ze(){"visible"===(null==document?void 0:document.visibilityState)&&Ae()}p.addPassiveListener(Me),document.addEventListener("resume",Ae,!1),bo()&&document.addEventListener("visibilitychange",Ze,!1),D=()=>{p.removePassiveListener(Me),document.removeEventListener("resume",Ae,!1),document.removeEventListener("visibilitychange",Ze,!1),re&&window.clearTimeout(re)}})}finally{D()}})).apply(this,arguments)}function qh(_){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,f.Z)(function*(_){const p=Lp(_),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Lp(_){if(Fn(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),g=new Uint8Array(p);for(let E=0;E<_.length;E++)g[E]=_.charCodeAt(E);return g}_="Browser",(0,le._registerComponent)(new We.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),{apiKey:D,authDomain:x}=E.options;return($=>{De(D&&!D.includes(":"),"invalid-api-key",{appName:$.name}),De(!(null==x?void 0:x.includes(":")),"argument-error",{appName:$.name});const re={apiKey:D,authDomain:x,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sc(_)},Me=new ch($,re);return function(_,p){const g=(null==p?void 0:p.persistence)||[],E=(Array.isArray(g)?g:[g]).map(Lt);(null==p?void 0:p.errorMap)&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(Me,g),Me})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new We.wA("auth-internal",p=>{const g=Rn(p.getProvider("auth").getImmediate());return new Jl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Vc,"0.19.5",void 0),(0,le.registerVersion)(Vc,"0.19.5","esm2017");class Xl extends Fc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,f.Z)(function*(){yield p.initPromise})()}}function Qm(_){return hn.apply(this,arguments)}function hn(){return(hn=(0,f.Z)(function*(_){const p=yield Ji()._get(Zh(_));return p&&(yield Ji()._remove(Zh(_))),p})).apply(this,arguments)}function Bp(){const _=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*p.length);_.push(p.charAt(E))}return _.join("")}function Ji(){return Lt(zs)}function Zh(_){return Wn("authEvent",_.config.apiKey,_.name)}function zh(_){if(!(null==_?void 0:_.includes("?")))return{};const[p,...g]=_.split("?");return(0,k.zd)(g.join("?"))}function ed(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:St("no-auth-event")}}function Eu(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function bu(_=(0,k.z$)()){return!("file:"!==Eu()&&"ionic:"!==Eu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function ty(){try{const _=self.localStorage,p=pa();if(_)return _.setItem(p,"1"),_.removeItem(p),!function(_=(0,k.z$)()){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,k.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,k.hl)()}catch(_){return Qh()&&(0,k.hl)()}return!1}function Qh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function $p(){return("http:"===Eu()||"https:"===Eu()||(0,k.ru)()||bu())&&!((0,k.b$)()||(0,k.UG)())&&ty()&&!Qh()}function $c(){return bu()&&"undefined"!=typeof document}function Jh(){return(Jh=(0,f.Z)(function*(){return!!$c()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},wu=De,Iu="persistence";function qp(_){return ry.apply(this,arguments)}function ry(){return(ry=(0,f.Z)(function*(_){yield _._initializationPromise;const p=td(),g=Wn(Iu,_.config.apiKey,_.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,_._getPersistence())})).apply(this,arguments)}function td(){return"undefined"!=typeof window?window:null}const yv=De;class eo{constructor(){this.browserResolver=Lt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=an,this._completeRedirectFn=ba}_openPopup(p,g,E,D){var x=this;return(0,f.Z)(function*(){var $;Fn(null===($=x.eventManagers[p._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const re=Vh(p,g,E,nt(),D);return function(_,p,g,E=500,D=600){const x=Math.max((window.screen.availHeight-D)/2,0).toString(),$=Math.max((window.screen.availWidth-E)/2,0).toString();let re="";const Me=Object.assign(Object.assign({},$m),{width:E.toString(),height:D.toString(),top:x,left:$}),Ae=(0,k.z$)().toLowerCase();g&&(re=qa(Ae)?"_blank":g),ta(Ae)&&(p=p||"http://localhost",Me.scrollbars="yes");const Ze=Object.entries(Me).reduce((xt,[Zn,Bo])=>`${xt}${Zn}=${Bo},`,"");if(function(_=(0,k.z$)()){var p;return Vi(_)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ae)&&"_self"!==re)return function(_,p){const g=document.createElement("a");g.href=_,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",re),new Op(null);const ze=window.open(p||"",re,Ze);De(ze,_,"popup-blocked");try{ze.focus()}catch(xt){}return new Op(ze)}(p,re,pa())})()}_openRedirect(p,g,E,D){var x=this;return(0,f.Z)(function*(){return yield x._originValidation(p),_=Vh(p,g,E,nt(),D),Pn().location.href=_,new Promise(()=>{});var _})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:D,promise:x}=this.eventManagers[g];return D?Promise.resolve(D):(Fn(x,"If manager is not set, promise should be"),x)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(p){var g=this;return(0,f.Z)(function*(){const E=yield function(_){return Rp.apply(this,arguments)}(p),D=new Fc(p);return E.register("authEvent",x=>(De(null==x?void 0:x.authEvent,p,"invalid-auth-event"),{status:D.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:D},g.iframes[p._key()]=E,D})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(jh,{type:jh},D=>{var x;const $=null===(x=null==D?void 0:D[0])||void 0===x?void 0:x[jh];void 0!==$&&g(!!$),jt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return Lo.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return na()||pt()||Vi()}}),this.cordovaResolver=Lt(class{constructor(){this._redirectPersistence=an,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ba}_initialize(p){var g=this;return(0,f.Z)(function*(){const E=p._key();let D=g.eventManagers.get(E);return D||(D=new Xl(p),g.eventManagers.set(E,D),g.attachCallbackListeners(p,D)),D})()}_openPopup(p){jt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,E,D){var x=this;return(0,f.Z)(function*(){!function(_){var p,g,E,D,x,$,re,Me,Ae,Ze;const ze=Xs();De("function"==typeof(null===(p=null==ze?void 0:ze.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(g=null==ze?void 0:ze.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(x=null===(D=null===(E=null==ze?void 0:ze.cordova)||void 0===E?void 0:E.plugins)||void 0===D?void 0:D.browsertab)||void 0===x?void 0:x.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Me=null===(re=null===($=null==ze?void 0:ze.cordova)||void 0===$?void 0:$.plugins)||void 0===re?void 0:re.browsertab)||void 0===Me?void 0:Me.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Ze=null===(Ae=null==ze?void 0:ze.cordova)||void 0===Ae?void 0:Ae.InAppBrowser)||void 0===Ze?void 0:Ze.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const $=yield x._initialize(p);yield $.initialized(),$.resetRedirect(),fu.clear(),yield x._originValidation(p);const re=function(_,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Bp(),postBody:null,tenantId:_.tenantId,error:St(_,"no-auth-event")}}(p,E,D);yield function(_,p){return Ji()._set(Zh(_),p)}(p,re);const Me=yield function(_,p,g){return Bc.apply(this,arguments)}(p,re,g),Ae=yield function(_){const{cordova:p}=Xs();return new Promise(g=>{p.plugins.browsertab.isAvailable(E=>{let D=null;E?p.plugins.browsertab.openUrl(_):D=p.InAppBrowser.open(_,function(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(D)})})}(Me);return function(_,p,g){return Hh.apply(this,arguments)}(p,$,Ae)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return _u.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:E,handleOpenURL:D,BuildInfo:x}=Xs(),$=setTimeout((0,f.Z)(function*(){yield Qm(p),g.onEvent(ed())}),500),re=function(){var Ze=(0,f.Z)(function*(ze){clearTimeout($);const xt=yield Qm(p);let Zn=null;xt&&(null==ze?void 0:ze.url)&&(Zn=function(_,p){var g,E;const D=function(_){const p=zh(_),g=p.link?decodeURIComponent(p.link):void 0,E=zh(g).link,D=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return zh(D).link||D||E||g||_}(p);if(D.includes("/__/auth/callback")){const x=zh(D),$=x.firebaseError?function(_){try{return JSON.parse(_)}catch(p){return null}}(decodeURIComponent(x.firebaseError)):null,re=null===(E=null===(g=null==$?void 0:$.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Me=re?St(re):null;return Me?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:D,postBody:null}}return null}(xt,ze.url)),g.onEvent(Zn||ed())});return function(xt){return Ze.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,re);const Me=D,Ae=`${x.packageName.toLowerCase()}://`;Xs().handleOpenURL=function(){var Ze=(0,f.Z)(function*(ze){if(ze.toLowerCase().startsWith(Ae)&&re({url:ze}),"function"==typeof Me)try{Me(ze)}catch(xt){console.error(xt)}});return function(ze){return Ze.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=an,this._completeRedirectFn=ba}_initialize(p){var g=this;return(0,f.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,E,D){var x=this;return(0,f.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(p,g,E,D)})()}_openRedirect(p,g,E,D){var x=this;return(0,f.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(p,g,E,D)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return $c()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,f.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Jh.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Tu(_){return _.unwrap()}function Xh(_){return oy(_)}function oy(_){const{_tokenResponse:p}=_ instanceof k.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof k.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ue.credentialFromResult(_);const g=p.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=Qa;break;case"facebook.com":E=uc;break;case"github.com":E=_h;break;case"twitter.com":E=Nr;break;default:const{oauthIdToken:D,oauthAccessToken:x,oauthTokenSecret:$,pendingToken:re,nonce:Me}=p;return x||$||D||re?re?g.startsWith("saml.")?ua._create(g,re):Cn._fromParams({providerId:g,signInMethod:g,pendingToken:re,idToken:D,accessToken:x}):new Xt(g).credential({idToken:D,accessToken:x,rawNonce:Me}):null}return _ instanceof k.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function Dr(_,p){return p.catch(g=>{throw g instanceof k.ZR&&function(_,p){var g;const E=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new ay(_,function(_,p){var g;const E=(0,k.m9)(_),D=p;return De(p.customData.operationType,E,"argument-error"),De(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Dc._fromError(E,D)}(_,p));else if(E){const D=oy(p),x=p;D&&(x.credential=D,x.tenantId=E.tenantId||void 0,x.email=E.email||void 0,x.phoneNumber=E.phoneNumber||void 0)}}(_,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:Xh(g),additionalUserInfo:ur(g),user:Uo.getOrCreate(D)}})}function Hc(_,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*(_,p){const g=yield p;return{verificationId:g.verificationId,confirm:E=>Dr(_,g.confirm(E))}})).apply(this,arguments)}class ay{constructor(p,g){this.resolver=g,this.auth=function(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Dr(Tu(this.auth),this.resolver.resolveSignIn(p))}}class Uo{constructor(p){this._delegate=p,this.multiFactor=function(_){const p=(0,k.m9)(_);return Ro.has(p)||Ro.set(p,Ac._fromUser(p)),Ro.get(p)}(p)}static getOrCreate(p){return Uo.USER_MAP.has(p)||Uo.USER_MAP.set(p,new Uo(p)),Uo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,f.Z)(function*(){return Dr(g.auth,Dn(g._delegate,p))})()}linkWithPhoneNumber(p,g){var E=this;return(0,f.Z)(function*(){return Hc(E.auth,function(_,p,g){return Hl.apply(this,arguments)}(E._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,f.Z)(function*(){return Dr(g.auth,function(_,p,g){return vt.apply(this,arguments)}(g._delegate,p,eo))})()}linkWithRedirect(p){var g=this;return(0,f.Z)(function*(){return yield qp(Rn(g.auth)),function(_,p,g){return function(_,p,g){return Nh.apply(this,arguments)}(_,p,g)}(g._delegate,p,eo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,f.Z)(function*(){return Dr(g.auth,Do(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Hc(this.auth,function(_,p,g){return I.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Dr(this.auth,function(_,p,g){return Es.apply(this,arguments)}(this._delegate,p,eo))}reauthenticateWithRedirect(p){var g=this;return(0,f.Z)(function*(){return yield qp(Rn(g.auth)),function(_,p,g){return function(_,p,g){return Yi.apply(this,arguments)}(_,p,g)}(g._delegate,p,eo)})()}sendEmailVerification(p){return function(_,p){return Wr.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,f.Z)(function*(){return yield function(_,p){return ot.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(_,p){return iu((0,k.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function(_,p){return iu((0,k.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(_,p){return K.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(_,p){return Un.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(_,p,g){return nu.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Uo.USER_MAP=new WeakMap;const Vo=De;let Zp=(()=>{class _{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;Vo(D,"invalid-api-key",{appName:g.name}),Vo(D,"invalid-api-key",{appName:g.name});const x="undefined"!=typeof window?eo:void 0;this._delegate=E.initialize({options:{persistence:uy(D,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Ns),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Uo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(_,p,g){const E=Rn(_);De(E._canInitEmulator,E,"emulator-config-failed"),De(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const D=!!(null==g?void 0:g.disableWarnings),x=dn(p),{host:$,port:re}=function(_){const p=dn(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(E);if(D){const x=D[1];return{host:x,port:Bi(E.substr(x.length+1))}}{const[x,$]=E.split(":");return{host:x,port:Bi($)}}}(p);E.config.emulator={url:`${x}//${$}${null===re?"":`:${re}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:$,port:re,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function(){function _(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,E)}applyActionCode(g){return function(_,p){return gc.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return mc(this._delegate,g)}confirmPasswordReset(g,E){return function(_,p,g){return Ci.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var D=this;return(0,f.Z)(function*(){return Dr(D._delegate,function(_,p,g){return _c.apply(this,arguments)}(D._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(_,p){return gp.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(_,p){const g=js.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,f.Z)(function*(){Vo($p(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(_,p){return kc.apply(this,arguments)}(g._delegate,eo);return E?Dr(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(_,p){Rn(_)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,E,D){const{next:x,error:$,complete:re}=vv(g,E,D);return this._delegate.onAuthStateChanged(x,$,re)}onIdTokenChanged(g,E,D){const{next:x,error:$,complete:re}=vv(g,E,D);return this._delegate.onIdTokenChanged(x,$,re)}sendSignInLinkToEmail(g,E){return function(_,p,g){return ms.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(_,p,g){return la.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,f.Z)(function*(){let D;switch(function(_,p){wu(Object.values(Cr).includes(p),_,"invalid-persistence-type"),(0,k.b$)()?wu(p!==Cr.SESSION,_,"unsupported-persistence-type"):(0,k.UG)()?wu(p===Cr.NONE,_,"unsupported-persistence-type"):Qh()?wu(p===Cr.NONE||p===Cr.LOCAL&&(0,k.hl)(),_,"unsupported-persistence-type"):wu(p===Cr.NONE||ty(),_,"unsupported-persistence-type")}(E._delegate,g),g){case Cr.SESSION:D=an;break;case Cr.LOCAL:D=(yield Lt(en)._isAvailable())?en:zs;break;case Cr.NONE:D=on;break;default:return jt("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Dr(this._delegate,function(_){return ca.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Dr(this._delegate,Ct(this._delegate,g))}signInWithCustomToken(g){return Dr(this._delegate,function(_,p){return pc.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return Dr(this._delegate,function(_,p,g){return Ct((0,k.m9)(_),hs.credential(p,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return Dr(this._delegate,function(_,p,g){return tu.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return Hc(this._delegate,function(_,p,g){return lr.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,f.Z)(function*(){return Vo($p(),E._delegate,"operation-not-supported-in-this-environment"),Dr(E._delegate,function(_,p,g){return No.apply(this,arguments)}(E._delegate,g,eo))})()}signInWithRedirect(g){var E=this;return(0,f.Z)(function*(){return Vo($p(),E._delegate,"operation-not-supported-in-this-environment"),yield qp(E._delegate),function(_,p,g){return function(_,p,g){return xi.apply(this,arguments)}(_,p,g)}(E._delegate,g,eo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(_,p){return ha.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Cr,_})();function vv(_,p,g){let E=_;"function"!=typeof _&&({next:E,error:p,complete:g}=_);const D=E;return{next:$=>D($&&Uo.getOrCreate($)),error:p,complete:g}}function uy(_,p){const g=function(_,p){const g=td();if(!(null==g?void 0:g.sessionStorage))return[];const E=Wn(Iu,_,p);switch(g.sessionStorage.getItem(E)){case Cr.NONE:return[on];case Cr.LOCAL:return[en,an];case Cr.SESSION:return[an];default:return[]}}(_,p);if("undefined"!=typeof self&&!g.includes(en)&&g.push(en),"undefined"!=typeof window)for(const E of[zs,an])g.includes(E)||g.push(E);return g.includes(on)||g.push(on),g}class ef{constructor(){this.providerId="phone",this._delegate=new ue(Tu(ee.Z.auth()))}static credential(p,g){return ue.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}ef.PHONE_SIGN_IN_METHOD=ue.PHONE_SIGN_IN_METHOD,ef.PROVIDER_ID=ue.PROVIDER_ID;const Ev=De;class bv{constructor(p,g,E=ee.Z.app()){var D;Ev(null===(D=E.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Mo(p,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new We.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),E=p.getProvider("auth");return new Zp(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:hs,FacebookAuthProvider:uc,GithubAuthProvider:_h,GoogleAuthProvider:Qa,OAuthProvider:Xt,SAMLAuthProvider:To,PhoneAuthProvider:ef,PhoneMultiFactorGenerator:Ql,RecaptchaVerifier:bv,TwitterAuthProvider:Nr,Auth:Zp,AuthCredential:Vs,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.5")}(ee.Z)},6676:function(Xe,be){!function(L){"use strict";function f(W){return Array.prototype.slice.call(W)}function ee(W){return new Promise(function(ye,ge){W.onsuccess=function(){ye(W.result)},W.onerror=function(){ge(W.error)}})}function k(W,ye,ge){var fe,Re=new Promise(function(qe,ke){ee(fe=W[ye].apply(W,ge)).then(qe,ke)});return Re.request=fe,Re}function le(W,ye,ge){var fe=k(W,ye,ge);return fe.then(function(Re){if(Re)return new F(Re,fe.request)})}function ne(W,ye,ge){ge.forEach(function(fe){Object.defineProperty(W.prototype,fe,{get:function(){return this[ye][fe]},set:function(Re){this[ye][fe]=Re}})})}function ie(W,ye,ge,fe){fe.forEach(function(Re){Re in ge.prototype&&(W.prototype[Re]=function(){return k(this[ye],Re,arguments)})})}function pe(W,ye,ge,fe){fe.forEach(function(Re){Re in ge.prototype&&(W.prototype[Re]=function(){return this[ye][Re].apply(this[ye],arguments)})})}function ce(W,ye,ge,fe){fe.forEach(function(Re){Re in ge.prototype&&(W.prototype[Re]=function(){return le(this[ye],Re,arguments)})})}function te(W){this._index=W}function F(W,ye){this._cursor=W,this._request=ye}function U(W){this._store=W}function Q(W){this._tx=W,this.complete=new Promise(function(ye,ge){W.oncomplete=function(){ye()},W.onerror=function(){ge(W.error)},W.onabort=function(){ge(W.error)}})}function Y(W,ye,ge){this._db=W,this.oldVersion=ye,this.transaction=new Q(ge)}function ae(W){this._db=W}ne(te,"_index",["name","keyPath","multiEntry","unique"]),ie(te,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ce(te,"_index",IDBIndex,["openCursor","openKeyCursor"]),ne(F,"_cursor",["direction","key","primaryKey","value"]),ie(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(W){W in IDBCursor.prototype&&(F.prototype[W]=function(){var ye=this,ge=arguments;return Promise.resolve().then(function(){return ye._cursor[W].apply(ye._cursor,ge),ee(ye._request).then(function(fe){if(fe)return new F(fe,ye._request)})})})}),U.prototype.createIndex=function(){return new te(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new te(this._store.index.apply(this._store,arguments))},ne(U,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ce(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),pe(U,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},ne(Q,"_tx",["objectStoreNames","mode"]),pe(Q,"_tx",IDBTransaction,["abort"]),Y.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},ne(Y,"_db",["name","version","objectStoreNames"]),pe(Y,"_db",IDBDatabase,["deleteObjectStore","close"]),ae.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},ne(ae,"_db",["name","version","objectStoreNames"]),pe(ae,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(W){[U,te].forEach(function(ye){W in ye.prototype&&(ye.prototype[W.replace("open","iterate")]=function(){var ge=f(arguments),fe=ge[ge.length-1],Re=this._store||this._index,qe=Re[W].apply(Re,ge.slice(0,-1));qe.onsuccess=function(){fe(qe.result)}})})}),[te,U].forEach(function(W){W.prototype.getAll||(W.prototype.getAll=function(ye,ge){var fe=this,Re=[];return new Promise(function(qe){fe.iterateCursor(ye,function(ke){ke?(Re.push(ke.value),void 0===ge||Re.length!=ge?ke.continue():qe(Re)):qe(Re)})})})}),L.openDb=function(W,ye,ge){var fe=k(indexedDB,"open",[W,ye]),Re=fe.request;return Re&&(Re.onupgradeneeded=function(qe){ge&&ge(new Y(Re.result,qe.oldVersion,Re.transaction))}),fe.then(function(qe){return new ae(qe)})},L.deleteDb=function(W){return k(indexedDB,"deleteDatabase",[W])},Object.defineProperty(L,"__esModule",{value:!0})}(be)},7574:(Xe,be,L)=>{"use strict";L.d(be,{y:()=>U});var f=L(7393),k=L(9181),le=L(6490),ie=L(6554),pe=L(4487);var F=L(2494);let U=(()=>{class Y{constructor(we){this._isScalar=!1,we&&(this._subscribe=we)}lift(we){const he=new Y;return he.source=this,he.operator=we,he}subscribe(we,he,W){const{operator:ye}=this,ge=function(Y,ae,we){if(Y){if(Y instanceof f.L)return Y;if(Y[k.b])return Y[k.b]()}return Y||ae||we?new f.L(Y,ae,we):new f.L(le.c)}(we,he,W);if(ge.add(ye?ye.call(ge,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!ge.syncErrorThrowable?this._subscribe(ge):this._trySubscribe(ge)),F.v.useDeprecatedSynchronousErrorHandling&&ge.syncErrorThrowable&&(ge.syncErrorThrowable=!1,ge.syncErrorThrown))throw ge.syncErrorValue;return ge}_trySubscribe(we){try{return this._subscribe(we)}catch(he){F.v.useDeprecatedSynchronousErrorHandling&&(we.syncErrorThrown=!0,we.syncErrorValue=he),function(Y){for(;Y;){const{closed:ae,destination:we,isStopped:he}=Y;if(ae||he)return!1;Y=we&&we instanceof f.L?we:null}return!0}(we)?we.error(he):console.warn(he)}}forEach(we,he){return new(he=Q(he))((W,ye)=>{let ge;ge=this.subscribe(fe=>{try{we(fe)}catch(Re){ye(Re),ge&&ge.unsubscribe()}},ye,W)})}_subscribe(we){const{source:he}=this;return he&&he.subscribe(we)}[ie.L](){return this}pipe(...we){return 0===we.length?this:function(Y){return 0===Y.length?pe.y:1===Y.length?Y[0]:function(we){return Y.reduce((he,W)=>W(he),we)}}(we)(this)}toPromise(we){return new(we=Q(we))((he,W)=>{let ye;this.subscribe(ge=>ye=ge,ge=>W(ge),()=>he(ye))})}}return Y.create=ae=>new Y(ae),Y})();function Q(Y){if(Y||(Y=F.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6490:(Xe,be,L)=>{"use strict";L.d(be,{c:()=>k});var f=L(2494),ee=L(4449);const k={closed:!0,next(le){},error(le){if(f.v.useDeprecatedSynchronousErrorHandling)throw le;(0,ee.z)(le)},complete(){}}},9765:(Xe,be,L)=>{"use strict";L.d(be,{Yc:()=>pe,xQ:()=>ce});var f=L(7574),ee=L(7393),k=L(5319),le=L(7971),ne=L(8858),ie=L(9181);class pe extends ee.L{constructor(U){super(U),this.destination=U}}let ce=(()=>{class F extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new pe(this)}lift(Q){const Y=new te(this,this);return Y.operator=Q,Y}next(Q){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:Y}=this,ae=Y.length,we=Y.slice();for(let he=0;he<ae;he++)we[he].next(Q)}}error(Q){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=Q,this.isStopped=!0;const{observers:Y}=this,ae=Y.length,we=Y.slice();for(let he=0;he<ae;he++)we[he].error(Q);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:Q}=this,Y=Q.length,ae=Q.slice();for(let we=0;we<Y;we++)ae[we].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Q){if(this.closed)throw new le.N;return super._trySubscribe(Q)}_subscribe(Q){if(this.closed)throw new le.N;return this.hasError?(Q.error(this.thrownError),k.w.EMPTY):this.isStopped?(Q.complete(),k.w.EMPTY):(this.observers.push(Q),new ne.W(this,Q))}asObservable(){const Q=new f.y;return Q.source=this,Q}}return F.create=(U,Q)=>new te(U,Q),F})();class te extends ce{constructor(U,Q){super(),this.destination=U,this.source=Q}next(U){const{destination:Q}=this;Q&&Q.next&&Q.next(U)}error(U){const{destination:Q}=this;Q&&Q.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:Q}=this;return Q?this.source.subscribe(U):k.w.EMPTY}}},8858:(Xe,be,L)=>{"use strict";L.d(be,{W:()=>ee});var f=L(5319);class ee extends f.w{constructor(le,ne){super(),this.subject=le,this.subscriber=ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,ne=le.observers;if(this.subject=null,!ne||0===ne.length||le.isStopped||le.closed)return;const ie=ne.indexOf(this.subscriber);-1!==ie&&ne.splice(ie,1)}}},7393:(Xe,be,L)=>{"use strict";L.d(be,{L:()=>pe});var f=L(9105),ee=L(6490),k=L(5319),le=L(9181),ne=L(2494),ie=L(4449);class pe extends k.w{constructor(F,U,Q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!F){this.destination=ee.c;break}if("object"==typeof F){F instanceof pe?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new ce(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new ce(this,F,U,Q)}}[le.b](){return this}static create(F,U,Q){const Y=new pe(F,U,Q);return Y.syncErrorThrowable=!1,Y}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class ce extends pe{constructor(F,U,Q,Y){super(),this._parentSubscriber=F;let ae,we=this;(0,f.m)(U)?ae=U:U&&(ae=U.next,Q=U.error,Y=U.complete,U!==ee.c&&(we=Object.create(U),(0,f.m)(we.unsubscribe)&&this.add(we.unsubscribe.bind(we)),we.unsubscribe=this.unsubscribe.bind(this))),this._context=we,this._next=ae,this._error=Q,this._complete=Y}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;ne.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:Q}=ne.v;if(this._error)Q&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(U.syncErrorThrowable)Q?(U.syncErrorValue=F,U.syncErrorThrown=!0):(0,ie.z)(F),this.unsubscribe();else{if(this.unsubscribe(),Q)throw F;(0,ie.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const U=()=>this._complete.call(this._context);ne.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,U){try{F.call(this._context,U)}catch(Q){if(this.unsubscribe(),ne.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,ie.z)(Q)}}__tryOrSetError(F,U,Q){if(!ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,Q)}catch(Y){return ne.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=Y,F.syncErrorThrown=!0,!0):((0,ie.z)(Y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Xe,be,L)=>{"use strict";L.d(be,{w:()=>ie});var f=L(9796),ee=L(1555),k=L(9105);const ne=(()=>{function ce(te){return Error.call(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((F,U)=>`${U+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te,this}return ce.prototype=Object.create(Error.prototype),ce})();class ie{constructor(te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,te&&(this._ctorUnsubscribe=!0,this._unsubscribe=te)}unsubscribe(){let te;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:U,_unsubscribe:Q,_subscriptions:Y}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof ie)F.remove(this);else if(null!==F)for(let ae=0;ae<F.length;++ae)F[ae].remove(this);if((0,k.m)(Q)){U&&(this._unsubscribe=void 0);try{Q.call(this)}catch(ae){te=ae instanceof ne?pe(ae.errors):[ae]}}if((0,f.k)(Y)){let ae=-1,we=Y.length;for(;++ae<we;){const he=Y[ae];if((0,ee.K)(he))try{he.unsubscribe()}catch(W){te=te||[],W instanceof ne?te=te.concat(pe(W.errors)):te.push(W)}}}if(te)throw new ne(te)}add(te){let F=te;if(!te)return ie.EMPTY;switch(typeof te){case"function":F=new ie(te);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof ie)){const Y=F;F=new ie,F._subscriptions=[Y]}break;default:throw new Error("unrecognized teardown "+te+" added to Subscription.")}let{_parentOrParents:U}=F;if(null===U)F._parentOrParents=this;else if(U instanceof ie){if(U===this)return F;F._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return F;U.push(this)}const Q=this._subscriptions;return null===Q?this._subscriptions=[F]:Q.push(F),F}remove(te){const F=this._subscriptions;if(F){const U=F.indexOf(te);-1!==U&&F.splice(U,1)}}}var ce;function pe(ce){return ce.reduce((te,F)=>te.concat(F instanceof ne?F.errors:F),[])}ie.EMPTY=((ce=new ie).closed=!0,ce)},2494:(Xe,be,L)=>{"use strict";L.d(be,{v:()=>ee});let f=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(k){if(k){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=k},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(Xe,be,L)=>{"use strict";L.d(be,{IY:()=>le,Ds:()=>ie,ft:()=>ce});var f=L(7393),ee=L(7574),k=L(7444);class le extends f.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends f.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function ce(te,F){if(F.closed)return;if(te instanceof ee.y)return te.subscribe(F);let U;try{U=(0,k.s)(te)(F)}catch(Q){F.error(Q)}return U}},2441:(Xe,be,L)=>{"use strict";L.d(be,{c:()=>ne,N:()=>ie});var f=L(9765),ee=L(7574),k=L(5319),le=L(1307);class ne extends ee.y{constructor(U,Q){super(),this.source=U,this.subjectFactory=Q,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new k.w,U.add(this.source.subscribe(new pe(this.getSubject(),this))),U.closed&&(this._connection=null,U=k.w.EMPTY)),U}refCount(){return(0,le.x)()(this)}}const ie=(()=>{const F=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class pe extends f.Yc{constructor(U,Q){super(U),this.connectable=Q}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const Q=U._connection;U._refCount=0,U._subject=null,U._connection=null,Q&&Q.unsubscribe()}}}},9193:(Xe,be,L)=>{"use strict";L.d(be,{E:()=>ee,c:()=>k});var f=L(7574);const ee=new f.y(ne=>ne.complete());function k(ne){return ne?function(ne){return new f.y(ie=>ne.schedule(()=>ie.complete()))}(ne):ee}},4402:(Xe,be,L)=>{"use strict";L.d(be,{D:()=>we});var f=L(7574),ee=L(7444),k=L(5319),le=L(6554),pe=L(4087),ce=L(377),U=L(4072),Q=L(9489);function we(he,W){return W?function(he,W){if(null!=he){if(function(he){return he&&"function"==typeof he[le.L]}(he))return function(he,W){return new f.y(ye=>{const ge=new k.w;return ge.add(W.schedule(()=>{const fe=he[le.L]();ge.add(fe.subscribe({next(Re){ge.add(W.schedule(()=>ye.next(Re)))},error(Re){ge.add(W.schedule(()=>ye.error(Re)))},complete(){ge.add(W.schedule(()=>ye.complete()))}}))})),ge})}(he,W);if((0,U.t)(he))return function(he,W){return new f.y(ye=>{const ge=new k.w;return ge.add(W.schedule(()=>he.then(fe=>{ge.add(W.schedule(()=>{ye.next(fe),ge.add(W.schedule(()=>ye.complete()))}))},fe=>{ge.add(W.schedule(()=>ye.error(fe)))}))),ge})}(he,W);if((0,Q.z)(he))return(0,pe.r)(he,W);if(function(he){return he&&"function"==typeof he[ce.hZ]}(he)||"string"==typeof he)return function(he,W){if(!he)throw new Error("Iterable cannot be null");return new f.y(ye=>{const ge=new k.w;let fe;return ge.add(()=>{fe&&"function"==typeof fe.return&&fe.return()}),ge.add(W.schedule(()=>{fe=he[ce.hZ](),ge.add(W.schedule(function(){if(ye.closed)return;let Re,qe;try{const ke=fe.next();Re=ke.value,qe=ke.done}catch(ke){return void ye.error(ke)}qe?ye.complete():(ye.next(Re),this.schedule())}))})),ge})}(he,W)}throw new TypeError((null!==he&&typeof he||he)+" is not observable")}(he,W):he instanceof f.y?he:new f.y((0,ee.s)(he))}},6693:(Xe,be,L)=>{"use strict";L.d(be,{n:()=>le});var f=L(7574),ee=L(5015),k=L(4087);function le(ne,ie){return ie?(0,k.r)(ne,ie):new f.y((0,ee.V)(ne))}},6682:(Xe,be,L)=>{"use strict";L.d(be,{T:()=>ne});var f=L(7574),ee=L(4869),k=L(3282),le=L(6693);function ne(...ie){let pe=Number.POSITIVE_INFINITY,ce=null,te=ie[ie.length-1];return(0,ee.K)(te)?(ce=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(pe=ie.pop())):"number"==typeof te&&(pe=ie.pop()),null===ce&&1===ie.length&&ie[0]instanceof f.y?ie[0]:(0,k.J)(pe)((0,le.n)(ie,ce))}},5917:(Xe,be,L)=>{"use strict";L.d(be,{of:()=>le});var f=L(4869),ee=L(6693),k=L(4087);function le(...ne){let ie=ne[ne.length-1];return(0,f.K)(ie)?(ne.pop(),(0,k.r)(ne,ie)):(0,ee.n)(ne)}},8002:(Xe,be,L)=>{"use strict";L.d(be,{U:()=>ee});var f=L(7393);function ee(ne,ie){return function(ce){if("function"!=typeof ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ce.lift(new k(ne,ie))}}class k{constructor(ie,pe){this.project=ie,this.thisArg=pe}call(ie,pe){return pe.subscribe(new le(ie,this.project,this.thisArg))}}class le extends f.L{constructor(ie,pe,ce){super(ie),this.project=pe,this.count=0,this.thisArg=ce||this}_next(ie){let pe;try{pe=this.project.call(this.thisArg,ie,this.count++)}catch(ce){return void this.destination.error(ce)}this.destination.next(pe)}}},3282:(Xe,be,L)=>{"use strict";L.d(be,{J:()=>k});var f=L(9773),ee=L(4487);function k(le=Number.POSITIVE_INFINITY){return(0,f.zg)(ee.y,le)}},9773:(Xe,be,L)=>{"use strict";L.d(be,{zg:()=>le});var f=L(8002),ee=L(4402),k=L(5345);function le(ce,te,F=Number.POSITIVE_INFINITY){return"function"==typeof te?U=>U.pipe(le((Q,Y)=>(0,ee.D)(ce(Q,Y)).pipe((0,f.U)((ae,we)=>te(Q,ae,Y,we))),F)):("number"==typeof te&&(F=te),U=>U.lift(new ne(ce,F)))}class ne{constructor(te,F=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=F}call(te,F){return F.subscribe(new ie(te,this.project,this.concurrent))}}class ie extends k.Ds{constructor(te,F,U=Number.POSITIVE_INFINITY){super(te),this.project=F,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let F;const U=this.index++;try{F=this.project(te,U)}catch(Q){return void this.destination.error(Q)}this.active++,this._innerSub(F)}_innerSub(te){const F=new k.IY(this),U=this.destination;U.add(F);const Q=(0,k.ft)(te,F);Q!==F&&U.add(Q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Xe,be,L)=>{"use strict";L.d(be,{ht:()=>U,QV:()=>te});var f=L(7393),ee=L(9193),k=L(5917),le=L(7574);class ce{constructor(ae,we,he){this.kind=ae,this.value=we,this.error=he,this.hasValue="N"===ae}observe(ae){switch(this.kind){case"N":return ae.next&&ae.next(this.value);case"E":return ae.error&&ae.error(this.error);case"C":return ae.complete&&ae.complete()}}do(ae,we,he){switch(this.kind){case"N":return ae&&ae(this.value);case"E":return we&&we(this.error);case"C":return he&&he()}}accept(ae,we,he){return ae&&"function"==typeof ae.next?this.observe(ae):this.do(ae,we,he)}toObservable(){switch(this.kind){case"N":return(0,k.of)(this.value);case"E":return Y=this.error,new le.y(we=>we.error(Y));case"C":return(0,ee.c)()}var Y;throw new Error("unexpected notification kind value")}static createNext(ae){return void 0!==ae?new ce("N",ae):ce.undefinedValueNotification}static createError(ae){return new ce("E",void 0,ae)}static createComplete(){return ce.completeNotification}}function te(Y,ae=0){return function(he){return he.lift(new F(Y,ae))}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0);class F{constructor(ae,we=0){this.scheduler=ae,this.delay=we}call(ae,we){return we.subscribe(new U(ae,this.scheduler,this.delay))}}class U extends f.L{constructor(ae,we,he=0){super(ae),this.scheduler=we,this.delay=he}static dispatch(ae){const{notification:we,destination:he}=ae;we.observe(he),this.unsubscribe()}scheduleMessage(ae){this.destination.add(this.scheduler.schedule(U.dispatch,this.delay,new Q(ae,this.destination)))}_next(ae){this.scheduleMessage(ce.createNext(ae))}_error(ae){this.scheduleMessage(ce.createError(ae)),this.unsubscribe()}_complete(){this.scheduleMessage(ce.createComplete()),this.unsubscribe()}}class Q{constructor(ae,we){this.notification=ae,this.destination=we}}},1307:(Xe,be,L)=>{"use strict";L.d(be,{x:()=>ee});var f=L(7393);function ee(){return function(ie){return ie.lift(new k(ie))}}class k{constructor(ie){this.connectable=ie}call(ie,pe){const{connectable:ce}=this;ce._refCount++;const te=new le(ie,ce),F=pe.subscribe(te);return te.closed||(te.connection=ce.connect()),F}}class le extends f.L{constructor(ie,pe){super(ie),this.connectable=pe}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const pe=ie._refCount;if(pe<=0)return void(this.connection=null);if(ie._refCount=pe-1,pe>1)return void(this.connection=null);const{connection:ce}=this,te=ie._connection;this.connection=null,te&&(!ce||te===ce)&&te.unsubscribe()}}},3101:(Xe,be,L)=>{"use strict";L.d(be,{R:()=>W});var f=L(7574);let ee=1;const k=Promise.resolve(),le={};function ne(ge){return ge in le&&(delete le[ge],!0)}const ie={setImmediate(ge){const fe=ee++;return le[fe]=!0,k.then(()=>ne(fe)&&ge()),fe},clearImmediate(ge){ne(ge)}};var ce=L(6465),F=L(6102);const Y=new class extends F.v{flush(fe){this.active=!0,this.scheduled=void 0;const{actions:Re}=this;let qe,ke=-1,Ot=Re.length;fe=fe||Re.shift();do{if(qe=fe.execute(fe.state,fe.delay))break}while(++ke<Ot&&(fe=Re.shift()));if(this.active=!1,qe){for(;++ke<Ot&&(fe=Re.shift());)fe.unsubscribe();throw qe}}}(class extends ce.o{constructor(fe,Re){super(fe,Re),this.scheduler=fe,this.work=Re}requestAsyncId(fe,Re,qe=0){return null!==qe&&qe>0?super.requestAsyncId(fe,Re,qe):(fe.actions.push(this),fe.scheduled||(fe.scheduled=ie.setImmediate(fe.flush.bind(fe,null))))}recycleAsyncId(fe,Re,qe=0){if(null!==qe&&qe>0||null===qe&&this.delay>0)return super.recycleAsyncId(fe,Re,qe);0===fe.actions.length&&(ie.clearImmediate(Re),fe.scheduled=void 0)}});var ae=L(9796);class he extends f.y{constructor(fe,Re=0,qe=Y){var ge;super(),this.source=fe,this.delayTime=Re,this.scheduler=qe,(!(!(0,ae.k)(ge=Re)&&ge-parseFloat(ge)+1>=0)||Re<0)&&(this.delayTime=0),(!qe||"function"!=typeof qe.schedule)&&(this.scheduler=Y)}static create(fe,Re=0,qe=Y){return new he(fe,Re,qe)}static dispatch(fe){const{source:Re,subscriber:qe}=fe;return this.add(Re.subscribe(qe))}_subscribe(fe){return this.scheduler.schedule(he.dispatch,this.delayTime,{source:this.source,subscriber:fe})}}function W(ge,fe=0){return function(qe){return qe.lift(new ye(ge,fe))}}class ye{constructor(fe,Re){this.scheduler=fe,this.delay=Re}call(fe,Re){return new he(Re,this.delay,this.scheduler).subscribe(fe)}}},3342:(Xe,be,L)=>{"use strict";L.d(be,{b:()=>le});var f=L(7393);function ee(){}var k=L(9105);function le(pe,ce,te){return function(U){return U.lift(new ne(pe,ce,te))}}class ne{constructor(ce,te,F){this.nextOrObserver=ce,this.error=te,this.complete=F}call(ce,te){return te.subscribe(new ie(ce,this.nextOrObserver,this.error,this.complete))}}class ie extends f.L{constructor(ce,te,F,U){super(ce),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=F||ee,this._tapComplete=U||ee,(0,k.m)(te)?(this._context=this,this._tapNext=te):te&&(this._context=te,this._tapNext=te.next||ee,this._tapError=te.error||ee,this._tapComplete=te.complete||ee)}_next(ce){try{this._tapNext.call(this._context,ce)}catch(te){return void this.destination.error(te)}this.destination.next(ce)}_error(ce){try{this._tapError.call(this._context,ce)}catch(te){return void this.destination.error(te)}this.destination.error(ce)}_complete(){try{this._tapComplete.call(this._context)}catch(ce){return void this.destination.error(ce)}return this.destination.complete()}}},4087:(Xe,be,L)=>{"use strict";L.d(be,{r:()=>k});var f=L(7574),ee=L(5319);function k(le,ne){return new f.y(ie=>{const pe=new ee.w;let ce=0;return pe.add(ne.schedule(function(){ce!==le.length?(ie.next(le[ce++]),ie.closed||pe.add(this.schedule())):ie.complete()})),pe})}},6465:(Xe,be,L)=>{"use strict";L.d(be,{o:()=>k});var f=L(5319);class ee extends f.w{constructor(ne,ie){super()}schedule(ne,ie=0){return this}}class k extends ee{constructor(ne,ie){super(ne,ie),this.scheduler=ne,this.work=ie,this.pending=!1}schedule(ne,ie=0){if(this.closed)return this;this.state=ne;const pe=this.id,ce=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(ce,pe,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(ce,this.id,ie),this}requestAsyncId(ne,ie,pe=0){return setInterval(ne.flush.bind(ne,this),pe)}recycleAsyncId(ne,ie,pe=0){if(null!==pe&&this.delay===pe&&!1===this.pending)return ie;clearInterval(ie)}execute(ne,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ne,ie);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ie){let ce,pe=!1;try{this.work(ne)}catch(te){pe=!0,ce=!!te&&te||new Error(te)}if(pe)return this.unsubscribe(),ce}_unsubscribe(){const ne=this.id,ie=this.scheduler,pe=ie.actions,ce=pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ce&&pe.splice(ce,1),null!=ne&&(this.id=this.recycleAsyncId(ie,ne,null)),this.delay=null}}},6102:(Xe,be,L)=>{"use strict";L.d(be,{v:()=>ee});let f=(()=>{class k{constructor(ne,ie=k.now){this.SchedulerAction=ne,this.now=ie}schedule(ne,ie=0,pe){return new this.SchedulerAction(this,ne).schedule(pe,ie)}}return k.now=()=>Date.now(),k})();class ee extends f{constructor(le,ne=f.now){super(le,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,ne=0,ie){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(le,ne,ie):super.schedule(le,ne,ie)}flush(le){const{actions:ne}=this;if(this.active)return void ne.push(le);let ie;this.active=!0;do{if(ie=le.execute(le.state,le.delay))break}while(le=ne.shift());if(this.active=!1,ie){for(;le=ne.shift();)le.unsubscribe();throw ie}}}},3637:(Xe,be,L)=>{"use strict";L.d(be,{z:()=>k});var f=L(6465);const k=new(L(6102).v)(f.o)},7771:(Xe,be,L)=>{"use strict";L.d(be,{c:()=>ie,N:()=>ne});var f=L(6465),k=L(6102);const ne=new class extends k.v{}(class extends f.o{constructor(ce,te){super(ce,te),this.scheduler=ce,this.work=te}schedule(ce,te=0){return te>0?super.schedule(ce,te):(this.delay=te,this.state=ce,this.scheduler.flush(this),this)}execute(ce,te){return te>0||this.closed?super.execute(ce,te):this._execute(ce,te)}requestAsyncId(ce,te,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(ce,te,F):ce.flush(this)}}),ie=ne},377:(Xe,be,L)=>{"use strict";L.d(be,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,be,L)=>{"use strict";L.d(be,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,be,L)=>{"use strict";L.d(be,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,be,L)=>{"use strict";L.d(be,{N:()=>ee});const ee=(()=>{function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return k.prototype=Object.create(Error.prototype),k})()},4449:(Xe,be,L)=>{"use strict";function f(ee){setTimeout(()=>{throw ee},0)}L.d(be,{z:()=>f})},4487:(Xe,be,L)=>{"use strict";function f(ee){return ee}L.d(be,{y:()=>f})},9796:(Xe,be,L)=>{"use strict";L.d(be,{k:()=>f});const f=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(Xe,be,L)=>{"use strict";L.d(be,{z:()=>f});const f=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(Xe,be,L)=>{"use strict";function f(ee){return"function"==typeof ee}L.d(be,{m:()=>f})},1555:(Xe,be,L)=>{"use strict";function f(ee){return null!==ee&&"object"==typeof ee}L.d(be,{K:()=>f})},4072:(Xe,be,L)=>{"use strict";function f(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}L.d(be,{t:()=>f})},4869:(Xe,be,L)=>{"use strict";function f(ee){return ee&&"function"==typeof ee.schedule}L.d(be,{K:()=>f})},7444:(Xe,be,L)=>{"use strict";L.d(be,{s:()=>U});var f=L(5015),ee=L(4449),le=L(377),ie=L(6554),ce=L(9489),te=L(4072),F=L(1555);const U=Q=>{if(Q&&"function"==typeof Q[ie.L])return(Q=>Y=>{const ae=Q[ie.L]();if("function"!=typeof ae.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ae.subscribe(Y)})(Q);if((0,ce.z)(Q))return(0,f.V)(Q);if((0,te.t)(Q))return(Q=>Y=>(Q.then(ae=>{Y.closed||(Y.next(ae),Y.complete())},ae=>Y.error(ae)).then(null,ee.z),Y))(Q);if(Q&&"function"==typeof Q[le.hZ])return(Q=>Y=>{const ae=Q[le.hZ]();for(;;){let we;try{we=ae.next()}catch(he){return Y.error(he),Y}if(we.done){Y.complete();break}if(Y.next(we.value),Y.closed)break}return"function"==typeof ae.return&&Y.add(()=>{ae.return&&ae.return()}),Y})(Q);{const ae=`You provided ${(0,F.K)(Q)?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ae)}}},5015:(Xe,be,L)=>{"use strict";L.d(be,{V:()=>f});const f=ee=>k=>{for(let le=0,ne=ee.length;le<ne&&!k.closed;le++)k.next(ee[le]);k.complete()}},5391:(Xe,be,L)=>{"use strict";var f=L(3018);let ee=null;function k(){return ee}const pe=new f.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:te,token:n,providedIn:"platform"}),n})();function te(){return(0,f.LFG)(U)}const F=new f.OlP("Location Initialized");let U=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,a){Q()?this._history.pushState(t,i,a):this.location.hash=a}replaceState(t,i,a){Q()?this._history.replaceState(t,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(pe))},n.\u0275prov=(0,f.Yz7)({factory:Y,token:n,providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Y(){return new U((0,f.LFG)(pe))}function ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function he(n){return n&&"?"!==n[0]?"?"+n:n}let W=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:ye,token:n,providedIn:"root"}),n})();function ye(n){const e=(0,f.LFG)(pe).location;return new fe((0,f.LFG)(ce),e&&e.origin||"")}const ge=new f.OlP("appBaseHref");let fe=(()=>{class n extends W{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ae(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+he(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${i}${a}`:i}pushState(t,i,a,c){const h=this.prepareExternalUrl(a+he(c));this._platformLocation.pushState(t,i,h)}replaceState(t,i,a,c){const h=this.prepareExternalUrl(a+he(c));this._platformLocation.replaceState(t,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,a;null===(a=(i=this._platformLocation).historyGo)||void 0===a||a.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ce),f.LFG(ge,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends W{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ae(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,a,c){let h=this.prepareExternalUrl(a+he(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,i,h)}replaceState(t,i,a,c){let h=this.prepareExternalUrl(a+he(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,a;null===(a=(i=this._platformLocation).historyGo)||void 0===a||a.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ce),f.LFG(ge,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t,i){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=we(_t(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+he(i))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,_t(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",a=null){this._platformStrategy.pushState(a,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+he(i)),a)}replaceState(t,i="",a=null){this._platformStrategy.replaceState(a,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+he(i)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,a;null===(a=(i=this._platformStrategy).historyGo)||void 0===a||a.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(a=>a(t,i))}subscribe(t,i,a){return this._subject.subscribe({next:t,error:i,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(W),f.LFG(ce))},n.normalizeQueryParams=he,n.joinWithSlash=ae,n.stripTrailingSlash=we,n.\u0275prov=(0,f.Yz7)({factory:ke,token:n,providedIn:"root"}),n})();function ke(){return new qe((0,f.LFG)(W),(0,f.LFG)(ce))}function _t(n){return n.replace(/\/index.html$/,"")}var Tt=(()=>((Tt=Tt||{})[Tt.Zero=0]="Zero",Tt[Tt.One=1]="One",Tt[Tt.Two=2]="Two",Tt[Tt.Few=3]="Few",Tt[Tt.Many=4]="Many",Tt[Tt.Other=5]="Other",Tt))();const Er=f.kL8;class Wn{}let Ln=(()=>{class n extends Wn{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(Er(i||this.locale)(t)){case Tt.Zero:return"zero";case Tt.One:return"one";case Tt.Two:return"two";case Tt.Few:return"few";case Tt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.soG))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class bo{constructor(e,t,i,a){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wi=(()=>{class n{constructor(t,i,a){this._viewContainer=t,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=[];t.forEachOperation((a,c,h)=>{if(null==a.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new bo(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new wr(a,y);i.push(b)}else if(null==h)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const y=this._viewContainer.get(c);this._viewContainer.move(y,h);const b=new wr(a,y);i.push(b)}});for(let a=0;a<i.length;a++)this._perViewChange(i[a].view,i[a].record);for(let a=0,c=this._viewContainer.length;a<c;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=c,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,i){t.context.$implicit=i.item}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class wr{constructor(e,t){this.record=e,this.view=t}}let Ii=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Ti,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ti{constructor(){this.$implicit=null,this.ngIf=null}}function Jt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let dn=(()=>{class n{constructor(t,i,a){this._ngEl=t,this._differs=i,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[a,c]=t.split(".");null!=(i=null!=i&&c?`${i}${c}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,a,i):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Bs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[{provide:Wn,useClass:Ln}]}),n})();function Wa(n){return"server"===n}let Ka=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new fp((0,f.LFG)(pe),window)}),n})();class fp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const c=a.shadowRoot;if(c){const h=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(h)return h}a=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],a-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=aa(this.window.history)||aa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function aa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ya extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ya,ee||(ee=n)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(hs=hs||document.querySelector("base"),hs?hs.getAttribute("href"):null);return null==t?null:function(n){$i=$i||document.createElement("a"),$i.setAttribute("href",n);const e=$i.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[a,c]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let $i,hs=null;const uc=new f.OlP("TRANSITION_ID"),_h=[{provide:f.ip1,useFactory:function(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const i=k(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)i.remove(a[c])})}},deps:[uc,pe,f.zs3],multi:!0}];class At{static init(){(0,f.VLi)(new At)}addToWindow(e){f.dqk.getAngularTestability=(i,a=!0)=>{const c=e.findTestabilityInTree(i,a);if(null==c)throw new Error("Could not find testability for element.");return c},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(i=>{const a=f.dqk.getAllAngularTestabilities();let c=a.length,h=!1;const y=function(b){h=h||b,c--,0==c&&i(h)};a.forEach(function(b){b.whenStable(y)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:i?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ua=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ps=new f.OlP("EventManagerPlugins");let $s=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,a){return this._findPluginFor(i).addEventListener(t,i,a)}addGlobalEventListener(t,i,a){return this._findPluginFor(i).addGlobalEventListener(t,i,a)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const a=this._plugins;for(let c=0;c<a.length;c++){const h=a[c];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ps),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Co{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const a=k().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,i)}}let dc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),gs=(()=>{class n extends dc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,a){t.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,a.push(i.appendChild(h))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(kl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(t,a,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(kl))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(pe))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function kl(n){k().remove(n)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ct=/%COMP%/g;function Hs(n,e,t){for(let i=0;i<e.length;i++){let a=e[i];Array.isArray(a)?Hs(n,a,t):(a=a.replace(Ct,n),t.push(a))}return t}function wh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let qi=(()=>{class n{constructor(t,i,a){this.eventManager=t,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Zi(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case f.ifc.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new qs(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(t),a}case 1:case f.ifc.ShadowDom:return new Ci(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const a=Hs(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG($s),f.LFG(gs),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Zi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ie[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,a){if(a){t=a+":"+t;const c=Ie[a];c?e.setAttributeNS(c,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const a=Ie[i];a?e.removeAttributeNS(a,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,a){a&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,i,a&f.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,wh(i)):this.eventManager.addEventListener(e,t,wh(i))}}class qs extends Zi{constructor(e,t,i,a){super(e),this.component=i;const c=Hs(a+"-"+i.id,i.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Ct,a+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ct,n)}(a+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Ci extends Zi{constructor(e,t,i,a){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Hs(a.id,a.styles,[]);for(let h=0;h<c.length;h++){const y=document.createElement("style");y.textContent=c[h],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Fl=(()=>{class n extends Co{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,a){return t.addEventListener(i,a,!1),()=>this.removeEventListener(t,i,a)}removeEventListener(t,i,a){return t.removeEventListener(i,a)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(pe))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ms=["alt","control","meta","shift"],vc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wr=(()=>{class n extends Co{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,a){const c=n.parseEventName(i),h=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,c.domEventName,h))}static parseEventName(t){const i=t.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(i.pop());let h="";if(ms.forEach(b=>{const C=i.indexOf(b);C>-1&&(i.splice(C,1),h+=b+".")}),h+=c,0!=i.length||0===c.length)return null;const y={};return y.domEventName=a,y.fullKey=h,y}static getEventFullKey(t){let i="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&tu.hasOwnProperty(e)&&(e=tu[e]))}return vc[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ms.forEach(c=>{c!=a&&kr[c](t)&&(i+=c+".")}),i+=a,i}static eventCallback(t,i,a){return c=>{n.getEventFullKey(c)===t&&a.runGuarded(()=>i(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(pe))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Ic=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){Ya.makeCurrent(),At.init()},multi:!0},{provide:pe,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),Zs=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:ps,useClass:Fl,multi:!0,deps:[pe,f.R0b,f.Lbi]},{provide:ps,useClass:Wr,multi:!0,deps:[pe]},[],{provide:qi,useClass:qi,deps:[$s,gs,f.AFp]},{provide:f.FYo,useExisting:qi},{provide:dc,useExisting:gs},{provide:gs,useClass:gs,deps:[pe]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:$s,useClass:$s,deps:[ps,f.R0b]},{provide:class{},useClass:ua,deps:[]},[]];let Ao=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:uc,useExisting:f.AFp},_h]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Zs,imports:[Bs,f.hGG]}),n})();"undefined"!=typeof window&&window;var _n=L(4402),et=L(5917),ys=L(9765),Po=L(7971);class Ir extends ys.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Po.N;return this._value}next(e){super.next(this._value=e)}}var zs=L(4869),xc=L(9796),an=L(7393);class Ll extends an.L{notifyNext(e,t,i,a,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ep extends an.L{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var pa=L(7444),Si=L(7574);function Pn(n,e,t,i,a=new Ep(n,t,i)){if(!a.closed)return e instanceof Si.y?e.subscribe(a):(0,pa.s)(e)(a)}var Ul=L(6693);const Rc={};class Oo{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Vl(e,this.resultSelector))}}class Vl extends Ll{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Rc),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(Pn(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const a=this.values,h=this.toRespond?a[i]===Rc?--this.toRespond:this.toRespond:0;a[i]=t,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const Gs=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var _s=L(3282);function cu(...n){return(0,_s.J)(1)((0,et.of)(...n))}var Fr=L(9193);function zi(n){return new Si.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,_n.D)(t):(0,Fr.c)()).subscribe(e)})}var Ws=L(2441),ct=L(8002),Gi=L(5345);function Vn(n,e){return"function"==typeof e?t=>t.pipe(Vn((i,a)=>(0,_n.D)(n(i,a)).pipe((0,ct.U)((c,h)=>e(i,c,a,h))))):t=>t.lift(new ya(n))}class ya{constructor(e){this.project=e}call(e,t){return t.subscribe(new xh(e,this.project))}}class xh extends Gi.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new Gi.IY(this),a=this.destination;a.add(i),this.innerSubscription=(0,Gi.ft)(e,i),this.innerSubscription!==i&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Bl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Rh(n){return e=>0===n?(0,Fr.c)():e.lift(new Mm(n))}class Mm{constructor(e){if(this.total=e,this.total<0)throw new Bl}call(e,t){return t.subscribe(new en(e,this.total))}}class en extends an.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function Pc(...n){const e=n[n.length-1];return(0,zs.K)(e)?(n.pop(),t=>cu(n,t,e)):t=>cu(n,t)}function _a(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new Nm(n,e,t))}}class Nm{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new Ph(e,this.accumulator,this.seed,this.hasSeed))}}class Ph extends an.L{constructor(e,t,i,a){super(e),this.accumulator=t,this._seed=i,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=i,this.destination.next(i)}}function vs(n,e){return function(i){return i.lift(new jl(n,e))}}class jl{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Oh(e,this.predicate,this.thisArg))}}class Oh extends an.L{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}function Ks(n){return function(t){const i=new Ip(n),a=t.lift(i);return i.caught=a}}class Ip{constructor(e){this.selector=e}call(e,t){return t.subscribe(new lu(e,this.selector,this.caught))}}class lu extends Gi.Ds{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const i=new Gi.IY(this);this.add(i);const a=(0,Gi.ft)(t,i);a!==i&&this.add(a)}}}var cr=L(9773);function Ys(n,e){return(0,cr.zg)(n,e,1)}function Tp(n){return function(t){return 0===n?(0,Fr.c)():t.lift(new On(n))}}class On{constructor(e){if(this.total=e,this.total<0)throw new Bl}call(e,t){return t.subscribe(new Oc(e,this.total))}}class Oc extends an.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,a=this.count++;t.length<i?t.push(e):t[a%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<i;c++){const h=t++%i;e.next(a[h])}}e.complete()}}function du(n=fi){return e=>e.lift(new hu(n))}class hu{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Mh(e,this.errorFactory))}}class Mh extends an.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function fi(){return new Gs}function pi(n=null){return e=>e.lift(new Wi(n))}class Wi{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Mo(e,this.defaultValue))}}class Mo extends an.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Tr=L(4487);function va(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vs((a,c)=>n(a,c,i)):Tr.y,Rh(1),t?pi(e):du(()=>new Gs))}var lr=L(3342),km=L(1307),Hl=L(5319);class I{constructor(e){this.callback=e}call(e,t){return t.subscribe(new S(e,this.callback))}}class S extends an.L{constructor(e,t){super(e),this.add(new Hl.w(t))}}class P{constructor(e,t){this.id=e,this.url=t}}class V extends P{constructor(e,t,i="imperative",a=null){super(e,t),this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class K extends P{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ue extends P{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Te extends P{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Be extends P{constructor(e,t,i,a){super(e,t),this.urlAfterRedirects=i,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends P{constructor(e,t,i,a){super(e,t),this.urlAfterRedirects=i,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt extends P{constructor(e,t,i,a,c){super(e,t),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zt extends P{constructor(e,t,i,a){super(e,t),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn extends P{constructor(e,t,i,a){super(e,t),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qs{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Es{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ko{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vt="primary";class ql{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zl(n){return new ql(n)}const fu="ngNavigationCancelingError";function pu(n){const e=Error("NavigationCancelingError: "+n);return e[fu]=!0,e}function Dp(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const a={};for(let c=0;c<i.length;c++){const h=i[c],y=n[c];if(h.startsWith(":"))a[h.substring(1)]=y;else if(h!==y.path)return null}return{consumed:n.slice(0,i.length),posParams:a}}function Ai(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let a;for(let c=0;c<t.length;c++)if(a=t[c],!uv(n[a],e[a]))return!1;return!0}function uv(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((a,c)=>i[c]===a)}return n===e}function Fo(n){return Array.prototype.concat.apply([],n)}function gu(n){return n.length>0?n[n.length-1]:null}function dr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xi(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,_n.D)(Promise.resolve(n)):(0,et.of)(n)}const Nc={exact:function Nh(n,e,t){if(!Ia(n.segments,e.segments)||!mu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Nh(n.children[i],e.children[i],t))return!1;return!0},subset:kc},Yi={exact:function(n,e){return Ai(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uv(n[t],e[t]))},ignored:()=>!0};function zl(n,e,t){return Nc[t.paths](n.root,e.root,t.matrixParams)&&Yi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kc(n,e,t){return ba(n,e,e.segments,t)}function ba(n,e,t,i){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!Ia(a,t)||e.hasChildren()||!mu(a,t,i))}if(n.segments.length===t.length){if(!Ia(n.segments,t)||!mu(n.segments,t,i))return!1;for(const a in e.children)if(!n.children[a]||!kc(n.children[a],e.children[a],i))return!1;return!0}{const a=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Ia(n.segments,a)&&mu(n.segments,a,i)&&n.children[vt])&&ba(n.children[vt],e,c,i)}}function mu(n,e,t){return e.every((i,a)=>Yi[t](n[a].parameters,i.parameters))}class wa{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zl(this.queryParams)),this._queryParamMap}toString(){return Lm.serialize(this)}}class Rt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,dr(t,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fh(this)}}class Js{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zl(this.parameters)),this._parameterMap}toString(){return Lh(this)}}function Ia(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class kh{}class Sp{parse(e){const t=new Rp(e);return new wa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Gl(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(a=>`${Lo(t)}=${Lo(a)}`).join("&"):`${Lo(t)}=${Lo(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Lm=new Sp;function Fh(n){return n.segments.map(e=>Lh(e)).join("/")}function Gl(n,e){if(!n.hasChildren())return Fh(n);if(e){const t=n.children[vt]?Gl(n.children[vt],!1):"",i=[];return dr(n.children,(a,c)=>{c!==vt&&i.push(`${c}:${Gl(a,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(n,e){let t=[];return dr(n.children,(i,a)=>{a===vt&&(t=t.concat(e(i,a)))}),dr(n.children,(i,a)=>{a!==vt&&(t=t.concat(e(i,a)))}),t}(n,(i,a)=>a===vt?[Gl(n.children[vt],!1)]:[`${a}:${Gl(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[vt]?`${Fh(n)}/${t[0]}`:`${Fh(n)}/(${t.join("//")})`}}function Um(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lo(n){return Um(n).replace(/%3B/gi,";")}function Ta(n){return Um(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wl(n){return decodeURIComponent(n)}function Vm(n){return Wl(n.replace(/\+/g,"%20"))}function Lh(n){return`${Ta(n.path)}${function(n){return Object.keys(n).map(e=>`;${Ta(e)}=${Ta(n[e])}`).join("")}(n.parameters)}`}const Bm=/^[^\/()?;=#]+/;function Kl(n){const e=n.match(Bm);return e?e[0]:""}const jm=/^[^=?&#]+/,lv=/^[^?&#]+/;class Rp{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[vt]=new Rt(e,t)),i}parseSegment(){const e=Kl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Js(Wl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Kl(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=Kl(this.remaining);a&&(i=a,this.capture(i))}e[Wl(t)]=Wl(i)}parseQueryParam(e){const t=function(n){const e=n.match(jm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(lv);return e?e[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const a=Vm(t),c=Vm(i);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(c)}else e[a]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Kl(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;i.indexOf(":")>-1?(c=i.substr(0,i.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=vt);const h=this.parseChildren();t[c]=1===Object.keys(h).length?h[vt]:new Rt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class $m{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Pp(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Pp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bs(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return bs(e,this._root).map(t=>t.value)}}function Pp(n,e){if(n===e.value)return e;for(const t of e.children){const i=Pp(n,t);if(i)return i}return null}function bs(n,e){if(n===e.value)return[e];for(const t of e.children){const i=bs(n,t);if(i.length)return i.unshift(e),i}return[]}class gi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Lc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Op extends $m{constructor(e,t){super(e),this.snapshot=t,Mp(this,e)}toString(){return this.snapshot.toString()}}function Hm(n,e){const t=function(n,e){const h=new Bh([],{},{},"",{},vt,e,null,n.root,-1,{});return new jh("",new gi(h,[]))}(n,e),i=new Ir([new Js("",{})]),a=new Ir({}),c=new Ir({}),h=new Ir({}),y=new Ir(""),b=new Uc(i,a,h,y,c,vt,e,t.root);return b.snapshot=t.root,new Op(new gi(b,[]),t)}class Uc{constructor(e,t,i,a,c,h,y,b){this.url=e,this.params=t,this.queryParams=i,this.fragment=a,this.data=c,this.outlet=h,this.component=y,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(e=>Zl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(e=>Zl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qm(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const a=t[i],c=t[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(c.component)break;i--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Bh{constructor(e,t,i,a,c,h,y,b,C,R,O){this.url=e,this.params=t,this.queryParams=i,this.fragment=a,this.data=c,this.outlet=h,this.component=y,this.routeConfig=b,this._urlSegment=C,this._lastPathIndex=R,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jh extends $m{constructor(e,t){super(t),this.url=e,Mp(this,t)}toString(){return Np(this._root)}}function Mp(n,e){e.value._routerState=n,e.children.forEach(t=>Mp(n,t))}function Np(n){const e=n.children.length>0?` { ${n.children.map(Np).join(", ")} } `:"";return`${n.value}${e}`}function Zm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ai(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ai(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ai(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ai(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Yl(n,e){return Ai(n.params,e.params)&&function(n,e){return Ia(n,e)&&n.every((t,i)=>Ai(t.parameters,e[i].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Yl(n.parent,e.parent))}function Vc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(i=>{for(const a of t.children)if(n.shouldReuseRoute(i.value,a.value.snapshot))return Vc(n,i,a);return Vc(n,i)})}(n,e,t);return new gi(i,a)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const h=c.route;return Qi(e,h),h}}const i=function(n){return new Uc(new Ir(n.url),new Ir(n.params),new Ir(n.queryParams),new Ir(n.fragment),new Ir(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(c=>Vc(n,c));return new gi(i,a)}}function Qi(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Qi(n.children[t],e.children[t])}function $h(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xs(n){return"object"==typeof n&&null!=n&&n.outlets}function Wm(n,e,t,i,a){let c={};return i&&dr(i,(h,y)=>{c[y]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new wa(t.root===n?e:fv(t.root,n,e),c,a)}function fv(n,e,t){const i={};return dr(n.children,(a,c)=>{i[c]=a===e?t:fv(a,e,t)}),new Rt(n.segments,i)}class Bc{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&$h(i[0]))throw new Error("Root segment cannot have matrix parameters");const a=i.find(Xs);if(a&&a!==gu(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _u{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Km(n,e,t){if(n||(n=new Rt([],{})),0===n.segments.length&&n.hasChildren())return qh(n,e,t);const i=function(n,e,t){let i=0,a=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(i>=t.length)return c;const h=n.segments[a],y=t[i];if(Xs(y))break;const b=`${y}`,C=i<t.length-1?t[i+1]:null;if(a>0&&void 0===b)break;if(b&&C&&"object"==typeof C&&void 0===C.outlets){if(!Up(b,C,h))return c;i+=2}else{if(!Up(b,{},h))return c;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(n,e,t),a=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const c=new Rt(n.segments.slice(0,i.pathIndex),{});return c.children[vt]=new Rt(n.segments.slice(i.pathIndex),n.children),qh(c,0,a)}return i.match&&0===a.length?new Rt(n.segments,{}):i.match&&!n.hasChildren()?Lp(n,e,t):i.match?qh(n,0,a):Lp(n,e,t)}function qh(n,e,t){if(0===t.length)return new Rt(n.segments,{});{const i=function(n){return Xs(n[0])?n[0].outlets:{[vt]:n}}(t),a={};return dr(i,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[h]=Km(n.children[h],e,c))}),dr(n.children,(c,h)=>{void 0===i[h]&&(a[h]=c)}),new Rt(n.segments,a)}}function Lp(n,e,t){const i=n.segments.slice(0,e);let a=0;for(;a<t.length;){const c=t[a];if(Xs(c)){const b=Ym(c.outlets);return new Rt(i,b)}if(0===a&&$h(t[0])){i.push(new Js(n.segments[e].path,Xl(t[0]))),a++;continue}const h=Xs(c)?c.outlets[vt]:`${c}`,y=a<t.length-1?t[a+1]:null;h&&y&&$h(y)?(i.push(new Js(h,Xl(y))),a+=2):(i.push(new Js(h,{})),a++)}return new Rt(i,{})}function Ym(n){const e={};return dr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Lp(new Rt([],{}),0,t))}),e}function Xl(n){const e={};return dr(n,(t,i)=>e[i]=`${t}`),e}function Up(n,e,t){return n==t.path&&Ai(e,t.parameters)}class Qm{constructor(e,t,i,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=a}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Zm(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const a=Lc(t);e.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,a[h],i),delete a[h]}),dr(a,(c,h)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(e,t,i){const a=e.value,c=t?t.value:null;if(a===c)if(a.component){const h=i.getContext(a.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,i);else c&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const a=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),a=i&&e.value.component?i.children:t,c=Lc(e);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const a=Lc(t);e.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],i),this.forwardEvent(new Es(c.value.snapshot))}),e.children.length&&this.forwardEvent(new No(e.value.snapshot))}activateRoutes(e,t,i){const a=e.value,c=t?t.value:null;if(Zm(a),a===c)if(a.component){const h=i.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,i);else if(a.component){const h=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(y.contexts),h.attachRef=y.componentRef,h.route=y.route.value,h.outlet&&h.outlet.attach(y.componentRef,y.route.value),hn(y.route)}else{const y=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),b=y?y.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=b,h.outlet&&h.outlet.activateWith(a,b),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,i)}}function hn(n){Zm(n.value),n.children.forEach(hn)}class Bp{constructor(e,t){this.routes=e,this.module=t}}function Ji(n){return"function"==typeof n}function vu(n){return n instanceof wa}const Gh=Symbol("INITIAL_VALUE");function ed(){return Vn(n=>function(...n){let e,t;return(0,zs.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,xc.k)(n[0])&&(n=n[0]),(0,Ul.n)(n,t).lift(new Oo(e))}(n.map(e=>e.pipe(Rh(1),Pc(Gh)))).pipe(_a((e,t)=>{let i=!1;return t.reduce((a,c,h)=>a!==Gh?a:(c===Gh&&(i=!0),i||!1!==c&&h!==t.length-1&&!vu(c)?a:c),e)},Gh),vs(e=>e!==Gh),(0,ct.U)(e=>vu(e)?e:!0===e),Rh(1)))}let jc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&f._UZ(0,"router-outlet")},directives:function(){return[hy]},encapsulation:2}),n})();function Lr(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];jp(i,Xm(e,i))}}function jp(n,e){n.children&&Lr(n.children,e)}function Xm(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Eu(n){const e=n.children&&n.children.map(Eu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==vt&&(t.component=jc),t}function un(n){return n.outlet||vt}function bu(n,e){const t=n.filter(i=>un(i)===e);return t.push(...n.filter(i=>un(i)!==e)),t}const Wh={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Kh(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Wh):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||Dp)(t,n,e);if(!c)return Object.assign({},Wh);const h={};dr(c.posParams,(b,C)=>{h[C]=b.path});const y=c.consumed.length>0?Object.assign(Object.assign({},h),c.consumed[c.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:y,positionalParamSegments:null!==(i=c.posParams)&&void 0!==i?i:{}}}function Yh(n,e,t,i,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(i=>$c(n,e,i)&&un(i)!==vt)}(n,t,i)){const h=new Rt(e,function(n,e,t,i){const a={};a[vt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&un(c)!==vt){const h=new Rt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[un(c)]=h}return a}(n,e,i,new Rt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(i=>$c(n,e,i))}(n,t,i)){const h=new Rt(n.segments,function(n,e,t,i,a,c){const h={};for(const y of i)if($c(n,t,y)&&!a[un(y)]){const b=new Rt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===c?n.segments.length:e.length,h[un(y)]=b}return Object.assign(Object.assign({},a),h)}(n,e,t,i,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const c=new Rt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function $c(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ny(n,e,t,i){return!!(un(n)===i||i!==vt&&$c(e,t,n))&&("**"===n.path||Kh(e,n,t).matched)}function Jh(n,e,t){return 0===e.length&&!n.children[t]}class Cr{constructor(e){this.segmentGroup=e||null}}class wu{constructor(e){this.urlTree=e}}function Iu(n){return new Si.y(e=>e.error(new Cr(n)))}function Hp(n){return new Si.y(e=>e.error(new wu(n)))}function qp(n){return new Si.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class td{constructor(e,t,i,a,c){this.configLoader=t,this.urlSerializer=i,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=Yh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Rt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,vt).pipe((0,ct.U)(c=>this.createUrlTree(eo(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ks(c=>{if(c instanceof wu)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Cr?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,vt).pipe((0,ct.U)(a=>this.createUrlTree(eo(a),e.queryParams,e.fragment))).pipe(Ks(a=>{throw a instanceof Cr?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const a=e.segments.length>0?new Rt([],{[vt]:e}):e;return new wa(a,t,i)}expandSegmentGroup(e,t,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ct.U)(c=>new Rt([],c))):this.expandSegment(e,i,t,i.segments,a,!0)}expandChildren(e,t,i){const a=[];for(const c of Object.keys(i.children))"primary"===c?a.unshift(c):a.push(c);return(0,_n.D)(a).pipe(Ys(c=>{const h=i.children[c],y=bu(t,c);return this.expandSegmentGroup(e,y,h,c).pipe((0,ct.U)(b=>({segment:b,outlet:c})))}),_a((c,h)=>(c[h.outlet]=h.segment,c),{}),function(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vs((a,c)=>n(a,c,i)):Tr.y,Tp(1),t?pi(e):du(()=>new Gs))}())}expandSegment(e,t,i,a,c,h){return(0,_n.D)(i).pipe(Ys(y=>this.expandSegmentAgainstRoute(e,t,i,y,a,c,h).pipe(Ks(C=>{if(C instanceof Cr)return(0,et.of)(null);throw C}))),va(y=>!!y),Ks((y,b)=>{if(y instanceof Gs||"EmptyError"===y.name){if(Jh(t,a,c))return(0,et.of)(new Rt([],{}));throw new Cr(t)}throw y}))}expandSegmentAgainstRoute(e,t,i,a,c,h,y){return ny(a,t,c,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,c,h):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,a,c,h):Iu(t):Iu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,a,c,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,a,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,a){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Hp(c):this.lineralizeSegments(i,c).pipe((0,cr.zg)(h=>{const y=new Rt(h,{});return this.expandSegment(e,y,t,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,a,c,h){const{matched:y,consumedSegments:b,lastChild:C,positionalParamSegments:R}=Kh(t,a,c);if(!y)return Iu(t);const O=this.applyRedirectCommands(b,a.redirectTo,R);return a.redirectTo.startsWith("/")?Hp(O):this.lineralizeSegments(a,O).pipe((0,cr.zg)(j=>this.expandSegment(e,t,i,j.concat(c.slice(C)),h,!1)))}matchSegmentAgainstRoute(e,t,i,a,c){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,et.of)(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,ct.U)(j=>(i._loadedConfig=j,new Rt(a,{})))):(0,et.of)(new Rt(a,{}));const{matched:h,consumedSegments:y,lastChild:b}=Kh(t,i,a);if(!h)return Iu(t);const C=a.slice(b);return this.getChildConfig(e,i,a).pipe((0,cr.zg)(O=>{const j=O.module,G=O.routes,{segmentGroup:X,slicedSegments:ve}=Yh(t,y,C,G),Oe=new Rt(X.segments,X.children);if(0===ve.length&&Oe.hasChildren())return this.expandChildren(j,G,Oe).pipe((0,ct.U)(at=>new Rt(y,at)));if(0===G.length&&0===ve.length)return(0,et.of)(new Rt(y,{}));const rt=un(i)===c;return this.expandSegment(j,Oe,G,ve,rt?vt:c,!0).pipe((0,ct.U)(Nt=>new Rt(y.concat(Nt.segments),Nt.children)))}))}getChildConfig(e,t,i){return t.children?(0,et.of)(new Bp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,et.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,cr.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,ct.U)(c=>(t._loadedConfig=c,c))):(n=t,new Si.y(e=>e.error(pu(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,et.of)(new Bp([],e))}runCanLoadGuards(e,t,i){const a=t.canLoad;if(!a||0===a.length)return(0,et.of)(!0);const c=a.map(h=>{const y=e.get(h);let b;if((n=y)&&Ji(n.canLoad))b=y.canLoad(t,i);else{if(!Ji(y))throw new Error("Invalid CanLoad guard");b=y(t,i)}var n;return xi(b)});return(0,et.of)(c).pipe(ed(),(0,lr.b)(h=>{if(!vu(h))return;const y=pu(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw y.url=h,y}),(0,ct.U)(h=>!0===h))}lineralizeSegments(e,t){let i=[],a=t.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return(0,et.of)(i);if(a.numberOfChildren>1||!a.children[vt])return qp(e.redirectTo);a=a.children[vt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,a){const c=this.createSegmentGroup(e,t.root,i,a);return new wa(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return dr(e,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);i[c]=t[y]}else i[c]=a}),i}createSegmentGroup(e,t,i,a){const c=this.createSegments(e,t.segments,i,a);let h={};return dr(t.children,(y,b)=>{h[b]=this.createSegmentGroup(e,y,i,a)}),new Rt(c,h)}createSegments(e,t,i,a){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,a):this.findOrReturn(c,i))}findPosParam(e,t,i){const a=i[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let i=0;for(const a of t){if(a.path===e.path)return t.splice(i),a;i++}return e}}function eo(n){const e={};for(const i of Object.keys(n.children)){const c=eo(n.children[i]);(c.segments.length>0||c.hasChildren())&&(e[i]=c)}return function(n){if(1===n.numberOfChildren&&n.children[vt]){const e=n.children[vt];return new Rt(n.segments.concat(e.segments),e.children)}return n}(new Rt(n.segments,e))}class sy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xh{constructor(e,t){this.component=e,this.route=t}}function _v(n,e,t){const i=n._root;return hr(i,e?e._root:null,t,[i.value])}function Dr(n,e,t){const i=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function hr(n,e,t,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Lc(e);return n.children.forEach(h=>{(function(n,e,t,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ia(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ia(n.url,e.url)||!Ai(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yl(n,e)||!Ai(n.queryParams,e.queryParams);case"paramsChange":default:return!Yl(n,e)}}(h,c,c.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new sy(i)):(c.data=h.data,c._resolvedData=h._resolvedData),hr(n,e,c.component?y?y.children:null:t,i,a),b&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new Xh(y.outlet.component,h))}else h&&Vo(e,y,a),a.canActivateChecks.push(new sy(i)),hr(n,null,c.component?y?y.children:null:t,i,a)})(h,c[h.value.outlet],t,i.concat([h.value]),a),delete c[h.value.outlet]}),dr(c,(h,y)=>Vo(h,t.getContext(y),a)),a}function Vo(n,e,t){const i=Lc(n),a=n.value;dr(i,(c,h)=>{Vo(c,a.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Xh(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class _{}function p(n){return new Si.y(e=>e.error(n))}class E{constructor(e,t,i,a,c,h){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const e=Yh(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,vt);if(null===t)return null;const i=new Bh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new gi(i,t),c=new jh(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,i=qm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const c of Object.keys(t.children)){const h=t.children[c],y=bu(e,c),b=this.processSegmentGroup(y,h,c);if(null===b)return null;i.push(...b)}const a=re(i);return a.sort((e,t)=>e.value.outlet===vt?-1:t.value.outlet===vt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,i,a){for(const c of e){const h=this.processSegmentAgainstRoute(c,t,i,a);if(null!==h)return h}return Jh(t,i,a)?[]:null}processSegmentAgainstRoute(e,t,i,a){if(e.redirectTo||!ny(e,t,i,a))return null;let c,h=[],y=[];if("**"===e.path){const G=i.length>0?gu(i).parameters:{};c=new Bh(i,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ze(e),un(e),e.component,e,Ae(t),Ze(t)+i.length,xt(e))}else{const G=Kh(t,e,i);if(!G.matched)return null;h=G.consumedSegments,y=i.slice(G.lastChild),c=new Bh(h,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ze(e),un(e),e.component,e,Ae(t),Ze(t)+h.length,xt(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:R}=Yh(t,h,y,b.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);var n;if(0===R.length&&C.hasChildren()){const G=this.processChildren(b,C);return null===G?null:[new gi(c,G)]}if(0===b.length&&0===R.length)return[new gi(c,[])];const O=un(e)===a,j=this.processSegment(b,C,R,O?vt:a);return null===j?null:[new gi(c,j)]}}function $(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function re(n){const e=[],t=new Set;for(const i of n){if(!$(i)){e.push(i);continue}const a=e.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...i.children),t.add(a)):e.push(i)}for(const i of t){const a=re(i.children);e.push(new gi(i.value,a))}return e.filter(i=>!t.has(i))}function Ae(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ze(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function ze(n){return n.data||{}}function xt(n){return n.resolve||{}}function nd(n){return Vn(e=>{const t=n(e);return t?(0,_n.D)(t).pipe((0,ct.U)(()=>e)):(0,et.of)(e)})}class cy extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const rd=new f.OlP("ROUTES");class Wp{constructor(e,t,i,a){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,ct.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=c.create(e);return new Bp(Fo(h.injector.get(rd,void 0,f.XFs.Self|f.XFs.Optional)).map(Eu),h)}),Ks(c=>{throw t._loader$=void 0,c}));return t._loader$=new Ws.c(a,()=>new ys.xQ).pipe((0,km.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,_n.D)(this.loader.load(e)):xi(e()).pipe((0,cr.zg)(t=>t instanceof f.YKP?(0,et.of)(t):(0,_n.D)(this.compiler.compileModuleAsync(t))))}}class wv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Da,this.attachRef=null}}class Da{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wv,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class uw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Tv(n){throw n}function cw(n,e,t){return e.parse("/")}function ly(n,e){return(0,et.of)(null)}const GD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ri=(()=>{class n{constructor(t,i,a,c,h,y,b,C){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=a,this.location=c,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ys.xQ,this.errorHandler=Tv,this.malformedUriErrorHandler=cw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ly,afterPreactivation:ly},this.urlHandlingStrategy=new uw,this.routeReuseStrategy=new cy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(f.h0i),this.console=h.get(f.c2e);const j=h.get(f.R0b);this.isNgZoneEnabled=j instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new wa(new Rt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wp(y,b,G=>this.triggerEvent(new Jn(G)),G=>this.triggerEvent(new Xn(G))),this.routerState=Hm(this.currentUrlTree,this.rootComponentType),this.transitions=new Ir({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(vs(a=>0!==a.id),(0,ct.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Vn(a=>{let c=!1,h=!1;return(0,et.of)(a).pipe((0,lr.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vn(y=>{const b=this.browserUrlTree.toString(),C=!this.navigated||y.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Sa(y.source)&&(this.browserUrlTree=y.extractedUrl),(0,et.of)(y).pipe(Vn(O=>{const j=this.transitions.getValue();return i.next(new V(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),j!==this.transitions.getValue()?Fr.E:Promise.resolve(O)}),function(n,e,t,i){return Vn(a=>function(n,e,t,i,a){return new td(n,e,t,i,a).apply()}(n,e,t,a.extractedUrl,i).pipe((0,ct.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,lr.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(n,e,t,i,a){return(0,cr.zg)(c=>function(n,e,t,i,a="emptyOnly",c="legacy"){try{const h=new E(n,e,t,i,a,c).recognize();return null===h?p(new _):(0,et.of)(h)}catch(h){return p(h)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),i,a).pipe((0,ct.U)(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,lr.b)(O=>{"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(O.urlAfterRedirects,O),this.browserUrlTree=O.urlAfterRedirects);const j=new Be(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);i.next(j)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:G,source:X,restoredState:ve,extras:Oe}=y,rt=new V(j,this.serializeUrl(G),X,ve);i.next(rt);const it=Hm(G,this.rootComponentType).snapshot;return(0,et.of)(Object.assign(Object.assign({},y),{targetSnapshot:it,urlAfterRedirects:G,extras:Object.assign(Object.assign({},Oe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),Fr.E}),nd(y=>{const{targetSnapshot:b,id:C,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:G}}=y;return this.hooks.beforePreactivation(b,{navigationId:C,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!G})}),(0,lr.b)(y=>{const b=new je(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),(0,ct.U)(y=>Object.assign(Object.assign({},y),{guards:_v(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(n,e){return(0,cr.zg)(t=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:h}}=t;return 0===h.length&&0===c.length?(0,et.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,i){return(0,_n.D)(n).pipe((0,cr.zg)(a=>function(n,e,t,i,a){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,et.of)(!0);const h=c.map(y=>{const b=Dr(y,e,a);let C;if(function(n){return n&&Ji(n.canDeactivate)}(b))C=xi(b.canDeactivate(n,e,t,i));else{if(!Ji(b))throw new Error("Invalid CanDeactivate guard");C=xi(b(n,e,t,i))}return C.pipe(va())});return(0,et.of)(h).pipe(ed())}(a.component,a.route,t,e,i)),va(a=>!0!==a,!0))}(h,i,a,n).pipe((0,cr.zg)(y=>y&&function(n){return"boolean"==typeof n}(y)?function(n,e,t,i){return(0,_n.D)(e).pipe(Ys(a=>cu(function(n,e){return null!==n&&e&&e(new Qs(n)),(0,et.of)(!0)}(a.route.parent,i),function(n,e){return null!==n&&e&&e(new Ki(n)),(0,et.of)(!0)}(a.route,i),function(n,e,t){const i=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>zi(()=>{const y=h.guards.map(b=>{const C=Dr(b,h.node,t);let R;if(function(n){return n&&Ji(n.canActivateChild)}(C))R=xi(C.canActivateChild(i,n));else{if(!Ji(C))throw new Error("Invalid CanActivateChild guard");R=xi(C(i,n))}return R.pipe(va())});return(0,et.of)(y).pipe(ed())}));return(0,et.of)(c).pipe(ed())}(n,a.path,t),function(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,et.of)(!0);const a=i.map(c=>zi(()=>{const h=Dr(c,e,t);let y;if(function(n){return n&&Ji(n.canActivate)}(h))y=xi(h.canActivate(e,n));else{if(!Ji(h))throw new Error("Invalid CanActivate guard");y=xi(h(e,n))}return y.pipe(va())}));return(0,et.of)(a).pipe(ed())}(n,a.route,t))),va(a=>!0!==a,!0))}(i,c,n,e):(0,et.of)(y)),(0,ct.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,lr.b)(y=>{if(vu(y.guardsResult)){const C=pu(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw C.url=y.guardsResult,C}const b=new Vt(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(b)}),vs(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),nd(y=>{if(y.guards.canActivateChecks.length)return(0,et.of)(y).pipe((0,lr.b)(b=>{const C=new Zt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}),Vn(b=>{let C=!1;return(0,et.of)(b).pipe(function(n,e){return(0,cr.zg)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,et.of)(t);let c=0;return(0,_n.D)(a).pipe(Ys(h=>function(n,e,t,i){return function(n,e,t,i){const a=Object.keys(n);if(0===a.length)return(0,et.of)({});const c={};return(0,_n.D)(a).pipe((0,cr.zg)(h=>function(n,e,t,i){const a=Dr(n,e,i);return xi(a.resolve?a.resolve(e,t):a(e,t))}(n[h],e,t,i).pipe((0,lr.b)(y=>{c[h]=y}))),Tp(1),(0,cr.zg)(()=>Object.keys(c).length===a.length?(0,et.of)(c):Fr.E))}(n._resolve,n,e,i).pipe((0,ct.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),qm(n,t).resolve),null)))}(h.route,i,n,e)),(0,lr.b)(()=>c++),Tp(1),(0,cr.zg)(h=>c===a.length?(0,et.of)(t):Fr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,lr.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,lr.b)(b=>{const C=new Qn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}))}),nd(y=>{const{targetSnapshot:b,id:C,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:G}}=y;return this.hooks.afterPreactivation(b,{navigationId:C,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!G})}),(0,ct.U)(y=>{const b=function(n,e,t){const i=Vc(n,e._root,t?t._root:void 0);return new Op(i,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:b})}),(0,lr.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,ct.U)(i=>(new Qm(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,lr.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new I(n))}(()=>{var y;if(!c&&!h){const b=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,b)):this.cancelNavigationTransition(a,b)}(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===a.id&&(this.currentNavigation=null)}),Ks(y=>{if(h=!0,function(n){return n&&n[fu]}(y)){const b=vu(y.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const C=new ue(a.id,this.serializeUrl(a.extractedUrl),y.message);i.next(C),b?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),O={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sa(a.source)};this.scheduleNavigation(R,"imperative",null,O,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new Te(a.id,this.serializeUrl(a.extractedUrl),y);i.next(b);try{a.resolve(this.errorHandler(y))}catch(C){a.reject(C)}}return Fr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:a,state:c,urlTree:h}=i,y={replaceUrl:!0};if(c){const b=Object.assign({},c);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(y.state=b)}this.scheduleNavigation(h,a,c,y)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(t){var i;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,i){if(!t)return!0;const a=i.urlTree.toString()===t.urlTree.toString();return i.transitionId!==t.transitionId||!a||!("hashchange"===i.source&&"popstate"===t.source||"popstate"===i.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Lr(t),this.config=t.map(Eu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:a,queryParams:c,fragment:h,queryParamsHandling:y,preserveFragment:b}=i,C=a||this.routerState.root,R=b?this.currentUrlTree.fragment:h;let O=null;switch(y){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=c||null}return null!==O&&(O=this.removeEmptyProps(O)),function(n,e,t,i,a){if(0===t.length)return Wm(e.root,e.root,e,i,a);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Bc(!0,0,n);let e=0,t=!1;const i=n.reduce((a,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const y={};return dr(c.outlets,(b,C)=>{y[C]="string"==typeof b?b.split("/"):b}),[...a,{outlets:y}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===h?(c.split("/").forEach((y,b)=>{0==b&&"."===y||(0==b&&""===y?t=!0:".."===y?e++:""!=y&&a.push(y))}),a):[...a,c]},[]);return new Bc(t,e,i)}(t);if(c.toRoot())return Wm(e.root,new Rt([],{}),e,i,a);const h=function(n,e,t){if(n.isAbsolute)return new _u(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new _u(c,c===e.root,0)}const i=$h(n.commands[0])?0:1;return function(n,e,t){let i=n,a=e,c=t;for(;c>a;){if(c-=a,i=i.parent,!i)throw new Error("Invalid number of '../'");a=i.segments.length}return new _u(i,!1,a-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(c,e,n),y=h.processChildren?qh(h.segmentGroup,h.index,c.commands):Km(h.segmentGroup,h.index,c.commands);return Wm(h.segmentGroup,y,e,i,a)}(C,this.currentUrlTree,t,O,null!=R?R:null)}navigateByUrl(t,i={skipLocationChange:!1}){const a=vu(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return i}isActive(t,i){let a;if(a=!0===i?Object.assign({},GD):!1===i?Object.assign({},WD):i,vu(t))return zl(this.currentUrlTree,t,a);const c=this.parseUrl(t);return zl(this.currentUrlTree,c,a)}removeEmptyProps(t){return Object.keys(t).reduce((i,a)=>{const c=t[a];return null!=c&&(i[a]=c),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new K(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,a,c,h){var y,b;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),R=Sa(i)&&C&&!Sa(C.source),G=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===t.toString();if(R&&G)return Promise.resolve(!0);let X,ve,Oe;h?(X=h.resolve,ve=h.reject,Oe=h.promise):Oe=new Promise((Nt,at)=>{X=Nt,ve=at});const rt=++this.navigationId;let it;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),it=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):it=0,this.setTransition({id:rt,targetPageId:it,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:X,reject:ve,promise:Oe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Oe.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(t,i){const a=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(t,i=!1){var a,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const a=new ue(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.DyG),f.LFG(kh),f.LFG(Da),f.LFG(qe),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Sa(n){return"imperative"!==n}let dy=(()=>{class n{constructor(t,i,a,c,h){this.router=t,this.route=i,this.commands=[],this.onChanges=new ys.xQ,null==a&&c.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:rf(this.skipLocationChange),replaceUrl:rf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rf(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ri),f.Y36(Uc),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&f.NdJ("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),n})(),Kp=(()=>{class n{constructor(t,i,a){this.router=t,this.route=i,this.locationStrategy=a,this.commands=[],this.onChanges=new ys.xQ,this.subscription=t.events.subscribe(c=>{c instanceof K&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,a,c,h){if(0!==t||i||a||c||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:rf(this.skipLocationChange),replaceUrl:rf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rf(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ri),f.Y36(Uc),f.Y36(W))},n.\u0275dir=f.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&f.NdJ("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&(f.Ikx("href",i.href,f.LSH),f.uIk("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),n})();function rf(n){return""===n||!!n}let Yp=(()=>{class n{constructor(t,i,a,c,h,y){this.router=t,this.element=i,this.renderer=a,this.cdr=c,this.link=h,this.linkWithHref=y,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(b=>{b instanceof K&&this.update()})}ngAfterContentInit(){(0,et.of)(this.links.changes,this.linksWithHrefs.changes,(0,et.of)(null)).pipe((0,_s.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,_n.D)(i).pipe((0,_s.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(a=>!!a)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}))})}isLinkActive(t){const i=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>t.isActive(a.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ri),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(dy,8),f.Y36(Kp,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,a){if(1&t&&(f.Suo(a,dy,5),f.Suo(a,Kp,5)),2&t){let c;f.iGM(c=f.CRH())&&(i.links=c),f.iGM(c=f.CRH())&&(i.linksWithHrefs=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[f.TTD]}),n})(),hy=(()=>{class n{constructor(t,i,a,c,h){this.parentContexts=t,this.location=i,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=c||vt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,b=new dw(t,y,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Da),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class dw{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Uc?this.route:e===Da?this.childContexts:this.parent.get(e,t)}}class Cv{}class Sv{preload(e,t){return(0,et.of)(null)}}let Qp=(()=>{class n{constructor(t,i,a,c,h){this.router=t,this.injector=c,this.preloadingStrategy=h,this.loader=new Wp(i,a,C=>t.triggerEvent(new Jn(C)),C=>t.triggerEvent(new Xn(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(vs(t=>t instanceof K),Ys(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const a=[];for(const c of i)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(t,c)):c.children&&a.push(this.processRoutes(t,c.children));return(0,_n.D)(a).pipe((0,_s.J)(),(0,ct.U)(c=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,et.of)(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,cr.zg)(c=>(i._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ri),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(Cv))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),sf=(()=>{class n{constructor(t,i,a={}){this.router=t,this.viewportScroller=i,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof V?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof K&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ko&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new ko(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ri),f.LFG(Ka),f.LFG(void 0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Cu=new f.OlP("ROUTER_CONFIGURATION"),Av=new f.OlP("ROUTER_FORROOT_GUARD"),Jp=[qe,{provide:kh,useClass:Sp},{provide:Ri,useFactory:function(n,e,t,i,a,c,h,y={},b,C){const R=new Ri(null,n,e,t,i,a,c,Fo(h));return b&&(R.urlHandlingStrategy=b),C&&(R.routeReuseStrategy=C),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(y,R),y.enableTracing&&R.events.subscribe(O=>{var j,G;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(G=console.groupEnd)||void 0===G||G.call(console)}),R},deps:[kh,Da,qe,f.zs3,f.v3s,f.Sil,rd,Cu,[class{},new f.FiY],[class{},new f.FiY]]},Da,{provide:Uc,useFactory:function(n){return n.routerState.root},deps:[Ri]},{provide:f.v3s,useClass:f.EAV},Qp,Sv,class{preload(e,t){return t().pipe(Ks(()=>(0,et.of)(null)))}},{provide:Cu,useValue:{enableTracing:!1}}];function QD(){return new f.PXZ("Router",Ri)}let Rv=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[Jp,fy(t),{provide:Av,useFactory:hw,deps:[[Ri,new f.FiY,new f.tp0]]},{provide:Cu,useValue:i||{}},{provide:W,useFactory:XD,deps:[ce,[new f.tBr(ge),new f.FiY],Cu]},{provide:sf,useFactory:JD,deps:[Ri,Ka,Cu]},{provide:Cv,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Sv},{provide:f.PXZ,multi:!0,useFactory:QD},[Pv,{provide:f.ip1,multi:!0,useFactory:gw,deps:[Pv]},{provide:mw,useFactory:eS,deps:[Pv]},{provide:f.tb,multi:!0,useExisting:mw}]]}}static forChild(t){return{ngModule:n,providers:[fy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Av,8),f.LFG(Ri,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function JD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new sf(n,e,t)}function XD(n,e,t={}){return t.useHash?new Re(n,e):new fe(n,e)}function hw(n){return"guarded"}function fy(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:rd,multi:!0,useValue:n}]}let Pv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ys.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const a=new Promise(y=>i=y),c=this.injector.get(Ri),h=this.injector.get(Cu);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),i(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,et.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),c.initialNavigation()):i(!0),a})}bootstrapListener(t){const i=this.injector.get(Cu),a=this.injector.get(Qp),c=this.injector.get(sf),h=this.injector.get(Ri),y=this.injector.get(f.z2F);t===y.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),c.init(),h.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function gw(n){return n.appInitializer.bind(n)}function eS(n){return n.bootstrapListener.bind(n)}const mw=new f.OlP("Router Initializer");class yw{}var tS=L(3637),Kr=L(9259);function Ov(){return n=>n.lift(new nS)}class nS{call(e,t){return t.subscribe(new _w(e))}}class _w extends an.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class iS{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new sS(e,this.compare,this.keySelector))}}class sS extends an.L{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let i=!1;if(this.hasKey)try{const{compare:a}=this;i=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}var He,st=L(8939),vw=(L(8402),L(3394)),me=L(8239),Yr=L(8026),Xp=L(3910),Zc=L(5422),Pt=L(3854),Du="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$o={},eg=eg||{},It=Du||self;function tg(){}function Ew(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ws(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var of="closure_uid_"+(1e9*Math.random()>>>0),Mv=0;function i1(n,e,t){return n.call.apply(n.bind,arguments)}function aS(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Ur(n,e,t){return(Ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i1:aS).apply(null,arguments)}function Nv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,a,c){for(var h=Array(arguments.length-2),y=2;y<arguments.length;y++)h[y-2]=arguments[y];return e.prototype[a].apply(i,h)}}function id(){this.s=this.s,this.o=this.o}var ww={};id.prototype.s=!1,id.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,of)&&n[of]||(n[of]=++Mv)}(this);delete ww[n]}},id.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Iw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},gy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,a="string"==typeof n?n.split(""):n;for(let c=0;c<i;c++)c in a&&e.call(t,a[c],c,n)};function uS(n){return Array.prototype.concat.apply([],arguments)}function Tw(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function kv(n){return/^[\s\xa0]*$/.test(n)}var es,cS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Xi(n,e){return-1!=n.indexOf(e)}function Cw(n,e){return n<e?-1:n>e?1:0}e:{var lS=It.navigator;if(lS){var dS=lS.userAgent;if(dS){es=dS;break e}}es=""}function Dw(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Su(n){const e={};for(const t in n)e[t]=n[t];return e}var my="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sw(n,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)n[t]=i[t];for(let c=0;c<my.length;c++)t=my[c],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function yy(n){return yy[" "](n),n}yy[" "]=tg;var af,n,Aw=Xi(es,"Opera"),zc=Xi(es,"Trident")||Xi(es,"MSIE"),xw=Xi(es,"Edge"),Aa=xw||zc,Lv=Xi(es,"Gecko")&&!(Xi(es.toLowerCase(),"webkit")&&!Xi(es,"Edge"))&&!(Xi(es,"Trident")||Xi(es,"MSIE"))&&!Xi(es,"Edge"),hS=Xi(es.toLowerCase(),"webkit")&&!Xi(es,"Edge");function fS(){var n=It.document;return n?n.documentMode:void 0}e:{var Uv="",_y=(n=es,Lv?/rv:([^\);]+)(\)|;)/.exec(n):xw?/Edge\/([\d\.]+)/.exec(n):zc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hS?/WebKit\/(\S+)/.exec(n):Aw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_y&&(Uv=_y?_y[1]:""),zc){var Vv=fS();if(null!=Vv&&Vv>parseFloat(Uv)){af=String(Vv);break e}}af=Uv}var pS={};function ng(){return e=pS,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=cS(String(af)).split("."),t=cS("9").split("."),i=Math.max(e.length,t.length);for(let h=0;0==n&&h<i;h++){var a=e[h]||"",c=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=Cw(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Cw(0==a[2].length,0==c[2].length)||Cw(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n}();var e}var uf=It.document&&zc&&(fS()||parseInt(af,10))||void 0,rg=function(){if(!It.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{It.addEventListener("test",tg,e),It.removeEventListener("test",tg,e)}catch(t){}return n}();function er(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ig(n,e){if(er.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Lv){e:{try{yy(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Rw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ig.Z.h.call(this)}}er.prototype.h=function(){this.defaultPrevented=!0},Qr(ig,er);var Rw={2:"touch",3:"pen",4:"mouse"};ig.prototype.h=function(){ig.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var cf="closure_listenable_"+(1e6*Math.random()|0),Bv=0;function jv(n,e,t,i,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=a,this.key=++Bv,this.ca=this.fa=!1}function sg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function sd(n){this.src=n,this.g={},this.h=0}function $v(n,e){var t=e.type;if(t in n.g){var c,i=n.g[t],a=Iw(i,e);(c=0<=a)&&Array.prototype.splice.call(i,a,1),c&&(sg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ey(n,e,t,i){for(var a=0;a<n.length;++a){var c=n[a];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==i)return a}return-1}sd.prototype.add=function(n,e,t,i,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=Ey(n,e,i,a);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new jv(e,this.src,c,!!i,a)).fa=t,n.push(e)),e};var Pw="closure_lm_"+(1e6*Math.random()|0),by={};function Hv(n,e,t,i,a){if(i&&i.once)return Nw(n,e,t,i,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Hv(n,e[c],t,i,a);return null}return t=wy(t),n&&n[cf]?n.N(e,t,ws(i)?!!i.capture:!!i,a):Ow(n,e,t,!1,i,a)}function Ow(n,e,t,i,a,c){if(!e)throw Error("Invalid event type");var h=ws(a)?!!a.capture:!!a,y=Lw(n);if(y||(n[Pw]=y=new sd(n)),(t=y.add(e,t,i,h,c)).proxy)return t;if(i=function(){var e=gS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)rg||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),i,a);else if(n.attachEvent)n.attachEvent(Fw(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Nw(n,e,t,i,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Nw(n,e[c],t,i,a);return null}return t=wy(t),n&&n[cf]?n.O(e,t,ws(i)?!!i.capture:!!i,a):Ow(n,e,t,!0,i,a)}function kw(n,e,t,i,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)kw(n,e[c],t,i,a);else i=ws(i)?!!i.capture:!!i,t=wy(t),n&&n[cf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ey(c=n.g[e],t,i,a))&&(sg(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Lw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ey(e,t,i,a)),(t=-1<n?e[n]:null)&&Pi(t))}function Pi(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[cf])$v(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Fw(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Lw(e))?($v(t,n),0==t.h&&(t.src=null,e[Pw]=null)):sg(n)}}}function Fw(n){return n in by?by[n]:by[n]="on"+n}function gS(n,e){if(n.ca)n=!0;else{e=new ig(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Pi(n),n=t.call(i,e)}return n}function Lw(n){return(n=n[Pw])instanceof sd?n:null}var Uw="__closure_events_fn_"+(1e9*Math.random()>>>0);function wy(n){return"function"==typeof n?n:(n[Uw]||(n[Uw]=function(e){return n.handleEvent(e)}),n[Uw])}function Jr(){id.call(this),this.i=new sd(this),this.P=this,this.I=null}function Xr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new er(e,n);else if(e instanceof er)e.target=e.target||n;else{var a=e;Sw(e=new er(i,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];a=lf(h,i,!0,e)&&a}if(a=lf(h=e.g=n,i,!0,e)&&a,a=lf(h,i,!1,e)&&a,t)for(c=0;c<t.length;c++)a=lf(h=e.g=t[c],i,!1,e)&&a}function lf(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.ca&&h.capture==t){var y=h.listener,b=h.ia||h.src;h.fa&&$v(n.i,h),a=!1!==y.call(b,i)&&a}}return a&&!i.defaultPrevented}Qr(Jr,id),Jr.prototype[cf]=!0,Jr.prototype.removeEventListener=function(n,e,t,i){kw(this,n,e,t,i)},Jr.prototype.M=function(){if(Jr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)sg(t[i]);delete n.g[e],n.h--}}this.I=null},Jr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Jr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Iy=It.JSON.stringify;function mS(){var n=Zv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var qv,Vw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Bw,n=>n.reset());class Bw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _S(n){It.setTimeout(()=>{throw n},0)}function Ty(n,e){qv||function(){var n=It.Promise.resolve(void 0);qv=function(){n.then(ES)}}(),Cy||(qv(),Cy=!0),Zv.add(n,e)}var Cy=!1,Zv=new class{constructor(){this.h=this.g=null}add(e,t){const i=Vw.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function ES(){for(var n;n=mS();){try{n.h.call(n.g)}catch(t){_S(t)}var e=Vw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Cy=!1}function Is(n,e){Jr.call(this),this.h=n||1,this.g=e||It,this.j=Ur(this.kb,this),this.l=Date.now()}function og(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function zv(n,e,t){if("function"==typeof n)t&&(n=Ur(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ur(n.handleEvent,n)}return 2147483647<Number(e)?-1:It.setTimeout(n,e||0)}function jw(n){n.g=zv(()=>{n.g=null,n.i&&(n.i=!1,jw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qr(Is,Jr),(He=Is.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xr(this,"tick"),this.da&&(og(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){Is.Z.M.call(this),og(this),delete this.g};class o1 extends id{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jw(this)}M(){super.M(),this.g&&(It.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function df(n){id.call(this),this.h=n,this.g={}}Qr(df,id);var $w=[];function Hw(n,e,t,i){Array.isArray(t)||(t&&($w[0]=t.toString()),t=$w);for(var a=0;a<t.length;a++){var c=Hv(e,t[a],i||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function qw(n){Dw(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pi(e)},n),n.g={}}function hf(){this.g=!0}function Au(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<a.length;h++)a[h]=""}}}return Iy(t)}catch(y){return e}}(n,t)+(i?" "+i:"")})}df.prototype.M=function(){df.Z.M.call(this),qw(this)},df.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hf.prototype.Aa=function(){this.g=!1},hf.prototype.info=function(){};var xu={},Dy=null;function ag(){return Dy=Dy||new Jr}function Zw(n){er.call(this,xu.Ma,n)}function ug(n){const e=ag();Xr(e,new Zw(e,n))}function Sy(n,e){er.call(this,xu.STAT_EVENT,n),this.stat=e}function ts(n){const e=ag();Xr(e,new Sy(e,n))}function zw(n,e){er.call(this,xu.Na,n),this.size=e}function ff(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return It.setTimeout(function(){n()},e)}xu.Ma="serverreachability",Qr(Zw,er),xu.STAT_EVENT="statevent",Qr(Sy,er),xu.Na="timingevent",Qr(zw,er);var cg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Wv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ay(){}function xa(){}Ay.prototype.h=null;var Gw,Wc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Yv(){er.call(this,"d")}function Qv(){er.call(this,"c")}function Ru(){}function pf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new df(this),this.P=lg,this.W=new Is(n=Aa?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gf}function gf(){this.i=null,this.g="",this.h=!1}Qr(Yv,er),Qr(Qv,er),Qr(Ru,Ay),Ru.prototype.g=function(){return new XMLHttpRequest},Ru.prototype.i=function(){return{}},Gw=new Ru;var lg=45e3,Jv={},mf={};function xy(n,e,t){n.K=1,n.v=vf(Pa(e)),n.s=t,n.U=!0,Ww(n,null)}function Ww(n,e){n.F=Date.now(),dg(n),n.A=Pa(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),aE(t.h,"t",i),n.C=0,t=n.l.H,n.h=new gf,n.g=gE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new o1(Ur(n.Ia,n,n.g),n.O)),Hw(n.V,n.g,"readystatechange",n.gb),e=n.H?Su(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ug(1),function(n,e,t,i,a,c){n.info(function(){if(n.g)if(c)for(var h="",y=c.split("&"),b=0;b<y.length;b++){var C=y[b].split("=");if(1<C.length){var R=C[0];C=C[1];var O=R.split("_");h=2<=O.length&&"type"==O[1]?h+(R+"=")+C+"&":h+(R+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Xv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Kw(n,e,t){let a,i=!0;for(;!n.I&&n.C<t.length;){if(a=eE(n,t),a==mf){4==e&&(n.o=4,ts(14),i=!1),Au(n.j,n.m,null,"[Incomplete Response]");break}if(a==Jv){n.o=4,ts(15),Au(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Au(n.j,n.m,a,null),tE(n,a)}Xv(n)&&a!=mf&&a!=Jv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ts(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),tl(e),e.L=!0,ts(11))):(Au(n.j,n.m,t,"[Invalid Chunked Response]"),Kc(n),Ra(n))}function eE(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?mf:(t=Number(e.substring(t,i)),isNaN(t)?Jv:(i+=1)+t>e.length?mf:(e=e.substr(i,t),n.C=i+t,e))}function dg(n){n.Y=Date.now()+n.P,Yw(n,n.P)}function Yw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ff(Ur(n.eb,n),e)}function hg(n){n.B&&(It.clearTimeout(n.B),n.B=null)}function Ra(n){0==n.l.G||n.I||ld(n.l,n)}function Kc(n){hg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,og(n.W),qw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function tE(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||cE(t.i,n)))if(t.I=n.N,!n.J&&cE(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(C){i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=ff(Ur(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Mu(t),Oy(t)}el(t),ts(18)}if(1>=uE(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else ro(t,11)}else if((n.J||t.g==n)&&Mu(t),!kv(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let C=a[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const R=C[3];null!=R&&(t.ma=R,t.h.info("VER="+t.ma));const O=C[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const j=C[5];null!=j&&"number"==typeof j&&0<j&&(t.K=i=1.5*j,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const G=n.g;if(G){const X=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var c=i.i;!c.g&&(Xi(X,"spdy")||Xi(X,"quic")||Xi(X,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(lE(c,c.h),c.h=null))}if(i.D){const ve=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(i.sa=ve,vn(i.F,i.D,ve))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((i=t).oa=fd(i,i.H?i.la:null,i.W),h.J){PS(i.i,h);var y=h,b=i.K;b&&y.setTimeout(b),y.B&&(hg(y),dg(y)),i.g=h}else Ny(i);0<t.l.length&&Qc(t)}else"stop"!=C[0]&&"close"!=C[0]||ro(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?ro(t,7):pE(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}ug(4)}catch(C){}}function Yc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ew(n)||"string"==typeof n)gy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Ew(n)||"string"==typeof n){t=[];for(var i=n.length,a=0;a<i;a++)t.push(a)}else for(a in t=[],i=0,n)t[i++]=a;a=(i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ew(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n)).length;for(var c=0;c<a;c++)e.call(void 0,i[c],t&&t[c],n)}}function yf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof yf)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function nE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];od(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)od(a,i=n.g[e])||(n.g[t++]=i,a[i]=1),e++;n.g.length=t}}function od(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(He=pf.prototype).setTimeout=function(n){this.P=n},He.gb=function(n){n=n.target;const e=this.L;e&&3==Ou(n)?e.l():this.Ia(n)},He.Ia=function(n){try{if(n==this.g)e:{const R=Ou(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>R)&&(3!=R||Aa||this.g&&(this.h.h||this.g.ga()||mg(this.g)))){this.I||4!=R||7==e||ug(8==e||0>=O?3:2),hg(this);var t=this.g.ba();this.N=t;t:if(Xv(this)){var i=mg(this.g);n="";var a=i.length,c=4==Ou(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Kc(this),Ra(this);var h="";break t}this.h.i=new It.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:c&&e==a-1});i.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,i,a,c,h){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.X,R,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,b=this.g;if((y=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kv(y)){var C=y;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,ts(12),Kc(this),Ra(this);break e}Au(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tE(this,t)}this.U?(Kw(this,R,h),Aa&&this.i&&3==R&&(Hw(this.V,this.W,"tick",this.fb),this.W.start())):(Au(this.j,this.m,h,null),tE(this,h)),4==R&&Kc(this),this.i&&!this.I&&(4==R?ld(this.l,this):(this.i=!1,dg(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,ts(12)):(this.o=0,ts(13)),Kc(this),Ra(this)}}}catch(R){}},He.fb=function(){if(this.g){var n=Ou(this.g),e=this.g.ga();this.C<e.length&&(hg(this),Kw(this,n,e),this.i&&4!=n&&dg(this))}},He.cancel=function(){this.I=!0,Kc(this)},He.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ug(3),ts(17)),Kc(this),this.o=2,Ra(this)):Yw(this,this.Y-n)},(He=yf.prototype).R=function(){nE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},He.T=function(){return nE(this),this.g.concat()},He.get=function(n,e){return od(this.h,n)?this.h[n]:e},He.set=function(n,e){od(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},He.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var a=t[i],c=this.get(a);n.call(e,c,a,this)}};var Qw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ad(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ad){this.g=void 0!==e?e:n.g,fn(this,n.j),this.s=n.s,_f(this,n.i),rE(this,n.m),this.l=n.l,e=n.h;var t=new ud;t.i=e.i,e.g&&(t.g=new yf(e.g),t.h=e.h),Oa(this,t),this.o=n.o}else n&&(t=String(n).match(Qw))?(this.g=!!e,fn(this,t[1]||"",!0),this.s=fg(t[2]||""),_f(this,t[3]||"",!0),rE(this,t[4]),this.l=fg(t[5]||"",!0),Oa(this,t[6]||"",!0),this.o=fg(t[7]||"")):(this.g=!!e,this.h=new ud(null,this.g))}function Pa(n){return new ad(n)}function fn(n,e,t){n.j=t?fg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _f(n,e,t){n.i=t?fg(e,!0):e}function rE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Oa(n,e,t){e instanceof ud?(n.h=e,function(n,e){e&&!n.j&&(Pu(n),n.i=null,n.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(sE(this,i),aE(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ef(e,SS)),n.h=new ud(e,n.g))}function vn(n,e,t){n.h.set(e,t)}function vf(n){return vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ef(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Jw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Jw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ad.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ef(e,iE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ef(e,iE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ef(t,"/"==t.charAt(0)?DS:Xw,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ef(t,pg)),n.join("")};var iE=/[#\/\?@]/g,Xw=/[#\?:]/g,DS=/[#\?]/g,SS=/[#\?@]/g,pg=/#/g;function ud(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Pu(n){n.g||(n.g=new yf,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),a=null;if(0<=i){var c=n[t].substring(0,i);a=n[t].substring(i+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sE(n,e){Pu(n),e=bf(n,e),od(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,od((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&nE(n)))}function oE(n,e){return Pu(n),e=bf(n,e),od(n.g.h,e)}function aE(n,e,t){sE(n,e),0<t.length&&(n.i=null,n.g.set(bf(n,e),Tw(t)),n.h+=t.length)}function bf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function eI(n){this.l=n||tI,n=It.PerformanceNavigationTiming?0<(n=It.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(It.g&&It.g.Ea&&It.g.Ea()&&It.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=ud.prototype).add=function(n,e){Pu(this),this.i=null,n=bf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},He.forEach=function(n,e){Pu(this),this.g.forEach(function(t,i){gy(t,function(a){n.call(e,a,i,this)},this)},this)},He.T=function(){Pu(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var a=n[i],c=0;c<a.length;c++)t.push(e[i]);return t},He.R=function(n){Pu(this);var e=[];if("string"==typeof n)oE(this,n)&&(e=uS(e,this.g.get(bf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=uS(e,n[t])}return e},He.set=function(n,e){return Pu(this),this.i=null,oE(this,n=bf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},He.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],a=encodeURIComponent(String(i));i=this.R(i);for(var c=0;c<i.length;c++){var h=a;""!==i[c]&&(h+="="+encodeURIComponent(String(i[c]))),n.push(h)}}return this.i=n.join("&")};var tI=10;function RS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uE(n){return n.h?1:n.g?n.g.size:0}function cE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function lE(n,e){n.g?n.g.add(e):n.h=e}function PS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function OS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Tw(n.i)}function gg(){}function MS(){this.g=new gg}function nI(n,e,t){const i=t||"";try{Yc(n,function(a,c){let h=a;ws(a)&&(h=Iy(a)),e.push(i+c+"="+encodeURIComponent(h))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function dE(n,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch(c){}}function Oi(n){this.l=n.$b||null,this.j=n.ib||!1}function hE(n,e){Jr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=iI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eI.prototype.cancel=function(){if(this.i=OS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},gg.prototype.stringify=function(n){return It.JSON.stringify(n,void 0)},gg.prototype.parse=function(n){return It.JSON.parse(n,void 0)},Qr(Oi,Ay),Oi.prototype.g=function(){return new hE(this.l,this.j)},Oi.prototype.i=function(n){return function(){return n}}({}),Qr(hE,Jr);var iI=0;function NS(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function wf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,If(n)}function If(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=hE.prototype).open=function(n,e){if(this.readyState!=iI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,If(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||It).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wf(this)),this.readyState=iI},He.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,If(this)),this.g&&(this.readyState=3,If(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==It.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NS(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wf(this):If(this),3==this.readyState&&NS(this)}},He.Ua=function(n){this.g&&(this.response=this.responseText=n,wf(this))},He.Ta=function(n){this.g&&(this.response=n,wf(this))},He.ha=function(){this.g&&wf(this)},He.setRequestHeader=function(n,e){this.v.append(n,e)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var sI=It.JSON.parse;function fr(n){Jr.call(this),this.headers=new yf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kS,this.K=this.L=!1}Qr(fr,Jr);var kS="",oI=/^https?$/i,aI=["POST","PUT"];function fE(n){return"content-type"==n.toLowerCase()}function uI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cI(n),Ry(n)}function cI(n){n.D||(n.D=!0,Xr(n,"complete"),Xr(n,"error"))}function lI(n){if(n.h&&void 0!==eg&&(!n.C[1]||4!=Ou(n)||2!=n.ba()))if(n.v&&4==Ou(n))zv(n.Fa,0,n);else if(Xr(n,"readystatechange"),4==Ou(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===y){var a=String(n.H).match(Qw)[1]||null;if(!a&&It.self&&It.self.location){var c=It.self.location.protocol;a=c.substr(0,c.length-1)}i=!oI.test(a?a.toLowerCase():"")}t=i}if(t)Xr(n,"complete"),Xr(n,"success");else{n.m=6;try{var h=2<Ou(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",cI(n)}}finally{Ry(n)}}}function Ry(n,e){if(n.g){dI(n);const t=n.g,i=n.C[0]?tg:null;n.g=null,n.C=null,e||Xr(n,"ready");try{t.onreadystatechange=i}catch(a){}}}function dI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(It.clearTimeout(n.A),n.A=null)}function Ou(n){return n.g?n.g.readyState:0}function mg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case kS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Py(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function(n){let e="";return Dw(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vn(n,e,t))}function Mi(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Cf(n){this.za=0,this.l=[],this.h=new hf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Mi("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Mi("baseRetryDelayMs",5e3,n),this.$a=Mi("retryDelaySeedMs",1e4,n),this.Ya=Mi("forwardChannelMaxRetries",2,n),this.ra=Mi("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new eI(n&&n.concurrentRequestLimit),this.Ca=new MS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function pE(n){if(My(n),3==n.G){var e=n.V++,t=Pa(n.F);vn(t,"SID",n.J),vn(t,"RID",e),vn(t,"TYPE","terminate"),Xc(n,t),(e=new pf(n,n.h,e,void 0)).K=2,e.v=vf(Pa(t)),t=!1,It.navigator&&It.navigator.sendBeacon&&(t=It.navigator.sendBeacon(e.v.toString(),"")),!t&&It.Image&&((new Image).src=e.v,t=!0),t||(e.g=gE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),dg(e)}hd(n)}function Oy(n){n.g&&(tl(n),n.g.cancel(),n.g=null)}function My(n){Oy(n),n.u&&(It.clearTimeout(n.u),n.u=null),Mu(n),n.i.cancel(),n.m&&("number"==typeof n.m&&It.clearTimeout(n.m),n.m=null)}function no(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Qc(n)}function Qc(n){RS(n.i)||n.m||(n.m=!0,Ty(n.Ha,n),n.C=0)}function Jc(n,e){var t;t=e?e.m:n.V++;const i=Pa(n.F);vn(i,"SID",n.J),vn(i,"RID",t),vn(i,"AID",n.U),Xc(n,i),n.o&&n.s&&Py(i,n.o,n.s),t=new pf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ts(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),lE(n.i,t),xy(t,i,e)}function Xc(n,e){n.j&&Yc({},function(t,i){vn(e,i,t)})}function Ts(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Ur(n.j.Oa,n.j,n):null;e:{var a=n.l;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=a[0].h,h.push("ofs="+c)):c=0:h.push("ofs="+c);let y=!0;for(let b=0;b<t;b++){let C=a[b].h;const R=a[b].g;if(C-=c,0>C)c=Math.max(0,a[b].h-100),y=!1;else try{nI(R,h,"req"+C+"_")}catch(O){i&&i(R)}}if(y){i=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Ny(n){n.g||n.u||(n.Y=1,Ty(n.Ga,n),n.A=0)}function el(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ff(Ur(n.Ga,n),dd(n,n.A)),n.A++,0))}function tl(n){null!=n.B&&(It.clearTimeout(n.B),n.B=null)}function cd(n){n.g=new pf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Pa(n.oa);vn(e,"RID","rpc"),vn(e,"SID",n.J),vn(e,"CI",n.N?"0":"1"),vn(e,"AID",n.U),Xc(n,e),vn(e,"TYPE","xmlhttp"),n.o&&n.s&&Py(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=vf(Pa(e)),t.s=null,t.U=!0,Ww(t,n)}function Mu(n){null!=n.v&&(It.clearTimeout(n.v),n.v=null)}function ld(n,e){var t=null;if(n.g==e){Mu(n),tl(n),n.g=null;var i=2}else{if(!cE(n.i,e))return;t=e.D,PS(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Xr(i=ag(),new zw(i,t,e,a)),Qc(n)}else Ny(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==i&&function(n,e){return!(uE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ff(Ur(n.Ha,n,e),dd(n,n.C)),n.C++,0)))}(n,e)||2==i&&el(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:ro(n,5);break;case 4:ro(n,10);break;case 3:ro(n,6);break;default:ro(n,2)}}function dd(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ro(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Ur(n.jb,n);t||(t=new ad("//www.google.com/images/cleardot.gif"),It.location&&"http"==It.location.protocol||fn(t,"https"),vf(t)),function(n,e){const t=new hf;if(It.Image){const i=new Image;i.onload=Nv(dE,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Nv(dE,t,i,"TestLoadImage: error",!1,e),i.onabort=Nv(dE,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Nv(dE,t,i,"TestLoadImage: timeout",!1,e),It.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ts(2);n.G=0,n.j&&n.j.va(e),hd(n),My(n)}function hd(n){n.G=0,n.I=-1,n.j&&((0!=OS(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Tw(n.l),n.l.length=0),n.j.ua())}function fd(n,e,t){let i=function(n){return n instanceof ad?Pa(n):new ad(n,void 0)}(t);if(""!=i.i)e&&_f(i,e+"."+i.i),rE(i,i.m);else{const a=It.location;i=function(n,e,t,i){var a=new ad(null,void 0);return n&&fn(a,n),e&&_f(a,e),t&&rE(a,t),i&&(a.l=i),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Dw(n.aa,function(a,c){vn(i,c,a)}),t=n.sa,(e=n.D)&&t&&vn(i,e,t),vn(i,"VER",n.ma),Xc(n,i),i}function gE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fr(t&&n.Ba&&!n.qa?new Oi({ib:!0}):n.qa)).L=n.H,e}function mE(){}function yg(){if(zc&&!(10<=Number(uf)))throw Error("Environmental error: no available transport.")}function ns(n,e){Jr.call(this),this.g=new Cf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!kv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kv(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new pd(this)}function yE(n){Yv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _E(){Qv.call(this),this.status=1}function pd(n){this.g=n}(He=fr.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gw.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Gw),this.g.onreadystatechange=Ur(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void uI(this,c)}n=t||"";const a=new yf(this.headers);i&&Yc(i,function(c,h){a.set(h,c)}),i=function(n){e:{var e=fE;const t=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in i&&e.call(void 0,i[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=It.FormData&&n instanceof It.FormData,!(0<=Iw(aI,e))||i||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(c,h){this.g.setRequestHeader(h,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dI(this),0<this.B&&((this.K=function(n){return zc&&ng()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ur(this.pa,this)):this.A=zv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){uI(this,c)}},He.pa=function(){void 0!==eg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xr(this,"complete"),Xr(this,"abort"),Ry(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ry(this,!0)),fr.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?lI(this):this.cb())},He.cb=function(){lI(this)},He.ba=function(){try{return 2<Ou(this)?this.g.status:-1}catch(n){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},He.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),sI(e)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=Cf.prototype).ma=8,He.G=1,He.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},He.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new pf(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=Su(c),Sw(c,this.P)):c=this.P),null===this.o&&(a.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ts(this,a,e),vn(t=Pa(this.F),"RID",n),vn(t,"CVER",22),this.D&&vn(t,"X-HTTP-Session-Id",this.D),Xc(this,t),this.o&&c&&Py(t,this.o,c),lE(this.i,a),this.Ra&&vn(t,"TYPE","init"),this.ja?(vn(t,"$req",e),vn(t,"SID","null"),a.$=!0,xy(a,t,null)):xy(a,t,e),this.G=2}}else 3==this.G&&(n?Jc(this,n):0==this.l.length||RS(this.i)||Jc(this))},He.Ga=function(){if(this.u=null,cd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ff(Ur(this.bb,this),n)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ts(10),Oy(this),cd(this))},He.ab=function(){null!=this.v&&(this.v=null,Oy(this),el(this),ts(19))},He.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ts(2)):(this.h.info("Failed to ping google.com"),ts(1))},(He=mE.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},yg.prototype.g=function(n,e){return new ns(n,e)},Qr(ns,Jr),ns.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Ty(Ur(n.hb,n,e))),ts(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=fd(n,null,n.W),Qc(n)},ns.prototype.close=function(){pE(this.g)},ns.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,no(this.g,e)}else this.v?((e={}).__data__=Iy(n),no(this.g,e)):no(this.g,n)},ns.prototype.M=function(){this.g.j=null,delete this.j,pE(this.g),delete this.g,ns.Z.M.call(this)},Qr(yE,Yv),Qr(_E,Qv),Qr(pd,mE),pd.prototype.xa=function(){Xr(this.g,"a")},pd.prototype.wa=function(n){Xr(this.g,new yE(n))},pd.prototype.va=function(n){Xr(this.g,new _E(n))},pd.prototype.ua=function(){Xr(this.g,"b")},yg.prototype.createWebChannel=yg.prototype.g,ns.prototype.send=ns.prototype.u,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,cg.NO_ERROR=0,cg.TIMEOUT=8,cg.HTTP_ERROR=6,Wv.COMPLETE="complete",xa.EventType=Wc,Wc.OPEN="a",Wc.CLOSE="b",Wc.ERROR="c",Wc.MESSAGE="d",Jr.prototype.listen=Jr.prototype.N,fr.prototype.listenOnce=fr.prototype.O,fr.prototype.getLastError=fr.prototype.La,fr.prototype.getLastErrorCode=fr.prototype.Da,fr.prototype.getStatus=fr.prototype.ba,fr.prototype.getResponseJson=fr.prototype.Qa,fr.prototype.getResponseText=fr.prototype.ga,fr.prototype.send=fr.prototype.ea;var hI=$o.createWebChannelTransport=function(){return new yg},fI=$o.getStatEventTarget=function(){return ag()},vE=$o.ErrorCode=cg,pI=$o.EventType=Wv,LS=$o.Event=xu,gI=$o.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mI=$o.FetchXmlHttpFactory=Oi,ky=$o.WebChannel=xa,c1=$o.XhrIo=fr;const yI="@firebase/firestore";class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let Df="9.6.3";const Nu=new Zc.Yd("@firebase/firestore");function EE(){return Nu.logLevel}function Ne(n,...e){if(Nu.logLevel<=Zc.in.DEBUG){const t=e.map(_I);Nu.debug(`Firestore (${Df}): ${n}`,...t)}}function pr(n,...e){if(Nu.logLevel<=Zc.in.ERROR){const t=e.map(_I);Nu.error(`Firestore (${Df}): ${n}`,...t)}}function Sf(n,...e){if(Nu.logLevel<=Zc.in.WARN){const t=e.map(_I);Nu.warn(`Firestore (${Df}): ${n}`,...t)}}function _I(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${Df}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function gt(n,e){n||tt()}function Le(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Pt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vr.UNAUTHENTICATED))}shutdown(){}}class l1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class d1{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const c=C=>this.i!==a?(a=this.i,t(C)):Promise.resolve();let h=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new gr,e.enqueueRetryable(()=>c(this.currentUser))};const y=()=>{const C=h;e.enqueueRetryable((0,me.Z)(function*(){yield C.promise,yield c(i.currentUser)}))},b=C=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(C=>b(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?b(C):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new gr)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt("string"==typeof i.accessToken),new Fy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new Vr(e)}}class h1{constructor(e,t,i){this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class jS{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new h1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f1{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=a=>{e.enqueueRetryable(()=>{return null!=(c=a).error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`),t(c.token);var c})};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt("string"==typeof t.token),new bE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Br{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.p(i),this.T=i=>t.writeSequenceNumber(i))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function $S(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}Br.I=-1;class wE{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=$S(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<t&&(i+=e.charAt(a[c]%e.length))}return i}}function Bt(n,e){return n<e?-1:n>e?1:0}function gd(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}function _g(n){return n+"\0"}class jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new jr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new jr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function vI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function md(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vg{constructor(e,t,i){void 0===t?t=0:t>e.length&&tt(),void 0===i?i=e.length-t:i>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===vg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const c=e.get(a),h=t.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends vg{construct(e,t,i){return new tn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Pe(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const bI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ei extends vg{construct(e,t,i){return new ei(e,t,i)}static isValidIdentifier(e){return bI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ei(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const c=()=>{if(0===i.length)throw new Pe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;a<e.length;){const y=e[a];if("\\"===y){if(a+1===e.length)throw new Pe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[a+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Pe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=b,a+=2}else"`"===y?(h=!h,a++):"."!==y||h?(i+=y,a++):(c(),a++)}if(c(),h)throw new Pe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ei(t)}static emptyPath(){return new ei([])}}class yd{constructor(e){this.fields=e,e.sort(ei.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new tr(t)}static fromUint8Array(e){const t=function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const g1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(n){if(gt(!!n),"string"==typeof n){let e=0;const t=g1.exec(n);if(gt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mr(n.seconds),nanos:mr(n.nanos)}}function mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Eg(n){return"string"==typeof n?tr.fromBase64String(n):tr.fromUint8Array(n)}function _d(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function II(n){const e=n.mapValue.fields.__previous_value__;return _d(e)?II(e):e}function vd(n){const e=Ma(n.mapValue.fields.__local_write_time__.timestampValue);return new jr(e.seconds,e.nanos)}function ku(n){return null==n}function Ly(n){return 0===n&&1/n==-1/0}function Uy(n){return"number"==typeof n&&Number.isInteger(n)&&!Ly(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(tn.fromString(e))}static fromName(e){return new Ye(tn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new tn(e.slice()))}}function nl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_d(n)?4:10:tt()}function Fu(n,e){if(n===e)return!0;const t=nl(n);if(t!==nl(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vd(n).isEqual(vd(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=Ma(i.timestampValue),h=Ma(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Eg(n.bytesValue).isEqual(Eg(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return mr(i.geoPointValue.latitude)===mr(a.geoPointValue.latitude)&&mr(i.geoPointValue.longitude)===mr(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return mr(i.integerValue)===mr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=mr(i.doubleValue),h=mr(a.doubleValue);return c===h?Ly(c)===Ly(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return gd(n.arrayValue.values||[],e.arrayValue.values||[],Fu);case 10:return function(i,a){const c=i.mapValue.fields||{},h=a.mapValue.fields||{};if(vI(c)!==vI(h))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(void 0===h[y]||!Fu(c[y],h[y])))return!1;return!0}(n,e);default:return tt()}var a}function bg(n,e){return void 0!==(n.values||[]).find(t=>Fu(t,e))}function Ed(n,e){if(n===e)return 0;const t=nl(n),i=nl(e);if(t!==i)return Bt(t,i);switch(t){case 0:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=mr(a.integerValue||a.doubleValue),y=mr(c.integerValue||c.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1}(n,e);case 3:return IE(n.timestampValue,e.timestampValue);case 4:return IE(vd(n),vd(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(a,c){const h=Eg(a),y=Eg(c);return h.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),y=c.split("/");for(let b=0;b<h.length&&b<y.length;b++){const C=Bt(h[b],y[b]);if(0!==C)return C}return Bt(h.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=Bt(mr(a.latitude),mr(c.latitude));return 0!==h?h:Bt(mr(a.longitude),mr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const h=a.values||[],y=c.values||[];for(let b=0;b<h.length&&b<y.length;++b){const C=Ed(h[b],y[b]);if(C)return C}return Bt(h.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){const h=a.fields||{},y=Object.keys(h),b=c.fields||{},C=Object.keys(b);y.sort(),C.sort();for(let R=0;R<y.length&&R<C.length;++R){const O=Bt(y[R],C[R]);if(0!==O)return O;const j=Ed(h[y[R]],b[C[R]]);if(0!==j)return j}return Bt(y.length,C.length)}(n.mapValue,e.mapValue);default:throw tt()}}function IE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=Ma(n),i=Ma(e),a=Bt(t.seconds,i.seconds);return 0!==a?a:Bt(t.nanos,i.nanos)}function TE(n){return CE(n)}function CE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=Ma(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Eg(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let a="[",c=!0;for(const h of i.values||[])c?c=!1:a+=",",a+=CE(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let c="{",h=!0;for(const y of a)h?h=!1:c+=",",c+=`${y}:${CE(i.fields[y])}`;return c+"}"}(n.mapValue):tt();var e}function Af(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vy(n){return!!n&&"integerValue"in n}function wg(n){return!!n&&"arrayValue"in n}function By(n){return!!n&&"nullValue"in n}function DE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jy(n){return!!n&&"mapValue"in n}function xf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return md(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=xf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!jy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xf(t)}setAll(e){let t=ei.emptyPath(),i={},a=[];e.forEach((h,y)=>{if(!t.isImmediateParentOf(y)){const b=this.getFieldsMap(t);this.applyChanges(b,i,a),i={},a=[],t=y.popLast()}h?i[y.lastSegment()]=xf(h):a.push(y.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,a)}delete(e){const t=this.field(e.popLast());jy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];jy(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){md(t,(a,c)=>e[a]=c);for(const a of i)delete e[a]}clone(){return new ti(xf(this.value))}}function $y(n){const e=[];return md(n.fields,(t,i)=>{const a=new ei([t]);if(jy(i)){const c=$y(i.mapValue).fields;if(0===c.length)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)}),new yd(e)}class Sn{constructor(e,t,i,a,c){this.key=e,this.documentType=t,this.version=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Sn(e,0,Et.min(),ti.empty(),0)}static newFoundDocument(e,t,i){return new Sn(e,1,t,i,0)}static newNoDocument(e,t){return new Sn(e,2,t,ti.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,ti.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class HS{constructor(e,t=null,i=[],a=[],c=null,h=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=h,this.endAt=y,this.R=null}}function TI(n,e=null,t=[],i=[],a=null,c=null,h=null){return new HS(n,e,t,i,a,c,h)}function Ig(n){const e=Le(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+TE(n.value)}(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),ku(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Hy(e.startAt)),e.endAt&&(t+="|ub:",t+=Hy(e.endAt)),e.R=t}return e.R}function Rf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!RI(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(i=e.filters[a]).op||!t.field.isEqual(i.field)||!Fu(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OI(n.startAt,e.startAt)&&OI(n.endAt,e.endAt)}function Tg(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class yi extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,i):new DI(e,t,i):"array-contains"===t?new xI(e,i):"in"===t?new m1(e,i):"not-in"===t?new qS(e,i):"array-contains-any"===t?new ZS(e,i):new yi(e,t,i)}static P(e,t,i){return"in"===t?new SI(e,i):new AI(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ed(t,this.value)):null!==t&&nl(this.value)===nl(t)&&this.v(Ed(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class DI extends yi{constructor(e,t,i){super(e,t,i),this.key=Ye.fromName(i.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.v(t)}}class SI extends yi{constructor(e,t){super(e,"in",t),this.keys=AE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AI extends yi{constructor(e,t){super(e,"not-in",t),this.keys=AE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ye.fromName(i.referenceValue))}class xI extends yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wg(t)&&bg(t.arrayValue,this.value)}}class m1 extends yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bg(this.value.arrayValue,t)}}class qS extends yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bg(this.value.arrayValue,t)}}class ZS extends yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>bg(this.value.arrayValue,i))}}class Pf{constructor(e,t){this.position=e,this.before=t}}function Hy(n){return`${n.before?"b":"a"}:${n.position.map(e=>TE(e)).join(",")}`}class Nn{constructor(e,t="asc"){this.field=e,this.dir=t}}function RI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function PI(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const c=e[a],h=n.position[a];if(i=c.field.isKeyField()?Ye.comparator(Ye.fromName(h.referenceValue),t.key):Ed(h,t.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function OI(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fu(n.position[t],e.position[t]))return!1;return!0}class Na{constructor(e,t=null,i=[],a=[],c=null,h="F",y=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=h,this.startAt=y,this.endAt=b,this.S=null,this.D=null}}function MI(n,e,t,i,a,c,h,y){return new Na(n,e,t,i,a,c,h,y)}function bd(n){return new Na(n)}function Cg(n){return!ku(n.limit)&&"F"===n.limitType}function Lu(n){return!ku(n.limit)&&"L"===n.limitType}function xE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function RE(n){for(const e of n.filters)if(e.V())return e.field;return null}function qy(n){return null!==n.collectionGroup}function Of(n){const e=Le(n);if(null===e.S){e.S=[];const t=RE(e),i=xE(e);if(null!==t&&null===i)t.isKeyField()||e.S.push(new Nn(t)),e.S.push(new Nn(ei.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.S.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Nn(ei.keyField(),c))}}}return e.S}function Cs(n){const e=Le(n);if(!e.D)if("F"===e.limitType)e.D=TI(e.path,e.collectionGroup,Of(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Of(e))t.push(new Nn(c.field,"desc"===c.dir?"asc":"desc"));const i=e.endAt?new Pf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Pf(e.startAt.position,!e.startAt.before):null;e.D=TI(e.path,e.collectionGroup,t,e.filters,e.limit,i,a)}return e.D}function zS(n,e,t){return new Na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mf(n,e){return Rf(Cs(n),Cs(e))&&n.limitType===e.limitType}function PE(n){return`${Ig(Cs(n))}|lt:${n.limitType}`}function io(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${TE(i.value)}`;var i}).join(", ")}]`),ku(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Hy(n.startAt)),n.endAt&&(e+=", endAt: "+Hy(n.endAt)),`Target(${e})`}(Cs(n))}; limitType=${n.limitType})`}function Dg(n,e){return e.isFoundDocument()&&function(t,i){const a=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Ye.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,i){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,e)&&function(t,i){for(const a of t.filters)if(!a.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!PI(t.startAt,Of(t),i)||t.endAt&&PI(t.endAt,Of(t),i)));var t,i}function NI(n){return(e,t)=>{let i=!1;for(const a of Of(n)){const c=ka(a,e,t);if(0!==c)return c;i=i||a.field.isKeyField()}return 0}}function ka(n,e,t){const i=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(a,c,h){const y=c.data.field(a),b=h.data.field(a);return null!==y&&null!==b?Ed(y,b):tt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return tt()}}function so(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ly(e)?"-0":e}}function oo(n){return{integerValue:""+n}}function OE(n,e){return Uy(e)?oo(e):so(n,e)}class Sg{constructor(){this._=void 0}}function GS(n,e,t){return n instanceof Nf?function(i,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Uu?kf(n,e):n instanceof wd?ME(n,e):function(i,a){const c=kI(i,a),h=NE(c)+NE(i.N);return Vy(c)&&Vy(i.N)?oo(h):so(i.k,h)}(n,e)}function WS(n,e,t){return n instanceof Uu?kf(n,e):n instanceof wd?ME(n,e):t}function kI(n,e){return n instanceof Ff?Vy(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Nf extends Sg{}class Uu extends Sg{constructor(e){super(),this.elements=e}}function kf(n,e){const t=kE(e);for(const i of n.elements)t.some(a=>Fu(a,i))||t.push(i);return{arrayValue:{values:t}}}class wd extends Sg{constructor(e){super(),this.elements=e}}function ME(n,e){let t=kE(e);for(const i of n.elements)t=t.filter(a=>!Fu(a,i));return{arrayValue:{values:t}}}class Ff extends Sg{constructor(e,t){super(),this.k=e,this.N=t}}function NE(n){return mr(n.integerValue||n.doubleValue)}function kE(n){return wg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rl{constructor(e,t){this.field=e,this.transform=t}}class FI{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Uf{}function LI(n,e,t){n instanceof Vf?function(i,a,c){const h=i.value.clone(),y=VI(i.fieldTransforms,a,c.transformResults);h.setAll(y),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Vu?function(i,a,c){if(!Lf(i.precondition,a))return void a.convertToUnknownDocument(c.version);const h=VI(i.fieldTransforms,a,c.transformResults),y=a.data;y.setAll(UE(i)),y.setAll(h),a.convertToFoundDocument(c.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zy(n,e,t){var a;n instanceof Vf?function(i,a,c){if(!Lf(i.precondition,a))return;const h=i.value.clone(),y=BI(i.fieldTransforms,c,a);h.setAll(y),a.convertToFoundDocument(LE(a),h).setHasLocalMutations()}(n,e,t):n instanceof Vu?function(i,a,c){if(!Lf(i.precondition,a))return;const h=BI(i.fieldTransforms,c,a),y=a.data;y.setAll(UE(i)),y.setAll(h),a.convertToFoundDocument(LE(a),y).setHasLocalMutations()}(n,e,t):Lf(n.precondition,a=e)&&a.convertToNoDocument(Et.min())}function UI(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),c=kI(i.transform,a||null);null!=c&&(null==t&&(t=ti.empty()),t.set(i.field,c))}return t||null}function FE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&gd(t,i,(a,c)=>function(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Uu&&i instanceof Uu||t instanceof wd&&i instanceof wd?gd(t.elements,i.elements,Fu):t instanceof Ff&&i instanceof Ff?Fu(t.N,i.N):t instanceof Nf&&i instanceof Nf);var t,i}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function LE(n){return n.isFoundDocument()?n.version:Et.min()}class Vf extends Uf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}}class Vu extends Uf{constructor(e,t,i,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}}function UE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function VI(n,e,t){const i=new Map;gt(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],h=c.transform,y=e.data.field(c.field);i.set(c.field,WS(h,y,t[a]))}return i}function BI(n,e,t){const i=new Map;for(const a of n){const c=a.transform,h=t.data.field(a.field);i.set(a.field,GS(c,h,e))}return i}class Ag extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class VE extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class YS{constructor(e){this.count=e}}var yr,zt;function jI(n){switch(n){default:return tt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function $I(n){if(void 0===n)return pr("GRPC error has no .code"),de.UNKNOWN;switch(n){case yr.OK:return de.OK;case yr.CANCELLED:return de.CANCELLED;case yr.UNKNOWN:return de.UNKNOWN;case yr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case yr.INTERNAL:return de.INTERNAL;case yr.UNAVAILABLE:return de.UNAVAILABLE;case yr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case yr.NOT_FOUND:return de.NOT_FOUND;case yr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case yr.ABORTED:return de.ABORTED;case yr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case yr.DATA_LOSS:return de.DATA_LOSS;default:return tt()}}(zt=yr||(yr={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";class Sr{constructor(e,t){this.comparator=e,this.root=t||ni.EMPTY}insert(e,t){return new Sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new Sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zy(this.root,e,this.comparator,!1)}getReverseIterator(){return new zy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zy(this.root,e,this.comparator,!0)}}class zy{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,t,i,a,c){this.key=e,this.value=t,this.color=null!=i?i:ni.RED,this.left=null!=a?a:ni.EMPTY,this.right=null!=c?c:ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,c){return new ni(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ni.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1,ni.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,i,a){return this}insert(n,e,t){return new ni(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zn{constructor(e){this.comparator=e,this.data=new Sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HI(this.data.getIterator())}getIteratorFrom(e){return new HI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zn(this.comparator);return t.data=e,t}}class HI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const QS=new Sr(Ye.comparator);function ao(){return QS}const JS=new Sr(Ye.comparator);function BE(){return JS}const qI=new Sr(Ye.comparator);function jE(){return qI}const ZI=new zn(Ye.comparator);function rn(...n){let e=ZI;for(const t of n)e=e.add(t);return e}const zI=new zn(Bt);function xg(){return zI}class Bf{constructor(e,t,i,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,jf.createSynthesizedTargetChangeForCurrentChange(e,t)),new Bf(Et.min(),i,xg(),ao(),rn())}}class jf{constructor(e,t,i,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new jf(tr.EMPTY_BYTE_STRING,t,rn(),rn(),rn())}}class Rg{constructor(e,t,i,a){this.$=e,this.removedTargetIds=t,this.key=i,this.O=a}}class Gy{constructor(e,t){this.targetId=e,this.M=t}}class $E{constructor(e,t,i=tr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class il{constructor(){this.F=0,this.L=Id(),this.B=tr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=rn(),t=rn(),i=rn();return this.L.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:tt()}}),new jf(this.B,this.U,e,t,i)}H(){this.q=!1,this.L=Id()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class XS{constructor(e){this.et=e,this.nt=new Map,this.st=ao(),this.it=GI(),this.rt=new zn(Bt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const i=this.ht(t);switch(e.state){case 0:this.lt(t)&&i.W(e.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(e.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(t);break;case 3:this.lt(t)&&(i.tt(),i.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),i.W(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((i,a)=>{this.lt(a)&&t(a)})}dt(e){const t=e.targetId,i=e.M.count,a=this.wt(t);if(a){const c=a.target;if(Tg(c))if(0===i){const h=new Ye(c.path);this.at(t,h,Sn.newNoDocument(h,Et.min()))}else gt(1===i);else this._t(t)!==i&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((c,h)=>{const y=this.wt(h);if(y){if(c.current&&Tg(y.target)){const b=new Ye(y.target.path);null!==this.st.get(b)||this.yt(h,b)||this.at(h,b,Sn.newNoDocument(b,e))}c.j&&(t.set(h,c.G()),c.H())}});let i=rn();this.it.forEach((c,h)=>{let y=!0;h.forEachWhile(b=>{const C=this.wt(b);return!C||2===C.purpose||(y=!1,!1)}),y&&(i=i.add(c))});const a=new Bf(e,t,this.rt,this.st,i);return this.st=ao(),this.it=GI(),this.rt=new zn(Bt),a}ct(e,t){if(!this.lt(e))return;const i=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,i),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,i){if(!this.lt(e))return;const a=this.ht(e);this.yt(e,t)?a.J(t,1):a.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),i&&(this.st=this.st.insert(t,i))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new il,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new zn(Bt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new il),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function GI(){return new Sr(Ye.comparator)}function Id(){return new Sr(Ye.comparator)}const y1={asc:"ASCENDING",desc:"DESCENDING"},HE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _1{constructor(e,t){this.databaseId=e,this.C=t}}function $f(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qE(n,e){return n.C?e.toBase64():e.toUint8Array()}function v1(n,e){return $f(n,e.toTimestamp())}function $e(n){return gt(!!n),Et.fromTimestamp(function(e){const t=Ma(e);return new jr(t.seconds,t.nanos)}(n))}function ZE(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function WI(n){const e=tn.fromString(n);return gt(qf(e)),e}function Pg(n,e){return ZE(n.databaseId,e.path)}function Ds(n,e){const t=WI(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(Bn(t))}function zE(n,e){return ZE(n.databaseId,e)}function Og(n){const e=WI(n);return 4===e.length?tn.emptyPath():Bn(e)}function sl(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Bn(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function eA(n,e,t){return{name:Pg(n,e),fields:t.value.mapValue.fields}}function GE(n,e,t){const i=Ds(n,e.name),a=$e(e.updateTime),c=new ti({mapValue:{fields:e.fields}}),h=Sn.newFoundDocument(i,a,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Mg(n,e){let t;if(e instanceof Vf)t={update:eA(n,e.key,e.value)};else if(e instanceof Ag)t={delete:Pg(n,e.key)};else if(e instanceof Vu)t={update:eA(n,e.key,e.data),updateMask:Ng(e.fieldMask)};else{if(!(e instanceof VE))return tt();t={verify:Pg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof Nf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Uu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof wd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ff)return{fieldPath:c.field.canonicalString(),increment:h.N};throw tt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:v1(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:tt()),t;var a}function KE(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?nr.updateTime($e(a.updateTime)):void 0!==a.exists?nr.exists(a.exists):nr.none():nr.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(c,h){let y=null;"setToServerValue"in h?(gt("REQUEST_TIME"===h.setToServerValue),y=new Nf):"appendMissingElements"in h?y=new Uu(h.appendMissingElements.values||[]):"removeAllFromArray"in h?y=new wd(h.removeAllFromArray.values||[]):"increment"in h?y=new Ff(c,h.increment):tt();const b=ei.fromServerFormat(h.fieldPath);return new rl(b,y)}(n,a)):[];var a;if(e.update){const a=Ds(n,e.update.name),c=new ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new yd((e.updateMask.fieldPaths||[]).map(C=>ei.fromServerFormat(C)));return new Vu(a,c,h,t,i)}return new Vf(a,c,t,i)}if(e.delete){const a=Ds(n,e.delete);return new Ag(a,t)}if(e.verify){const a=Ds(n,e.verify);return new VE(a,t)}return tt()}function YE(n,e){return{documents:[zE(n,e.path)]}}function YI(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=zE(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zE(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(y){if(0===y.length)return;const b=y.map(C=>function(R){if("=="===R.op){if(DE(R.value))return{unaryFilter:{field:Td(R.field),op:"IS_NAN"}};if(By(R.value))return{unaryFilter:{field:Td(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(DE(R.value))return{unaryFilter:{field:Td(R.field),op:"IS_NOT_NAN"}};if(By(R.value))return{unaryFilter:{field:Td(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Td(R.field),op:Wy(R.op),value:R.value}}}(C));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(0!==y.length)return y.map(b=>{return{field:Td((C=b).field),direction:rA(C.dir)};var C})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=(b=e.limit,n.C||ku(b)?b:{value:b});var b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=JI(e.startAt)),e.endAt&&(t.structuredQuery.endAt=JI(e.endAt)),t}function QI(n){let e=Og(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){gt(1===i);const R=t.from[0];R.allDescendants?a=R.collectionId:e=e.child(R.collectionId)}let c=[];t.where&&(c=Hf(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(R=>{return new Nn(Cd((O=R).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let y=null;t.limit&&(y=function(R){let O;return O="object"==typeof R?R.value:R,ku(O)?null:O}(t.limit));let b=null;t.startAt&&(b=XI(t.startAt));let C=null;return t.endAt&&(C=XI(t.endAt)),MI(e,a,h,c,y,"F",b,C)}function Hf(n){return n?void 0!==n.unaryFilter?[iA(n)]:void 0!==n.fieldFilter?[eT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Hf(e)).reduce((e,t)=>e.concat(t)):tt():[]}function JI(n){return{before:n.before,values:n.position}}function XI(n){return new Pf(n.values||[],!!n.before)}function rA(n){return y1[n]}function Wy(n){return HE[n]}function Td(n){return{fieldPath:n.canonicalString()}}function Cd(n){return ei.fromServerFormat(n.fieldPath)}function eT(n){return yi.create(Cd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function iA(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Cd(n.unaryFilter.field);return yi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Cd(n.unaryFilter.field);return yi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Cd(n.unaryFilter.field);return yi.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cd(n.unaryFilter.field);return yi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function Ng(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qf(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ho(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tT(e)),e=sA(n.get(t),e);return tT(e)}function sA(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const c=n.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function tT(n){return n+"\x01\x01"}function Fa(n){const e=n.length;if(gt(e>=2),2===e)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,i=[];let a="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&tt(),n.charAt(h+1)){case"\x01":const y=n.substring(c,h);let b;0===a.length?b=y:(a+=y,b=a,a=""),i.push(b);break;case"\x10":a+=n.substring(c,h),a+="\0";break;case"\x11":a+=n.substring(c,h+1);break;default:tt()}c=h+2}return new tn(i)}class nT{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class rs{constructor(e,t,i){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=i}}rs.store="owner",rs.key="owner";class ol{constructor(e,t,i){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=i}}ol.store="mutationQueues",ol.keyPath="userId";class En{constructor(e,t,i,a,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=i,this.baseMutations=a,this.mutations=c}}En.store="mutations",En.keyPath="batchId",En.userMutationsIndex="userMutationsIndex",En.userMutationsKeyPath=["userId","batchId"];class _i{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Ho(t)]}static key(e,t,i){return[e,Ho(t),i]}}_i.store="documentMutations",_i.PLACEHOLDER=new _i;class oA{constructor(e,t){this.path=e,this.readTime=t}}class E1{constructor(e,t){this.path=e,this.version=t}}class rr{constructor(e,t,i,a,c,h){this.unknownDocument=e,this.noDocument=t,this.document=i,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=h}}rr.store="remoteDocuments",rr.readTimeIndex="readTimeIndex",rr.readTimeIndexPath="readTime",rr.collectionReadTimeIndex="collectionReadTimeIndex",rr.collectionReadTimeIndexPath=["parentPath","readTime"];class Bu{constructor(e){this.byteSize=e}}Bu.store="remoteDocumentGlobal",Bu.key="remoteDocumentGlobalKey";class Ss{constructor(e,t,i,a,c,h,y){this.targetId=e,this.canonicalId=t,this.readTime=i,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=h,this.query=y}}Ss.store="targets",Ss.keyPath="targetId",Ss.queryTargetsIndexName="queryTargetsIndex",Ss.queryTargetsKeyPath=["canonicalId","targetId"];class $r{constructor(e,t,i){this.targetId=e,this.path=t,this.sequenceNumber=i}}$r.store="targetDocuments",$r.keyPath=["targetId","path"],$r.documentTargetsIndex="documentTargetsIndex",$r.documentTargetsKeyPath=["path","targetId"];class vi{constructor(e,t,i,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=i,this.targetCount=a}}vi.key="targetGlobalKey",vi.store="targetGlobal";class Dd{constructor(e,t){this.collectionId=e,this.parent=t}}Dd.store="collectionParents",Dd.keyPath=["collectionId","parent"];class ju{constructor(e,t,i,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=i,this.inForeground=a}}ju.store="clientMetadata",ju.keyPath="clientId";class Sd{constructor(e,t,i){this.bundleId=e,this.createTime=t,this.version=i}}Sd.store="bundles",Sd.keyPath="bundleId";class La{constructor(e,t,i){this.name=e,this.readTime=t,this.bundledQuery=i}}La.store="namedQueries",La.keyPath="name";const aA=[ol.store,En.store,_i.store,rr.store,Ss.store,rs.store,vi.store,$r.store,ju.store,Bu.store,Dd.store,Sd.store,La.store],rT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xe((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof xe?t:xe.resolve(t)}catch(t){return xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.reject(t)}static resolve(e){return new xe((t,i)=>{t(e)})}static reject(e){return new xe((t,i)=>{i(e)})}static waitFor(e){return new xe((t,i)=>{let a=0,c=0,h=!1;e.forEach(y=>{++a,y.next(()=>{++c,h&&c===a&&t()},b=>i(b))}),h=!0,c===a&&t()})}static or(e){let t=xe.resolve(!1);for(const i of e)t=t.next(a=>a?xe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,c)=>{i.push(t.call(this,a,c))}),this.waitFor(i)}}class Ky{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new gr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new kg(e,t.error)):this.It.resolve()},this.transaction.onerror=i=>{const a=Yy(i.target.error);this.It.reject(new kg(e,a))}}static open(e,t,i,a){try{return new Ky(t,e.transaction(a,i))}catch(c){throw new kg(t,c)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new cA(t)}}class uo{constructor(e,t,i){this.name=e,this.version=t,this.Rt=i,12.2===uo.bt((0,Pt.z$)())&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),al(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Pt.hl)())return!1;if(uo.vt())return!0;const e=(0,Pt.z$)(),t=uo.bt(e),i=0<t&&t<10,a=uo.Vt(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||c)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(e){var t=this;return(0,me.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{i(h.target.result)},c.onblocked=()=>{a(new kg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const y=h.target.error;a("VersionError"===y.name?new Pe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new Pe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new kg(e,y))},c.onupgradeneeded=h=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=i=>t.kt(i)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,a){var c=this;return(0,me.Z)(function*(){const h="readonly"===t;let y=0;for(;;){++y;try{c.db=yield c.Ct(e);const b=Ky.open(c.db,e,h?"readonly":"readwrite",i),C=a(b).catch(R=>(b.abort(R),xe.reject(R))).toPromise();return C.catch(()=>{}),yield b.At,C}catch(b){const C="FirebaseError"!==b.name&&y<3;if(Ne("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),c.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class uA{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return al(this.$t.delete())}}class kg extends Pe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function co(n){return"IndexedDbTransactionError"===n.name}class cA{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),al(i)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),al(this.store.add(e))}get(e){return al(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),al(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),al(this.store.count())}Bt(e,t){const i=this.cursor(this.options(e,t)),a=[];return this.Ut(i,(c,h)=>{a.push(h)}).next(()=>a)}qt(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Kt=!1;const a=this.cursor(i);return this.Ut(a,(c,h,y)=>y.delete())}jt(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.Ut(a,t)}Qt(e){const t=this.cursor({});return new xe((i,a)=>{t.onerror=c=>{const h=Yy(c.target.error);a(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(y=>{y?h.continue():i()}):i()}})}Ut(e,t){const i=[];return new xe((a,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const y=h.target.result;if(!y)return void a();const b=new uA(y),C=t(y.primaryKey,y.value,b);if(C instanceof xe){const R=C.catch(O=>(b.done(),xe.reject(O)));i.push(R)}b.isDone?a():null===b.Ft?y.continue():y.continue(b.Ft)}}).next(()=>xe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Kt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function al(n){return new xe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const a=Yy(i.target.error);t(a)}})}let sT=!1;function Yy(n){const e=uo.bt((0,Pt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sT||(sT=!0,setTimeout(()=>{throw i},0)),i}}return n}class oT extends iT{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Ni(n,e){const t=Le(n);return uo.Dt(t.Wt,e)}class QE{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&LI(c,e,i[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Zy(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Zy(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),a=i;this.applyToLocalView(a),i.isValidDocument()||a.convertToNoDocument(Et.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&gd(this.mutations,e.mutations,(t,i)=>FE(t,i))&&gd(this.baseMutations,e.baseMutations,(t,i)=>FE(t,i))}}class Fg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){gt(e.mutations.length===i.length);let a=jE();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,i[h].version);return new Fg(e,t,i,a)}}class ul{constructor(e,t,i,a,c=Et.min(),h=Et.min(),y=tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=y}withSequenceNumber(e){return new ul(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class JE{constructor(e){this.Gt=e}}function Qy(n,e){if(e.document)return GE(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Ye.fromSegments(e.noDocument.path),i=Zf(e.noDocument.readTime),a=Sn.newNoDocument(t,i);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=Ye.fromSegments(e.unknownDocument.path),i=Zf(e.unknownDocument.version);return Sn.newUnknownDocument(t,i)}return tt()}function aT(n,e,t){const i=XE(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:Pg(y=n.Gt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:$f(y,b.version.toTimestamp())};return new rr(null,null,c,e.hasCommittedMutations,i,a)}var y,b;if(e.isNoDocument()){const c=e.key.path.toArray(),h=cl(e.version),y=e.hasCommittedMutations;return new rr(null,new oA(c,h),null,y,i,a)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),h=cl(e.version);return new rr(new E1(c,h),null,null,!0,i,a)}return tt()}function XE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function uT(n){const e=new jr(n[0],n[1]);return Et.fromTimestamp(e)}function cl(n){const e=n.toTimestamp();return new nT(e.seconds,e.nanoseconds)}function Zf(n){const e=new jr(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function Ad(n,e){const t=(e.baseMutations||[]).map(c=>KE(n.Gt,c));for(let c=0;c<e.mutations.length-1;++c){const h=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(h.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const i=e.mutations.map(c=>KE(n.Gt,c)),a=jr.fromMillis(e.localWriteTimeMs);return new QE(e.batchId,a,t,i)}function Lg(n){const e=Zf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Zf(n.lastLimboFreeSnapshotVersion):Et.min();let i;var a;return void 0!==n.query.documents?(gt(1===(a=n.query).documents.length),i=Cs(bd(Og(a.documents[0])))):i=Cs(QI(n.query)),new ul(i,n.targetId,0,n.lastListenSequenceNumber,e,t,tr.fromBase64String(n.resumeToken))}function cT(n,e){const t=cl(e.snapshotVersion),i=cl(e.lastLimboFreeSnapshotVersion);let a;a=Tg(e.target)?YE(n.Gt,e.target):YI(n.Gt,e.target);const c=e.resumeToken.toBase64();return new Ss(e.targetId,Ig(e.target),t,c,e.sequenceNumber,i,a)}function e0(n){const e=QI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zS(e,e.limit,"L"):e}class lA{getBundleMetadata(e,t){return lT(e).get(t).next(i=>{if(i)return{id:(a=i).bundleId,createTime:Zf(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return lT(e).put({bundleId:(i=t).id,createTime:cl($e(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return dT(e).get(t).next(i=>{if(i)return{name:(a=i).name,query:e0(a.bundledQuery),readTime:Zf(a.readTime)};var a})}saveNamedQuery(e,t){return dT(e).put({name:(i=t).name,readTime:cl($e(i.readTime)),bundledQuery:i.bundledQuery});var i}}function lT(n){return Ni(n,Sd.store)}function dT(n){return Ni(n,La.store)}class dA{constructor(){this.zt=new t0}addToCollectionParentIndex(e,t){return this.zt.add(t),xe.resolve()}getCollectionParents(e,t){return xe.resolve(this.zt.getEntries(t))}}class t0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new zn(tn.comparator),c=!a.has(i);return this.index[t]=a.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zn(tn.comparator)).toArray()}}class hT{constructor(){this.Ht=new t0}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const c={collectionId:i,parent:Ho(a)};return n0(e).put(c)}return xe.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[_g(t),""],!1,!0);return n0(e).Bt(a).next(c=>{for(const h of c){if(h.collectionId!==t)break;i.push(Fa(h.parent))}return i})}}function n0(n){return Ni(n,Dd.store)}const fT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class is{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new is(e,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function r0(n,e,t){const i=n.store(En.store),a=n.store(_i.store),c=[],h=IDBKeyRange.only(t.batchId);let y=0;const b=i.jt({range:h},(R,O,j)=>(y++,j.delete()));c.push(b.next(()=>{gt(1===y)}));const C=[];for(const R of t.mutations){const O=_i.key(e,R.key.path,t.batchId);c.push(a.delete(O)),C.push(R.key)}return xe.waitFor(c).next(()=>C)}function Jy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}is.DEFAULT_COLLECTION_PERCENTILE=10,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,is.DEFAULT=new is(41943040,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),is.DISABLED=new is(-1,0,0);class s0{constructor(e,t,i,a){this.userId=e,this.k=t,this.Jt=i,this.referenceDelegate=a,this.Yt={}}static Xt(e,t,i,a){gt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new s0(c,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ua(e).jt({index:En.userMutationsIndex,range:i},(a,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const c=ll(e),h=Ua(e);return h.add({}).next(y=>{gt("number"==typeof y);const b=new QE(y,t,i,a),C=function(j,G,X){const ve=X.baseMutations.map(rt=>Mg(j.Gt,rt)),Oe=X.mutations.map(rt=>Mg(j.Gt,rt));return new En(G,X.batchId,X.localWriteTime.toMillis(),ve,Oe)}(this.k,this.userId,b),R=[];let O=new zn((j,G)=>Bt(j.canonicalString(),G.canonicalString()));for(const j of a){const G=_i.key(this.userId,j.key.path,y);O=O.add(j.key.path.popLast()),R.push(h.put(C)),R.push(c.put(G,_i.PLACEHOLDER))}return O.forEach(j=>{R.push(this.Jt.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.Yt[y]=b.keys()}),xe.waitFor(R).next(()=>b)})}lookupMutationBatch(e,t){return Ua(e).get(t).next(i=>i?(gt(i.userId===this.userId),Ad(this.k,i)):null)}Zt(e,t){return this.Yt[t]?xe.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.Yt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let c=null;return Ua(e).jt({index:En.userMutationsIndex,range:a},(h,y,b)=>{y.userId===this.userId&&(gt(y.batchId>=i),c=Ad(this.k,y)),b.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ua(e).jt({index:En.userMutationsIndex,range:t,reverse:!0},(a,c,h)=>{i=c.batchId,h.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ua(e).Bt(En.userMutationsIndex,t).next(i=>i.map(a=>Ad(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=_i.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(i),c=[];return ll(e).jt({range:a},(h,y,b)=>{const[C,R,O]=h,j=Fa(R);if(C===this.userId&&t.path.isEqual(j))return Ua(e).get(O).next(G=>{if(!G)throw tt();gt(G.userId===this.userId),c.push(Ad(this.k,G))});b.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zn(Bt);const a=[];return t.forEach(c=>{const h=_i.prefixForPath(this.userId,c.path),y=IDBKeyRange.lowerBound(h),b=ll(e).jt({range:y},(C,R,O)=>{const[j,G,X]=C,ve=Fa(G);j===this.userId&&c.path.isEqual(ve)?i=i.add(X):O.done()});a.push(b)}),xe.waitFor(a).next(()=>this.te(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,c=_i.prefixForPath(this.userId,i),h=IDBKeyRange.lowerBound(c);let y=new zn(Bt);return ll(e).jt({range:h},(b,C,R)=>{const[O,j,G]=b,X=Fa(j);O===this.userId&&i.isPrefixOf(X)?X.length===a&&(y=y.add(G)):R.done()}).next(()=>this.te(e,y))}te(e,t){const i=[],a=[];return t.forEach(c=>{a.push(Ua(e).get(c).next(h=>{if(null===h)throw tt();gt(h.userId===this.userId),i.push(Ad(this.k,h))}))}),xe.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return r0(e.Wt,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),xe.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return xe.resolve();const i=IDBKeyRange.lowerBound(_i.prefixForUser(this.userId)),a=[];return ll(e).jt({range:i},(c,h,y)=>{if(c[0]===this.userId){const b=Fa(c[1]);a.push(b)}else y.done()}).next(()=>{gt(0===a.length)})})}containsKey(e,t){return pT(e,this.userId,t)}ne(e){return o0(e).get(this.userId).next(t=>t||new ol(this.userId,-1,""))}}function pT(n,e,t){const i=_i.prefixForPath(e,t.path),a=i[1],c=IDBKeyRange.lowerBound(i);let h=!1;return ll(n).jt({range:c,Kt:!0},(y,b,C)=>{const[R,O,j]=y;R===e&&O===a&&(h=!0),C.done()}).next(()=>h)}function Ua(n){return Ni(n,En.store)}function ll(n){return Ni(n,_i.store)}function o0(n){return Ni(n,ol.store)}class $u{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new $u(0)}static re(){return new $u(-1)}}class hA{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const i=new $u(t.highestTargetId);return t.highestTargetId=i.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Et.fromTimestamp(new jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.oe(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.ce(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(i=>(i.targetCount+=1,this.ue(t,i),this.ce(e,i))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zf(e).delete(t.targetId)).next(()=>this.oe(e)).next(i=>(gt(i.targetCount>0),i.targetCount-=1,this.ce(e,i)))}removeTargets(e,t,i){let a=0;const c=[];return zf(e).jt((h,y)=>{const b=Lg(y);b.sequenceNumber<=t&&null===i.get(b.targetId)&&(a++,c.push(this.removeTargetData(e,b)))}).next(()=>xe.waitFor(c)).next(()=>a)}forEachTarget(e,t){return zf(e).jt((i,a)=>{const c=Lg(a);t(c)})}oe(e){return Xy(e).get(vi.key).next(t=>(gt(null!==t),t))}ce(e,t){return Xy(e).put(vi.key,t)}ae(e,t){return zf(e).put(cT(this.k,t))}ue(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ig(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let c=null;return zf(e).jt({range:a,index:Ss.queryTargetsIndexName},(h,y,b)=>{const C=Lg(y);Rf(t,C.target)&&(c=C,b.done())}).next(()=>c)}addMatchingKeys(e,t,i){const a=[],c=dl(e);return t.forEach(h=>{const y=Ho(h.path);a.push(c.put(new $r(i,y))),a.push(this.referenceDelegate.addReference(e,i,h))}),xe.waitFor(a)}removeMatchingKeys(e,t,i){const a=dl(e);return xe.forEach(t,c=>{const h=Ho(c.path);return xe.waitFor([a.delete([i,h]),this.referenceDelegate.removeReference(e,i,c)])})}removeMatchingKeysForTargetId(e,t){const i=dl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=dl(e);let c=rn();return a.jt({range:i,Kt:!0},(h,y,b)=>{const C=Fa(h[1]),R=new Ye(C);c=c.add(R)}).next(()=>c)}containsKey(e,t){const i=Ho(t.path),a=IDBKeyRange.bound([i],[_g(i)],!1,!0);let c=0;return dl(e).jt({index:$r.documentTargetsIndex,Kt:!0,range:a},([h,y],b,C)=>{0!==h&&(c++,C.done())}).next(()=>c>0)}Et(e,t){return zf(e).get(t).next(i=>i?Lg(i):null)}}function zf(n){return Ni(n,Ss.store)}function Xy(n){return Ni(n,vi.store)}function dl(n){return Ni(n,$r.store)}function xd(n){return a0.apply(this,arguments)}function a0(){return(a0=(0,me.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==rT)throw n;Ne("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function u0([n,e],[t,i]){const a=Bt(n,t);return 0===a?Bt(e,i):a}class gT{constructor(e){this.he=e,this.buffer=new zn(u0),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();u0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mT{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const i=this.we?3e5:6e4;Ne("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,me.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){co(a)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield xd(a)}yield t.me(e)}))}}class b1{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return xe.resolve(Br.I);const i=new gT(t);return this.ge.forEachTarget(e,a=>i.de(a.sequenceNumber)).next(()=>this.ge.pe(e,a=>i.de(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.ge.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(fT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fT):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let i,a,c,h,y,b,C;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),a=this.params.maximumSequenceNumbersToCollect):a=O,h=Date.now(),this.nthSequenceNumber(e,a))).next(O=>(i=O,y=Date.now(),this.removeTargets(e,i,t))).next(O=>(c=O,b=Date.now(),this.removeOrphanedDocuments(e,i))).next(O=>(C=Date.now(),EE()<=Zc.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-R}ms\n\tDetermined least recently used ${a} in `+(y-h)+`ms\n\tRemoved ${c} targets in `+(b-y)+`ms\n\tRemoved ${O} documents in `+(C-b)+`ms\nTotal Duration: ${C-R}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:O})))}}class fA{constructor(e,t){this.db=e,this.garbageCollector=new b1(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Ee(e){let t=0;return this.pe(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(i,a)=>t(a))}addReference(e,t,i){return Hu(e,i)}removeReference(e,t,i){return Hu(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Hu(e,t)}Ae(e,t){return function(i,a){let c=!1;return o0(i).Qt(h=>pT(i,h,a).next(y=>(y&&(c=!0),xe.resolve(!y)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Ie(e,(h,y)=>{if(y<=t){const b=this.Ae(e,h).next(C=>{if(!C)return c++,i.getEntry(e,h).next(()=>(i.removeEntry(h),dl(e).delete([0,Ho(h.path)])))});a.push(b)}}).next(()=>xe.waitFor(a)).next(()=>i.apply(e)).next(()=>c)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Hu(e,t)}Ie(e,t){const i=dl(e);let a,c=Br.I;return i.jt({index:$r.documentTargetsIndex},([h,y],{path:b,sequenceNumber:C})=>{0===h?(c!==Br.I&&t(new Ye(Fa(a)),c),c=C,a=b):c=Br.I}).next(()=>{c!==Br.I&&t(new Ye(Fa(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hu(n,e){return dl(n).put((i=n.currentSequenceNumber,new $r(0,Ho(e.path),i)));var i}class Ug{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,c]of i)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a){for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t])}else this.inner[i]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),!0;return!1}forEach(e){md(this.inner,(t,i)=>{for(const[a,c]of i)e(a,c)})}isEmpty(){return EI(this.inner)}}class e_{constructor(){this.changes=new Ug(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Et.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Sn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?xe.resolve(i.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class t_{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,i){return hl(e).put(c0(t),i)}removeEntry(e,t){const i=hl(e),a=c0(t);return i.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Re(e,i)))}getEntry(e,t){return hl(e).get(c0(t)).next(i=>this.be(t,i))}Pe(e,t){return hl(e).get(c0(t)).next(i=>({document:this.be(t,i),size:Jy(i)}))}getEntries(e,t){let i=ao();return this.ve(e,t,(a,c)=>{const h=this.be(a,c);i=i.insert(a,h)}).next(()=>i)}Ve(e,t){let i=ao(),a=new Sr(Ye.comparator);return this.ve(e,t,(c,h)=>{const y=this.be(c,h);i=i.insert(c,y),a=a.insert(c,Jy(h))}).next(()=>({documents:i,Se:a}))}ve(e,t,i){if(t.isEmpty())return xe.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let h=c.getNext();return hl(e).jt({range:a},(y,b,C)=>{const R=Ye.fromSegments(y);for(;h&&Ye.comparator(h,R)<0;)i(h,null),h=c.getNext();h&&h.isEqual(R)&&(i(h,b),h=c.hasNext()?c.getNext():null),h?C.Lt(h.path.toArray()):C.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i){let a=ao();const c=t.path.length+1,h={};if(i.isEqual(Et.min())){const y=t.path.toArray();h.range=IDBKeyRange.lowerBound(y)}else{const y=t.path.toArray(),b=XE(i);h.range=IDBKeyRange.lowerBound([y,b],!0),h.index=rr.collectionReadTimeIndex}return hl(e).jt(h,(y,b,C)=>{if(y.length!==c)return;const R=Qy(this.k,b);t.path.isPrefixOf(R.key.path)?Dg(t,R)&&(a=a.insert(R.key,R)):C.done()}).next(()=>a)}newChangeBuffer(e){return new pA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Rd(e).get(Bu.key).next(t=>(gt(!!t),t))}Re(e,t){return Rd(e).put(Bu.key,t)}be(e,t){if(t){const i=Qy(this.k,t);if(!i.isNoDocument()||!i.version.isEqual(Et.min()))return i}return Sn.newInvalidDocument(e)}}class pA extends e_{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Ug(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new zn((c,h)=>Bt(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const y=this.Ce.get(c);if(h.document.isValidDocument()){const b=aT(this.De.k,h.document,this.getReadTime(c));a=a.add(c.path.popLast()),i+=Jy(b)-y,t.push(this.De.addEntry(e,c,b))}else if(i-=y,this.trackRemovals){const b=aT(this.De.k,Sn.newNoDocument(c,Et.min()),this.getReadTime(c));t.push(this.De.addEntry(e,c,b))}else t.push(this.De.removeEntry(e,c))}),a.forEach(c=>{t.push(this.De.Jt.addToCollectionParentIndex(e,c))}),t.push(this.De.updateMetadata(e,i)),xe.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(i=>(this.Ce.set(t,i.size),i.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:i,Se:a})=>(a.forEach((c,h)=>{this.Ce.set(c,h)}),i))}}function Rd(n){return Ni(n,Bu.store)}function hl(n){return Ni(n,rr.store)}function c0(n){return n.path.toArray()}class gA{constructor(e){this.k=e}Nt(e,t,i,a){gt(i<a&&i>=0&&a<=11);const c=new Ky("createOrUpgrade",t);var y;i<1&&a>=1&&(e.createObjectStore(rs.store),(y=e).createObjectStore(ol.store,{keyPath:ol.keyPath}),y.createObjectStore(En.store,{keyPath:En.keyPath,autoIncrement:!0}).createIndex(En.userMutationsIndex,En.userMutationsKeyPath,{unique:!0}),y.createObjectStore(_i.store),qo(e),function(y){y.createObjectStore(rr.store)}(e));let h=xe.resolve();return i<3&&a>=3&&(0!==i&&(function(y){y.deleteObjectStore($r.store),y.deleteObjectStore(Ss.store),y.deleteObjectStore(vi.store)}(e),qo(e)),h=h.next(()=>function(y){const b=y.store(vi.store),C=new vi(0,0,Et.min().toTimestamp(),0);return b.put(vi.key,C)}(c))),i<4&&a>=4&&(0!==i&&(h=h.next(()=>function(y,b){return b.store(En.store).Bt().next(C=>{y.deleteObjectStore(En.store),y.createObjectStore(En.store,{keyPath:En.keyPath,autoIncrement:!0}).createIndex(En.userMutationsIndex,En.userMutationsKeyPath,{unique:!0});const R=b.store(En.store),O=C.map(j=>R.put(j));return xe.waitFor(O)})}(e,c))),h=h.next(()=>{!function(y){y.createObjectStore(ju.store,{keyPath:ju.keyPath})}(e)})),i<5&&a>=5&&(h=h.next(()=>this.Ne(c))),i<6&&a>=6&&(h=h.next(()=>(function(y){y.createObjectStore(Bu.store)}(e),this.ke(c)))),i<7&&a>=7&&(h=h.next(()=>this.xe(c))),i<8&&a>=8&&(h=h.next(()=>this.$e(e,c))),i<9&&a>=9&&(h=h.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){const b=y.objectStore(rr.store);b.createIndex(rr.readTimeIndex,rr.readTimeIndexPath,{unique:!1}),b.createIndex(rr.collectionReadTimeIndex,rr.collectionReadTimeIndexPath,{unique:!1})}(t)})),i<10&&a>=10&&(h=h.next(()=>this.Oe(c))),i<11&&a>=11&&(h=h.next(()=>{(function(y){y.createObjectStore(Sd.store,{keyPath:Sd.keyPath})})(e),function(y){y.createObjectStore(La.store,{keyPath:La.keyPath})}(e)})),h}ke(e){let t=0;return e.store(rr.store).jt((i,a)=>{t+=Jy(a)}).next(()=>{const i=new Bu(t);return e.store(Bu.store).put(Bu.key,i)})}Ne(e){const t=e.store(ol.store),i=e.store(En.store);return t.Bt().next(a=>xe.forEach(a,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return i.Bt(En.userMutationsIndex,h).next(y=>xe.forEach(y,b=>{gt(b.userId===c.userId);const C=Ad(this.k,b);return r0(e,c.userId,C).next(()=>{})}))}))}xe(e){const t=e.store($r.store),i=e.store(rr.store);return e.store(vi.store).get(vi.key).next(a=>{const c=[];return i.jt((h,y)=>{const b=new tn(h),C=[0,Ho(b)];c.push(t.get(C).next(R=>R?xe.resolve():t.put(new $r(0,Ho(b),a.highestListenSequenceNumber))))}).next(()=>xe.waitFor(c))})}$e(e,t){e.createObjectStore(Dd.store,{keyPath:Dd.keyPath});const i=t.store(Dd.store),a=new t0,c=h=>{if(a.add(h)){const y=h.lastSegment(),b=h.popLast();return i.put({collectionId:y,parent:Ho(b)})}};return t.store(rr.store).jt({Kt:!0},(h,y)=>{const b=new tn(h);return c(b.popLast())}).next(()=>t.store(_i.store).jt({Kt:!0},([h,y,b],C)=>{const R=Fa(y);return c(R.popLast())}))}Oe(e){const t=e.store(Ss.store);return t.jt((i,a)=>{const c=Lg(a),h=cT(this.k,c);return t.put(h)})}}function qo(n){n.createObjectStore($r.store,{keyPath:$r.keyPath}).createIndex($r.documentTargetsIndex,$r.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ss.store,{keyPath:Ss.keyPath}).createIndex(Ss.queryTargetsIndexName,Ss.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(vi.store)}const n_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yT{constructor(e,t,i,a,c,h,y,b,C,R){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Me=c,this.window=h,this.document=y,this.Fe=C,this.Le=R,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=O=>Promise.resolve(),!yT.Pt())throw new Pe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fA(this,a),this.Ge=t+"main",this.k=new JE(b),this.ze=new uo(this.Ge,11,new gA(this.k)),this.He=new hA(this.referenceDelegate,this.k),this.Jt=new hT,this.Je=new t_(this.k,this.Jt),this.Ye=new lA,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===R&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(de.FAILED_PRECONDITION,n_);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Br(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var i=(0,me.Z)(function*(a){if(t.started)return e(a)});return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,me.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>r_(e).put(new ju(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(co(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return fl(e).get(rs.key).next(t=>xe.resolve(this.un(t)))}hn(e){return r_(e).delete(this.clientId)}ln(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=Ni(i,ju.store);return a.Bt().next(c=>{const h=e.dn(c,18e5),y=c.filter(b=>-1===h.indexOf(b));return xe.forEach(y,b=>a.delete(b.clientId)).next(()=>y)})}).catch(()=>[]);if(e.Xe)for(const i of t)e.Xe.removeItem(e.wn(i.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?xe.resolve(!0):fl(e).get(rs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Pe(de.FAILED_PRECONDITION,n_);return!1}}return!(!this.networkEnabled||!this.inForeground)||r_(e).Bt().next(i=>void 0===this.dn(i,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,y=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[rs.store,ju.store],t=>{const i=new oT(t,Br.I);return e.cn(i).next(()=>e.hn(i))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(i=>this.fn(i.updateTimeMs,t)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>r_(e).Bt().next(t=>this.dn(t,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(e){return s0.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,i){let c;return Ne("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",aA,h=>(c=new oT(h,this.Be?this.Be.next():Br.I),"readwrite-primary"===t?this.rn(c).next(y=>!!y||this.on(c)).next(y=>{if(!y)throw pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Pe(de.FAILED_PRECONDITION,rT);return i(c)}).next(y=>this.an(c).next(()=>y)):this.En(c).next(()=>i(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}En(e){return fl(e).get(rs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(de.FAILED_PRECONDITION,n_)})}an(e){const t=new rs(this.clientId,this.allowTabSynchronization,Date.now());return fl(e).put(rs.key,t)}static Pt(){return uo.Pt()}cn(e){const t=fl(e);return t.get(rs.key).next(i=>this.un(i)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete(rs.key)):xe.resolve())}fn(e,t){const i=Date.now();return!(e<i-t||e>i&&(pr(`Detected an update time that is in the future: ${e} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Pt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const i=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return pr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fl(n){return Ni(n,rs.store)}function r_(n){return Ni(n,ju.store)}function l0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class w1{constructor(e,t){this.progress=e,this.In=t}}class _T{constructor(e,t,i){this.Je=e,this.An=t,this.Jt=i}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.bn(e,t,i))}bn(e,t,i){return this.Je.getEntry(e,t).next(a=>{for(const c of i)c.applyToLocalView(a);return a})}Pn(e,t){e.forEach((i,a)=>{for(const c of t)c.applyToLocalView(a)})}vn(e,t){return this.Je.getEntries(e,t).next(i=>this.Vn(e,i).next(()=>i))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.Pn(t,i))}getDocumentsMatchingQuery(e,t,i){return Ye.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(e,t.path):qy(t)?this.Dn(e,t,i):this.Cn(e,t,i);var a}Sn(e,t){return this.Rn(e,new Ye(t)).next(i=>{let a=BE();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}Dn(e,t,i){const a=t.collectionGroup;let c=BE();return this.Jt.getCollectionParents(e,a).next(h=>xe.forEach(h,y=>{const b=(C=t,R=y.child(a),new Na(R,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,R;return this.Cn(e,b,i).next(C=>{C.forEach((R,O)=>{c=c.insert(R,O)})})}).next(()=>c))}Cn(e,t,i){let a,c;return this.Je.getDocumentsMatchingQuery(e,t,i).next(h=>(a=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(c=h,this.Nn(e,c,a).next(y=>{a=y;for(const b of c)for(const C of b.mutations){const R=C.key;let O=a.get(R);null==O&&(O=Sn.newInvalidDocument(R),a=a.insert(R,O)),Zy(C,O,b.localWriteTime),O.isFoundDocument()||(a=a.remove(R))}}))).next(()=>(a.forEach((h,y)=>{Dg(t,y)||(a=a.remove(h))}),a))}Nn(e,t,i){let a=rn();for(const h of t)for(const y of h.mutations)y instanceof Vu&&null===i.get(y.key)&&(a=a.add(y.key));let c=i;return this.Je.getEntries(e,a).next(h=>(h.forEach((y,b)=>{b.isFoundDocument()&&(c=c.insert(y,b))}),c))}}class d0{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.kn=i,this.xn=a}static $n(e,t){let i=rn(),a=rn();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new d0(e,t.fromCache,i,a)}}class vT{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,i,a){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||i.isEqual(Et.min())?this.Fn(e,t):this.Mn.vn(e,a).next(c=>{const h=this.Ln(t,c);return(Cg(t)||Lu(t))&&this.Bn(t.limitType,h,a,i)?this.Fn(e,t):(EE()<=Zc.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),io(t)),this.Mn.getDocumentsMatchingQuery(e,t,i).next(y=>(h.forEach(b=>{y=y.insert(b.key,b)}),y)))});var c}Ln(e,t){let i=new zn(NI(e));return t.forEach((a,c)=>{Dg(e,c)&&(i=i.add(c))}),i}Bn(e,t,i,a){if(i.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Fn(e,t){return EE()<=Zc.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",io(t)),this.Mn.getDocumentsMatchingQuery(e,t,Et.min())}}class h0{constructor(e,t,i,a){this.persistence=e,this.Un=t,this.k=a,this.qn=new Sr(Bt),this.Kn=new Ug(c=>Ig(c),Rf),this.jn=Et.min(),this.An=e.getMutationQueue(i),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new _T(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function f0(n,e,t,i){return new h0(n,e,t,i)}function i_(n,e){return s_.apply(this,arguments)}function s_(){return(s_=(0,me.Z)(function*(n,e){const t=Le(n);let i=t.An,a=t.Wn;const c=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let y;return t.An.getAllMutationBatches(h).next(b=>(y=b,i=t.persistence.getMutationQueue(e),a=new _T(t.Qn,i,t.persistence.getIndexManager()),i.getAllMutationBatches(h))).next(b=>{const C=[],R=[];let O=rn();for(const j of y){C.push(j.batchId);for(const G of j.mutations)O=O.add(G.key)}for(const j of b){R.push(j.batchId);for(const G of j.mutations)O=O.add(G.key)}return a.vn(h,O).next(j=>({Gn:j,removedBatchIds:C,addedBatchIds:R}))})});return t.An=i,t.Wn=a,t.Un.On(t.Wn),c})).apply(this,arguments)}function mA(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),c=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,y,b,C){const R=b.batch,O=R.keys();let j=xe.resolve();return O.forEach(G=>{j=j.next(()=>C.getEntry(y,G)).next(X=>{const ve=b.docVersions.get(G);gt(null!==ve),X.version.compareTo(ve)<0&&(R.applyToRemoteDocument(X,b),X.isValidDocument()&&C.addEntry(X,b.commitVersion))})}),j.next(()=>h.An.removeMutationBatch(y,R))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.An.performConsistencyCheck(i)).next(()=>t.Wn.vn(i,a))})}function yA(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function _A(n,e){const t=Le(n),i=e.snapshotVersion;let a=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});a=t.qn;const y=[];e.targetChanges.forEach((C,R)=>{const O=a.get(R);if(!O)return;y.push(t.He.removeMatchingKeys(c,C.removedDocuments,R).next(()=>t.He.addMatchingKeys(c,C.addedDocuments,R)));let j=O.withSequenceNumber(c.currentSequenceNumber);var G,X,ve;e.targetMismatches.has(R)?j=j.withResumeToken(tr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):C.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(C.resumeToken,i)),a=a.insert(R,j),X=j,ve=C,(0===(G=O).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&y.push(t.He.updateTargetData(c,j))});let b=ao();if(e.documentUpdates.forEach((C,R)=>{e.resolvedLimboDocuments.has(C)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(c,C))}),y.push(ET(c,h,e.documentUpdates,i,void 0).next(C=>{b=C})),!i.isEqual(Et.min())){const C=t.He.getLastRemoteSnapshotVersion(c).next(R=>t.He.setTargetsMetadata(c,c.currentSequenceNumber,i));y.push(C)}return xe.waitFor(y).next(()=>h.apply(c)).next(()=>t.Wn.Vn(c,b)).next(()=>b)}).then(c=>(t.qn=a,c))}function ET(n,e,t,i,a){let c=rn();return t.forEach(h=>c=c.add(h)),e.getEntries(n,c).next(h=>{let y=ao();return t.forEach((b,C)=>{const R=h.get(b),O=(null==a?void 0:a.get(b))||i;C.isNoDocument()&&C.version.isEqual(Et.min())?(e.removeEntry(b,O),y=y.insert(b,C)):!R.isValidDocument()||C.version.compareTo(R.version)>0||0===C.version.compareTo(R.version)&&R.hasPendingWrites?(e.addEntry(C,O),y=y.insert(b,C)):Ne("LocalStore","Ignoring outdated watch update for ",b,". Current version:",R.version," Watch version:",C.version)}),y})}function vA(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(i,e)))}function Pd(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.He.getTargetData(i,e).next(c=>c?(a=c,xe.resolve(a)):t.He.allocateTargetId(i).next(h=>(a=new ul(e,h,0,i.currentSequenceNumber),t.He.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.qn.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qn=t.qn.insert(i.targetId,i),t.Kn.set(e,i.targetId)),i})}function Od(n,e,t){return o_.apply(this,arguments)}function o_(){return(o_=(0,me.Z)(function*(n,e,t){const i=Le(n),a=i.qn.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!co(h))throw h;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.qn=i.qn.remove(e),i.Kn.delete(a.target)})).apply(this,arguments)}function a_(n,e,t){const i=Le(n);let a=Et.min(),c=rn();return i.persistence.runTransaction("Execute query","readonly",h=>function(y,b,C){const R=Le(y),O=R.Kn.get(C);return void 0!==O?xe.resolve(R.qn.get(O)):R.He.getTargetData(b,C)}(i,h,Cs(e)).next(y=>{if(y)return a=y.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(h,y.targetId).next(b=>{c=b})}).next(()=>i.Un.getDocumentsMatchingQuery(h,e,t?a:Et.min(),t?c:rn())).next(y=>({documents:y,zn:c})))}function bT(n,e){const t=Le(n),i=Le(t.He),a=t.qn.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>i.Et(c,e).next(h=>h?h.target:null))}function p0(n){const e=Le(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(i,a,c){const h=Le(i);let y=ao(),b=XE(c);const C=hl(a),R=IDBKeyRange.lowerBound(b,!0);return C.jt({index:rr.readTimeIndex,range:R},(O,j)=>{const G=Qy(h.k,j);y=y.insert(G.key,G),b=j.readTime}).next(()=>({In:y,readTime:uT(b)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:i})=>(e.jn=i,t))}function g0(){return(g0=(0,me.Z)(function*(n){const e=Le(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(i){const a=hl(i);let c=Et.min();return a.jt({index:rr.readTimeIndex,reverse:!0},(h,y,b)=>{y.readTime&&(c=uT(y.readTime)),b.done()}).next(()=>c)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function Gf(){return(Gf=(0,me.Z)(function*(n,e,t,i){const a=Le(n);let c=rn(),h=ao(),y=jE();for(const R of t){const O=e.Hn(R.metadata.name);R.document&&(c=c.add(O)),h=h.insert(O,e.Jn(R)),y=y.insert(O,e.Yn(R.metadata.readTime))}const b=a.Qn.newChangeBuffer({trackRemovals:!0}),C=yield Pd(a,(R=i,Cs(bd(tn.fromString(`__bundle__/docs/${R}`)))));var R;return a.persistence.runTransaction("Apply bundle documents","readwrite",R=>ET(R,b,h,Et.min(),y).next(O=>(b.apply(R),O)).next(O=>a.He.removeMatchingKeysForTargetId(R,C.targetId).next(()=>a.He.addMatchingKeys(R,c,C.targetId)).next(()=>a.Wn.Vn(R,O)).next(()=>O)))})).apply(this,arguments)}function c_(n,e){return Md.apply(this,arguments)}function Md(){return(Md=(0,me.Z)(function*(n,e,t=rn()){const i=yield Pd(n,Cs(e0(e.bundledQuery))),a=Le(n);return a.persistence.runTransaction("Save named query","readwrite",c=>{const h=$e(e.readTime);if(i.snapshotVersion.compareTo(h)>=0)return a.Ye.saveNamedQuery(c,e);const y=i.withResumeToken(tr.EMPTY_BYTE_STRING,h);return a.qn=a.qn.insert(y.targetId,y),a.He.updateTargetData(c,y).next(()=>a.He.removeMatchingKeysForTargetId(c,i.targetId)).next(()=>a.He.addMatchingKeys(c,t,i.targetId)).next(()=>a.Ye.saveNamedQuery(c,e))})})).apply(this,arguments)}class EA{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return xe.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var i;return this.Xn.set(t.id,{id:(i=t).id,version:i.version,createTime:$e(i.createTime)}),xe.resolve()}getNamedQuery(e,t){return xe.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(i=t).name,query:e0(i.bundledQuery),readTime:$e(i.readTime)}),xe.resolve();var i}}class m0{constructor(){this.ts=new zn(ri.es),this.ns=new zn(ri.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const i=new ri(e,t);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.os(new ri(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new Ye(new tn([])),i=new ri(t,e),a=new ri(t,e+1),c=[];return this.ns.forEachInRange([i,a],h=>{this.os(h),c.push(h.key)}),c}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Ye(new tn([])),i=new ri(t,e),a=new ri(t,e+1);let c=rn();return this.ns.forEachInRange([i,a],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new ri(e,0),i=this.ts.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ri{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Ye.comparator(e.key,t.key)||Bt(e.fs,t.fs)}static ss(e,t){return Bt(e.fs,t.fs)||Ye.comparator(e.key,t.key)}}class bA{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new zn(ri.es)}checkEmpty(e){return xe.resolve(0===this.An.length)}addMutationBatch(e,t,i,a){const c=this.ds;this.ds++;const h=new QE(c,t,i,a);this.An.push(h);for(const y of a)this.ws=this.ws.add(new ri(y.key,c)),this.Jt.addToCollectionParentIndex(e,y.key.path.popLast());return xe.resolve(h)}lookupMutationBatch(e,t){return xe.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.gs(t+1),c=a<0?0:a;return xe.resolve(this.An.length>c?this.An[c]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return xe.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ri(t,0),a=new ri(t,Number.POSITIVE_INFINITY),c=[];return this.ws.forEachInRange([i,a],h=>{const y=this._s(h.fs);c.push(y)}),xe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zn(Bt);return t.forEach(a=>{const c=new ri(a,0),h=new ri(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([c,h],y=>{i=i.add(y.fs)})}),xe.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let c=i;Ye.isDocumentKey(c)||(c=c.child(""));const h=new ri(new Ye(c),0);let y=new zn(Bt);return this.ws.forEachWhile(b=>{const C=b.key.path;return!!i.isPrefixOf(C)&&(C.length===a&&(y=y.add(b.fs)),!0)},h),xe.resolve(this.ys(y))}ys(e){const t=[];return e.forEach(i=>{const a=this._s(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){gt(0===this.ps(t.batchId,"removed")),this.An.shift();let i=this.ws;return xe.forEach(t.mutations,a=>{const c=new ri(a.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ws=i})}ee(e){}containsKey(e,t){const i=new ri(t,0),a=this.ws.firstAfterOrEqual(i);return xe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return xe.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class wA{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Sr(Ye.comparator),this.size=0}addEntry(e,t,i){const a=t.key,c=this.docs.get(a),h=c?c.size:0,y=this.Ts(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:y,readTime:i}),this.size+=y-h,this.Jt.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return xe.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let i=ao();return t.forEach(a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():Sn.newInvalidDocument(a))}),xe.resolve(i)}getDocumentsMatchingQuery(e,t,i){let a=ao();const c=new Ye(t.path.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:y,value:{document:b,readTime:C}}=h.getNext();if(!t.path.isPrefixOf(y.path))break;C.compareTo(i)<=0||Dg(t,b)&&(a=a.insert(b.key,b.mutableCopy()))}return xe.resolve(a)}Es(e,t){return xe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new IA(this)}getSize(e){return xe.resolve(this.size)}}class IA extends e_{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.document.isValidDocument()?t.push(this.De.addEntry(e,a.document,this.getReadTime(i))):this.De.removeEntry(i)}),xe.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class TA{constructor(e){this.persistence=e,this.Is=new Ug(t=>Ig(t),Rf),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.As=0,this.Rs=new m0,this.targetCount=0,this.bs=$u.ie()}forEachTarget(e,t){return this.Is.forEach((i,a)=>t(a)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.As&&(this.As=t),xe.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new $u(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,xe.resolve()}updateTargetData(e,t){return this.ae(t),xe.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,t,i){let a=0;const c=[];return this.Is.forEach((h,y)=>{y.sequenceNumber<=t&&null===i.get(y.targetId)&&(this.Is.delete(h),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),a++)}),xe.waitFor(c).next(()=>a)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Is.get(t)||null;return xe.resolve(i)}addMatchingKeys(e,t,i){return this.Rs.rs(t,i),xe.resolve()}removeMatchingKeys(e,t,i){this.Rs.cs(t,i);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),xe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),xe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Rs.ls(t);return xe.resolve(i)}containsKey(e,t){return xe.resolve(this.Rs.containsKey(t))}}class CA{constructor(e,t){this.Ps={},this.Be=new Br(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new TA(this),this.Jt=new dA,this.Je=new wA(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new JE(t),this.Ye=new EA(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new bA(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,i){Ne("MemoryPersistence","Starting transaction:",e);const a=new DA(this.Be.next());return this.referenceDelegate.Vs(),i(a).next(c=>this.referenceDelegate.Ss(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ds(e,t){return xe.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class DA extends iT{constructor(e){super(),this.currentSequenceNumber=e}}class y0{constructor(e){this.persistence=e,this.Cs=new m0,this.Ns=null}static ks(e){return new y0(e)}get xs(){if(this.Ns)return this.Ns;throw tt()}addReference(e,t,i){return this.Cs.addReference(i,t),this.xs.delete(i.toString()),xe.resolve()}removeReference(e,t,i){return this.Cs.removeReference(i,t),this.xs.add(i.toString()),xe.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),xe.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(a=>this.xs.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.xs.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.xs,i=>{const a=Ye.fromPath(i);return this.$s(e,a).next(c=>{c||t.removeEntry(a)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return xe.or([()=>xe.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function IT(n,e){return`firestore_clients_${n}_${e}`}function TT(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function CT(n,e){return`firestore_targets_${n}_${e}`}class l_{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Os(e,t,i){const a=JSON.parse(i);let c,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(c=new Pe(a.error.code,a.error.message))),h?new l_(e,t,a.state,c):(pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qu{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Os(e,t){const i=JSON.parse(t);let a,c="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Pe(i.error.code,i.error.message))),c?new qu(e,i.state,a):(pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class d_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const i=JSON.parse(t);let a="object"==typeof i&&i.activeTargetIds instanceof Array,c=xg();for(let h=0;a&&h<i.activeTargetIds.length;++h)a=Uy(i.activeTargetIds[h]),c=c.add(i.activeTargetIds[h]);return a?new d_(e,c):(pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _0{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _0(t.clientId,t.onlineState):(pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class v0{constructor(){this.activeTargetIds=xg()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wf{constructor(e,t,i,a,c){this.window=e,this.Me=t,this.persistenceKey=i,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Sr(Bt),this.started=!1,this.js=[];const h=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Qs=IT(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new v0),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.Tn();for(const a of t){if(a===e.Bs)continue;const c=e.getItem(IT(e.persistenceKey,a));if(c){const h=d_.Os(a,c);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const i=e.storage.getItem(e.Js);if(i){const a=e.Zs(i);a&&e.ti(a)}for(const a of e.js)e.qs(a);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,i){this.ni(e,t,i),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(CT(this.persistenceKey,e));if(i){const a=qu.Os(e,i);a&&(t=a.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(CT(this.persistenceKey,e))}updateQueryState(e,t,i){this.ri(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.si(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==i.key)if(t.Gs.test(i.key)){if(null==i.newValue){const a=t.ai(i.key);return t.ui(a,null)}{const a=t.hi(i.key,i.newValue);if(a)return t.ui(a.clientId,a)}}else if(t.zs.test(i.key)){if(null!==i.newValue){const a=t.li(i.key,i.newValue);if(a)return t.fi(a)}}else if(t.Hs.test(i.key)){if(null!==i.newValue){const a=t.di(i.key,i.newValue);if(a)return t.wi(a)}}else if(i.key===t.Js){if(null!==i.newValue){const a=t.Zs(i.newValue);if(a)return t.ti(a)}}else if(i.key===t.Ws){const a=function(c){let h=Br.I;if(null!=c)try{const y=JSON.parse(c);gt("number"==typeof y),h=y}catch(y){pr("SharedClientState","Failed to read sequence number from WebStorage",y)}return h}(i.newValue);a!==Br.I&&t.sequenceNumberHandler(a)}else if(i.key===t.Ys)return t.syncEngine._i()}else t.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,i){const a=new l_(this.currentUser,e,t,i),c=TT(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Ms())}si(e){const t=TT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,i){const a=CT(this.persistenceKey,e),c=new qu(e,t,i);this.setItem(a,c.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const i=this.ai(e);return d_.Os(i,t)}li(e,t){const i=this.zs.exec(e),a=Number(i[1]);return l_.Os(new Vr(void 0!==i[2]?i[2]:null),a,t)}di(e,t){const i=this.Hs.exec(e),a=Number(i[1]);return qu.Os(a,t)}Zs(e){return _0.Os(e)}fi(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const i=t?this.Ks.insert(e,t):this.Ks.remove(e),a=this.ei(this.Ks),c=this.ei(i),h=[],y=[];return c.forEach(b=>{a.has(b)||h.push(b)}),a.forEach(b=>{c.has(b)||y.push(b)}),this.syncEngine.yi(h,y).then(()=>{this.Ks=i})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=xg();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class pl{constructor(){this.pi=new v0,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,i){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new v0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class DT{Ei(e){}shutdown(){}}class ST{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const I1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class SA{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class h_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,i,a,c){const h=this.Ui(e,t);Ne("RestConnection","Sending: ",h,i);const y={};return this.qi(y,a,c),this.Ki(e,h,y,i).then(b=>(Ne("RestConnection","Received: ",b),b),b=>{throw Sf("RestConnection",`${e} failed with error: `,b,"url: ",h,"request:",i),b})}ji(e,t,i,a,c){return this.Bi(e,t,i,a,c)}qi(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Df,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),i&&i.headers.forEach((a,c)=>e[c]=a)}Ui(e,t){return`${this.Fi}/v1/${t}:${I1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,i,a){return new Promise((c,h)=>{const y=new c1;y.listenOnce(pI.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case vE.NO_ERROR:const C=y.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(C)),c(C);break;case vE.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),h(new Pe(de.DEADLINE_EXCEEDED,"Request time out"));break;case vE.HTTP_ERROR:const R=y.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',R,"response text:",y.getResponseText()),R>0){const O=y.getResponseJson().error;if(O&&O.status&&O.message){const j=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(X)>=0?X:de.UNKNOWN}(O.status);h(new Pe(j,O.message))}else h(new Pe(de.UNKNOWN,"Server responded with status "+y.getStatus()))}else h(new Pe(de.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(a);y.send(t,"POST",b,i,15)})}Qi(e,t,i){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=hI(),h=fI(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new mI({})),this.qi(y.initMessageHeaders,t,i),(0,Pt.uI)()||(0,Pt.b$)()||(0,Pt.d)()||(0,Pt.w1)()||(0,Pt.Mn)()||(0,Pt.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const b=a.join("");Ne("Connection","Creating WebChannel: "+b,y);const C=c.createWebChannel(b,y);let R=!1,O=!1;const j=new SA({Vi:X=>{O?Ne("Connection","Not sending because WebChannel is closed:",X):(R||(Ne("Connection","Opening WebChannel transport."),C.open(),R=!0),Ne("Connection","WebChannel sending:",X),C.send(X))},Si:()=>C.close()}),G=(X,ve,Oe)=>{X.listen(ve,rt=>{try{Oe(rt)}catch(it){setTimeout(()=>{throw it},0)}})};return G(C,ky.EventType.OPEN,()=>{O||Ne("Connection","WebChannel transport opened.")}),G(C,ky.EventType.CLOSE,()=>{O||(O=!0,Ne("Connection","WebChannel transport closed"),j.Oi())}),G(C,ky.EventType.ERROR,X=>{O||(O=!0,Sf("Connection","WebChannel transport errored:",X),j.Oi(new Pe(de.UNAVAILABLE,"The operation could not be completed")))}),G(C,ky.EventType.MESSAGE,X=>{var ve;if(!O){const Oe=X.data[0];gt(!!Oe);const rt=Oe,it=rt.error||(null===(ve=rt[0])||void 0===ve?void 0:ve.error);if(it){Ne("Connection","WebChannel received error:",it);const Nt=it.status;let at=function(_r){const Zr=yr[_r];if(void 0!==Zr)return $I(Zr)}(Nt),cn=it.message;void 0===at&&(at=de.INTERNAL,cn="Unknown error status: "+Nt+" with message "+it.message),O=!0,j.Oi(new Pe(at,cn)),C.close()}else Ne("Connection","WebChannel received:",Oe),j.Mi(Oe)}}),G(h,LS.STAT_EVENT,X=>{X.stat===gI.PROXY?Ne("Connection","Detected buffering proxy"):X.stat===gI.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.$i()},0),j}}function AT(){return"undefined"!=typeof window?window:null}function f_(){return"undefined"!=typeof document?document:null}function Kf(n){return new _1(n,!0)}class p_{constructor(e,t,i=1e3,a=1.5,c=6e4){this.Me=e,this.timerId=t,this.Wi=i,this.Gi=a,this.zi=c,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),a=Math.max(0,t-i);a>0&&Ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class g_{constructor(e,t,i,a,c,h,y,b){this.Me=e,this.nr=i,this.sr=a,this.ir=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=y,this.listener=b,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new p_(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,me.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,me.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var i=this;return(0,me.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==e?i.ur.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):t&&t.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.rr===t&&this.Ir(i,a)},i=>{e(()=>{const a=new Pe(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(a)})})}Ir(e,t){const i=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{i(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{i(()=>this.Ar(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}dr(){var e=this;this.state=5,this.ur.Zi((0,me.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xT extends g_{constructor(e,t,i,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,h),this.k=c}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:tt(),a=e.targetChange.targetIds||[],c=function(b,C){return b.C?(gt(void 0===C||"string"==typeof C),tr.fromBase64String(C||"")):(gt(void 0===C||C instanceof Uint8Array),tr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,y=h&&function(b){const C=void 0===b.code?de.UNKNOWN:$I(b.code);return new Pe(C,b.message||"")}(h);t=new $E(i,a,c,y||null)}else if("documentChange"in e){const i=e.documentChange,a=Ds(n,i.document.name),c=$e(i.document.updateTime),h=new ti({mapValue:{fields:i.document.fields}}),y=Sn.newFoundDocument(a,c,h);t=new Rg(i.targetIds||[],i.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const i=e.documentDelete,a=Ds(n,i.document),c=i.readTime?$e(i.readTime):Et.min(),h=Sn.newNoDocument(a,c);t=new Rg([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const i=e.documentRemove,a=Ds(n,i.document);t=new Rg([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return tt();{const i=e.filter,c=new YS(i.count||0);t=new Gy(i.targetId,c)}}var b;return t}(this.k,e),i=function(a){if(!("targetChange"in a))return Et.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?$e(c.readTime):Et.min()}(e);return this.listener.br(t,i)}Pr(e){const t={};t.database=sl(this.k),t.addTarget=function(a,c){let h;const y=c.target;return h=Tg(y)?{documents:YE(a,y)}:{query:YI(a,y)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?h.resumeToken=qE(a,c.resumeToken):c.snapshotVersion.compareTo(Et.min())>0&&(h.readTime=$f(a,c.snapshotVersion.toTimestamp())),h}(this.k,e);const i=function(n,e){const t=function(i,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.gr(t)}vr(e){const t={};t.database=sl(this.k),t.removeTarget=e,this.gr(t)}}class RT extends g_{constructor(e,t,i,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,h),this.k=c,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(i,a){let c=$e(i.updateTime?i.updateTime:a);return c.isEqual(Et.min())&&(c=$e(a)),new FI(c,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=$e(e.commitTime);return this.listener.Cr(i,t)}return gt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=sl(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Mg(this.k,i))};this.gr(t)}}class AA extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=i,this.k=a,this.$r=!1}Or(){if(this.$r)throw new Pe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.ir.Bi(e,t,i,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(de.UNKNOWN,a.toString())})}ji(e,t,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.ir.ji(e,t,i,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(de.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class xA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(pr(t),this.Lr=!1):Ne("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class PT{constructor(e,t,i,a,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=c,this.Hr.Ei(y=>{i.enqueueAndForget((0,me.Z)(function*(){var b;kd(h)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,me.Z)(function*(C){const R=Le(C);R.Gr.add(4),yield Zu(R),R.Jr.set("Unknown"),R.Gr.delete(4),yield Vg(R)}),function(C){return b.apply(this,arguments)})(h))}))}),this.Jr=new xA(i,a)}}function Vg(n){return m_.apply(this,arguments)}function m_(){return(m_=(0,me.Z)(function*(n){if(kd(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function Zu(n){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,me.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function E0(n,e){const t=Le(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),Nd(t)?gl(t):Vd(t).lr()&&Yt(t,e))}function zu(n,e){const t=Le(n),i=Vd(t);t.Wr.delete(e),i.lr()&&Gu(t,e),0===t.Wr.size&&(i.lr()?i._r():kd(t)&&t.Jr.set("Unknown"))}function Yt(n,e){n.Yr.X(e.targetId),Vd(n).Pr(e)}function Gu(n,e){n.Yr.X(e),Vd(n).vr(e)}function gl(n){n.Yr=new XS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Vd(n).start(),n.Jr.Br()}function Nd(n){return kd(n)&&!Vd(n).hr()&&n.Wr.size>0}function kd(n){return 0===Le(n).Gr.size}function mt(n){n.Yr=void 0}function lo(n){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,me.Z)(function*(n){n.Wr.forEach((e,t)=>{Yt(n,e)})})).apply(this,arguments)}function Fd(n,e){return OT.apply(this,arguments)}function OT(){return(OT=(0,me.Z)(function*(n,e){mt(n),Nd(n)?(n.Jr.Kr(e),gl(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function MT(n,e,t){return y_.apply(this,arguments)}function y_(){return(y_=(0,me.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof $E&&2===e.state&&e.cause)try{yield(i=(0,me.Z)(function*(a,c){const h=c.cause;for(const y of c.targetIds)a.Wr.has(y)&&(yield a.remoteSyncer.rejectListen(y,h),a.Wr.delete(y),a.Yr.removeTarget(y))}),function(a,c){return i.apply(this,arguments)})(n,e)}catch(i){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield b0(n,i)}else if(e instanceof Rg?n.Yr.ot(e):e instanceof Gy?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Et.min()))try{const i=yield yA(n.localStore);t.compareTo(i)>=0&&(yield function(a,c){const h=a.Yr.gt(c);return h.targetChanges.forEach((y,b)=>{if(y.resumeToken.approximateByteSize()>0){const C=a.Wr.get(b);C&&a.Wr.set(b,C.withResumeToken(y.resumeToken,c))}}),h.targetMismatches.forEach(y=>{const b=a.Wr.get(y);if(!b)return;a.Wr.set(y,b.withResumeToken(tr.EMPTY_BYTE_STRING,b.snapshotVersion)),Gu(a,y);const C=new ul(b.target,y,1,b.sequenceNumber);Yt(a,C)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(i){Ne("RemoteStore","Failed to raise snapshot:",i),yield b0(n,i)}var i})).apply(this,arguments)}function b0(n,e,t){return w0.apply(this,arguments)}function w0(){return(w0=(0,me.Z)(function*(n,e,t){if(!co(e))throw e;n.Gr.add(1),yield Zu(n),n.Jr.set("Offline"),t||(t=()=>yA(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Vg(n)}))})).apply(this,arguments)}function NT(n,e){return e().catch(t=>b0(n,t,e))}function ii(n){return An.apply(this,arguments)}function An(){return(An=(0,me.Z)(function*(n){const e=Le(n),t=As(e);let i=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Zo(e);)try{const a=yield vA(e.localStore,i);if(null===a){0===e.Qr.length&&t._r();break}i=a.batchId,kT(e,a)}catch(a){yield b0(e,a)}FT(e)&&I0(e)})).apply(this,arguments)}function Zo(n){return kd(n)&&n.Qr.length<10}function kT(n,e){n.Qr.push(e);const t=As(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function FT(n){return kd(n)&&!As(n).hr()&&n.Qr.length>0}function I0(n){As(n).start()}function T0(n){return ml.apply(this,arguments)}function ml(){return(ml=(0,me.Z)(function*(n){As(n).kr()})).apply(this,arguments)}function jg(n){return C0.apply(this,arguments)}function C0(){return(C0=(0,me.Z)(function*(n){const e=As(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function Ld(n,e,t){return D0.apply(this,arguments)}function D0(){return(D0=(0,me.Z)(function*(n,e,t){const i=n.Qr.shift(),a=Fg.from(i,e,t);yield NT(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield ii(n)})).apply(this,arguments)}function LT(n,e){return $g.apply(this,arguments)}function $g(){return($g=(0,me.Z)(function*(n,e){var t;e&&As(n).Sr&&(yield(t=(0,me.Z)(function*(i,a){if(jI(c=a.code)&&c!==de.ABORTED){const h=i.Qr.shift();As(i).wr(),yield NT(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield ii(i)}var c}),function(i,a){return t.apply(this,arguments)})(n,e)),FT(n)&&I0(n)})).apply(this,arguments)}function Ud(n,e){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,me.Z)(function*(n,e){const t=Le(n);e?(t.Gr.delete(2),yield Vg(t)):e||(t.Gr.add(2),yield Zu(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function Vd(n){return n.Xr||(n.Xr=function(e,t,i){const a=Le(e);return a.Or(),new xT(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,i)}(n.datastore,n.asyncQueue,{Di:lo.bind(null,n),Ni:Fd.bind(null,n),br:MT.bind(null,n)}),n.zr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Xr.wr(),Nd(n)?gl(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),mt(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function As(n){return n.Zr||(n.Zr=function(e,t,i){const a=Le(e);return a.Or(),new RT(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,i)}(n.datastore,n.asyncQueue,{Di:T0.bind(null,n),Ni:LT.bind(null,n),Nr:jg.bind(null,n),Cr:Ld.bind(null,n)}),n.zr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Zr.wr(),yield ii(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class S0{constructor(e,t,i,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,i,a,c){const h=Date.now()+i,y=new S0(e,t,h,a,c);return y.start(i),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wu(n,e){if(pr("AsyncQueue",`${e}: ${n}`),co(n))return new Pe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Bd{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ye.comparator(t.key,i.key):(t,i)=>Ye.comparator(t.key,i.key),this.keyedMap=BE(),this.sortedSet=new Sr(this.comparator)}static emptySet(e){return new Bd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Bd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class A0{constructor(){this.eo=new Sr(Ye.comparator)}track(e){const t=e.doc.key,i=this.eo.get(t);i?0!==e.type&&3===i.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==i.type?this.eo=this.eo.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.eo=this.eo.remove(t):1===e.type&&2===i.type?this.eo=this.eo.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):tt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,i)=>{e.push(i)}),e}}class jd{constructor(e,t,i,a,c,h,y,b){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=y,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,i,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new jd(e,t,Bd.emptySet(t),c,i,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class __{constructor(){this.so=void 0,this.listeners=[]}}class RA{constructor(){this.queries=new Ug(e=>PE(e),Mf),this.onlineState="Unknown",this.io=new Set}}function qg(n,e){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,me.Z)(function*(n,e){const t=Le(n),i=e.query;let a=!1,c=t.queries.get(i);if(c||(a=!0,c=new __),a)try{c.so=yield t.onListen(i)}catch(h){const y=Wu(h,`Initialization of query '${io(e.query)}' failed`);return void e.onError(y)}t.queries.set(i,c),c.listeners.push(e),e.ro(t.onlineState),c.so&&e.oo(c.so)&&$d(t)})).apply(this,arguments)}function UT(n,e){return VT.apply(this,arguments)}function VT(){return(VT=(0,me.Z)(function*(n,e){const t=Le(n),i=e.query;let a=!1;const c=t.queries.get(i);if(c){const h=c.listeners.indexOf(e);h>=0&&(c.listeners.splice(h,1),a=0===c.listeners.length)}if(a)return t.queries.delete(i),t.onUnlisten(i)})).apply(this,arguments)}function yt(n,e){const t=Le(n);let i=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const y of h.listeners)y.oo(a)&&(i=!0);h.so=a}}i&&$d(t)}function T1(n,e,t){const i=Le(n),a=i.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);i.queries.delete(e)}function $d(n){n.io.forEach(e=>{e.next()})}class x0{constructor(e,t,i){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new jd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=jd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class PA{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class BT{constructor(e){this.k=e}Hn(e){return Ds(this.k,e)}Jn(e){return e.metadata.exists?GE(this.k,e.document,!1):Sn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return $e(e)}}class C1{constructor(e,t,i){this.mo=e,this.localStore=t,this.k=i,this.queries=[],this.documents=[],this.progress=OA(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,i=new BT(this.k);for(const a of e)if(a.metadata.queries){const c=i.Hn(a.metadata.name);for(const h of a.metadata.queries){const y=(t.get(h)||rn()).add(c);t.set(h,y)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function(n,e,t,i){return Gf.apply(this,arguments)}(e.localStore,new BT(e.k),e.documents,e.mo.id),i=e.po(e.documents);for(const a of e.queries)yield c_(e.localStore,a,i.get(a.name));return e.progress.taskState="Success",new w1(Object.assign({},e.progress),t)})()}}function OA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class jT{constructor(e){this.key=e}}class si{constructor(e){this.key=e}}class $T{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=rn(),this.mutatedKeys=rn(),this.Ao=NI(e),this.Ro=new Bd(this.Ao)}get bo(){return this.To}Po(e,t){const i=t?t.vo:new A0,a=t?t.Ro:this.Ro;let c=t?t.mutatedKeys:this.mutatedKeys,h=a,y=!1;const b=Cg(this.query)&&a.size===this.query.limit?a.last():null,C=Lu(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((R,O)=>{const j=a.get(R),G=Dg(this.query,O)?O:null,X=!!j&&this.mutatedKeys.has(j.key),ve=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Oe=!1;j&&G?j.data.isEqual(G.data)?X!==ve&&(i.track({type:3,doc:G}),Oe=!0):this.Vo(j,G)||(i.track({type:2,doc:G}),Oe=!0,(b&&this.Ao(G,b)>0||C&&this.Ao(G,C)<0)&&(y=!0)):!j&&G?(i.track({type:0,doc:G}),Oe=!0):j&&!G&&(i.track({type:1,doc:j}),Oe=!0,(b||C)&&(y=!0)),Oe&&(G?(h=h.add(G),c=ve?c.add(R):c.delete(R)):(h=h.delete(R),c=c.delete(R)))}),Cg(this.query)||Lu(this.query))for(;h.size>this.query.limit;){const R=Cg(this.query)?h.last():h.first();h=h.delete(R.key),c=c.delete(R.key),i.track({type:1,doc:R})}return{Ro:h,vo:i,Bn:y,mutatedKeys:c}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const a=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const c=e.vo.no();c.sort((C,R)=>function(O,j){const G=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return G(O)-G(j)}(C.type,R.type)||this.Ao(C.doc,R.doc)),this.So(i);const h=t?this.Do():[],y=0===this.Io.size&&this.current?1:0,b=y!==this.Eo;return this.Eo=y,0!==c.length||b?{snapshot:new jd(this.query,e.Ro,a,c,e.mutatedKeys,0===y,b,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new A0,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=rn(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const t=[];return e.forEach(i=>{this.Io.has(i)||t.push(new si(i))}),this.Io.forEach(i=>{e.has(i)||t.push(new jT(i))}),t}ko(e){this.To=e.zn,this.Io=rn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return jd.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class MA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class R0{constructor(e){this.key=e,this.$o=!1}}class NA{constructor(e,t,i,a,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new Ug(y=>PE(y),Mf),this.Fo=new Map,this.Lo=new Set,this.Bo=new Sr(Ye.comparator),this.Uo=new Map,this.qo=new m0,this.Ko={},this.jo=new Map,this.Qo=$u.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function kA(n,e){return P0.apply(this,arguments)}function P0(){return(P0=(0,me.Z)(function*(n,e){const t=Hr(n);let i,a;const c=t.Mo.get(e);if(c)i=c.targetId,t.sharedClientState.addLocalQueryTarget(i),a=c.view.xo();else{const h=yield Pd(t.localStore,Cs(e)),y=t.sharedClientState.addLocalQueryTarget(h.targetId);i=h.targetId,a=yield O0(t,e,i,"current"===y),t.isPrimaryClient&&E0(t.remoteStore,h)}return a})).apply(this,arguments)}function O0(n,e,t,i){return M0.apply(this,arguments)}function M0(){return(M0=(0,me.Z)(function*(n,e,t,i){n.Go=(R,O,j)=>{return(G=(0,me.Z)(function*(X,ve,Oe,rt){let it=ve.view.Po(Oe);it.Bn&&(it=yield a_(X.localStore,ve.query,!1).then(({documents:cn})=>ve.view.Po(cn,it)));const Nt=rt&&rt.targetChanges.get(ve.targetId),at=ve.view.applyChanges(it,X.isPrimaryClient,Nt);return qT(X,ve.targetId,at.Co),at.snapshot}),function(X,ve,Oe,rt){return G.apply(this,arguments)})(n,R,O,j);var G};const a=yield a_(n.localStore,e,!0),c=new $T(e,a.zn),h=c.Po(a.documents),y=jf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),b=c.applyChanges(h,n.isPrimaryClient,y);qT(n,t,b.Co);const C=new MA(e,t,c);return n.Mo.set(e,C),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),b.snapshot})).apply(this,arguments)}function FA(n,e){return zg.apply(this,arguments)}function zg(){return(zg=(0,me.Z)(function*(n,e){const t=Le(n),i=t.Mo.get(e),a=t.Fo.get(i.targetId);if(a.length>1)return t.Fo.set(i.targetId,a.filter(c=>!Mf(c,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Od(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),zu(t.remoteStore,i.targetId),qd(t,i.targetId)}).catch(xd))):(qd(t,i.targetId),yield Od(t.localStore,i.targetId,!0))})).apply(this,arguments)}function N0(){return(N0=(0,me.Z)(function*(n,e,t){const i=v_(n);try{const a=yield function(c,h){const y=Le(c),b=jr.now(),C=h.reduce((O,j)=>O.add(j.key),rn());let R;return y.persistence.runTransaction("Locally write mutations","readwrite",O=>y.Wn.vn(O,C).next(j=>{R=j;const G=[];for(const X of h){const ve=UI(X,R.get(X.key));null!=ve&&G.push(new Vu(X.key,ve,$y(ve.value.mapValue),nr.exists(!0)))}return y.An.addMutationBatch(O,b,G,h)})).then(O=>(O.applyToLocalDocumentSet(R),{batchId:O.batchId,changes:R}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,h,y){let b=c.Ko[c.currentUser.toKey()];b||(b=new Sr(Bt)),b=b.insert(h,y),c.Ko[c.currentUser.toKey()]=b}(i,a.batchId,t),yield Ku(i,a.changes),yield ii(i.remoteStore)}catch(a){const c=Wu(a,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function k0(n,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,me.Z)(function*(n,e){const t=Le(n);try{const i=yield _A(t.localStore,e);e.targetChanges.forEach((a,c)=>{const h=t.Uo.get(c);h&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.$o=!0:a.modifiedDocuments.size>0?gt(h.$o):a.removedDocuments.size>0&&(gt(h.$o),h.$o=!1))}),yield Ku(t,i,e)}catch(i){yield xd(i)}})).apply(this,arguments)}function HT(n,e,t){const i=Le(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.Mo.forEach((c,h)=>{const y=h.view.ro(e);y.snapshot&&a.push(y.snapshot)}),function(c,h){const y=Le(c);y.onlineState=h;let b=!1;y.queries.forEach((C,R)=>{for(const O of R.listeners)O.ro(h)&&(b=!0)}),b&&$d(y)}(i.eventManager,e),a.length&&i.Oo.br(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function D1(n,e,t){return F0.apply(this,arguments)}function F0(){return(F0=(0,me.Z)(function*(n,e,t){const i=Le(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Uo.get(e),c=a&&a.key;if(c){let h=new Sr(Ye.comparator);h=h.insert(c,Sn.newNoDocument(c,Et.min()));const y=rn().add(c),b=new Bf(Et.min(),new Map,new zn(Bt),h,y);yield k0(i,b),i.Bo=i.Bo.remove(c),i.Uo.delete(e),j0(i)}else yield Od(i.localStore,e,!1).then(()=>qd(i,e,t)).catch(xd)})).apply(this,arguments)}function UA(n,e){return L0.apply(this,arguments)}function L0(){return(L0=(0,me.Z)(function*(n,e){const t=Le(n),i=e.batch.batchId;try{const a=yield mA(t.localStore,e);B0(t,i,null),V0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ku(t,a)}catch(a){yield xd(a)}})).apply(this,arguments)}function VA(n,e,t){return U0.apply(this,arguments)}function U0(){return(U0=(0,me.Z)(function*(n,e,t){const i=Le(n);try{const a=yield function(c,h){const y=Le(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let C;return y.An.lookupMutationBatch(b,h).next(R=>(gt(null!==R),C=R.keys(),y.An.removeMutationBatch(b,R))).next(()=>y.An.performConsistencyCheck(b)).next(()=>y.Wn.vn(b,C))})}(i.localStore,e);B0(i,e,t),V0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ku(i,a)}catch(a){yield xd(a)}})).apply(this,arguments)}function Hd(){return(Hd=(0,me.Z)(function*(n,e){const t=Le(n);kd(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(c){const h=Le(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>h.An.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===i)return void e.resolve();const a=t.jo.get(i)||[];a.push(e),t.jo.set(i,a)}catch(i){const a=Wu(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function V0(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function B0(n,e,t){const i=Le(n);let a=i.Ko[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),i.Ko[i.currentUser.toKey()]=a}}function qd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Fo.get(e))n.Mo.delete(i),t&&n.Oo.zo(i,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(i=>{n.qo.containsKey(i)||Qf(n,i)})}function Qf(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(zu(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),j0(n))}function qT(n,e,t){for(const i of t)i instanceof jT?(n.qo.addReference(i.key,e),ZT(n,i)):i instanceof si?(Ne("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,e),n.qo.containsKey(i.key)||Qf(n,i.key)):tt()}function ZT(n,e){const t=e.key,i=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(i)||(Ne("SyncEngine","New document in limbo: "+t),n.Lo.add(i),j0(n))}function j0(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new Ye(tn.fromString(e)),i=n.Qo.next();n.Uo.set(i,new R0(t)),n.Bo=n.Bo.insert(t,i),E0(n.remoteStore,new ul(Cs(bd(t.path)),i,2,Br.I))}}function Ku(n,e,t){return $0.apply(this,arguments)}function $0(){return($0=(0,me.Z)(function*(n,e,t){const i=Le(n),a=[],c=[],h=[];var y;i.Mo.isEmpty()||(i.Mo.forEach((y,b)=>{h.push(i.Go(b,e,t).then(C=>{if(C){i.isPrimaryClient&&i.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),a.push(C);const R=d0.$n(b.targetId,C);c.push(R)}}))}),yield Promise.all(h),i.Oo.br(a),yield(y=(0,me.Z)(function*(b,C){const R=Le(b);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>xe.forEach(C,j=>xe.forEach(j.kn,G=>R.persistence.referenceDelegate.addReference(O,j.targetId,G)).next(()=>xe.forEach(j.xn,G=>R.persistence.referenceDelegate.removeReference(O,j.targetId,G)))))}catch(O){if(!co(O))throw O;Ne("LocalStore","Failed to update sequence numbers: "+O)}for(const O of C){const j=O.targetId;if(!O.fromCache){const G=R.qn.get(j),ve=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);R.qn=R.qn.insert(j,ve)}}}),function(b,C){return y.apply(this,arguments)})(i.localStore,c))})).apply(this,arguments)}function jA(n,e){return H0.apply(this,arguments)}function H0(){return(H0=(0,me.Z)(function*(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const i=yield i_(t.localStore,e);t.currentUser=e,(a=t).jo.forEach(h=>{h.forEach(y=>{y.reject(new Pe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ku(t,i.Gn)}var a})).apply(this,arguments)}function zT(n,e){const t=Le(n),i=t.Uo.get(e);if(i&&i.$o)return rn().add(i.key);{let a=rn();const c=t.Fo.get(e);if(!c)return a;for(const h of c){const y=t.Mo.get(h);a=a.unionWith(y.view.bo)}return a}}function $A(n,e){return q0.apply(this,arguments)}function q0(){return(q0=(0,me.Z)(function*(n,e){const t=Le(n),i=yield a_(t.localStore,e.query,!0),a=e.view.ko(i);return t.isPrimaryClient&&qT(t,e.targetId,a.Co),a})).apply(this,arguments)}function S1(n){return GT.apply(this,arguments)}function GT(){return(GT=(0,me.Z)(function*(n){const e=Le(n);return p0(e.localStore).then(t=>Ku(e,t))})).apply(this,arguments)}function A1(n,e,t,i){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,me.Z)(function*(n,e,t,i){const a=Le(n),c=yield function(h,y){const b=Le(h),C=Le(b.An);return b.persistence.runTransaction("Lookup mutation documents","readonly",R=>C.Zt(R,y).next(O=>O?b.Wn.vn(R,O):xe.resolve(null)))}(a.localStore,e);var y;null!==c?("pending"===t?yield ii(a.remoteStore):"acknowledged"===t||"rejected"===t?(B0(a,e,i||null),V0(a,e),y=e,Le(Le(a.localStore).An).ee(y)):tt(),yield Ku(a,c)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Z0(){return(Z0=(0,me.Z)(function*(n,e){const t=Le(n);if(Hr(t),v_(t),!0===e&&!0!==t.Wo){const i=t.sharedClientState.getAllActiveQueryTargets(),a=yield WT(t,i.toArray());t.Wo=!0,yield Ud(t.remoteStore,!0);for(const c of a)E0(t.remoteStore,c)}else if(!1===e&&!1!==t.Wo){const i=[];let a=Promise.resolve();t.Fo.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?i.push(h):a=a.then(()=>(qd(t,h),Od(t.localStore,h,!0))),zu(t.remoteStore,h)}),yield a,yield WT(t,i),function(c){const h=Le(c);h.Uo.forEach((y,b)=>{zu(h.remoteStore,b)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Sr(Ye.comparator)}(t),t.Wo=!1,yield Ud(t.remoteStore,!1)}})).apply(this,arguments)}function WT(n,e,t){return z0.apply(this,arguments)}function z0(){return(z0=(0,me.Z)(function*(n,e,t){const i=Le(n),a=[],c=[];for(const h of e){let y;const b=i.Fo.get(h);if(b&&0!==b.length){y=yield Pd(i.localStore,Cs(b[0]));for(const C of b){const R=i.Mo.get(C),O=yield $A(i,R);O.snapshot&&c.push(O.snapshot)}}else{const C=yield bT(i.localStore,h);y=yield Pd(i.localStore,C),yield O0(i,KT(C),h,!1)}a.push(y)}return i.Oo.br(c),a})).apply(this,arguments)}function KT(n){return MI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function qA(n){const e=Le(n);return Le(Le(e.localStore).persistence).Tn()}function YT(n,e,t,i){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,me.Z)(function*(n,e,t,i){const a=Le(n);if(a.Wo)Ne("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const c=yield p0(a.localStore),h=Bf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ku(a,c,h);break}case"rejected":yield Od(a.localStore,e,!0),qd(a,e,i);break;default:tt()}})).apply(this,arguments)}function ZA(n,e,t){return yl.apply(this,arguments)}function yl(){return(yl=(0,me.Z)(function*(n,e,t){const i=Hr(n);if(i.Wo){for(const a of e){if(i.Fo.has(a)){Ne("SyncEngine","Adding an already active target "+a);continue}const c=yield bT(i.localStore,a),h=yield Pd(i.localStore,c);yield O0(i,KT(c),h.targetId,!1),E0(i.remoteStore,h)}for(const a of t)i.Fo.has(a)&&(yield Od(i.localStore,a,!1).then(()=>{zu(i.remoteStore,a),qd(i,a)}).catch(xd))}})).apply(this,arguments)}function Hr(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=k0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D1.bind(null,e),e.Oo.br=yt.bind(null,e.eventManager),e.Oo.zo=T1.bind(null,e.eventManager),e}function v_(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VA.bind(null,e),e}class E_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.k=Kf(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return f0(this.persistence,new vT,e.initialUser,this.k)}Yo(e){return new CA(y0.ks,this.k)}Jo(e){return new pl}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class QT extends E_{constructor(e,t,i){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,me.Z)(function*(){yield t().call(i,e),yield function(n){return g0.apply(this,arguments)}(i.localStore),yield i.tc.initialize(i,e),yield v_(i.tc.syncEngine),yield ii(i.tc.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(e){return f0(this.persistence,new vT,e.initialUser,this.k)}Xo(e){return new mT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=l0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?is.withCacheSize(this.cacheSizeBytes):is.DEFAULT;return new yT(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,AT(),f_(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new pl}}class JT extends QT{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,me.Z)(function*(){yield t().call(i,e);const a=i.tc.syncEngine;i.sharedClientState instanceof Wf&&(i.sharedClientState.syncEngine={mi:A1.bind(null,a),gi:YT.bind(null,a),yi:ZA.bind(null,a),Tn:qA.bind(null,a),_i:S1.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var c=(0,me.Z)(function*(h){yield function(n,e){return Z0.apply(this,arguments)}(i.tc.syncEngine,h),i.gcScheduler&&(h&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):h||i.gcScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}Jo(e){const t=AT();if(!Wf.Pt(t))throw new Pe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=l0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wf(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class b_{initialize(e,t){var i=this;return(0,me.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>HT(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=jA.bind(null,i.syncEngine),yield Ud(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new RA}createDatastore(e){const t=Kf(e.databaseInfo.databaseId),i=new h_(e.databaseInfo);return new AA(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,a=e.asyncQueue,c=y=>HT(this.syncEngine,y,0),h=ST.Pt()?new ST:new DT,new PT(t,i,a,c,h);var t,i,a,c,h}createSyncEngine(e,t){return function(i,a,c,h,y,b,C){const R=new NA(i,a,c,h,y,b);return C&&(R.Wo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const i=Le(t);Ne("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield Zu(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function G0(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class w_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zA{constructor(e,t){this.sc=e,this.k=t,this.metadata=new gr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,me.Z)(function*(){const t=yield e.oc();if(null===t)return null;const i=e.ic.decode(t),a=Number(i);isNaN(a)&&e.cc(`length string (${i}) is not valid number`);const c=yield e.ac(a);return new PA(JSON.parse(c),t.length+a)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,me.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ac(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const i=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,me.Z)(function*(){const t=yield e.sc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class GA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(a=(0,me.Z)(function*(c,h){const y=Le(c),b=sl(y.k)+"/documents",C={documents:h.map(G=>Pg(y.k,G))},R=yield y.ji("BatchGetDocuments",b,C),O=new Map;R.forEach(G=>{const X=function(n,e){return"found"in e?function(t,i){gt(!!i.found);const a=Ds(t,i.found.name),c=$e(i.found.updateTime),h=new ti({mapValue:{fields:i.found.fields}});return Sn.newFoundDocument(a,c,h)}(n,e):"missing"in e?function(t,i){gt(!!i.missing),gt(!!i.readTime);const a=Ds(t,i.missing),c=$e(i.readTime);return Sn.newNoDocument(a,c)}(n,e):tt()}(y.k,G);O.set(X.key.toString(),X)});const j=[];return h.forEach(G=>{const X=O.get(G.toString());gt(!!X),j.push(X)}),j}),function(c,h){return a.apply(this,arguments)})(t.datastore,e);var a;return i.forEach(a=>t.recordVersion(a)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ag(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,a)=>{const c=Ye.fromPath(a);e.mutations.push(new VE(c,e.precondition(c)))}),yield(i=(0,me.Z)(function*(a,c){const h=Le(a),y=sl(h.k)+"/documents",b={writes:c.map(C=>Mg(h.k,C))};yield h.Bi("Commit",y,b)}),function(a,c){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=Et.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Pe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?nr.updateTime(t):nr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Pe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nr.updateTime(t)}return nr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class XT{constructor(e,t,i,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=a,this.lc=5,this.ur=new p_(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,me.Z)(function*(){const t=new GA(e.datastore),i=e.dc(t);i&&i.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.wc(c)}))}).catch(a=>{e.wc(a)})}))}dc(e){try{const t=this.updateFunction(e);return!ku(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!jI(t)}return!1}}class WA{constructor(e,t,i,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Vr.UNAUTHENTICATED,this.clientId=wE.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var h=(0,me.Z)(function*(y){Ne("FirestoreClient","Received user=",y.uid),yield c.authCredentialListener(y),c.user=y});return function(y){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(i,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Wu(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function KA(n,e){return W0.apply(this,arguments)}function W0(){return(W0=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,me.Z)(function*(c){i.isEqual(c)||(yield i_(e.localStore,c),i=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function eC(n,e){return _l.apply(this,arguments)}function _l(){return(_l=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield tC(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(a=>{return(c=(0,me.Z)(function*(h,y){const b=Le(h);b.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const C=kd(b);b.Gr.add(3),yield Zu(b),C&&b.Jr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(y),b.Gr.delete(3),yield Vg(b)}),function(h,y){return c.apply(this,arguments)})(e.remoteStore,a);var c}),n.onlineComponents=e})).apply(this,arguments)}function tC(n){return I_.apply(this,arguments)}function I_(){return(I_=(0,me.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield KA(n,new E_)),n.offlineComponents})).apply(this,arguments)}function T_(n){return nC.apply(this,arguments)}function nC(){return(nC=(0,me.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield eC(n,new b_)),n.onlineComponents})).apply(this,arguments)}function K0(n){return tC(n).then(e=>e.persistence)}function Y0(n){return tC(n).then(e=>e.localStore)}function C_(n){return T_(n).then(e=>e.remoteStore)}function Q0(n){return T_(n).then(e=>e.syncEngine)}function Zd(n){return J0.apply(this,arguments)}function J0(){return(J0=(0,me.Z)(function*(n){const e=yield T_(n),t=e.eventManager;return t.onListen=kA.bind(null,e.syncEngine),t.onUnlisten=FA.bind(null,e.syncEngine),t})).apply(this,arguments)}function rC(n,e,t={}){const i=new gr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(a,c,h,y,b){const C=new w_({next:O=>{c.enqueueAndForget(()=>UT(a,R));const j=O.docs.has(h);!j&&O.fromCache?b.reject(new Pe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&O.fromCache&&y&&"server"===y.source?b.reject(new Pe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(O)},error:O=>b.reject(O)}),R=new x0(bd(h.path),C,{includeMetadataChanges:!0,wo:!0});return qg(a,R)}(yield Zd(n),n.asyncQueue,e,t,i)})),i.promise}function iC(n,e,t={}){const i=new gr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(a,c,h,y,b){const C=new w_({next:O=>{c.enqueueAndForget(()=>UT(a,R)),O.fromCache&&"server"===y.source?b.reject(new Pe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(O)},error:O=>b.reject(O)}),R=new x0(h,C,{includeMetadataChanges:!0,wo:!0});return qg(a,R)}(yield Zd(n),n.asyncQueue,e,t,i)})),i.promise}class aC{constructor(e,t,i,a,c,h,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=y,this.useFetchStreams=b}}class zd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zd&&e.projectId===this.projectId&&e.database===this.database}}const X0=new Map;function eb(n,e,t){if(!t)throw new Pe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uC(n,e,t,i){if(!0===e&&!0===i)throw new Pe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cC(n){if(!Ye.isDocumentKey(n))throw new Pe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lC(n){if(Ye.isDocumentKey(n))throw new Pe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function D_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function Gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=D_(n);throw new Pe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dC(n,e){if(e<=0)throw new Pe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Jf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yu{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jf({}),this._settingsFrozen=!1,e instanceof zd?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Pe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zd(a.options.projectId)}(e))}get app(){if(!this._app)throw new Pe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new BS;switch(t.type){case"gapi":const i=t.client;return gt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new jS(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Pe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=X0.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),X0.delete(e),t.terminate())}(this),Promise.resolve()}}class pn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class xn{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xn(this.firestore,e,this._query)}}class Va extends xn{constructor(e,t,i){super(e,t,bd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Ye(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function Qg(n,e,...t){if(n=(0,Pt.m9)(n),eb("collection","path",e),n instanceof Yu){const i=tn.fromString(e,...t);return lC(i),new Va(n,null,i)}{if(!(n instanceof pn||n instanceof Va))throw new Pe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tn.fromString(e,...t));return lC(i),new Va(n.firestore,null,i)}}function S_(n,e,...t){if(n=(0,Pt.m9)(n),1===arguments.length&&(e=wE.A()),eb("doc","path",e),n instanceof Yu){const i=tn.fromString(e,...t);return cC(i),new pn(n,null,new Ye(i))}{if(!(n instanceof pn||n instanceof Va))throw new Pe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tn.fromString(e,...t));return cC(i),new pn(n.firestore,n instanceof Va?n.converter:null,new Ye(i))}}function rx(n,e){return n=(0,Pt.m9)(n),e=(0,Pt.m9)(e),(n instanceof pn||n instanceof Va)&&(e instanceof pn||e instanceof Va)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function A_(n,e){return n=(0,Pt.m9)(n),e=(0,Pt.m9)(e),n instanceof xn&&e instanceof xn&&n.firestore===e.firestore&&Mf(n._query,e._query)&&n.converter===e.converter}class tb{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new p_(this,"async_queue_retry"),this.bc=()=>{const t=f_();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=f_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=f_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new gr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,me.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!co(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(i=>{throw this.Ec=i,this.Ic=!1,pr("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(i)),i}).then(i=>(this.Ic=!1,i))));return this.mc=t,t}enqueueAfterDelay(e,t,i){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const a=S0.createAndSchedule(this,e,t,i,c=>this.Sc(c));return this.Tc.push(a),a}Pc(){this.Ec&&tt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function x_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(n)}class nb{constructor(){this._progressObserver={},this._taskCompletionResolver=new gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class jn extends Yu{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new tb,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ib(this),this._firestoreClient.terminate()}}function Ar(n){return n._firestoreClient||ib(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ib(n){var e;const t=n._freezeSettings(),i=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new aC(n._databaseId,c,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var c,y;n._firestoreClient=new WA(n._authCredentials,n._appCheckCredentials,n._queue,i)}function fC(n,e,t){const i=new gr;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield KA(n,t),yield eC(n,e),i.resolve()}catch(a){if(!("FirebaseError"===(c=a).name?c.code===de.FAILED_PRECONDITION||c.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var c})).then(()=>i.promise)}function _C(n){if(n._initialized||n._terminated)throw new Pe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(tr.fromBase64String(e))}catch(t){throw new Pe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ki(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gd{constructor(e){this._methodName=e}}class R_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const P1=/^__.*__$/;class Jg{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vf(e,this.data,t,this.fieldTransforms)}}class vC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function P_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class O_{constructor(e,t,i,a,c,h){this.settings=e,this.databaseId=t,this.k=i,this.ignoreUndefinedProperties=a,void 0===c&&this.xc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new O_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:i,Fc:!1});return a.Lc(e),a}Bc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:i,Fc:!1});return a.xc(),a}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return tm(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(P_(this.$c)&&P1.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class EC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=i||Kf(e)}Qc(e,t,i,a=!1){return new O_({$c:e,methodName:t,jc:i,path:ei.emptyPath(),Fc:!1,Kc:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Wd(n){const e=n._freezeSettings(),t=Kf(n._databaseId);return new EC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function M_(n,e,t,i,a,c={}){const h=n.Qc(c.merge||c.mergeFields?2:0,e,t,a);Xg("Data must be an object, but it was:",h,i);const y=lb(i,h);let b,C;if(c.merge)b=new yd(h.fieldMask),C=h.fieldTransforms;else if(c.mergeFields){const R=[];for(const O of c.mergeFields){const j=em(e,O,t);if(!h.contains(j))throw new Pe(de.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);hb(R,j)||R.push(j)}b=new yd(R),C=h.fieldTransforms.filter(O=>b.covers(O.field))}else b=null,C=h.fieldTransforms;return new Jg(new ti(y),b,C)}class Kd extends Gd{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kd}}function ob(n,e,t){return new O_({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class N_ extends Gd{_toFieldTransform(e){return new rl(e.path,new Nf)}isEqual(e){return e instanceof N_}}class k_ extends Gd{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=ob(this,e,!0),i=this.Wc.map(c=>Ba(c,t)),a=new Uu(i);return new rl(e.path,a)}isEqual(e){return this===e}}class ab extends Gd{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=ob(this,e,!0),i=this.Wc.map(c=>Ba(c,t)),a=new wd(i);return new rl(e.path,a)}isEqual(e){return this===e}}class O1 extends Gd{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new Ff(e.k,OE(e.k,this.Gc));return new rl(e.path,t)}isEqual(e){return this===e}}function F_(n,e,t,i){const a=n.Qc(1,e,t);Xg("Data must be an object, but it was:",a,i);const c=[],h=ti.empty();md(i,(b,C)=>{const R=db(e,b,t);C=(0,Pt.m9)(C);const O=a.Bc(R);if(C instanceof Kd)c.push(R);else{const j=Ba(C,O);null!=j&&(c.push(R),h.set(R,j))}});const y=new yd(c);return new vC(h,y,a.fieldTransforms)}function ub(n,e,t,i,a,c){const h=n.Qc(1,e,t),y=[em(e,i,t)],b=[a];if(c.length%2!=0)throw new Pe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<c.length;j+=2)y.push(em(e,c[j])),b.push(c[j+1]);const C=[],R=ti.empty();for(let j=y.length-1;j>=0;--j)if(!hb(C,y[j])){const G=y[j];let X=b[j];X=(0,Pt.m9)(X);const ve=h.Bc(G);if(X instanceof Kd)C.push(G);else{const Oe=Ba(X,ve);null!=Oe&&(C.push(G),R.set(G,Oe))}}const O=new yd(C);return new vC(R,O,h.fieldTransforms)}function cb(n,e,t,i=!1){return Ba(t,n.Qc(i?4:3,e))}function Ba(n,e){if(bC(n=(0,Pt.m9)(n)))return Xg("Unsupported field value:",e,n),lb(n,e);if(n instanceof Gd)return function(t,i){if(!P_(i.$c))throw i.qc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,i){const a=[];let c=0;for(const h of t){let y=Ba(h,i.Uc(c));null==y&&(y={nullValue:"NULL_VALUE"}),a.push(y),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,i){if(null===(t=(0,Pt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return OE(i.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=jr.fromDate(t);return{timestampValue:$f(i.k,a)}}if(t instanceof jr){const a=new jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$f(i.k,a)}}if(t instanceof R_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ki)return{bytesValue:qE(i.k,t._byteString)};if(t instanceof pn){const a=i.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw i.qc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ZE(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.qc(`Unsupported field value: ${D_(t)}`)}(n,e)}function lb(n,e){const t={};return EI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):md(n,(i,a)=>{const c=Ba(a,e.Mc(i));null!=c&&(t[i]=c)}),{mapValue:{fields:t}}}function bC(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jr||n instanceof R_||n instanceof ki||n instanceof pn||n instanceof Gd)}function Xg(n,e,t){if(!bC(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=D_(t);throw e.qc("an object"===i?n+" a custom object":n+" "+i)}var i}function em(n,e,t){if((e=(0,Pt.m9)(e))instanceof vl)return e._internalPath;if("string"==typeof e)return db(n,e);throw tm("Field path arguments must be of type string or ",n,!1,void 0,t)}const ax=new RegExp("[~\\*/\\[\\]]");function db(n,e,t){if(e.search(ax)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vl(...e.split("."))._internalPath}catch(i){throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tm(n,e,t,i,a){const c=i&&!i.isEmpty(),h=void 0!==a;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let b="";return(c||h)&&(b+=" (found",c&&(b+=` in field ${i}`),h&&(b+=` in document ${a}`),b+=")"),new Pe(de.INVALID_ARGUMENT,y+n+b)}function hb(n,e){return n.some(t=>t.isEqual(e))}class Xf{constructor(e,t,i,a,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ux(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ux extends Xf{data(){return super.data()}}function nm(n,e){return"string"==typeof e?db(n,e):e instanceof vl?e._internalPath:e._delegate._internalPath}class El{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qu extends Xf{constructor(e,t,i,a,c,h){super(e,t,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(nm("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class rm extends Qu{data(e={}){return super.data(e)}}class Ju{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new El(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new rm(this._firestore,this._userDataWriter,i.key,i,new El(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(h=>({type:"added",doc:new rm(i._firestore,i._userDataWriter,h.doc.key,h.doc,new El(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:c++}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const y=new rm(i._firestore,i._userDataWriter,h.doc.key,h.doc,new El(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let b=-1,C=-1;return 0!==h.type&&(b=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),C=c.indexOf(h.doc.key)),{type:cx(h.type),doc:y,oldIndex:b,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function fb(n,e){return n instanceof Qu&&e instanceof Qu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ju&&e instanceof Ju&&n._firestore===e._firestore&&A_(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function pb(n){if(Lu(n)&&0===n.explicitOrderBy.length)throw new Pe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ep{}function Xu(n,...e){for(const t of e)n=t._apply(n);return n}class lx extends ep{constructor(e,t,i){super(),this.zc=e,this.Hc=t,this.Jc=i,this.type="where"}_apply(e){const t=Wd(e.firestore),i=function(a,c,h,y,b,C,R){let O;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Pe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){_x(R,C);const G=[];for(const X of R)G.push(yx(y,a,X));O={arrayValue:{values:G}}}else O=yx(y,a,R)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||_x(R,C),O=cb(h,"where",R,"in"===C||"not-in"===C);const j=yi.create(b,C,O);return function(G,X){if(X.V()){const Oe=RE(G);if(null!==Oe&&!Oe.isEqual(X.field))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Oe.toString()}' and '${X.field.toString()}'`);const rt=xE(G);null!==rt&&vx(0,X.field,rt)}const ve=function(Oe,rt){for(const it of Oe.filters)if(rt.indexOf(it.op)>=0)return it.op;return null}(G,function(Oe){switch(Oe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==ve)throw new Pe(de.INVALID_ARGUMENT,ve===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${ve.toString()}' filters.`)}(a,j),j}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new xn(e.firestore,e.converter,function(a,c){const h=a.filters.concat([c]);return new Na(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,i))}}class hx extends ep{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(i,a,c){if(null!==i.startAt)throw new Pe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Pe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Nn(a,c);return function(y,b){if(null===xE(y)){const C=RE(y);null!==C&&vx(0,C,b.field)}}(i,h),h}(e._query,this.zc,this.Yc);return new xn(e.firestore,e.converter,function(i,a){const c=i.explicitOrderBy.concat([a]);return new Na(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class fx extends ep{constructor(e,t,i){super(),this.type=e,this.Xc=t,this.Zc=i}_apply(e){return new xn(e.firestore,e.converter,zS(e._query,this.Xc,this.Zc))}}class px extends ep{constructor(e,t,i){super(),this.type=e,this.ta=t,this.ea=i}_apply(e){const t=mx(e,this.type,this.ta,this.ea);return new xn(e.firestore,e.converter,(a=t,new Na((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)));var i,a}}class gx extends ep{constructor(e,t,i){super(),this.type=e,this.ta=t,this.ea=i}_apply(e){const t=mx(e,this.type,this.ta,this.ea);return new xn(e.firestore,e.converter,(a=t,new Na((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)));var i,a}}function mx(n,e,t,i){if(t[0]=(0,Pt.m9)(t[0]),t[0]instanceof Xf)return function(a,c,h,y,b){if(!y)throw new Pe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const R of Of(a))if(R.field.isKeyField())C.push(Af(c,y.key));else{const O=y.data.field(R.field);if(_d(O))throw new Pe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const j=R.field.canonicalString();throw new Pe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}C.push(O)}return new Pf(C,b)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=Wd(n.firestore);return function(c,h,y,b,C,R){const O=c.explicitOrderBy;if(C.length>O.length)throw new Pe(de.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let G=0;G<C.length;G++){const X=C[G];if(O[G].field.isKeyField()){if("string"!=typeof X)throw new Pe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof X}`);if(!qy(c)&&-1!==X.indexOf("/"))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${X}' contains a slash.`);const ve=c.path.child(tn.fromString(X));if(!Ye.isDocumentKey(ve))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Oe=new Ye(ve);j.push(Af(h,Oe))}else{const ve=cb(y,b,X);j.push(ve)}}return new Pf(j,R)}(n._query,n.firestore._databaseId,a,e,t,i)}}function yx(n,e,t){if("string"==typeof(t=(0,Pt.m9)(t))){if(""===t)throw new Pe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qy(e)&&-1!==t.indexOf("/"))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(tn.fromString(t));if(!Ye.isDocumentKey(i))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Af(n,new Ye(i))}if(t instanceof pn)return Af(n,t._key);throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${D_(t)}.`)}function _x(n,e){if(!Array.isArray(n)||0===n.length)throw new Pe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Pe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function vx(n,e,t){if(!t.isEqual(e))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class IC{convertValue(e,t="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Eg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const i={};return md(e.fields,(a,c)=>{i[a]=this.convertValue(c,t)}),i}convertGeoPoint(e){return new R_(mr(e.latitude),mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=II(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){const t=Ma(e);return new jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=tn.fromString(e);gt(qf(i));const a=new zd(i.get(1),i.get(3)),c=new Ye(i.popFirst(5));return a.isEqual(t)||pr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function gb(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class V1 extends IC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,t)}}class Ex{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wd(e)}set(e,t,i){this._verifyNotCommitted();const a=bl(e,this._firestore),c=gb(a.converter,t,i),h=M_(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,i);return this._mutations.push(h.toMutation(a._key,nr.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const c=bl(e,this._firestore);let h;return h="string"==typeof(t=(0,Pt.m9)(t))||t instanceof vl?ub(this._dataReader,"WriteBatch.update",c._key,t,i,a):F_(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bl(e,this._firestore);return this._mutations=this._mutations.concat(new Ag(t._key,nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bl(n,e){if((n=(0,Pt.m9)(n)).firestore!==e)throw new Pe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Yd extends IC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,t)}}function TC(n,e,t){n=Gt(n,pn);const i=Gt(n.firestore,jn),a=gb(n.converter,e,t);return im(i,[M_(Wd(i),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,nr.none())])}function Tx(n,e,t,...i){n=Gt(n,pn);const a=Gt(n.firestore,jn),c=Wd(a);let h;return h="string"==typeof(e=(0,Pt.m9)(e))||e instanceof vl?ub(c,"updateDoc",n._key,e,t,i):F_(c,"updateDoc",n._key,e),im(a,[h.toMutation(n._key,nr.exists(!0))])}function Cx(n,...e){var t,i,a;n=(0,Pt.m9)(n);let c={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||x_(e[h])||(c=e[h],h++);const y={includeMetadataChanges:c.includeMetadataChanges};if(x_(e[h])){const O=e[h];e[h]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[h+1]=null===(i=O.error)||void 0===i?void 0:i.bind(O),e[h+2]=null===(a=O.complete)||void 0===a?void 0:a.bind(O)}let b,C,R;if(n instanceof pn)C=Gt(n.firestore,jn),R=bd(n._key.path),b={next:O=>{e[h]&&e[h](mb(C,n,O))},error:e[h+1],complete:e[h+2]};else{const O=Gt(n,xn);C=Gt(O.firestore,jn),R=O._query;const j=new Yd(C);b={next:G=>{e[h]&&e[h](new Ju(C,j,O,G))},error:e[h+1],complete:e[h+2]},pb(n._query)}return function(O,j,G,X){const ve=new w_(X),Oe=new x0(j,ve,G);return O.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return qg(yield Zd(O),Oe)})),()=>{ve.nc(),O.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return UT(yield Zd(O),Oe)}))}}(Ar(C),R,y,b)}function im(n,e){return function(t,i){const a=new gr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e,t){return N0.apply(this,arguments)}(yield Q0(t),i,a)})),a.promise}(Ar(n),e)}function mb(n,e,t){const i=t.docs.get(e._key),a=new Yd(n);return new Qu(n,a,e._key,i,new El(t.hasPendingWrites,t.fromCache),e.converter)}class yb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wd(e)}get(e){const t=bl(e,this._firestore),i=new V1(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return tt();const c=a[0];if(c.isFoundDocument())return new Xf(this._firestore,i,c.key,c,t.converter);if(c.isNoDocument())return new Xf(this._firestore,i,t._key,null,t.converter);throw tt()})}set(e,t,i){const a=bl(e,this._firestore),c=gb(a.converter,t,i),h=M_(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,i);return this._transaction.set(a._key,h),this}update(e,t,i,...a){const c=bl(e,this._firestore);let h;return h="string"==typeof(t=(0,Pt.m9)(t))||t instanceof vl?ub(this._dataReader,"Transaction.update",c._key,t,i,a):F_(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,h),this}delete(e){const t=bl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bl(e,this._firestore),i=new Yd(this._firestore);return super.get(e).then(a=>new Qu(this._firestore,i,t._key,a._document,new El(!1,!1),t.converter))}}function L_(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sm(){if("undefined"==typeof Uint8Array)throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function vb(){if("undefined"==typeof atob)throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Df=Yr.SDK_VERSION,(0,Yr._registerComponent)(new Xp.wA("firestore",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),c=new jn(a,new d1(t.getProvider("auth-internal")),new f1(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC")),(0,Yr.registerVersion)(yI,"3.4.3",n),(0,Yr.registerVersion)(yI,"3.4.3","esm2017")}();class U_{constructor(e){this._delegate=e}static fromBase64String(e){return vb(),new U_(ki.fromBase64String(e))}static fromUint8Array(e){return sm(),new U_(ki.fromUint8Array(e))}toBase64(){return vb(),this._delegate.toBase64()}toUint8Array(){return sm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function AC(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of["next","error","complete"])if(i in t&&"function"==typeof t[i])return!0;return!1}(n)}class Rx{enableIndexedDbPersistence(e,t){return function(n,e){_C(n=Gt(n,jn));const t=Ar(n),i=n._freezeSettings(),a=new b_;return fC(t,a,new QT(a,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){_C(n=Gt(n,jn));const e=Ar(n),t=n._freezeSettings(),i=new b_;return fC(e,i,new JT(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Pe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(i){if(!uo.Pt())return Promise.resolve();const a=i+"main";yield uo.delete(a)}),function(i){return t.apply(this,arguments)})(l0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Px{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof zd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Sf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function(n,e,t,i={}){var a;const c=(n=Gt(n,Yu))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Sf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let h,y;if("string"==typeof i.mockUserToken)h=i.mockUserToken,y=Vr.MOCK_USER;else{h=(0,Pt.Sg)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Pe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Vr(b)}n._authCredentials=new l1(new Fy(h,y))}}(this._delegate,e,t,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield K0(n),t=yield C_(n);return e.setNetworkEnabled(!0),function(i){const a=Le(i);return a.Gr.delete(0),Vg(a)}(t)}))}(Ar(n=Gt(n,jn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield K0(n),t=yield C_(n);return e.setNetworkEnabled(!1),(i=(0,me.Z)(function*(a){const c=Le(a);c.Gr.add(0),yield Zu(c),c.Jr.set("Offline")}),function(a){return i.apply(this,arguments)})(t);var i}))}(Ar(n=Gt(n,jn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,uC("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new gr;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e){return Hd.apply(this,arguments)}(yield Q0(e),t)})),t.promise}(Ar(n=Gt(n,jn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new w_(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i=yield Zd(n),a=t,Le(i).io.add(a),void a.next();var i,a})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return i=yield Zd(n),a=t,void Le(i).io.delete(a);var i,a}))}}(Ar(n=Gt(n,jn)),x_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rp(this,Qg(this._delegate,e))}catch(t){throw os(t,"collection()","Firestore.collection()")}}doc(e){try{return new ho(this,S_(this._delegate,e))}catch(t){throw os(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Fi(this,function(n,e){if(n=Gt(n,Yu),eb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xn(n,null,(t=e,new Na(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw os(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new gr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const i=yield(a=n,T_(a).then(c=>c.datastore));var a;new XT(n.asyncQueue,i,e,t).run()})),t.promise}(Ar(n=Gt(n,jn)),t=>e(new yb(n,t)))}(this._delegate,t=>e(new Mx(this,t)))}batch(){return Ar(this._delegate),new Nx(new Ex(this._delegate,e=>im(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Ar(n=Gt(n,jn)),i=new nb;return function(n,e,t,i){const a=function(c,h){let y;return y="string"==typeof c?(new TextEncoder).encode(c):c,b=function(b,C){if(b instanceof Uint8Array)return G0(b,C);if(b instanceof ArrayBuffer)return G0(new Uint8Array(b),C);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new zA(b,h);var b}(t,Kf(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function(n,e,t){const i=Le(n);var a;(a=(0,me.Z)(function*(c,h,y){try{const b=yield h.getMetadata();if(yield function(j,G){const X=Le(j),ve=$e(G.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",Oe=>X.Ye.getBundleMetadata(Oe,G.id)).then(Oe=>!!Oe&&Oe.createTime.compareTo(ve)>=0)}(c.localStore,b))return yield h.close(),void y._completeWith((j=b,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));y._updateProgress(OA(b));const C=new C1(b,c.localStore,h.k);let R=yield h.Ho();for(;R;){const j=yield C.yo(R);j&&y._updateProgress(j),R=yield h.Ho()}const O=yield C.complete();yield Ku(c,O.In,void 0),yield function(j,G){const X=Le(j);return X.persistence.runTransaction("Save bundle","readwrite",ve=>X.Ye.saveBundleMetadata(ve,G))}(c.localStore,b),y._completeWith(O.progress)}catch(b){Sf("SyncEngine",`Loading bundle failed with ${b}`),y._failWith(b)}var j}),function(c,h,y){return a.apply(this,arguments)})(i,e,t).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield Q0(n),a,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,i){const a=Le(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Ye.getNamedQuery(c,i))}(yield Y0(n),e)}))}(Ar(n=Gt(n,jn)),e).then(t=>t?new xn(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Fi(this,t):null)}}class Qd extends IC{constructor(e){super(),this.firestore=e}convertBytes(e){return new U_(new ki(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ho.forKey(t,this.firestore,null)}}class Mx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Qd(e)}get(e){const t=Go(e);return this._delegate.get(t).then(i=>new V_(this._firestore,new Qu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=Go(e);return i?(L_("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const c=Go(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...a),this}delete(e){const t=Go(e);return this._delegate.delete(t),this}}class Nx{constructor(e){this._delegate=e}set(e,t,i){const a=Go(e);return i?(L_("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const c=Go(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...a),this}delete(e){const t=Go(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ec{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new rm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new np(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=ec.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let c=a.get(t);return c||(c=new ec(e,new Qd(e),t),a.set(t,c)),c}}ec.INSTANCES=new WeakMap;class ho{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qd(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ho(t,new pn(t._delegate,i,new Ye(e)))}static forKey(e,t,i){return new ho(t,new pn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new rp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rp(this.firestore,Qg(this._delegate,e))}catch(t){throw os(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pt.m9)(e))instanceof pn&&rx(this._delegate,e)}set(e,t){t=L_("DocumentReference.set",t);try{return t?TC(this._delegate,e,t):TC(this._delegate,e)}catch(i){throw os(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Tx(this._delegate,e):Tx(this._delegate,e,t,...i)}catch(a){throw os(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return im(Gt(n.firestore,jn),[new Ag(n._key,nr.none())])}(this._delegate)}onSnapshot(...e){const t=kx(e),i=xC(e,a=>new V_(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Cx(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Gt(n,pn);const e=Gt(n.firestore,jn),t=Ar(e),i=new Yd(e);return function(n,e){const t=new gr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(i=(0,me.Z)(function*(a,c,h){try{const y=yield function(b,C){const R=Le(b);return R.persistence.runTransaction("read document","readonly",O=>R.Wn.Rn(O,C))}(a,c);y.isFoundDocument()?h.resolve(y):y.isNoDocument()?h.resolve(null):h.reject(new Pe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const b=Wu(y,`Failed to get document '${c} from cache`);h.reject(b)}}),function(a,c,h){return i.apply(this,arguments)})(yield Y0(n),e,t);var i})),t.promise}(t,n._key).then(a=>new Qu(e,i,n._key,a,new El(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Gt(n,pn);const e=Gt(n.firestore,jn);return rC(Ar(e),n._key,{source:"server"}).then(t=>mb(e,n,t))}(this._delegate):function(n){n=Gt(n,pn);const e=Gt(n.firestore,jn);return rC(Ar(e),n._key).then(t=>mb(e,n,t))}(this._delegate),t.then(i=>new V_(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ho(this.firestore,this._delegate.withConverter(e?ec.getInstance(this.firestore,e):null))}}function os(n,e,t){return n.message=n.message.replace(e,t),n}function kx(n){for(const e of n)if("object"==typeof e&&!AC(e))return e;return{}}function xC(n,e){var t,i;let a;return a=AC(n[0])?n[0]:AC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class V_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ho(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fb(this._delegate,e._delegate)}}class np extends V_{data(e){const t=this._delegate.data(e);return function(n,e){n||tt()}(void 0!==t),t}}class Fi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qd(e)}where(e,t,i){try{return new Fi(this.firestore,Xu(this._delegate,function(n,e,t){const i=e,a=nm("where",n);return new lx(a,i,t)}(e,t,i)))}catch(a){throw os(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Fi(this.firestore,Xu(this._delegate,function(n,e="asc"){const t=e,i=nm("orderBy",n);return new hx(i,t)}(e,t)))}catch(i){throw os(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Fi(this.firestore,Xu(this._delegate,function(n){return dC("limit",n),new fx("limit",n,"F")}(e)))}catch(t){throw os(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Fi(this.firestore,Xu(this._delegate,function(n){return dC("limitToLast",n),new fx("limitToLast",n,"L")}(e)))}catch(t){throw os(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Fi(this.firestore,Xu(this._delegate,function(...n){return new px("startAt",n,!0)}(...e)))}catch(t){throw os(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Fi(this.firestore,Xu(this._delegate,function(...n){return new px("startAfter",n,!1)}(...e)))}catch(t){throw os(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Fi(this.firestore,Xu(this._delegate,function(...n){return new gx("endBefore",n,!0)}(...e)))}catch(t){throw os(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Fi(this.firestore,Xu(this._delegate,function(...n){return new gx("endAt",n,!1)}(...e)))}catch(t){throw os(t,"endAt()","Query.endAt()")}}isEqual(e){return A_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Gt(n,xn);const e=Gt(n.firestore,jn),t=Ar(e),i=new Yd(e);return function(n,e){const t=new gr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(i=(0,me.Z)(function*(a,c,h){try{const y=yield a_(a,c,!0),b=new $T(c,y.zn),C=b.Po(y.documents),R=b.applyChanges(C,!1);h.resolve(R.snapshot)}catch(y){const b=Wu(y,`Failed to execute query '${c} against cache`);h.reject(b)}}),function(a,c,h){return i.apply(this,arguments)})(yield Y0(n),e,t);var i})),t.promise}(t,n._query).then(a=>new Ju(e,i,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Gt(n,xn);const e=Gt(n.firestore,jn),t=Ar(e),i=new Yd(e);return iC(t,n._query,{source:"server"}).then(a=>new Ju(e,i,n,a))}(this._delegate):function(n){n=Gt(n,xn);const e=Gt(n.firestore,jn),t=Ar(e),i=new Yd(e);return pb(n._query),iC(t,n._query).then(a=>new Ju(e,i,n,a))}(this._delegate),t.then(i=>new RC(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=kx(e),i=xC(e,a=>new RC(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Cx(this._delegate,t,i)}withConverter(e){return new Fi(this.firestore,this._delegate.withConverter(e?ec.getInstance(this.firestore,e):null))}}class G1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new np(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Fi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new np(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new G1(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new np(this._firestore,i))})}isEqual(e){return fb(this._delegate,e._delegate)}}class rp extends Fi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ho(this.firestore,e):null}doc(e){try{return new ho(this.firestore,void 0===e?S_(this._delegate):S_(this._delegate,e))}catch(t){throw os(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Gt(n.firestore,jn),i=S_(n),a=gb(n.converter,e);return im(t,[M_(Wd(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,nr.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ho(this.firestore,t))}isEqual(e){return rx(this._delegate,e._delegate)}withConverter(e){return new rp(this.firestore,this._delegate.withConverter(e?ec.getInstance(this.firestore,e):null))}}function Go(n){return Gt(n,pn)}class Eb{constructor(...e){this._delegate=new vl(...e)}static documentId(){return new Eb(ei.keyField().canonicalString())}isEqual(e){return(e=(0,Pt.m9)(e))instanceof vl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jd{constructor(e){this._delegate=e}static serverTimestamp(){const e=new N_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Jd(e)}static delete(){const e=new Kd("deleteField");return e._methodName="FieldValue.delete",new Jd(e)}static arrayUnion(...e){const t=function(...n){return new k_("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Jd(t)}static arrayRemove(...e){const t=function(...n){return new ab("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Jd(t)}static increment(e){const t=function(n){return new O1("increment",n)}(e);return t._methodName="FieldValue.increment",new Jd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Fx={Firestore:Px,GeoPoint:R_,Timestamp:jr,Blob:U_,Transaction:Mx,WriteBatch:Nx,DocumentReference:ho,DocumentSnapshot:V_,Query:Fi,QueryDocumentSnapshot:np,QuerySnapshot:RC,CollectionReference:rp,FieldPath:Eb,FieldValue:Jd,setLogLevel:function(n){!function(n){Nu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Xp.wA("firestore-compat",t=>((e,t)=>new Px(e,t,new Rx))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Fx)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(vw.Z);var xs=L(6682),om=L(309),wb=L(7771),Ux=L(8858);class Vx extends ys.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Ib(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=i.length;let h;if(this.closed)throw new Po.N;if(this.isStopped||this.hasError?h=Hl.w.EMPTY:(this.observers.push(e),h=new Ux.W(this,e)),a&&e.add(e=new om.ht(e,a)),t)for(let y=0;y<c&&!e.closed;y++)e.next(i[y]);else for(let y=0;y<c&&!e.closed;y++)e.next(i[y].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||wb.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,a=this._events,c=a.length;let h=0;for(;h<c&&!(e-a[h].time<i);)h++;return c>t&&(h=Math.max(h,c-t)),h>0&&a.splice(0,h),a}}class Ib{constructor(e,t){this.time=e,this.value=t}}function Tb(n,e,t){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:i}){let a,h,c=0,y=!1,b=!1;return function(R){let O;c++,!a||y?(y=!1,a=new Vx(n,e,i),O=a.subscribe(this),h=R.subscribe({next(j){a.next(j)},error(j){y=!0,a.error(j)},complete(){b=!0,h=void 0,a.complete()}}),b&&(h=void 0)):O=a.subscribe(this),this.add(()=>{c--,O.unsubscribe(),O=void 0,h&&!b&&t&&0===c&&(h.unsubscribe(),h=void 0,a=void 0)})}}(i))}function OC(n,e){return e?Vn(()=>n,e):Vn(()=>n)}var B_=L(3101);L(2329);const Db=new Map,$x={activated:!1,tokenObservers:[]},Hx={initialized:!1,enabled:!1};function xr(n){return Db.get(n)||$x}function Ko(n,e){Db.set(n,e)}function Sb(){return Hx}class xb{constructor(e,t,i,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new Pt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Pt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Li=new Pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Gx(n){if(!xr(n).activated)throw Li.create("use-before-activation",{appName:n.name})}function Pb(n,e){return Ob.apply(this,arguments)}function Ob(){return(Ob=(0,me.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(i["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:i};let h,y;try{h=yield fetch(n,c)}catch(O){throw Li.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==h.status)throw Li.create("fetch-status-error",{httpStatus:h.status});try{y=yield h.json()}catch(O){throw Li.create("fetch-parse-error",{originalErrorMessage:O.message})}const b=y.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Li.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const C=1e3*Number(b[1]),R=Date.now();return{token:y.attestationToken,expireTimeMillis:R+C,issuedAtTimeMillis:R}})).apply(this,arguments)}function UC(n,e){const{projectId:t,appId:i,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const cm="firebase-app-check-store";let ir=null;function Yx(){return ir||(ir=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var a;e(Li.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=i=>{const a=i.target.result;switch(i.oldVersion){case 0:a.createObjectStore(cm,{keyPath:"compositeKey"})}}}catch(t){e(Li.create("storage-open",{originalErrorMessage:t.message}))}}),ir)}function Mb(){return(Mb=(0,me.Z)(function*(n,e){const i=(yield Yx()).transaction(cm,"readwrite"),c=i.objectStore(cm).put({compositeKey:n,value:e});return new Promise((h,y)=>{c.onsuccess=b=>{h()},i.onerror=b=>{var C;y(Li.create("storage-set",{originalErrorMessage:null===(C=b.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const Xd=new Zc.Yd("@firebase/app-check");function lm(n,e){return(0,Pt.hl)()?function(n,e){return function(n,e){return Mb.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Xd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ub(){return Sb().enabled}function Rr(){return $C.apply(this,arguments)}function $C(){return($C=(0,me.Z)(function*(){const n=Sb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const eR={error:"UNKNOWN_ERROR"};function rP(n){return Pt.US.encodeString(JSON.stringify(n),!1)}function eh(n){return Vb.apply(this,arguments)}function Vb(){return(Vb=(0,me.Z)(function*(n,e=!1){const t=n.app;Gx(t);const i=xr(t);let c,a=i.token;if(!a){const b=yield i.cachedTokenPromise;b&&G_(b)&&(a=b)}if(!e&&a&&G_(a))return{token:a.token};let y,h=!1;if(Ub()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Pb(UC(t,yield Rr()),n.platformLoggerProvider).then(C=>(i.exchangeTokenPromise=void 0,C)),h=!0);const b=yield i.exchangeTokenPromise;return yield lm(t,b),Ko(t,Object.assign(Object.assign({},i),{token:b})),{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(b=>(i.exchangeTokenPromise=void 0,b)),h=!0),a=yield i.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Xd.warn(b.message):Xd.error(b),c=b}return a?(y={token:a.token},Ko(t,Object.assign(Object.assign({},i),{token:a})),yield lm(t,a)):y=rR(c),h&&ZC(t,y),y})).apply(this,arguments)}function qC(n,e){const t=xr(n),i=t.tokenObservers.filter(a=>a.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ko(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function tR(n){const{app:e}=n,t=xr(e);let i=t.tokenRefresher;i||(i=function(n){const{app:e}=n;return new xb((0,me.Z)(function*(){let i;if(i=xr(e).token?yield eh(n,!0):yield eh(n),i.error)throw i.error}),()=>!0,()=>{const t=xr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ko(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ZC(n,e){const t=xr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(a){}}function G_(n){return n.expireTimeMillis-Date.now()>0}function rR(n){return{token:rP(eR),error:n}}class iR{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=xr(this.app);for(const t of e)qC(this.app,t.next);return Promise.resolve()}}const Y_="app-check-internal";(0,Yr._registerComponent)(new Xp.wA("app-check",n=>function(n,e){return new iR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Y_).initialize()})),(0,Yr._registerComponent)(new Xp.wA(Y_,n=>function(n){return{getToken:e=>eh(n,e),addTokenListener:e=>function(n,e,t,i){const{app:a}=n,c=xr(a),h={next:t,error:i,type:e};if(Ko(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]})),c.token&&G_(c.token)){const y=c.token;Promise.resolve().then(()=>{t({token:y.token}),tR(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>tR(n))}(n,"INTERNAL",e),removeTokenListener:e=>qC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yr.registerVersion)("@firebase/app-check","0.5.3");class tD{constructor(){return(0,Kr.vb)("app-check")}}"undefined"!=typeof window&&window;var aD=L(7841);const cD=new f.OlP("angularfire2.auth.use-emulator"),lD=new f.OlP("angularfire2.auth.settings"),qb=new f.OlP("angularfire2.auth.tenant-id"),dD=new f.OlP("angularfire2.auth.langugage-code"),hD=new f.OlP("angularfire2.auth.use-device-language"),fD=new f.OlP("angularfire.auth.persistence"),Q_=(n,e,t,i,a,c,h,y)=>(0,st.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),i&&(b.tenantId=i),b.languageCode=a,c&&b.useDeviceLanguage(),h)for(const[C,R]of Object.entries(h))b.settings[C]=R;return y&&b.setPersistence(y),b},[t,i,a,c,h,y]);let pD=(()=>{class n{constructor(t,i,a,c,h,y,b,C,R,O,j,G){const X=new ys.xQ,ve=(0,et.of)(void 0).pipe((0,om.QV)(h.outsideAngular),Vn(()=>c.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,8402)))),(0,ct.U)(()=>(0,st.on)(t,c,i)),(0,ct.U)(Oe=>Q_(Oe,c,y,C,R,O,b,j)),Tb({bufferSize:1,refCount:!1}));if(Wa(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,et.of)(null);else{ve.pipe(va()).subscribe();const rt=ve.pipe(Vn(at=>at.getRedirectResult().then(cn=>cn,()=>null)),Kr.iC,Tb({bufferSize:1,refCount:!1})),it=ve.pipe(Vn(at=>new Si.y(cn=>({unsubscribe:c.runOutsideAngular(()=>at.onAuthStateChanged(_r=>cn.next(_r),_r=>cn.error(_r),()=>cn.complete()))})))),Nt=ve.pipe(Vn(at=>new Si.y(cn=>({unsubscribe:c.runOutsideAngular(()=>at.onIdTokenChanged(_r=>cn.next(_r),_r=>cn.error(_r),()=>cn.complete()))}))));this.authState=rt.pipe(OC(it),(0,B_.R)(h.outsideAngular),(0,om.QV)(h.insideAngular)),this.user=rt.pipe(OC(Nt),(0,B_.R)(h.outsideAngular),(0,om.QV)(h.insideAngular)),this.idToken=this.user.pipe(Vn(at=>at?(0,_n.D)(at.getIdToken()):(0,et.of)(null))),this.idTokenResult=this.user.pipe(Vn(at=>at?(0,_n.D)(at.getIdTokenResult()):(0,et.of)(null))),this.credential=(0,xs.T)(rt,X,this.authState.pipe(vs(at=>!at))).pipe((0,ct.U)(at=>(null==at?void 0:at.user)?at:null),(0,B_.R)(h.outsideAngular),(0,om.QV)(h.insideAngular))}return(0,st.pX)(this,ve,c,{spy:{apply:(Oe,rt,it)=>{(Oe.startsWith("signIn")||Oe.startsWith("createUser"))&&it.then(Nt=>X.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(st.Dh),f.LFG(st.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Kr.HU),f.LFG(cD,8),f.LFG(lD,8),f.LFG(qb,8),f.LFG(dD,8),f.LFG(hD,8),f.LFG(fD,8),f.LFG(tD,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function fm(n,e){return function(n,e=tS.z){return new Si.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function ip(n,e){return fm(n,e).pipe((0,ct.U)(t=>({payload:t,type:"query"})))}function sp(n,e){return ip(n,e).pipe(Pc(void 0),Ov(),(0,ct.U)(([t,i])=>{const a=i.payload.docChanges(),c=a.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((h,y)=>{const b=a.find(R=>R.doc.ref.isEqual(h.ref)),C=null==t?void 0:t.payload.docs.find(R=>R.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||c.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:h}})}),c}))}function Zb(n,e,t){return sp(n,t).pipe(_a((i,a)=>function(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zb(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zb(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zb(n,e.oldIndex,1)}return n}(n,i))}),n}(i,a.map(c=>c.payload),e),[]),t=>t.lift(new iS(void 0,void 0)),(0,ct.U)(i=>i.map(a=>({type:a.type,payload:a}))))}function zb(n,e,t,...i){const a=n.slice();return a.splice(e,t,...i),a}function mD(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class yD{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=sp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ct.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(Pc(void 0),Ov(),vs(([i,a])=>a.length>0||!i),(0,ct.U)(([i,a])=>a),Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(_a((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=mD(e);return Zb(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return ip(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Kr.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe(Kr.iC)}add(e){return this.ref.add(e)}doc(e){return new Gb(this.ref.doc(e),this.afs)}}class Gb{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:a,query:c}=X_(i,t);return new yD(a,c,this.afs)}snapshotChanges(){return function(n,e){return fm(n,e).pipe(Pc(void 0),Ov(),(0,ct.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_n.D)(this.ref.get(e)).pipe(Kr.iC)}}class vR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?sp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),vs(t=>t.length>0),Kr.iC):sp(this.query,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(_a((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=mD(e);return Zb(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return ip(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Kr.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe(Kr.iC)}}const _D=new f.OlP("angularfire2.enableFirestorePersistence"),vD=new f.OlP("angularfire2.firestore.persistenceSettings"),wl=new f.OlP("angularfire2.firestore.settings"),pm=new f.OlP("angularfire2.firestore.use-emulator");function X_(n,e=(t=>t)){return{query:e(n),ref:n}}let Wb=(()=>{class n{constructor(t,i,a,c,h,y,b,C,R,O,j,G,X,ve,Oe,rt,it){this.schedulers=b;const Nt=(0,st.on)(t,y,i),at=R;O&&Q_(Nt,y,j,X,ve,Oe,G,rt),[this.firestore,this.persistenceEnabled$]=(0,st.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const cn=y.runOutsideAngular(()=>Nt.firestore());if(c&&cn.settings(c),at&&cn.useEmulator(...at),a&&!Wa(h)){const _r=()=>{try{return(0,_n.D)(cn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Zr){return"undefined"!=typeof console&&console.warn(Zr),(0,et.of)(!1)}};return[cn,y.runOutsideAngular(_r)]}return[cn,(0,et.of)(!1)]},[c,at,a])}collection(t,i){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:h}=X_(a,i),y=this.schedulers.ngZone.run(()=>c);return new yD(y,h,this)}collectionGroup(t,i){const a=i||(h=>h),c=this.firestore.collectionGroup(t);return new vR(a(c),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>i);return new Gb(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(st.Dh),f.LFG(st.xv,8),f.LFG(_D,8),f.LFG(wl,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Kr.HU),f.LFG(vD,8),f.LFG(pm,8),f.LFG(pD,8),f.LFG(cD,8),f.LFG(lD,8),f.LFG(qb,8),f.LFG(dD,8),f.LFG(hD,8),f.LFG(fD,8),f.LFG(tD,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ER=(()=>{class n{constructor(){aD.Z.registerVersion("angularfire",Kr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:_D,useValue:!0},{provide:vD,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Wb]}),n})(),ED=(()=>{class n{constructor(t){this.db=t,this.dbPath="/events",this.eventRef=t.collection(this.dbPath)}getAll(){return this.eventRef}create(t){return this.eventRef.add(Object.assign({},t))}update(t,i){return this.eventRef.doc(t).update(i)}delete(t){return this.eventRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Wb))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kb(n,e){if(1&n&&(f.TgZ(0,"div",3),f._UZ(1,"img",4),f.TgZ(2,"div",5),f.TgZ(3,"ul",6),f.TgZ(4,"li",7),f.TgZ(5,"a",8),f._uU(6,"HOME"),f.qZA(),f.qZA(),f.TgZ(7,"li",7),f.TgZ(8,"a",9),f._uU(9,"CHI SIAMO"),f.qZA(),f.qZA(),f.TgZ(10,"li",7),f.TgZ(11,"a",10),f._uU(12,"ISTRUTTORI"),f.qZA(),f.qZA(),f.TgZ(13,"li",7),f.TgZ(14,"a",11),f._uU(15,"CORSI"),f.qZA(),f.qZA(),f.TgZ(16,"li",7),f.TgZ(17,"a",12),f._uU(18,"EVENTI"),f.qZA(),f.qZA(),f.TgZ(19,"li",7),f.TgZ(20,"a",13),f._uU(21,"ARTICOLI"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.s9C("src",t.logo,f.LSH)}}function bR(n,e){if(1&n&&(f.TgZ(0,"div",14),f._UZ(1,"img",4),f.TgZ(2,"div",15),f._UZ(3,"input",16),f._UZ(4,"span"),f._UZ(5,"span"),f._UZ(6,"span"),f.TgZ(7,"ul",17),f.TgZ(8,"li",7),f.TgZ(9,"a",8),f._uU(10,"HOME"),f.qZA(),f.qZA(),f.TgZ(11,"li",7),f.TgZ(12,"a",9),f._uU(13,"CHI SIAMO"),f.qZA(),f.qZA(),f.TgZ(14,"li",7),f.TgZ(15,"a",10),f._uU(16,"ISTRUTTORI"),f.qZA(),f.qZA(),f.TgZ(17,"li",7),f.TgZ(18,"a",11),f._uU(19,"CORSI"),f.qZA(),f.qZA(),f.TgZ(20,"li",7),f.TgZ(21,"a",12),f._uU(22,"EVENTI"),f.qZA(),f.qZA(),f.TgZ(23,"li",7),f.TgZ(24,"a",13),f._uU(25,"ARTICOLI"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.s9C("src",t.logo,f.LSH)}}function bD(n,e){if(1&n&&(f.TgZ(0,"div",18),f._UZ(1,"img",4),f.TgZ(2,"div",19),f._UZ(3,"input",16),f._UZ(4,"span"),f._UZ(5,"span"),f._UZ(6,"span"),f.TgZ(7,"ul",20),f.TgZ(8,"li",7),f.TgZ(9,"a",8),f._uU(10,"HOME"),f.qZA(),f.qZA(),f.TgZ(11,"li",7),f.TgZ(12,"a",9),f._uU(13,"CHI SIAMO"),f.qZA(),f.qZA(),f.TgZ(14,"li",7),f.TgZ(15,"a",10),f._uU(16,"ISTRUTTORI"),f.qZA(),f.qZA(),f.TgZ(17,"li",7),f.TgZ(18,"a",11),f._uU(19,"CORSI"),f.qZA(),f.qZA(),f.TgZ(20,"li",7),f.TgZ(21,"a",12),f._uU(22,"EVENTI"),f.qZA(),f.qZA(),f.TgZ(23,"li",7),f.TgZ(24,"a",13),f._uU(25,"ARTICOLI"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.s9C("src",t.logo,f.LSH)}}let ev=(()=>{class n{constructor(){this.logo="assets/img/logo.png",this.isMobile=!1,this.isResponsive=!1}ngOnInit(){this.isMobile=window.matchMedia("only screen and (max-device-width: 992px)").matches,this.isResponsive=this.getBrowserWidth()<660}onResize(){this.isResponsive=this.getBrowserWidth()<660}getBrowser(){return!this.isMobile&&!this.isResponsive}getBrowserResponsive(){return!this.isMobile&&this.isResponsive}getMobile(){return this.isMobile}getBrowserWidth(){return window.innerWidth}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-toolbar"]],hostBindings:function(t,i){1&t&&f.NdJ("resize",function(c){return i.onResize(c)},!1,f.Jf7)},decls:3,vars:3,consts:[["class","toolbar","role","banner",4,"ngIf"],["class","toolbarResp","role","banner",4,"ngIf"],["class","toolbarMobile","role","banner",4,"ngIf"],["role","banner",1,"toolbar"],["width","100","alt","MuayThai360 Logo",3,"src"],[1,"navigation-header"],[1,"navigation-ul"],[1,"navigation-li"],["href","#"],["href","#about"],["href","#team"],["href","#corsi"],["routerLink","/events","routerLinkActive","active"],["routerLink","/articoli","routerLinkActive","active"],["role","banner",1,"toolbarResp"],["id","menuToggleResp"],["type","checkbox"],["id","menuResp"],["role","banner",1,"toolbarMobile"],["id","menuToggle"],["id","menu"]],template:function(t,i){1&t&&(f.YNc(0,Kb,22,1,"div",0),f.YNc(1,bR,26,1,"div",1),f.YNc(2,bD,26,1,"div",2)),2&t&&(f.Q6J("ngIf",i.getBrowser()),f.xp6(1),f.Q6J("ngIf",i.getBrowserResponsive()),f.xp6(1),f.Q6J("ngIf",i.getMobile()))},directives:[Ii,Kp,Yp],styles:[".toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:200px;display:inline-grid;align-items:center;background-color:#000;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:25px auto auto}.navigation-header[_ngcontent-%COMP%]{display:inline;margin:auto}.navigation-ul[_ngcontent-%COMP%]{padding:0}.navigation-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;font-size:18px;letter-spacing:-.7px}.navigation-li[_ngcontent-%COMP%]{margin:15px}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{text-transform:none}.navigation-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold);cursor:pointer}.toolbarMobile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:60px;right:60px;height:130px;width:auto}#menuToggle[_ngcontent-%COMP%]{display:block;position:relative;top:90px;width:90%;left:50px;z-index:1;-webkit-user-select:none;user-select:none}#menuToggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .3s ease}#menuToggle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold)}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:40px;height:32px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2;-webkit-touch-callout:none}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:60px;height:9px;margin-bottom:15px;position:relative;background:white;border-radius:3px;z-index:1;transform-origin:0px 4px;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform-origin:0% 0%}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-last-child(2){transform-origin:0% 100%}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(-2px,-1px);background:white}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(3){opacity:0;transform:rotate(0) scale(.2)}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg) translateY(-1px)}#menu[_ngcontent-%COMP%]{width:100%;position:absolute;margin:-100px 0 0 -50px;padding:125px 50px 50px;background:black;list-style-type:none;-webkit-font-smoothing:antialiased;transform-origin:0% 0%;transform:translateY(-100%);transition:transform .5s cubic-bezier(.77,.2,.05,1)}#menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px 0;font-size:40px;letter-spacing:.14em}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ ul[_ngcontent-%COMP%]{transform:none}.toolbarResp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:45px;right:60px;height:80px;width:auto}#menuToggleResp[_ngcontent-%COMP%]{display:block;position:relative;top:70px;width:90%;left:50px;z-index:1;-webkit-user-select:none;user-select:none}#menuToggleResp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .3s ease}#menuToggleResp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--gold)}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:39px;height:30px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:38px;height:4px;margin-bottom:7px;position:relative;background:white;z-index:1;transform-origin:0px 4px;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform-origin:0% 0%}#menuToggleResp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-last-child(2){transform-origin:0% 100%}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(-2px,-1px);background:white}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(3){opacity:0;transform:rotate(0) scale(.2)}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg) translateY(-1px)}#menuResp[_ngcontent-%COMP%]{width:100%;position:absolute;margin:-100px 0 0 -50px;padding:125px 50px 50px;background:black;list-style-type:none;-webkit-font-smoothing:antialiased;transform-origin:0% 0%;transform:translateY(-100%);transition:transform .5s cubic-bezier(.77,.2,.05,1)}#menuResp[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px 0;font-size:17px;letter-spacing:.14em}#menuToggleResp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ ul[_ngcontent-%COMP%]{transform:none}"]}),n})();const wR=function(n){return{"background-image":n}};let Yb=(()=>{class n{constructor(){this.logo="assets/img/logo.png",this.facebookLogo="assets/img/facebook.png",this.igLogo="assets/img/ig.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-footer"]],decls:16,vars:5,consts:[["id","domande","role","main",1,"domande"],[1,"domande-container"],[1,"domande-element",2,"margin-left","16%"],[1,"domande-title"],[1,"domande-subtitle"],[1,"domande-text"],["href","https://www.facebook.com/Muaythai360TeamPiacente"],[2,"width","50px",3,"src"],["href","https://www.instagram.com/muaythai360sansalvo/"],[2,"width","36px","position","relative","bottom","6px","padding-left","10px",3,"src"],[1,"domande-element","domande-logo",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","26%","padding-left","11%",3,"ngStyle"]],template:function(t,i){1&t&&(f.TgZ(0,"section",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"h1",3),f._uU(4,"CONTATTI"),f.qZA(),f.TgZ(5,"p",4),f._uU(6,"Contattaci o chiamaci per avere maggiori informazioni"),f.qZA(),f.TgZ(7,"p",5),f._uU(8,"muaythai360sansalvo@gmail.it"),f._UZ(9,"br"),f._uU(10," +393460161427 | 3209799635 | 3395067102"),f.qZA(),f.TgZ(11,"a",6),f._UZ(12,"img",7),f.qZA(),f.TgZ(13,"a",8),f._UZ(14,"img",9),f.qZA(),f.qZA(),f._UZ(15,"div",10),f.qZA(),f.qZA()),2&t&&(f.xp6(12),f.s9C("src",i.facebookLogo,f.LSH),f.xp6(2),f.s9C("src",i.igLogo,f.LSH),f.xp6(1),f.Q6J("ngStyle",f.VKq(3,wR,"url("+i.logo+")")))},directives:[dn],styles:[".domande[_ngcontent-%COMP%]{position:relative;top:500px;left:0;right:0;height:330px}.domande-container[_ngcontent-%COMP%]{display:flex}.domande-element[_ngcontent-%COMP%]{width:33%}.domande-title[_ngcontent-%COMP%]{line-height:normal;font-size:40px;color:var(--gold);letter-spacing:.4em}.domande-subtitle[_ngcontent-%COMP%]{line-height:1.3em;font-size:26px;color:#fff;letter-spacing:normal;width:60%;padding-top:50px}.domande-text[_ngcontent-%COMP%]{font-size:18px;color:#fff;letter-spacing:normal;padding-top:20px;line-height:30px}.domande-input-1[_ngcontent-%COMP%]{background-color:#000;width:90%;margin-left:40px;border:2px solid white;height:33px;margin-bottom:6px;font-size:17px;color:#fff}.domande-input-2[_ngcontent-%COMP%]{background-color:#000;width:90%;margin-left:40px;border:2px solid white;height:133px;font-size:17px;margin-bottom:6px;color:#fff}.domande-submit[_ngcontent-%COMP%]{background-color:var(--gold);width:30%;float:right;border:2px solid var(--gold);height:33px;font-size:18px;margin-bottom:6px;color:#000}@media screen and (max-device-width: 992px){.domande-title[_ngcontent-%COMP%]{font-size:45px}.domande-subtitle[_ngcontent-%COMP%]{font-size:32px}.domande-text[_ngcontent-%COMP%]{font-size:20px}.domande-logo[_ngcontent-%COMP%]{background-size:35%!important;padding-left:150px!important;margin-top:-60px}}@media screen and (max-width: 762px){.domande[_ngcontent-%COMP%]{top:600px}}"]}),n})();function IR(n,e){if(1&n&&(f.TgZ(0,"div"),f.TgZ(1,"p",6),f.TgZ(2,"span",7),f._uU(3),f.qZA(),f.qZA(),f._UZ(4,"p",8),f.qZA()),2&n){const t=f.oxw();f.xp6(3),f.Oqu(t.title),f.xp6(1),f.Q6J("innerHTML",t.description,f.oJD)}}function nc(n,e){if(1&n&&(f.TgZ(0,"div"),f.TgZ(1,"p",6),f.TgZ(2,"span",7),f._uU(3),f.qZA(),f.qZA(),f._UZ(4,"p",8),f.qZA()),2&n){const t=f.oxw();f.xp6(3),f.Oqu(t.title),f.xp6(1),f.Q6J("innerHTML",t.description,f.oJD)}}let gm=(()=>{class n{constructor(){this.showVal=!1,this.pathImage="",this.heightval="",this.top=""}ngOnInit(){let t=250,i=250;null!=this.height&&(t*=this.height),null!=this.height&&null!=this.toppos&&(i+=this.toppos),this.heightval=t+"px",this.top=i+"px",console.log(this.heightval),console.log(this.top),this.pathImage="assets/img/"+this.image,console.log(this.pathImage)}styleObject(){return null==this.toppos||0==this.toppos?{height:this.heightval,top:"250px"}:{height:this.heightval,top:this.top}}getSingleEvent(){return null!=this.type&&"Single"==this.type}getDoubleEvent(){return null!=this.type&&"Double"==this.type}getShowEvent(){return this.showVal}showEvent(){this.showVal=!0}getEven(){return null!=this.index&&this.index%2==0}getOdds(){return null!=this.index&&this.index%2==1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-single-event"]],inputs:{height:"height",toppos:"toppos",type:"type",image:"image",title:"title",description:"description",index:"index"},decls:9,vars:3,consts:[[1,"event-container"],[1,"event-triple"],[1,"event-element"],[4,"ngIf"],[1,"white-line"],["alt","event-image","width","100%",3,"src"],[1,"p-event-title"],[2,"margin-top","0","font-size","50px","color","var(--gold)","letter-spacing","15px","font-family","'DIN', Fallback, sans-serif !important"],[1,"p-event",2,"height","355px","overflow-x","scroll",3,"innerHTML"]],template:function(t,i){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.YNc(3,IR,5,2,"div",3),f.qZA(),f.TgZ(4,"div",2),f._UZ(5,"div",4),f._UZ(6,"img",5),f.qZA(),f.TgZ(7,"div",2),f.YNc(8,nc,5,2,"div",3),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(3),f.Q6J("ngIf",i.getEven()),f.xp6(3),f.s9C("src",i.pathImage,f.LSH),f.xp6(2),f.Q6J("ngIf",i.getOdds()))},directives:[Ii],styles:['.event-triple[_ngcontent-%COMP%]{display:inline-flex;position:relative;top:0px;width:100%}.event-element[_ngcontent-%COMP%]{width:33%;padding:35px 35px 90px}.event-container[_ngcontent-%COMP%]{width:80%;margin:-110px auto auto}.white-line[_ngcontent-%COMP%]{content:"";position:absolute;z-index:-1;top:0;bottom:0;left:50%;border-left:8px solid var(--gold);transform:translate(-50%)}.p-event[_ngcontent-%COMP%]{color:#fff}.p-event-title[_ngcontent-%COMP%]{margin-top:0}']}),n})();function op(n,e){if(1&n&&(f.TgZ(0,"div"),f.TgZ(1,"div",2),f._UZ(2,"app-single-event",3),f.qZA(),f.qZA()),2&n){const t=e.$implicit,i=e.index,a=f.oxw();f.xp6(2),f.Q6J("index",i)("height",2)("toppos",0)("type",a.double)("image",t.immagine)("title",t.title)("description",t.description)}}let tv=(()=>{class n{constructor(t){this.eventService=t,this.single="Single",this.double="Double",this.event=new yw,this.submitted=!1}ngOnInit(){this.retrieveTutorials()}retrieveTutorials(){this.eventService.getAll().snapshotChanges().pipe((0,ct.U)(t=>t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())))).subscribe(t=>{this.events=t,this.events.sort(function(i,a){return i.order-a.order})})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ED))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-events"]],decls:5,vars:1,consts:[[1,"events-title"],["style","",4,"ngFor","ngForOf"],[1,"event-style"],[3,"index","height","toppos","type","image","title","description"]],template:function(t,i){1&t&&(f._UZ(0,"app-toolbar"),f.TgZ(1,"p",0),f._uU(2,"I NOSTRI EVENTI"),f.qZA(),f.YNc(3,op,3,7,"div",1),f._UZ(4,"app-footer")),2&t&&(f.xp6(3),f.Q6J("ngForOf",i.events))},directives:[ev,wi,Yb,gm],styles:[".events-title[_ngcontent-%COMP%]{color:#fff;position:relative;top:300px;width:-moz-fit-content;width:fit-content;font-size:75px;margin:auto;letter-spacing:20px}.event-style[_ngcontent-%COMP%]{margin-bottom:100px;position:relative;top:500px}"]}),n})(),th=(()=>{class n{constructor(t){this.db=t,this.dbPath="/articoli",this.eventRef=t.collection(this.dbPath)}getAll(){return this.eventRef}create(t){return this.eventRef.add(Object.assign({},t))}update(t,i){return this.eventRef.doc(t).update(i)}delete(t){return this.eventRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Wb))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TR(n,e){if(1&n&&(f.TgZ(0,"div",1),f.TgZ(1,"div",2),f.TgZ(2,"div",3),f._UZ(3,"img",4),f.qZA(),f.TgZ(4,"div",5),f._UZ(5,"p",6),f.qZA(),f.qZA(),f.TgZ(6,"div",7),f.TgZ(7,"div",8),f.TgZ(8,"p",9),f._uU(9),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&n){const t=f.oxw();f.xp6(3),f.s9C("src",t.pathImage,f.LSH),f.xp6(2),f.Q6J("innerHTML",t.description,f.oJD),f.xp6(4),f.Oqu(t.title)}}function CR(n,e){if(1&n&&(f.TgZ(0,"div",1),f.TgZ(1,"div",7),f.TgZ(2,"div",8),f.TgZ(3,"p",9),f._uU(4),f.qZA(),f.qZA(),f.qZA(),f.TgZ(5,"div",2),f.TgZ(6,"div",3),f._UZ(7,"img",4),f.qZA(),f.TgZ(8,"div",5),f._UZ(9,"p",6),f.qZA(),f.qZA(),f.qZA()),2&n){const t=f.oxw();f.xp6(4),f.Oqu(t.title),f.xp6(3),f.s9C("src",t.pathImage,f.LSH),f.xp6(2),f.Q6J("innerHTML",t.description,f.oJD)}}let DR=(()=>{class n{constructor(){this.pathImage=""}ngOnInit(){this.pathImage="assets/img/"+this.image}getEven(){return null!=this.index&&this.index%2==0}getOdd(){return null!=this.index&&this.index%2==1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-single-articolo"]],inputs:{image:"image",title:"title",description:"description",index:"index"},decls:2,vars:2,consts:[["class","articolo-container",4,"ngIf"],[1,"articolo-container"],[1,"articolo-box"],[1,"articolo-element"],["alt","","width","100%","height","100%",3,"src"],[1,"articolo-element",2,"border","1px solid rgb(255,255,255, 0.1)"],[1,"p-articolo",3,"innerHTML"],[1,"articolo-box-title"],[1,"articolo-line"],[1,"articolo-title"]],template:function(t,i){1&t&&(f.YNc(0,TR,10,3,"div",0),f.YNc(1,CR,10,3,"div",0)),2&t&&(f.Q6J("ngIf",i.getEven()),f.xp6(1),f.Q6J("ngIf",i.getOdd()))},directives:[Ii],styles:['.articolo-container[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:100px;display:inline-flex;width:100%}.articolo-box[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:300px}.articolo-element[_ngcontent-%COMP%]{width:33vw}.articolo-line[_ngcontent-%COMP%]{width:100%;border:4px solid var(--gold);height:0px;margin:auto 0 auto auto}.articolo-box-title[_ngcontent-%COMP%]{width:100%;height:300px;display:inline-flex}.articolo-title[_ngcontent-%COMP%]{position:relative;top:-60px;font-size:45px;margin:auto;width:-moz-fit-content;width:fit-content;color:var(--gold);font-family:"DIN",Fallback,sans-serif!important}.p-articolo[_ngcontent-%COMP%]{color:#fff;font-size:17px;letter-spacing:1px;margin:25px}']}),n})();function wD(n,e){if(1&n&&(f.TgZ(0,"div"),f._UZ(1,"app-single-articolo",7),f.qZA()),2&n){const t=e.$implicit,i=e.index;f.xp6(1),f.Q6J("index",i)("image",t.immagine)("title",t.title)("description",t.description)}}const ID=function(n){return{"background-image":n}};let TD=(()=>{class n{constructor(t){this.articoloService=t,this.header="assets/img/home.png",this.pathImage="assets/img/home.png"}ngOnInit(){this.retrieveArticoli()}retrieveArticoli(){this.articoloService.getAll().snapshotChanges().pipe((0,ct.U)(t=>t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())))).subscribe(t=>{this.articoli=t,this.articoli.sort(function(i,a){return i.order-a.order})})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(th))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-articoli"]],decls:14,vars:4,consts:[[1,"header-articoli"],[1,"header-img",3,"ngStyle"],[1,"header-text"],[1,"home-buttom"],[1,"home-text"],["href","#",1,"home-link"],["style","",4,"ngFor","ngForOf"],[3,"index","image","title","description"]],template:function(t,i){1&t&&(f._UZ(0,"app-toolbar"),f.TgZ(1,"div",0),f.TgZ(2,"div",1),f.TgZ(3,"p",2),f._uU(4,"Scopri gli ultimi articoli di "),f._UZ(5,"br"),f._uU(6,"MUAY THAI 360"),f.qZA(),f.qZA(),f.TgZ(7,"div",3),f.TgZ(8,"span",4),f.TgZ(9,"a",5),f._uU(10,"HOME"),f.qZA(),f._uU(11," | BLOG"),f.qZA(),f.qZA(),f.qZA(),f.YNc(12,wD,2,4,"div",6),f._UZ(13,"app-footer")),2&t&&(f.xp6(2),f.Q6J("ngStyle",f.VKq(2,ID,"url("+i.header+")")),f.xp6(10),f.Q6J("ngForOf",i.articoli))},directives:[ev,dn,wi,Yb,DR],styles:['.header-img[_ngcontent-%COMP%]{width:inherit;height:300px;margin-top:200px}.header-articoli[_ngcontent-%COMP%]{width:100%}.home-buttom[_ngcontent-%COMP%]{width:100px;height:36px;position:relative;top:-22px;margin:auto;background:var(--gold);color:#000;text-align:center}.home-link[_ngcontent-%COMP%]{color:#000;text-decoration:none}.home-link[_ngcontent-%COMP%]:visited{text-transform:none;text-decoration:none}.home-link[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.home-text[_ngcontent-%COMP%]{position:relative;top:10px}.header-text[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto;font-size:5.3vw;color:#fff;text-align:center;padding-top:50px;font-family:"DIN",Fallback,sans-serif!important}']}),n})(),CD=(()=>{class n{constructor(){this.about="assets/img/about.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-about"]],decls:57,vars:1,consts:[["id","about","role","main",1,"about"],[1,"center-about"],[1,"title-about"],[2,"color","var(--gold)"],[2,"color","white"],[1,"container-about"],[1,"p-about"],[1,"img-about",3,"src"]],template:function(t,i){1&t&&(f.TgZ(0,"section",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"span",3),f._uU(4,"LA NOSTRA"),f.qZA(),f._UZ(5,"br"),f.TgZ(6,"span",4),f._uU(7,"STORIA"),f.qZA(),f.qZA(),f.TgZ(8,"div",5),f.TgZ(9,"p",6),f.TgZ(10,"b"),f.TgZ(11,"span",3),f._uU(12,"TEAM PIACENTE"),f.qZA(),f.qZA(),f._UZ(13,"br"),f._UZ(14,"br"),f._uU(15," Il Team \xe8 nato a San Salvo (CH) ufficialmente nel "),f.TgZ(16,"span",3),f.TgZ(17,"b"),f._uU(18,"1996"),f.qZA(),f.qZA(),f._uU(19,", fondato dal maestro Vincenzo Piacente."),f._UZ(20,"br"),f._uU(21," E' stato premiato come "),f.TgZ(22,"b"),f._uU(23,"miglior Team Nazionale nell\u2019anno 1999"),f.qZA(),f._uU(24,"."),f._UZ(25,"br"),f._uU(26," Numerosi i successi ottenuti negli anni dai vari atleti a livello nazionale."),f._UZ(27,"br"),f._uU(28," Vanta successi sia in competizioni dilettantistiche che "),f.TgZ(29,"span",3),f._uU(30,"PRO"),f.qZA(),f._uU(31,"."),f._UZ(32,"br"),f._UZ(33,"br"),f._uU(34," Nel "),f.TgZ(35,"span",3),f._uU(36,"2019"),f.qZA(),f._uU(37," il maestro Piacente passa le redini al suo allievo direttissimo Marco Catalano che con la nuova gestione rinomina la nuova sede con il nome di:"),f._UZ(38,"br"),f.TgZ(39,"span",3),f.TgZ(40,"b"),f._uU(41,"-Muay Thai 360-"),f.qZA(),f.qZA(),f._UZ(42,"br"),f._UZ(43,"br"),f.TgZ(44,"span",3),f.TgZ(45,"b"),f._uU(46,"Muay thai 360 perch\xe8?"),f.qZA(),f.qZA(),f._UZ(47,"br"),f._uU(48," Per fornire una conoscenza a 360 gradi della millenaria arte thailandese, con le sue mille sfaccettature ed applicazioni sportive tradizionali e militari."),f._UZ(49,"br"),f._UZ(50,"br"),f._uU(51," Nella nostra scuola \xe8 possibile praticare vari sport da combattimento e arti marziali."),f._UZ(52,"br"),f.TgZ(53,"span",3),f._uU(54,"I corsi sono accessibili a tutti "),f.qZA(),f._uU(55,"poich\xe9 le attivit\xe0 vengono suddivise in modo specifico, a seconda che siano donne o bambini, principianti o agonisti, oppure persone gi\xe0 allenate. Effettuiamo, inoltre, lezioni private e allenamenti liberi."),f.qZA(),f._UZ(56,"img",7),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(56),f.s9C("src",i.about,f.LSH))},styles:['.about[_ngcontent-%COMP%]{position:relative;background-color:#000;top:200px;left:0;right:0}.center-about[_ngcontent-%COMP%]{margin:auto;padding:100px 0 0 200px}.title-about[_ngcontent-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;letter-spacing:22px;font-size:6vw}.p-about[_ngcontent-%COMP%]{width:452px;color:#fff;font-size:16px;line-height:25px;margin-bottom:120px}.container-about[_ngcontent-%COMP%]{display:inline-flex}.img-about[_ngcontent-%COMP%]{width:425px;height:485px;padding-left:130px}@media screen and (max-device-width: 992px){.img-about[_ngcontent-%COMP%]{padding-left:0;padding-top:33%}.center-about[_ngcontent-%COMP%]{padding:100px 0 0 85px}.p-about[_ngcontent-%COMP%]{font-size:30px;line-height:35px}.title-about[_ngcontent-%COMP%]{font-size:9vw}}@media screen and (max-width: 692px){.center-about[_ngcontent-%COMP%]{padding:100px 0 0 20px}}']}),n})();const Qb=function(n){return{"background-image":n}};let SR=(()=>{class n{constructor(){this.team="assets/img/team.jpg"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-team"]],decls:35,vars:3,consts:[["id","team","role","main",1,"team"],[1,"team-container"],[1,"team-element",2,"background-image","url(assets/img/gallery1.jpg)","background-repeat","no-repeat","background-size","cover",3,"ngStyle"],[1,"team-title"],[1,"team-text"],[1,"team-element",2,"background-color","var(--gold)"],[1,"team-text2"]],template:function(t,i){1&t&&(f.TgZ(0,"section",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f._uU(4,"IL TEAM"),f.qZA(),f.TgZ(5,"div",4),f.TgZ(6,"b"),f._uU(7,"ISTRUTTORI:"),f.qZA(),f._UZ(8,"br"),f._UZ(9,"br"),f.TgZ(10,"b"),f._uU(11,"Vincenzo Piacente"),f.qZA(),f._UZ(12,"br"),f._uU(13," (12\xb0 khan Instructor IMBA)"),f._UZ(14,"br"),f._UZ(15,"br"),f.TgZ(16,"b"),f._uU(17,"Marco Catalano"),f.qZA(),f._UZ(18,"br"),f._uU(19," (11\xb0khan Trainer Instructor scuola Oltrecorpo di Fabio Siciliani,3 titoli italiani dilettanti Kombat league, 1 titolo italiano PRO Fight 1) Tecnico Federkombat ."),f._UZ(20,"br"),f._UZ(21,"br"),f.TgZ(22,"b"),f._uU(23,"Michele Zizzari"),f.qZA(),f._UZ(24,"br"),f._uU(25," (11\xb0 khan advance Trainer Instructor IMBA)"),f._UZ(26,"br"),f._UZ(27,"br"),f.TgZ(28,"b"),f._uU(29,"Felice Nozzi"),f.qZA(),f._UZ(30,"br"),f._uU(31," (11\xb0 khan advance Trainer Instructor IMBA)"),f.qZA(),f.qZA(),f.TgZ(32,"div",5),f.TgZ(33,"div",6),f._uU(34,"Il nostro staff ha una preparazione approfondita di tutte le discipline praticate nella nostra scuola. Il team \xe8 formato da professionisti che ti affiancheranno durante il tuo allenamento o il tuo percorso di preparazione atletica. "),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(2),f.Q6J("ngStyle",f.VKq(1,Qb,"url("+i.team+")")))},directives:[dn],styles:['.team[_ngcontent-%COMP%]{position:relative;background-color:#000;top:200px;left:0;right:0}.team-container[_ngcontent-%COMP%]{display:inline-flex;width:100%}.team-element[_ngcontent-%COMP%]{width:50%;height:550px}.team-title[_ngcontent-%COMP%]{color:var(--gold);letter-spacing:.15em;font-size:5vw;float:right;text-align:right;padding-right:5vw;width:228px;line-height:65px;padding-top:6vw}.team-text[_ngcontent-%COMP%]{font-family:"DINLIG",Fallback,sans-serif!important;color:#fff;font-size:13px;float:right;text-align:right;padding-right:6vw;width:26vw;padding-top:1vw;letter-spacing:-.3px}.team-text2[_ngcontent-%COMP%]{font-size:19px;line-height:1.8em;font-family:open sans condensed,sans-serif;letter-spacing:-1px;padding-top:10vw;width:25vw;font-weight:lighter;padding-left:8vw}@media screen and (max-device-width: 992px){.team-title[_ngcontent-%COMP%]{color:var(--gold);letter-spacing:.15em;font-size:65px;float:left;text-align:left;padding-right:70px;width:250px;line-height:65px;padding-top:95px;padding-left:90px}.team-text[_ngcontent-%COMP%]{font-family:"DINLIG",Fallback,sans-serif!important;color:#fff;font-size:28px;float:right;text-align:left;padding-right:80px;width:52%;position:relative;letter-spacing:-.3px;top:-65px}.team-container[_ngcontent-%COMP%]{display:block}.team-element[_ngcontent-%COMP%]{width:100%;height:820px}.team-text2[_ngcontent-%COMP%]{font-size:32px;line-height:1.8em;font-family:open sans condensed,sans-serif;letter-spacing:-1px;padding-top:185px;margin:auto;width:50%;font-weight:lighter;padding-left:0}}@media screen and (max-width: 660px){.team-text2[_ngcontent-%COMP%]{font-size:17px}}']}),n})(),AR=(()=>{class n{constructor(){this.boxe="assets/video/boxe.mp4"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-corsi"]],decls:28,vars:1,consts:[["id","corsi","role","main",1,"corsi"],[1,"video-opacity"],["autoplay","","muted","","loop","","playsinline","","id","myVideo",1,"video-corsi"],["type","video/mp4",3,"src"],[1,"corsi-text-container"],[1,"corsi-title"],[1,"corsi-subtitle"],[1,"corsi-table"],[2,"border-bottom","1px solid"],[2,"border-bottom","1px solid","padding-top","8vw"]],template:function(t,i){1&t&&(f.TgZ(0,"section",0),f._UZ(1,"div",1),f.TgZ(2,"video",2),f._UZ(3,"source",3),f._uU(4," Your browser does not support HTML5 video. "),f.qZA(),f.TgZ(5,"div",4),f.TgZ(6,"h1",5),f._uU(7,"I NOSTRI CORSI"),f.qZA(),f.TgZ(8,"p",6),f._uU(9,"I corsi che proponiamo presso la nostra palestra ti permetteranno di raggiungere un benessere fisico e mentale. Grazie ai nostri allenamenti potrai migliorare la forza fisica, l'equilibrio, la coordinazione e l'armonia nei movimenti. Potrai, inoltre, ottenere una muscolatura pi\xf9 tonica ed elastica."),f.qZA(),f.TgZ(10,"table",7),f.TgZ(11,"tr"),f.TgZ(12,"td",8),f._uU(13,"MUAY THAI SPORTIVA"),f.qZA(),f._UZ(14,"td"),f.TgZ(15,"td",8),f._uU(16,"MUAY BORAN"),f.qZA(),f._UZ(17,"td"),f.TgZ(18,"td",8),f._uU(19,"MUAY THAI BAMBINI"),f.qZA(),f.qZA(),f.TgZ(20,"tr"),f._UZ(21,"td"),f.TgZ(22,"td",9),f._uU(23,"PERSONAL TRAINING"),f.qZA(),f._UZ(24,"td"),f.TgZ(25,"td",9),f._uU(26,"MUAY LERT RIT"),f.qZA(),f._UZ(27,"td"),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(3),f.s9C("src",i.boxe,f.LSH))},styles:[".corsi[_ngcontent-%COMP%]{position:relative;background-color:#000;top:300px;left:0;right:0}.video-corsi[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;bottom:0;left:0;right:0;z-index:1}.video-opacity[_ngcontent-%COMP%]{z-index:2;background-color:#000;opacity:.6;position:absolute;top:0;bottom:-110px;left:0;right:0;height:57vw}.corsi-text-container[_ngcontent-%COMP%]{width:100%;z-index:2}.corsi-title[_ngcontent-%COMP%]{margin:auto;width:100%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:center;font-size:7vw;letter-spacing:.25em;padding-top:3vw}.corsi-subtitle[_ngcontent-%COMP%]{margin:auto;width:60%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:center;font-size:1vw;letter-spacing:.25em;padding-top:10px}.corsi-table[_ngcontent-%COMP%]{margin:auto;width:80%;position:relative;z-index:inherit;color:var(--gold);line-height:normal;text-align:left;font-size:2.5vw;letter-spacing:.25em;padding-top:10vw}.corsi-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:20%}@media screen and (max-device-width: 992px){.corsi[_ngcontent-%COMP%]{top:300px}.video-opacity[_ngcontent-%COMP%]{bottom:150px}}"]}),n})(),DD=(()=>{class n{constructor(){this.box1="assets/img/home.png",this.box2="assets/img/home.png",this.box3="assets/img/home.png",this.box4="assets/img/home.png",this.box5="assets/img/home.png",this.box6="assets/img/home.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-bo"]],decls:3,vars:0,consts:[["id","bo","role","main",1,"bo"],[1,"bo-lezioni"]],template:function(t,i){1&t&&(f.TgZ(0,"section",0),f.TgZ(1,"div",1),f._uU(2," INIZIA LE TUE LEZIONI DA OGGI "),f.qZA(),f.qZA())},styles:[".bo[_ngcontent-%COMP%]{position:relative;background-color:#000;top:450px;left:0;right:0;height:300px}.bo-table[_ngcontent-%COMP%]{margin:auto;width:92%}.bo-td[_ngcontent-%COMP%]{width:33%;height:240px;cursor:pointer}.bo-td[_ngcontent-%COMP%]:hover{transform:scale(.97)}.bo-div[_ngcontent-%COMP%]{background-color:#96969599;width:100%;height:100%;display:table;cursor:pointer}.bo-p[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;text-align:center;font-size:35px;color:#000}.bo-div[_ngcontent-%COMP%]:hover{visibility:hidden}.bo-lezioni[_ngcontent-%COMP%]{padding-top:160px;letter-spacing:.4em;line-height:normal;text-align:center;font-size:40px;color:#fff}"]}),n})();const oi=function(n){return{"background-image":n}};let Jb=(()=>{class n{constructor(){this.gallery1="assets/img/gallery1.jpg",this.gallery2="assets/img/gallery2.jpg",this.gallery3="assets/img/gallery3.jpg",this.gallery4="assets/img/gallery4.jpg",this.gallery5="assets/img/gallery5.jpg",this.gallery6="assets/img/gallery6.jpg",this.gallery7="assets/img/gallery7.jpg",this.gallery8="assets/img/gallery8.jpg",this.gallery9="assets/img/gallery9.jpg",this.gallery10="assets/img/gallery10.jpg",this.gallery11="assets/img/gallery11.jpg"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-galleria"]],decls:24,vars:33,consts:[["id","galleria","role","main",1,"galleria"],[1,"galleria-div"],["cellspacing","0","cellpadding","0",1,"galleria-table"],[1,"galleria-td"],[1,"galleria-element",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","cover",3,"ngStyle"],[1,"galleria-td-container"],[1,"galleria-td-element",2,"background-position","center center","background-repeat","no-repeat","background-attachment","inherit","background-size","cover",3,"ngStyle"]],template:function(t,i){1&t&&(f.TgZ(0,"section",0),f.TgZ(1,"div",1),f.TgZ(2,"table",2),f.TgZ(3,"tr"),f.TgZ(4,"td",3),f._UZ(5,"div",4),f.qZA(),f.TgZ(6,"td",3),f.TgZ(7,"div",5),f._UZ(8,"div",6),f._UZ(9,"div",6),f.qZA(),f.TgZ(10,"div",5),f._UZ(11,"div",6),f._UZ(12,"div",6),f.qZA(),f.qZA(),f.TgZ(13,"td",3),f._UZ(14,"div",4),f.qZA(),f.TgZ(15,"td",3),f.TgZ(16,"div",5),f._UZ(17,"div",6),f._UZ(18,"div",6),f.qZA(),f.TgZ(19,"div",5),f._UZ(20,"div",6),f._UZ(21,"div",6),f.qZA(),f.qZA(),f.TgZ(22,"td",3),f._UZ(23,"div",4),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(5),f.Q6J("ngStyle",f.VKq(11,oi,"url("+i.gallery1+")")),f.xp6(3),f.Q6J("ngStyle",f.VKq(13,oi,"url("+i.gallery2+")")),f.xp6(1),f.Q6J("ngStyle",f.VKq(15,oi,"url("+i.gallery3+")")),f.xp6(2),f.Q6J("ngStyle",f.VKq(17,oi,"url("+i.gallery4+")")),f.xp6(1),f.Q6J("ngStyle",f.VKq(19,oi,"url("+i.gallery5+")")),f.xp6(2),f.Q6J("ngStyle",f.VKq(21,oi,"url("+i.gallery6+")")),f.xp6(3),f.Q6J("ngStyle",f.VKq(23,oi,"url("+i.gallery7+")")),f.xp6(1),f.Q6J("ngStyle",f.VKq(25,oi,"url("+i.gallery8+")")),f.xp6(2),f.Q6J("ngStyle",f.VKq(27,oi,"url("+i.gallery9+")")),f.xp6(1),f.Q6J("ngStyle",f.VKq(29,oi,"url("+i.gallery10+")")),f.xp6(2),f.Q6J("ngStyle",f.VKq(31,oi,"url("+i.gallery11+")")))},directives:[dn],styles:[".galleria[_ngcontent-%COMP%]{position:relative;background-color:#000;top:500px;left:0;right:0;height:700px}.galleria-table[_ngcontent-%COMP%]{width:max-content}.galleria-td[_ngcontent-%COMP%]{width:650px;height:500px;overflow-x:scroll}.galleria-element[_ngcontent-%COMP%]{width:650px;height:500px;cursor:pointer}.galleria-element[_ngcontent-%COMP%]:hover{opacity:.5}.galleria-div[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.galleria-td-element[_ngcontent-%COMP%]{width:323px;height:248px;cursor:pointer}.galleria-td-element[_ngcontent-%COMP%]:hover{opacity:.5}.galleria-td-container[_ngcontent-%COMP%]{display:flex}"]}),n})();const xR=function(n){return{"background-image":n}};let RR=(()=>{class n{constructor(){this.guantoni="assets/img/guantoni.jpeg"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-location"]],decls:17,vars:3,consts:[["id","location","role","main",1,"location"],[1,"location-fixed",3,"ngStyle"],[1,"location-title"],[1,"location-subtitle"],[1,"location-text"],[1,"location-text",2,"padding-bottom","60px"]],template:function(t,i){1&t&&(f.TgZ(0,"section",0),f.TgZ(1,"div"),f.TgZ(2,"div",1),f.TgZ(3,"h1",2),f._uU(4,"DOVE TROVARCI"),f.qZA(),f.TgZ(5,"p",3),f._uU(6,"INDIRIZZO"),f.qZA(),f.TgZ(7,"p",4),f._uU(8,"Centro Sportivo Selva, Contrada Vallone della Selva, Cupello, 66051 Cupello CH San Salvo, 66050 "),f._UZ(9,"br"),f._uU(10," (zona kartodromo)"),f.qZA(),f.TgZ(11,"p",3),f._uU(12,"ORARI"),f.qZA(),f.TgZ(13,"p",4),f._uU(14,"LUNED\xcc- SABATO"),f.qZA(),f.TgZ(15,"p",5),f._uU(16,"6:30AM - 7:00PM"),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(2),f.Q6J("ngStyle",f.VKq(1,xR,"url("+i.guantoni+")")))},directives:[dn],styles:[".location[_ngcontent-%COMP%]{position:relative;top:350px;left:0;right:0;height:700px}.location-fixed[_ngcontent-%COMP%]{min-height:700px;background-size:cover;background-attachment:fixed;background-repeat:no-repeat;background-position:center center}.location-title[_ngcontent-%COMP%]{line-height:1.2em;text-align:center;font-size:88px;letter-spacing:.25em;color:#fff;padding-top:70px;text-shadow:2px 2px grey}.location-subtitle[_ngcontent-%COMP%]{line-height:normal;text-align:center;font-size:32px;letter-spacing:.4em;color:#fff;padding-top:30px;text-shadow:2px 2px grey}.location-text[_ngcontent-%COMP%]{font-size:26px;line-height:1.5em;text-align:center;letter-spacing:normal;color:#fff;padding-top:10px;text-shadow:2px 2px grey}"]}),n})();const dP=function(n){return{"background-image":n}},hP=[{path:"",component:(()=>{class n{constructor(){this.logo="assets/img/logo.png",this.home="assets/img/home.png",this.guantoni="assets/img/guantoni.jpeg",this.facebookLogo="assets/img/facebook.png",this.igLogo="assets/img/ig.png",this.about="assets/img/about.png",this.boxe="assets/video/boxe.mp4",this.team="assets/img/gallery1.jpg",this.title="muaythai360",this.lastScrollTop=0,this.sizeNum=1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-home"]],decls:18,vars:3,consts:[["id","home","role","main",1,"content",3,"ngStyle"],[1,"center"],[1,"home-title"],[1,"home-subtitle"],[1,"home-button-div"],["onclick","window.location.href='#about'",1,"home-button"]],template:function(t,i){1&t&&(f._UZ(0,"app-toolbar"),f.TgZ(1,"section",0),f.TgZ(2,"div",1),f.TgZ(3,"h1",2),f._uU(4,"MUAY THAI 360"),f.qZA(),f.TgZ(5,"p",3),f._uU(6,"Fight your limits"),f.qZA(),f.TgZ(7,"div",4),f.TgZ(8,"button",5),f.TgZ(9,"b"),f._uU(10,"Scopri di pi\xf9"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f._UZ(11,"app-about"),f._UZ(12,"app-team"),f._UZ(13,"app-corsi"),f._UZ(14,"app-bo"),f._UZ(15,"app-galleria"),f._UZ(16,"app-location"),f._UZ(17,"app-footer")),2&t&&(f.xp6(1),f.Q6J("ngStyle",f.VKq(1,dP,"url("+i.home+")")))},directives:[ev,dn,CD,SR,AR,DD,Jb,RR,Yb],styles:['.spacer[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]{position:relative;top:200px;left:0;right:0;background-position:center center;background-repeat:no-repeat;background-attachment:inherit;background-size:cover;height:500px;opacity:.87}.center[_ngcontent-%COMP%]{margin:auto;width:100%;padding:180px 0 0}.home-title[_ngcontent-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;text-align:center;font-size:50px;letter-spacing:15px;color:#fff}.home-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:25px;line-height:normal;letter-spacing:.42em;color:#fff}.home-button-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto}.home-button[_ngcontent-%COMP%]{background-color:#000c;border:none;text-align:center;font-size:20px;color:#fff;height:45px;width:160px;cursor:pointer;margin:auto;width:100%}.home-button[_ngcontent-%COMP%]:hover{background-color:var(--gold-opacity);border:none;text-align:center;font-size:20px;color:#000;height:45px;width:160px;cursor:pointer;margin:auto;width:100%}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:1;font-size:17px;padding:5px;position:absolute}@media screen and (max-device-width: 992px){.center[_ngcontent-%COMP%]{padding:480px 0 0}.content[_ngcontent-%COMP%]{height:1675px;top:250px}}']}),n})()},{path:"events",component:tv},{path:"articoli",component:TD}];let fP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Rv.forRoot(hP)],Rv]}),n})(),PR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&f._UZ(0,"router-outlet")},directives:[hy],styles:[':root{--gold: rgb(242, 199, 130);--gold-opacity: rgb(242, 199, 130, .8)}@font-face{font-family:"DINLig";src:url(DINNeuzeitGroteskStdBdCond.6baec9697c755a121a39.otf) format("opentype")}@font-face{font-family:"DIN";src:url(DINNeuzeitGroteskStdBdCond.6baec9697c755a121a39.otf) format("opentype")}  body{background-color:#000;overflow-x:hidden}[_nghost-%COMP%]{font-family:"DIN",Fallback,sans-serif!important;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#000}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}']}),n})();class SD{}const Il="*";function OR(n,e=null){return{type:2,steps:n,options:e}}function MR(n){return{type:6,styles:n,offset:null}}function m(n){Promise.resolve(null).then(n)}class v{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){m(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class w{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,a=0;const c=this.players.length;0==c?m(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==c&&this._onFinish()}),h.onDestroy(()=>{++i==c&&this._onDestroy()}),h.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,y)=>Math.max(h,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const a=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(a)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function A(){return"undefined"!=typeof window&&void 0!==window.document}function M(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function N(n){switch(n.length){case 0:return new v;case 1:return n[0];default:return new w(n)}}function B(n,e,t,i,a={},c={}){const h=[],y=[];let b=-1,C=null;if(i.forEach(R=>{const O=R.offset,j=O==b,G=j&&C||{};Object.keys(R).forEach(X=>{let ve=X,Oe=R[X];if("offset"!==X)switch(ve=e.normalizePropertyName(ve,h),Oe){case"!":Oe=a[X];break;case Il:Oe=c[X];break;default:Oe=e.normalizeStyleValue(X,ve,Oe,h)}G[ve]=Oe}),j||y.push(G),C=G,b=O}),h.length){const R="\n - ";throw new Error(`Unable to animate due to the following errors:${R}${h.join(R)}`)}return y}function z(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&oe(t,"start",n)));break;case"done":n.onDone(()=>i(t&&oe(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&oe(t,"destroy",n)))}}function oe(n,e,t){const i=t.totalTime,c=J(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),h=n._data;return null!=h&&(c._data=h),c}function J(n,e,t,i,a="",c=0,h){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:a,totalTime:c,disabled:!!h}}function Ce(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function _e(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Qe=(n,e)=>!1,Mt=(n,e)=>!1,Ps=(n,e,t)=>[];const nh=M();(nh||"undefined"!=typeof Element)&&(Qe=A()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),Mt=(()=>{if(nh||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):Mt}})(),Ps=(n,e,t)=>{let i=[];if(t){const a=n.querySelectorAll(e);for(let c=0;c<a.length;c++)i.push(a[c])}else{const a=n.querySelector(e);a&&i.push(a)}return i});let fo=null,rv=!1;function mm(n){fo||(fo=("undefined"!=typeof document?document.body:null)||{},rv=!!fo.style&&"WebkitAppearance"in fo.style);let e=!0;return fo.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in fo.style,!e&&rv&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in fo.style)),e}const ym=Mt,_m=Qe,NR=Ps;function mP(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let yP=(()=>{class n{validateStyleProperty(t){return mm(t)}matchesElement(t,i){return ym(t,i)}containsElement(t,i){return _m(t,i)}query(t,i,a){return NR(t,i,a)}computeStyle(t,i,a){return a||""}animate(t,i,a,c,h,y=[],b){return new v(a,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),kR=(()=>{class n{}return n.NOOP=new yP,n})();const FR="ng-enter",AD="ng-leave",xD="ng-trigger",RD=".ng-trigger",vP="ng-animating",LR=".ng-animating";function vm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UR(parseFloat(e[1]),e[2])}function UR(n,e){switch(e){case"s":return 1e3*n;default:return n}}function PD(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let a,c=0,h="";if("string"==typeof n){const y=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=UR(parseFloat(y[1]),y[2]);const b=y[3];null!=b&&(c=UR(parseFloat(b),y[4]));const C=y[5];C&&(h=C)}else a=n;if(!t){let y=!1,b=e.length;a<0&&(e.push("Duration values below 0 are not allowed for this animation step."),y=!0),c<0&&(e.push("Delay values below 0 are not allowed for this animation step."),y=!0),y&&e.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:c,easing:h}}(n,e,t)}function iv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function up(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else iv(n,t);return t}function bP(n,e,t){return t?e+":"+t+";":""}function wP(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=bP(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=bP(0,SO(t),n.style[t]));n.setAttribute("style",e)}function Tl(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const a=BR(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[a]),n.style[a]=e[i]}),M()&&wP(n))}function Em(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=BR(t);n.style[i]=""}),M()&&wP(n))}function ew(n){return Array.isArray(n)?1==n.length?n[0]:OR(n):n}const VR=new RegExp("{{\\s*(.+?)\\s*}}","g");function IP(n){let e=[];if("string"==typeof n){let t;for(;t=VR.exec(n);)e.push(t[1]);VR.lastIndex=0}return e}function OD(n,e,t){const i=n.toString(),a=i.replace(VR,(c,h)=>{let y=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),y=""),y.toString()});return a==i?n:a}function MD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const DO=/-+([a-z0-9])/g;function BR(n){return n.replace(DO,(...e)=>e[1].toUpperCase())}function SO(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function TP(n,e){return 0===n||0===e}function CP(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let c=e[0],h=[];if(i.forEach(y=>{c.hasOwnProperty(y)||h.push(y),c[y]=t[y]}),h.length)for(var a=1;a<e.length;a++){let y=e[a];h.forEach(function(b){y[b]=jR(n,b)})}}return e}function Qo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function jR(n,e){return window.getComputedStyle(n)[e]}function AO(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,e,t){if(":"==n[0]){const b=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof b)return void e.push(b);n=b}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const a=i[1],c=i[2],h=i[3];e.push(DP(a,h));"<"==c[0]&&!("*"==a&&"*"==h)&&e.push(DP(h,a))}(i,t,e)):t.push(n),t}const kD=new Set(["true","1"]),FD=new Set(["false","0"]);function DP(n,e){const t=kD.has(n)||FD.has(n),i=kD.has(e)||FD.has(e);return(a,c)=>{let h="*"==n||n==a,y="*"==e||e==c;return!h&&t&&"boolean"==typeof a&&(h=a?kD.has(n):FD.has(n)),!y&&i&&"boolean"==typeof c&&(y=c?kD.has(e):FD.has(e)),h&&y}}const PO=new RegExp("s*:selfs*,?","g");function $R(n,e,t){return new OO(n).build(e,t)}class OO{constructor(e){this._driver=e}build(e,t){const i=new kO(t);return this._resetContextStyleTimingState(i),Qo(this,ew(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,a=t.depCount=0;const c=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(y=>{if(this._resetContextStyleTimingState(t),0==y.type){const b=y,C=b.name;C.toString().split(/\s*,\s*/).forEach(R=>{b.name=R,c.push(this.visitState(b,t))}),b.name=C}else if(1==y.type){const b=this.visitTransition(y,t);i+=b.queryCount,a+=b.depCount,h.push(b)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:c,transitions:h,queryCount:i,depCount:a,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){const c=new Set,h=a||{};if(i.styles.forEach(y=>{if(LD(y)){const b=y;Object.keys(b).forEach(C=>{IP(b[C]).forEach(R=>{h.hasOwnProperty(R)||c.add(R)})})}}),c.size){const y=MD(c.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${y.join(", ")}`)}}return{type:0,name:e.name,style:i,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Qo(this,ew(e.animation),t);return{type:1,matchers:AO(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:bm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Qo(this,i,t)),options:bm(e.options)}}visitGroup(e,t){const i=t.currentTime;let a=0;const c=e.steps.map(h=>{t.currentTime=i;const y=Qo(this,h,t);return a=Math.max(a,t.currentTime),y});return t.currentTime=a,{type:3,steps:c,options:bm(e.options)}}visitAnimate(e,t){const i=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return HR(PD(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=HR(0,0,"");return c.dynamic=!0,c.strValue=i,c}return t=t||PD(i,e),HR(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let a,c=e.styles?e.styles:MR({});if(5==c.type)a=this.visitKeyframes(c,t);else{let h=e.styles,y=!1;if(!h){y=!0;const C={};i.easing&&(C.easing=i.easing),h=MR(C)}t.currentTime+=i.duration+i.delay;const b=this.visitStyle(h,t);b.isEmptyStep=y,a=b}return t.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==Il?i.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):i.push(h)}):i.push(e.styles);let a=!1,c=null;return i.forEach(h=>{if(LD(h)){const y=h,b=y.easing;if(b&&(c=b,delete y.easing),!a)for(let C in y)if(y[C].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let a=t.currentTime,c=t.currentTime;i&&c>0&&(c-=i.duration+i.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(y=>{if(!this._driver.validateStyleProperty(y))return void t.errors.push(`The provided animation property "${y}" is not a supported CSS property for animations`);const b=t.collectedStyles[t.currentQuerySelector],C=b[y];let R=!0;C&&(c!=a&&c>=C.startTime&&a<=C.endTime&&(t.errors.push(`The CSS property "${y}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${a}ms"`),R=!1),c=C.startTime),R&&(b[y]={startTime:c,endTime:a}),t.options&&function(n,e,t){const i=e.params||{},a=IP(n);a.length&&a.forEach(c=>{i.hasOwnProperty(c)||t.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(h[y],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let c=0;const h=[];let y=!1,b=!1,C=0;const R=e.steps.map(rt=>{const it=this._makeStyleAst(rt,t);let Nt=null!=it.offset?it.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(LD(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(LD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(it.styles),at=0;return null!=Nt&&(c++,at=it.offset=Nt),b=b||at<0||at>1,y=y||at<C,C=at,h.push(at),it});b&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),y&&t.errors.push("Please ensure that all keyframe offsets are in order");const O=e.steps.length;let j=0;c>0&&c<O?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(j=1/(O-1));const G=O-1,X=t.currentTime,ve=t.currentAnimateTimings,Oe=ve.duration;return R.forEach((rt,it)=>{const Nt=j>0?it==G?1:j*it:h[it],at=Nt*Oe;t.currentTime=X+ve.delay+at,ve.duration=at,this._validateStyleAst(rt,t),rt.offset=Nt,i.styles.push(rt)}),i}visitReference(e,t){return{type:8,animation:Qo(this,ew(e.animation),t),options:bm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:bm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:bm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[c,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(PO,"")),[n=n.replace(/@\*/g,RD).replace(/@\w+/g,t=>RD+"-"+t.substr(1)).replace(/:animating/g,LR),e]}(e.selector);t.currentQuerySelector=i.length?i+" "+c:c,Ce(t.collectedStyles,t.currentQuerySelector,{});const y=Qo(this,ew(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:y,originalSelector:e.selector,options:bm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:PD(e.timings,t.errors,!0);return{type:12,animation:Qo(this,ew(e.animation),t),timings:i,options:null}}}class kO{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function LD(n){return!Array.isArray(n)&&"object"==typeof n}function bm(n){return n?(n=iv(n)).params&&(n.params=function(n){return n?iv(n):null}(n.params)):n={},n}function HR(n,e,t){return{duration:n,delay:e,easing:t}}function qR(n,e,t,i,a,c,h=null,y=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:a,delay:c,totalTime:a+c,easing:h,subTimeline:y}}class UD{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const BO=new RegExp(":enter","g"),$O=new RegExp(":leave","g");function ZR(n,e,t,i,a,c={},h={},y,b,C=[]){return(new HO).buildKeyframes(n,e,t,i,a,c,h,y,b,C)}class HO{buildKeyframes(e,t,i,a,c,h,y,b,C,R=[]){C=C||new UD;const O=new zR(e,t,C,a,c,R,[]);O.options=b,O.currentTimeline.setStyles([h],null,O.errors,b),Qo(this,i,O);const j=O.timelines.filter(G=>G.containsAnimation());if(j.length&&Object.keys(y).length){const G=j[j.length-1];G.allowOnlyTimelineStyles()||G.setStyles([y],null,O.errors,b)}return j.length?j.map(G=>G.buildKeyframes()):[qR(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const a=t.createSubContext(e.options),c=t.currentTimeline.currentTime,h=this._visitSubInstructions(i,a,a.options);c!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let c=t.currentTimeline.currentTime;const h=null!=i.duration?vm(i.duration):null,y=null!=i.delay?vm(i.delay):null;return 0!==h&&e.forEach(b=>{const C=t.appendInstructionToTimeline(b,h,y);c=Math.max(c,C.duration+C.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Qo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let a=t;const c=e.options;if(c&&(c.params||c.delay)&&(a=t.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=VD);const h=vm(c.delay);a.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Qo(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let a=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?vm(e.options.delay):0;e.steps.forEach(h=>{const y=t.createSubContext(e.options);c&&y.delayNextStep(c),Qo(this,h,y),a=Math.max(a,y.currentTimeline.currentTime),i.push(y.currentTimeline)}),i.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return PD(t.params?OD(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),a.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(i.duration),this.visitStyle(c,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,a=t.currentAnimateTimings;!a&&i.getCurrentStyleProperties().length&&i.forwardFrame();const c=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(c):i.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,a=t.currentTimeline.duration,c=i.duration,y=t.createSubContext().currentTimeline;y.easing=i.easing,e.styles.forEach(b=>{y.forwardTime((b.offset||0)*c),y.setStyles(b.styles,b.easing,t.errors,t.options),y.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(y),t.transformIntoNewTimeline(a+c),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,a=e.options||{},c=a.delay?vm(a.delay):0;c&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=VD);let h=i;const y=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=y.length;let b=null;y.forEach((C,R)=>{t.currentQueryIndex=R;const O=t.createSubContext(e.options,C);c&&O.delayNextStep(c),C===t.element&&(b=O.currentTimeline),Qo(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,a=t.currentTimeline,c=e.timings,h=Math.abs(c.duration),y=h*(t.currentQueryTotal-1);let b=h*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":b=y-b;break;case"full":b=i.currentStaggerTime}const R=t.currentTimeline;b&&R.delayNextStep(b);const O=R.currentTime;Qo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=a.currentTime-O+(a.startTime-i.currentTimeline.startTime)}}const VD={};class zR{constructor(e,t,i,a,c,h,y,b){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=c,this.errors=h,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=VD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new BD(this._driver,t,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let a=this.options;null!=i.duration&&(a.duration=vm(i.duration)),null!=i.delay&&(a.delay=vm(i.delay));const c=i.params;if(c){let h=a.params;h||(h=this.options.params={}),Object.keys(c).forEach(y=>{(!t||!h.hasOwnProperty(y))&&(h[y]=OD(c[y],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(a=>{i[a]=t[a]})}}return e}createSubContext(e=null,t,i){const a=t||this.element,c=new zR(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=VD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},c=new qO(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,a,c,h){let y=[];if(a&&y.push(this.element),e.length>0){e=(e=e.replace(BO,"."+this._enterClassName)).replace($O,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=i);0!==i&&(C=i<0?C.slice(C.length+i,C.length):C.slice(0,i)),y.push(...C)}return!c&&0==y.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),y}}class BD{constructor(e,t,i,a){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new BD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Il,this._currentKeyframe[t]=Il}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,a){t&&(this._previousKeyframe.easing=t);const c=a&&a.params||{},h=function(n,e){const t={};let i;return n.forEach(a=>{"*"===a?(i=i||Object.keys(e),i.forEach(c=>{t[c]=Il})):up(a,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(y=>{const b=OD(h[y],c,i);this._pendingStyles[y]=b,this._localTimelineStyles.hasOwnProperty(y)||(this._backFill[y]=this._globalTimelineStyles.hasOwnProperty(y)?this._globalTimelineStyles[y]:Il),this._updateStyle(y,b)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],a=e._styleSummary[t];(!i||a.time>i.time)&&this._updateStyle(t,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((y,b)=>{const C=up(y,!0);Object.keys(C).forEach(R=>{const O=C[R];"!"==O?e.add(R):O==Il&&t.add(R)}),i||(C.offset=b/this.duration),a.push(C)});const c=e.size?MD(e.values()):[],h=t.size?MD(t.values()):[];if(i){const y=a[0],b=iv(y);y.offset=0,b.offset=1,a=[y,b]}return qR(this.element,a,c,h,this.duration,this.startTime,this.easing,!1)}}class qO extends BD{constructor(e,t,i,a,c,h,y=!1){super(e,t,h.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=y,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],h=i+t,y=t/h,b=up(e[0],!1);b.offset=0,c.push(b);const C=up(e[0],!1);C.offset=xP(y),c.push(C);const R=e.length-1;for(let O=1;O<=R;O++){let j=up(e[O],!1);j.offset=xP((t+j.offset*i)/h),c.push(j)}i=h,t=0,a="",e=c}return qR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,a,!0)}}function xP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class GR{}class zO extends GR{normalizePropertyName(e,t){return BR(e)}normalizeStyleValue(e,t,i,a){let c="";const h=i.toString().trim();if(GO[t]&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const y=i.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&a.push(`Please provide a CSS unit value for ${e}:${i}`)}return h+c}}const GO=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function RP(n,e,t,i,a,c,h,y,b,C,R,O,j){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:c,toState:i,toStyles:h,timelines:y,queriedElements:b,preStyleProps:C,postStyleProps:R,totalTime:O,errors:j}}const WR={};class PP{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,a){return function(n,e,t,i,a){return n.some(c=>c(e,t,i,a))}(this.ast.matchers,e,t,i,a)}buildStyles(e,t,i){const a=this._stateStyles["*"],c=this._stateStyles[e],h=a?a.buildStyles(t,i):{};return c?c.buildStyles(t,i):h}build(e,t,i,a,c,h,y,b,C,R){const O=[],j=this.ast.options&&this.ast.options.params||WR,X=this.buildStyles(i,y&&y.params||WR,O),ve=b&&b.params||WR,Oe=this.buildStyles(a,ve,O),rt=new Set,it=new Map,Nt=new Map,at="void"===a,cn={params:Object.assign(Object.assign({},j),ve)},_r=R?[]:ZR(e,t,this.ast.animation,c,h,X,Oe,cn,C,O);let Zr=0;if(_r.forEach(ih=>{Zr=Math.max(ih.duration+ih.delay,Zr)}),O.length)return RP(t,this._triggerName,i,a,at,X,Oe,[],[],it,Nt,Zr,O);_r.forEach(ih=>{const sh=ih.element,uO=Ce(it,sh,{});ih.preStyleProps.forEach(wm=>uO[wm]=!0);const nw=Ce(Nt,sh,{});ih.postStyleProps.forEach(wm=>nw[wm]=!0),sh!==t&&rt.add(sh)});const rh=MD(rt.values());return RP(t,this._triggerName,i,a,at,X,Oe,_r,rh,it,Nt,Zr)}}class YO{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},a=iv(this.defaultParams);return Object.keys(e).forEach(c=>{const h=e[c];null!=h&&(a[c]=h)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const h=c;Object.keys(h).forEach(y=>{let b=h[y];b.length>1&&(b=OD(b,a,t));const C=this.normalizer.normalizePropertyName(y,t);b=this.normalizer.normalizeStyleValue(y,C,b,t),i[C]=b})}}),i}}class JO{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(a=>{this.states[a.name]=new YO(a.style,a.options&&a.options.params||{},i)}),OP(this.states,"true","1"),OP(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new PP(e,a,this.states))}),this.fallbackTransition=function(n,e,t){return new PP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,y)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,a){return this.transitionFactories.find(h=>h.match(e,t,i,a))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function OP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const eM=new UD;class tM{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],a=$R(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=a}_buildPlayer(e,t,i){const a=e.element,c=B(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(a,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const a=[],c=this._animations[e];let h;const y=new Map;if(c?(h=ZR(this._driver,t,c,FR,AD,{},{},i,eM,a),h.forEach(R=>{const O=Ce(y,R.element,{});R.postStyleProps.forEach(j=>O[j]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);y.forEach((R,O)=>{Object.keys(R).forEach(j=>{R[j]=this._driver.computeStyle(O,j,Il)})});const C=N(h.map(R=>{const O=y.get(R.element);return this._buildPlayer(R,{},O)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,a){const c=J(t,"","","");return z(this._getPlayer(e),i,c,a),()=>{}}command(e,t,i,a){if("register"==i)return void this.register(e,a[0]);if("create"==i)return void this.create(e,t,a[0]||{});const c=this._getPlayer(e);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const MP="ng-animate-queued",NP="ng-animate-disabled",kP=".ng-animate-disabled",sM=[],FP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ja="__ng_removed";class KR{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?e.value:e),i){const c=iv(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(a=>{null==i[a]&&(i[a]=t[a])})}}}const tw="void",YR=new KR(tw);class aM{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$a(t,this._hostClassName)}listen(e,t,i,a){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const c=Ce(this._elementListeners,e,[]),h={name:t,phase:i,callback:a};c.push(h);const y=Ce(this._engine.statesByElement,e,{});return y.hasOwnProperty(t)||($a(e,xD),$a(e,xD+"-"+t),y[t]=YR),()=>{this._engine.afterFlush(()=>{const b=c.indexOf(h);b>=0&&c.splice(b,1),this._triggers[t]||delete y[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,a=!0){const c=this._getTrigger(t),h=new QR(this.id,t,e);let y=this._engine.statesByElement.get(e);y||($a(e,xD),$a(e,xD+"-"+t),this._engine.statesByElement.set(e,y={}));let b=y[t];const C=new KR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&b&&C.absorbOptions(b.options),y[t]=C,b||(b=YR),C.value!==tw&&b.value===C.value){if(!function(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let a=0;a<t.length;a++){const c=t[a];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(b.params,C.params)){const ve=[],Oe=c.matchStyles(b.value,b.params,ve),rt=c.matchStyles(C.value,C.params,ve);ve.length?this._engine.reportError(ve):this._engine.afterFlush(()=>{Em(e,Oe),Tl(e,rt)})}return}const j=Ce(this._engine.playersByElement,e,[]);j.forEach(ve=>{ve.namespaceId==this.id&&ve.triggerName==t&&ve.queued&&ve.destroy()});let G=c.matchTransition(b.value,C.value,e,C.params),X=!1;if(!G){if(!a)return;G=c.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:b,toState:C,player:h,isFallbackTransition:X}),X||($a(e,MP),h.onStart(()=>{sv(e,MP)})),h.onDone(()=>{let ve=this.players.indexOf(h);ve>=0&&this.players.splice(ve,1);const Oe=this._engine.playersByElement.get(e);if(Oe){let rt=Oe.indexOf(h);rt>=0&&Oe.splice(rt,1)}}),this.players.push(h),j.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,RD,!0);i.forEach(a=>{if(a[ja])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(h=>h.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,i,a){const c=this._engine.statesByElement.get(e);if(c){const h=[];if(Object.keys(c).forEach(y=>{if(this._triggers[y]){const b=this.trigger(e,y,tw,a);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&N(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const a=new Set;t.forEach(c=>{const h=c.name;if(a.has(h))return;a.add(h);const b=this._triggers[h].fallbackTransition,C=i[h]||YR,R=new KR(tw),O=new QR(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:b,fromState:C,toState:R,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(e):[];if(c&&c.length)a=!0;else{let h=e;for(;h=h.parentNode;)if(i.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)i.markElementAsRemoved(this.id,e,!1,t);else{const c=e[ja];(!c||c===FP)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){$a(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const c=i.element,h=this._elementListeners.get(c);h&&h.forEach(y=>{if(y.name==i.triggerName){const b=J(c,i.triggerName,i.fromState.value,i.toState.value);b._data=e,z(i.player,y.phase,b,y.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(i)}),this._queue=[],t.sort((i,a)=>{const c=i.transition.ast.depCount,h=a.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class uM{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new aM(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let a=!1;for(let c=i;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,t)){this._namespaceList.splice(c+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let a=this._namespaceLookup[e];a&&a.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const a=Object.keys(i);for(let c=0;c<a.length;c++){const h=i[a[c]].namespaceId;if(h){const y=this._fetchNamespace(h);y&&t.add(y)}}}return t}trigger(e,t,i,a){if(jD(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,i,a),!0}return!1}insertNode(e,t,i,a){if(!jD(t))return;const c=t[ja];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,i)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$a(e,NP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sv(e,NP))}removeNode(e,t,i,a){if(jD(t)){const c=e?this._fetchNamespace(e):null;if(c?c.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),i){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,i,a){this.collectedLeaveElements.push(t),t[ja]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,a,c){return jD(t)?this._fetchNamespace(e).listen(t,i,a,c):()=>{}}_buildInstruction(e,t,i,a,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,RD,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,LR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return N(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ja];if(t&&t.setForRemoval){if(e[ja]=FP,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,kP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,kP,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)$a(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?N(t).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new UD,a=[],c=new Map,h=[],y=new Map,b=new Map,C=new Map,R=new Set;this.disabledNodes.forEach(Je=>{R.add(Je);const ut=this.driver.query(Je,".ng-animate-queued",!0);for(let Dt=0;Dt<ut.length;Dt++)R.add(ut[Dt])});const O=this.bodyNode,j=Array.from(this.statesByElement.keys()),G=VP(j,this.collectedEnterElements),X=new Map;let ve=0;G.forEach((Je,ut)=>{const Dt=FR+ve++;X.set(ut,Dt),Je.forEach(nn=>$a(nn,Dt))});const Oe=[],rt=new Set,it=new Set;for(let Je=0;Je<this.collectedLeaveElements.length;Je++){const ut=this.collectedLeaveElements[Je],Dt=ut[ja];Dt&&Dt.setForRemoval&&(Oe.push(ut),rt.add(ut),Dt.hasAnimation?this.driver.query(ut,".ng-star-inserted",!0).forEach(nn=>rt.add(nn)):it.add(ut))}const Nt=new Map,at=VP(j,Array.from(rt));at.forEach((Je,ut)=>{const Dt=AD+ve++;Nt.set(ut,Dt),Je.forEach(nn=>$a(nn,Dt))}),e.push(()=>{G.forEach((Je,ut)=>{const Dt=X.get(ut);Je.forEach(nn=>sv(nn,Dt))}),at.forEach((Je,ut)=>{const Dt=Nt.get(ut);Je.forEach(nn=>sv(nn,Dt))}),Oe.forEach(Je=>{this.processLeaveNode(Je)})});const cn=[],_r=[];for(let Je=this._namespaceList.length-1;Je>=0;Je--)this._namespaceList[Je].drainQueuedTransitions(t).forEach(Dt=>{const nn=Dt.player,Ei=Dt.element;if(cn.push(nn),this.collectedEnterElements.length){const Dl=Ei[ja];if(Dl&&Dl.setForMove)return void nn.destroy()}const Cl=!O||!this.driver.containsElement(O,Ei),Jo=Nt.get(Ei),cp=X.get(Ei),vr=this._buildInstruction(Dt,i,cp,Jo,Cl);if(vr.errors&&vr.errors.length)_r.push(vr);else{if(Cl)return nn.onStart(()=>Em(Ei,vr.fromStyles)),nn.onDestroy(()=>Tl(Ei,vr.toStyles)),void a.push(nn);if(Dt.isFallbackTransition)return nn.onStart(()=>Em(Ei,vr.fromStyles)),nn.onDestroy(()=>Tl(Ei,vr.toStyles)),void a.push(nn);vr.timelines.forEach(Dl=>Dl.stretchStartingKeyframe=!0),i.append(Ei,vr.timelines),h.push({instruction:vr,player:nn,element:Ei}),vr.queriedElements.forEach(Dl=>Ce(y,Dl,[]).push(nn)),vr.preStyleProps.forEach((Dl,rw)=>{const zD=Object.keys(Dl);if(zD.length){let Im=b.get(rw);Im||b.set(rw,Im=new Set),zD.forEach(t1=>Im.add(t1))}}),vr.postStyleProps.forEach((Dl,rw)=>{const zD=Object.keys(Dl);let Im=C.get(rw);Im||C.set(rw,Im=new Set),zD.forEach(t1=>Im.add(t1))})}});if(_r.length){const Je=[];_r.forEach(ut=>{Je.push(`@${ut.triggerName} has failed due to:\n`),ut.errors.forEach(Dt=>Je.push(`- ${Dt}\n`))}),cn.forEach(ut=>ut.destroy()),this.reportError(Je)}const Zr=new Map,rh=new Map;h.forEach(Je=>{const ut=Je.element;i.has(ut)&&(rh.set(ut,ut),this._beforeAnimationBuild(Je.player.namespaceId,Je.instruction,Zr))}),a.forEach(Je=>{const ut=Je.element;this._getPreviousPlayers(ut,!1,Je.namespaceId,Je.triggerName,null).forEach(nn=>{Ce(Zr,ut,[]).push(nn),nn.destroy()})});const ih=Oe.filter(Je=>jP(Je,b,C)),sh=new Map;UP(sh,this.driver,it,C,Il).forEach(Je=>{jP(Je,b,C)&&ih.push(Je)});const nw=new Map;G.forEach((Je,ut)=>{UP(nw,this.driver,new Set(Je),b,"!")}),ih.forEach(Je=>{const ut=sh.get(Je),Dt=nw.get(Je);sh.set(Je,Object.assign(Object.assign({},ut),Dt))});const wm=[],cO=[],lO={};h.forEach(Je=>{const{element:ut,player:Dt,instruction:nn}=Je;if(i.has(ut)){if(R.has(ut))return Dt.onDestroy(()=>Tl(ut,nn.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(nn.totalTime),void a.push(Dt);let Ei=lO;if(rh.size>1){let Jo=ut;const cp=[];for(;Jo=Jo.parentNode;){const vr=rh.get(Jo);if(vr){Ei=vr;break}cp.push(Jo)}cp.forEach(vr=>rh.set(vr,Ei))}const Cl=this._buildAnimation(Dt.namespaceId,nn,Zr,c,nw,sh);if(Dt.setRealPlayer(Cl),Ei===lO)wm.push(Dt);else{const Jo=this.playersByElement.get(Ei);Jo&&Jo.length&&(Dt.parentPlayer=N(Jo)),a.push(Dt)}}else Em(ut,nn.fromStyles),Dt.onDestroy(()=>Tl(ut,nn.toStyles)),cO.push(Dt),R.has(ut)&&a.push(Dt)}),cO.forEach(Je=>{const ut=c.get(Je.element);if(ut&&ut.length){const Dt=N(ut);Je.setRealPlayer(Dt)}}),a.forEach(Je=>{Je.parentPlayer?Je.syncPlayerEvents(Je.parentPlayer):Je.destroy()});for(let Je=0;Je<Oe.length;Je++){const ut=Oe[Je],Dt=ut[ja];if(sv(ut,AD),Dt&&Dt.hasAnimation)continue;let nn=[];if(y.size){let Cl=y.get(ut);Cl&&Cl.length&&nn.push(...Cl);let Jo=this.driver.query(ut,LR,!0);for(let cp=0;cp<Jo.length;cp++){let vr=y.get(Jo[cp]);vr&&vr.length&&nn.push(...vr)}}const Ei=nn.filter(Cl=>!Cl.destroyed);Ei.length?hM(this,ut,Ei):this.processLeaveNode(ut)}return Oe.length=0,wm.forEach(Je=>{this.players.push(Je),Je.onDone(()=>{Je.destroy();const ut=this.players.indexOf(Je);this.players.splice(ut,1)}),Je.play()}),wm}elementContainsData(e,t){let i=!1;const a=t[ja];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,a,c){let h=[];if(t){const y=this.playersByQueriedElement.get(e);y&&(h=y)}else{const y=this.playersByElement.get(e);if(y){const b=!c||c==tw;y.forEach(C=>{C.queued||!b&&C.triggerName!=a||h.push(C)})}}return(i||a)&&(h=h.filter(y=>!(i&&i!=y.namespaceId||a&&a!=y.triggerName))),h}_beforeAnimationBuild(e,t,i){const c=t.element,h=t.isRemovalTransition?void 0:e,y=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const C=b.element,R=C!==c,O=Ce(i,C,[]);this._getPreviousPlayers(C,R,h,y,t.toState).forEach(G=>{const X=G.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),G.destroy(),O.push(G)})}Em(c,t.fromStyles)}_buildAnimation(e,t,i,a,c,h){const y=t.triggerName,b=t.element,C=[],R=new Set,O=new Set,j=t.timelines.map(X=>{const ve=X.element;R.add(ve);const Oe=ve[ja];if(Oe&&Oe.removedBeforeQueried)return new v(X.duration,X.delay);const rt=ve!==b,it=function(n){const e=[];return BP(n,e),e}((i.get(ve)||sM).map(Zr=>Zr.getRealPlayer())).filter(Zr=>!!Zr.element&&Zr.element===ve),Nt=c.get(ve),at=h.get(ve),cn=B(0,this._normalizer,0,X.keyframes,Nt,at),_r=this._buildPlayer(X,cn,it);if(X.subTimeline&&a&&O.add(ve),rt){const Zr=new QR(e,y,ve);Zr.setRealPlayer(_r),C.push(Zr)}return _r});C.forEach(X=>{Ce(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const a=i.indexOf(t);i.splice(a,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const a=i.indexOf(t);i.splice(a,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,X.element,X))}),R.forEach(X=>$a(X,vP));const G=N(j);return G.onDestroy(()=>{R.forEach(X=>sv(X,vP)),Tl(b,t.toStyles)}),O.forEach(X=>{Ce(a,X,[]).push(G)}),G}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new v(e.duration,e.delay)}}class QR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new v,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>z(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ce(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jD(n){return n&&1===n.nodeType}function LP(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function UP(n,e,t,i,a){const c=[];t.forEach(b=>c.push(LP(b)));const h=[];i.forEach((b,C)=>{const R={};b.forEach(O=>{const j=R[O]=e.computeStyle(C,O,a);(!j||0==j.length)&&(C[ja]=oM,h.push(C))}),n.set(C,R)});let y=0;return t.forEach(b=>LP(b,c[y++])),h}function VP(n,e){const t=new Map;if(n.forEach(y=>t.set(y,[])),0==e.length)return t;const a=new Set(e),c=new Map;function h(y){if(!y)return 1;let b=c.get(y);if(b)return b;const C=y.parentNode;return b=t.has(C)?C:a.has(C)?1:h(C),c.set(y,b),b}return e.forEach(y=>{const b=h(y);1!==b&&t.get(b).push(y)}),t}const $D="$$classes";function $a(n,e){if(n.classList)n.classList.add(e);else{let t=n[$D];t||(t=n[$D]={}),t[e]=!0}}function sv(n,e){if(n.classList)n.classList.remove(e);else{let t=n[$D];t&&delete t[e]}}function hM(n,e,t){N(t).onDone(()=>n.processLeaveNode(e))}function BP(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof w?BP(i.players,e):e.push(i)}}function jP(n,e,t){const i=t.get(n);if(!i)return!1;let a=e.get(n);return a?i.forEach(c=>a.add(c)):e.set(n,i),t.delete(n),!0}class HD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new uM(e,t,i),this._timelineEngine=new tM(e,t,i),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(e,t,i,a,c){const h=e+"-"+a;let y=this._triggerCache[h];if(!y){const b=[],C=$R(this._driver,c,b);if(b.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);y=function(n,e,t){return new JO(n,e,t)}(a,C,this._normalizer),this._triggerCache[h]=y}this._transitionEngine.registerTrigger(t,a,y)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,a){this._transitionEngine.insertNode(e,t,i,a)}onRemove(e,t,i,a){this._transitionEngine.removeNode(e,t,a||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,a){if("@"==i.charAt(0)){const[c,h]=_e(i);this._timelineEngine.command(c,t,h,a)}else this._transitionEngine.trigger(e,t,i,a)}listen(e,t,i,a,c){if("@"==i.charAt(0)){const[h,y]=_e(i);return this._timelineEngine.listen(h,t,y,c)}return this._transitionEngine.listen(e,t,i,a,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function $P(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=JR(e[0]),e.length>1&&(i=JR(e[e.length-1]))):e&&(t=JR(e)),t||i?new gM(n,t,i):null}let gM=(()=>{class n{constructor(t,i,a){this._element=t,this._startStyles=i,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Tl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tl(this._element,this._initialStyles),this._endStyles&&(Tl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Em(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Em(this._element,this._endStyles),this._endStyles=null),Tl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function JR(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const a=t[i];mM(a)&&(e=e||{},e[a]=n[a])}return e}function mM(n){return"display"===n||"position"===n}const HP="animation",qP="animationend";class vM{constructor(e,t,i,a,c,h,y){this._element=e,this._name=t,this._duration=i,this._delay=a,this._easing=c,this._fillMode=h,this._onDoneFn=y,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,e){const t=e1(n,"").trim();let i=0;t.length&&(function(n,e){let t=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&t++;return t}(t)+1,e=`${t}, ${e}`),qD(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),GP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ZP(this._element,this._name,"paused")}resume(){ZP(this._element,this._name,"running")}setPosition(e){const t=zP(this._element,this._name);this._position=e*this._duration,qD(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),GP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const i=e1(n,"").split(","),a=XR(i,e);a>=0&&(i.splice(a,1),qD(n,"",i.join(",")))}(this._element,this._name))}}function ZP(n,e,t){qD(n,"PlayState",t,zP(n,e))}function zP(n,e){const t=e1(n,"");return t.indexOf(",")>0?XR(t.split(","),e):XR([t],e)}function XR(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function GP(n,e,t){t?n.removeEventListener(qP,e):n.addEventListener(qP,e)}function qD(n,e,t,i){const a=HP+e;if(null!=i){const c=n.style[a];if(c.length){const h=c.split(",");h[i]=t,t=h.join(",")}}n.style[a]=t}function e1(n,e){return n.style[HP+e]||""}class WP{constructor(e,t,i,a,c,h,y,b){this.element=e,this.keyframes=t,this.animationName=i,this._duration=a,this._delay=c,this._finalStyles=y,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+c,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new vM(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:jR(this.element,i))})}this.currentSnapshot=e}}class CM extends v{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=mP(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class YP{constructor(){this._count=0}validateStyleProperty(e){return mm(e)}matchesElement(e,t){return ym(e,t)}containsElement(e,t){return _m(e,t)}query(e,t,i){return NR(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(y=>mP(y));let a=`@keyframes ${t} {\n`,c="";i.forEach(y=>{c=" ";const b=parseFloat(y.offset);a+=`${c}${100*b}% {\n`,c+=" ",Object.keys(y).forEach(C=>{const R=y[C];switch(C){case"offset":return;case"easing":return void(R&&(a+=`${c}animation-timing-function: ${R};\n`));default:return void(a+=`${c}${C}: ${R};\n`)}}),a+=`${c}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(e,t,i,a,c,h=[],y){const b=h.filter(Oe=>Oe instanceof WP),C={};TP(i,a)&&b.forEach(Oe=>{let rt=Oe.currentSnapshot;Object.keys(rt).forEach(it=>C[it]=rt[it])});const R=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(a=>{"offset"==a||"easing"==a||(e[a]=i[a])})}),e}(t=CP(e,t,C));if(0==i)return new CM(e,R);const O="gen_css_kf_"+this._count++,j=this.buildKeyframeElement(e,O,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(j);const X=$P(e,t),ve=new WP(e,t,O,i,a,c,R,X);return ve.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(j)),ve}}class JP{constructor(e,t,i,a){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:jR(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class RM{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(XP().toString()),this._cssKeyframesDriver=new YP}validateStyleProperty(e){return mm(e)}matchesElement(e,t){return ym(e,t)}containsElement(e,t){return _m(e,t)}query(e,t,i){return NR(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,a,c,h=[],y){if(!y&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,a,c,h);const R={duration:i,delay:a,fill:0==a?"both":"forwards"};c&&(R.easing=c);const O={},j=h.filter(X=>X instanceof JP);TP(i,a)&&j.forEach(X=>{let ve=X.currentSnapshot;Object.keys(ve).forEach(Oe=>O[Oe]=ve[Oe])});const G=$P(e,t=CP(e,t=t.map(X=>up(X,!1)),O));return new JP(e,t,R,G)}}function XP(){return A()&&Element.prototype.animate||{}}let OM=(()=>{class n extends SD{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?OR(t):t;return eO(this._renderer,null,i,"register",[a]),new MM(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(pe))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class MM extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new NM(this._id,e,t||{},this._renderer)}}class NM{constructor(e,t,i,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return eO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function eO(n,e,t,i,a){return n.setProperty(e,`@@${t}:${i}`,a)}const tO="@.disabled";let kM=(()=>{class n{constructor(t,i,a){this.delegate=t,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(c,h)=>{h&&h.parentNode(c)&&h.removeChild(c.parentNode,c)}}createRenderer(t,i){const c=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let R=this._rendererCache.get(c);return R||(R=new nO("",c,this.engine),this._rendererCache.set(c,R)),R}const h=i.id,y=i.id+"-"+this._currentId;this._currentId++,this.engine.register(y,t);const b=R=>{Array.isArray(R)?R.forEach(b):this.engine.registerTrigger(h,y,t,R.name,R)};return i.data.animation.forEach(b),new FM(this,y,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,a){t>=0&&t<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,y]=c;h(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(HD),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class nO{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,a=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,a){this.delegate.setAttribute(e,t,i,a)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,a){this.delegate.setStyle(e,t,i,a)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==tO?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class FM extends nO{constructor(e,t,i,a){super(t,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==tO?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.substr(1),h="";return"@"!=c.charAt(0)&&([c,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(c)),this.engine.listen(this.namespaceId,a,c,h,y=>{this.factory.scheduleListenerCallback(y._data||-1,i,y)})}return this.delegate.listen(e,t,i)}}let VM=(()=>{class n extends HD{constructor(t,i,a){super(t.body,i,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(pe),f.LFG(kR),f.LFG(GR))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const rO=new f.OlP("AnimationModuleType"),iO=[{provide:SD,useClass:OM},{provide:GR,useFactory:function(){return new zO}},{provide:HD,useClass:VM},{provide:f.FYo,useFactory:function(n,e,t){return new kM(n,e,t)},deps:[qi,HD,f.R0b]}],sO=[{provide:kR,useFactory:function(){return"function"==typeof XP()?new RM:new YP}},{provide:rO,useValue:"BrowserAnimations"},...iO],oO=[{provide:kR,useClass:yP},{provide:rO,useValue:"NoopAnimations"},...iO];let HM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?oO:sO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:sO,imports:[Ao]}),n})();const aO_firebaseConfig={apiKey:"AIzaSyDIfM5NFchUe69d3s4InyVMfPvnlAr6tCA",authDomain:"muaythai360-321e1.firebaseapp.com",projectId:"muaythai360-321e1",storageBucket:"muaythai360-321e1.appspot.com",messagingSenderId:"874368303618",appId:"1:874368303618:web:2375857a941d50164b5d1b",measurementId:"G-VSZKM2F51S"};let qM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[PR]}),n.\u0275inj=f.cJS({providers:[ED,th],imports:[[Ao,fP,HM,st.hO.initializeApp(aO_firebaseConfig),ER]]}),n})();(0,f.G48)(),Ic().bootstrapModule(qM).catch(n=>console.error(n))},3394:(Xe,be,L)=>{"use strict";L.d(be,{Z:()=>we});var f=L(3854),ee=L(3910),k=L(8026),le=L(5422);class ne{constructor(W,ye){this._delegate=W,this.firebase=ye,(0,k._addComponent)(W,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=W.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this._delegate.automaticDataCollectionEnabled=W}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(W=>{this._delegate.checkDestroyed(),W()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(W,ye=k._DEFAULT_ENTRY_NAME){var ge;this._delegate.checkDestroyed();const fe=this._delegate.container.getProvider(W);return!fe.isInitialized()&&"EXPLICIT"===(null===(ge=fe.getComponent())||void 0===ge?void 0:ge.instantiationMode)&&fe.initialize(),fe.getImmediate({identifier:ye})}_removeServiceInstance(W,ye=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(W).clearInstance(ye)}_addComponent(W){(0,k._addComponent)(this._delegate,W)}_addOrOverwriteComponent(W){(0,k._addOrOverwriteComponent)(this._delegate,W)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function te(){const he=function(he){const W={},ye={__esModule:!0,initializeApp:function(_t,bn={}){const bt=k.initializeApp(_t,bn);if((0,f.r3)(W,bt.name))return W[bt.name];const Tt=new he(bt,ye);return W[bt.name]=Tt,Tt},app:fe,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function(_t){const bn=_t.name,bt=bn.replace("-compat","");if(k._registerComponent(_t)&&"PUBLIC"===_t.type){const Tt=(ft=fe())=>{if("function"!=typeof ft[bt])throw pe.create("invalid-app-argument",{appName:bn});return ft[bt]()};void 0!==_t.serviceProps&&(0,f.ZB)(Tt,_t.serviceProps),ye[bt]=Tt,he.prototype[bt]=function(...ft){return this._getService.bind(this,bn).apply(this,_t.multipleInstances?ft:[])}}return"PUBLIC"===_t.type?ye[bt]:null},removeApp:function(_t){delete W[_t]},useAsService:function(_t,bn){return"serverAuth"===bn?null:bn},modularAPIs:k}};function fe(_t){if(!(0,f.r3)(W,_t=_t||k._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:_t});return W[_t]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function(){return Object.keys(W).map(_t=>W[_t])}}),fe.App=he,ye}(ne);return he.INTERNAL=Object.assign(Object.assign({},he.INTERNAL),{createFirebaseNamespace:te,extendNamespace:function(ye){(0,f.ZB)(he,ye)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),he}(),U=new le.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const he=self.firebase.SDK_VERSION;he&&he.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=F;(0,k.registerVersion)("@firebase/app-compat","0.1.14",undefined)},8026:(Xe,be,L)=>{"use strict";L.r(be),L.d(be,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Ha,_DEFAULT_ENTRY_NAME:()=>po,_addComponent:()=>us,_addOrOverwriteComponent:()=>Ns,_apps:()=>kn,_clearComponents:()=>Gn,_components:()=>Ms,_getProvider:()=>gn,_registerComponent:()=>cs,_removeServiceInstance:()=>qt,deleteApp:()=>sr,getApp:()=>Er,getApps:()=>De,initializeApp:()=>Pr,onLog:()=>Lt,registerVersion:()=>bi,setLogLevel:()=>zr});var f=L(8239),ee=L(3910),k=L(5422),le=L(3854);class ne{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function(nt){const Se=nt.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}($t)){const sn=$t.getImmediate();return`${sn.library}/${sn.version}`}return null}).filter($t=>$t).join(" ")}}const pe="@firebase/app",te=new k.Yd("@firebase/app"),po="[DEFAULT]",rc={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kn=new Map,Ms=new Map;function us(nt,Se){try{nt.container.addComponent(Se)}catch($t){te.debug(`Component ${Se.name} failed to register with FirebaseApp ${nt.name}`,$t)}}function Ns(nt,Se){nt.container.addOrOverwriteComponent(Se)}function cs(nt){const Se=nt.name;if(Ms.has(Se))return te.debug(`There were multiple attempts to register component ${Se}.`),!1;Ms.set(Se,nt);for(const $t of kn.values())us($t,nt);return!0}function gn(nt,Se){return nt.container.getProvider(Se)}function qt(nt,Se,$t=po){gn(nt,Se).clearInstance($t)}function Gn(){Ms.clear()}const jt=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class St{constructor(Se,$t,sn){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=sn,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}const Ha="9.6.3";function Pr(nt,Se={}){"object"!=typeof Se&&(Se={name:Se});const $t=Object.assign({name:po,automaticDataCollectionEnabled:!1},Se),sn=$t.name;if("string"!=typeof sn||!sn)throw jt.create("bad-app-name",{appName:String(sn)});const wn=kn.get(sn);if(wn){if((0,le.vZ)(nt,wn.options)&&(0,le.vZ)($t,wn.config))return wn;throw jt.create("duplicate-app",{appName:sn})}const Ut=new ee.H0(sn);for(const Ge of Ms.values())Ut.addComponent(Ge);const Ke=new St(nt,$t,Ut);return kn.set(sn,Ke),Ke}function Er(nt=po){const Se=kn.get(nt);if(!Se)throw jt.create("no-app",{appName:nt});return Se}function De(){return Array.from(kn.values())}function sr(nt){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,f.Z)(function*(nt){const Se=nt.name;kn.has(Se)&&(kn.delete(Se),yield Promise.all(nt.container.getProviders().map($t=>$t.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function bi(nt,Se,$t){var sn;let wn=null!==(sn=rc[nt])&&void 0!==sn?sn:nt;$t&&(wn+=`-${$t}`);const Ut=wn.match(/\s|\//),Ke=Se.match(/\s|\//);if(Ut||Ke){const Ge=[`Unable to register library "${wn}" with version "${Se}":`];return Ut&&Ge.push(`library name "${wn}" contains illegal characters (whitespace or "/")`),Ut&&Ke&&Ge.push("and"),Ke&&Ge.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void te.warn(Ge.join(" "))}cs(new ee.wA(`${wn}-version`,()=>({library:wn,version:Se}),"VERSION"))}function Lt(nt,Se){if(null!==nt&&"function"!=typeof nt)throw jt.create("invalid-log-argument");(0,k.Am)(nt,Se)}function zr(nt){(0,k.Ub)(nt)}cs(new ee.wA("platform-logger",Se=>new ne(Se),"PRIVATE")),bi(pe,"0.7.13",""),bi(pe,"0.7.13","esm2017"),bi("fire-js","")},3910:(Xe,be,L)=>{"use strict";L.d(be,{wA:()=>k,H0:()=>ce});var f=L(8239),ee=L(3854);class k{constructor(F,U,Q){this.name=F,this.instanceFactory=U,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const le="[DEFAULT]";class ne{constructor(F,U){this.name=F,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const U=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(U)){const Q=new ee.BH;if(this.instancesDeferred.set(U,Q),this.isInitialized(U)||this.shouldAutoInitialize())try{const Y=this.getOrInitializeService({instanceIdentifier:U});Y&&Q.resolve(Y)}catch(Y){}}return this.instancesDeferred.get(U).promise}getImmediate(F){var U;const Q=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),Y=null!==(U=null==F?void 0:F.optional)&&void 0!==U&&U;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(ae){if(Y)return null;throw ae}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch(U){}for(const[U,Q]of this.instancesDeferred.entries()){const Y=this.normalizeInstanceIdentifier(U);try{const ae=this.getOrInitializeService({instanceIdentifier:Y});Q.resolve(ae)}catch(ae){}}}}clearInstance(F=le){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,f.Z)(function*(){const U=Array.from(F.instances.values());yield Promise.all([...U.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...U.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=le){return this.instances.has(F)}getOptions(F=le){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:U={}}=F,Q=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Y=this.getOrInitializeService({instanceIdentifier:Q,options:U});for(const[ae,we]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(ae)&&we.resolve(Y);return Y}onInit(F,U){var Q;const Y=this.normalizeInstanceIdentifier(U),ae=null!==(Q=this.onInitCallbacks.get(Y))&&void 0!==Q?Q:new Set;ae.add(F),this.onInitCallbacks.set(Y,ae);const we=this.instances.get(Y);return we&&F(we,Y),()=>{ae.delete(F)}}invokeOnInitCallbacks(F,U){const Q=this.onInitCallbacks.get(U);if(Q)for(const Y of Q)try{Y(F,U)}catch(ae){}}getOrInitializeService({instanceIdentifier:F,options:U={}}){let Q=this.instances.get(F);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(te=F,te===le?void 0:te),options:U}),this.instances.set(F,Q),this.instancesOptions.set(F,U),this.invokeOnInitCallbacks(Q,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,Q)}catch(Y){}var te;return Q||null}normalizeInstanceIdentifier(F=le){return this.component?this.component.multipleInstances?F:le:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const U=this.getProvider(F.name);if(U.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);U.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const U=new ne(F,this);return this.providers.set(F,U),U}getProviders(){return Array.from(this.providers.values())}}},5422:(Xe,be,L)=>{"use strict";L.d(be,{in:()=>ee,Yd:()=>pe,Ub:()=>ce,Am:()=>te});const f=[];var ee=(()=>{return(F=ee||(ee={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",ee;var F})();const k={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},le=ee.INFO,ne={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(F,U,...Q)=>{if(U<F.logLevel)return;const Y=(new Date).toISOString(),ae=ne[U];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[ae](`[${Y}]  ${F.name}:`,...Q)};class pe{constructor(U){this.name=U,this._logLevel=le,this._logHandler=ie,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in ee))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?k[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...U),this._logHandler(this,ee.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...U),this._logHandler(this,ee.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...U),this._logHandler(this,ee.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...U),this._logHandler(this,ee.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...U),this._logHandler(this,ee.ERROR,...U)}}function ce(F){f.forEach(U=>{U.setLogLevel(F)})}function te(F,U){for(const Q of f){let Y=null;U&&U.level&&(Y=k[U.level]),Q.userLogHandler=null===F?null:(ae,we,...he)=>{const W=he.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(ge){return null}}).filter(ye=>ye).join(" ");we>=(null!=Y?Y:ae.logLevel)&&F({level:ee[we].toLowerCase(),message:W,args:he,type:ae.name})}}}},8239:(Xe,be,L)=>{"use strict";function f(k,le,ne,ie,pe,ce,te){try{var F=k[ce](te),U=F.value}catch(Q){return void ne(Q)}F.done?le(U):Promise.resolve(U).then(ie,pe)}function ee(k){return function(){var le=this,ne=arguments;return new Promise(function(ie,pe){var ce=k.apply(le,ne);function te(U){f(ce,ie,pe,te,F,"next",U)}function F(U){f(ce,ie,pe,te,F,"throw",U)}te(void 0)})}}L.d(be,{Z:()=>ee})}},Xe=>{Xe(Xe.s=5391)}]);